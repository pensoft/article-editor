<h2 mat-dialog-title *ngIf="data&&data.node">Add section to {{data.node.title.label}}</h2>
<h2 mat-dialog-title *ngIf="!data||!data.node">Add section to Article</h2>

<div class="search-field-wrapper">
  <form (keydown)="passSearchVal(inputText)" fxFlex="100%" fxLayout="column">
    <label>Select a section</label>
    <mat-form-field floatLabel="never" appearance="standard">
      <input matInput class="section-search" type="text" #inputText placeholder="Search for section">
    </mat-form-field>
  </form>
</div>

<mat-dialog-content class="fixed-dialog-content-height">

  <div *ngIf="showError" class="error">No Section selected.</div>

  <div *ngIf="searchResults.length == 0">
    There are no allowed sections
  </div>

  <mat-selection-list #topic [multiple]="false" [ngClass]="{'no-results': searchResults.length == 0}">
    <mat-list-option *ngFor="let section of searchResults" [value]="section.id">
      {{section.name}}
    </mat-list-option>
  </mat-selection-list>

</mat-dialog-content>

<mat-dialog-actions align="end" fxLayoutGap="8px">
  <button mat-stroked-button (click)="closeSectionChoose()">
    Cancel
  </button>
  <button mat-flat-button color="primary" (click)="chooseSection(topic.selectedOptions.selected[0]?.value)">
    Save
  </button>
</mat-dialog-actions>
