var _we=Object.defineProperty,vwe=Object.defineProperties,ywe=Object.getOwnPropertyDescriptors,YZ=Object.getOwnPropertySymbols,bwe=Object.prototype.hasOwnProperty,wwe=Object.prototype.propertyIsEnumerable,WZ=(An,zt,$e)=>zt in An?_we(An,zt,{enumerable:!0,configurable:!0,writable:!0,value:$e}):An[zt]=$e,cw=(An,zt)=>{for(var $e in zt||(zt={}))bwe.call(zt,$e)&&WZ(An,$e,zt[$e]);if(YZ)for(var $e of YZ(zt))wwe.call(zt,$e)&&WZ(An,$e,zt[$e]);return An},$Z=(An,zt)=>vwe(An,ywe(zt));(self.webpackChunkarticle_editor=self.webpackChunkarticle_editor||[]).push([[179],{8255:An=>{function zt($e){return Promise.resolve().then(()=>{var C=new Error("Cannot find module '"+$e+"'");throw C.code="MODULE_NOT_FOUND",C})}zt.keys=()=>[],zt.resolve=zt,zt.id=8255,An.exports=zt},7716:(An,zt,$e)=>{"use strict";$e.d(zt,{deG:()=>f0,tb:()=>zS,AFp:()=>Tx,ip1:()=>Dx,CZH:()=>bg,hGG:()=>k3,z2F:()=>Cg,sBO:()=>oN,Sil:()=>K_,_Vd:()=>D_,EJc:()=>US,SBq:()=>ja,qLn:()=>Ph,vpe:()=>ka,gxx:()=>op,tBr:()=>Fl,XFs:()=>te,OlP:()=>Qi,zs3:()=>Oi,ZZ4:()=>ng,aQg:()=>aS,soG:()=>Y_,YKP:()=>rg,v3s:()=>rP,h0i:()=>Wh,PXZ:()=>eP,R0b:()=>Cc,FiY:()=>Xs,Lbi:()=>t3,g9A:()=>VS,n_E:()=>_g,Qsj:()=>tg,FYo:()=>nr,JOm:()=>Uc,Tiy:()=>Cb,q3G:()=>gs,tp0:()=>Vi,EAV:()=>oP,Rgc:()=>Bd,dDg:()=>Lx,DyG:()=>yd,q4F:()=>Mb,GfV:()=>Sb,s_b:()=>Ab,ifc:()=>en,eFA:()=>m3,G48:()=>Vx,Gpc:()=>ye,f3M:()=>Mh,X6Q:()=>Bx,_c5:()=>l1,VLi:()=>QN,c2e:()=>HS,zSh:()=>ap,wAp:()=>fr,vHH:()=>pt,EiD:()=>E0,mCW:()=>xh,qzn:()=>zc,JVY:()=>zl,pB0:()=>yw,eBb:()=>zf,L6k:()=>Gv,LAX:()=>Hf,cg1:()=>vT,Tjo:()=>lP,kL8:()=>pI,yhl:()=>AE,dqk:()=>wr,sIi:()=>s_,CqO:()=>Xy,QGY:()=>Qy,F4k:()=>AC,RDi:()=>La,AaK:()=>ve,z3N:()=>Vl,qOj:()=>wC,TTD:()=>ps,_Bn:()=>mp,xp6:()=>Bw,uIk:()=>EC,Gre:()=>up,ekj:()=>aT,Suo:()=>ES,Xpm:()=>lr,lG2:()=>et,Yz7:()=>Ke,cJS:()=>ct,oAB:()=>X,Yjl:()=>wt,Y36:()=>Wy,_UZ:()=>c_,GkF:()=>Zy,BQk:()=>XD,ynx:()=>QD,qZA:()=>na,TgZ:()=>JD,EpF:()=>Jy,n5z:()=>Rf,Ikx:()=>Qm,LFG:()=>si,$8M:()=>ba,NdJ:()=>eb,CRH:()=>H_,kcU:()=>hi,O4$:()=>Bn,oxw:()=>OC,ALo:()=>tx,lcZ:()=>CS,Hsn:()=>NC,F$t:()=>U2,Q6J:()=>$y,DdM:()=>JT,VKq:()=>pg,WLB:()=>mg,iGM:()=>sx,MAs:()=>ce,CHM:()=>rm,LSH:()=>Td,kYT:()=>Me,Udp:()=>oT,WFA:()=>IC,d8E:()=>Pd,YNc:()=>H,W1O:()=>ox,_uU:()=>qC,Oqu:()=>h_,hij:()=>f_,AsE:()=>jC,Gf:()=>MS});var C=$e(9765),le=$e(5319),Ct=$e(7574),Ze=$e(6682),Ne=$e(8345);function Pe(S){for(let M in S)if(S[M]===Pe)return M;throw Error("Could not find renamed property on target object.")}function Ve(S,M){for(const x in M)M.hasOwnProperty(x)&&!S.hasOwnProperty(x)&&(S[x]=M[x])}function ve(S){if("string"==typeof S)return S;if(Array.isArray(S))return"["+S.map(ve).join(", ")+"]";if(null==S)return""+S;if(S.overriddenName)return`${S.overriddenName}`;if(S.name)return`${S.name}`;const M=S.toString();if(null==M)return""+M;const x=M.indexOf("\n");return-1===x?M:M.substring(0,x)}function Ie(S,M){return null==S||""===S?null===M?"":M:null==M||""===M?S:S+" "+M}const Ce=Pe({__forward_ref__:Pe});function ye(S){return S.__forward_ref__=ye,S.toString=function(){return ve(this())},S}function Re(S){return Fe(S)?S():S}function Fe(S){return"function"==typeof S&&S.hasOwnProperty(Ce)&&S.__forward_ref__===ye}class pt extends Error{constructor(M,x){super(function(S,M){return`${S?`NG0${S}: `:""}${M}`}(M,x)),this.code=M}}function je(S){return"string"==typeof S?S:null==S?"":String(S)}function ut(S){return"function"==typeof S?S.name||S.toString():"object"==typeof S&&null!=S&&"function"==typeof S.type?S.type.name||S.type.toString():je(S)}function ht(S,M){const x=M?` in ${M}`:"";throw new pt("201",`No provider for ${ut(S)} found${x}`)}function Ue(S,M){null==S&&function(S,M,x,O){throw new Error(`ASSERTION ERROR: ${S}`+(null==O?"":` [Expected=> ${x} ${O} ${M} <=Actual]`))}(M,S,null,"!=")}function Ke(S){return{token:S.token,providedIn:S.providedIn||null,factory:S.factory,value:void 0}}function ct(S){return{providers:S.providers||[],imports:S.imports||[]}}function gt(S){return Zt(S,we)||Zt(S,Ge)}function Zt(S,M){return S.hasOwnProperty(M)?S[M]:null}function fe(S){return S&&(S.hasOwnProperty(Ae)||S.hasOwnProperty(K))?S[Ae]:null}const we=Pe({\u0275prov:Pe}),Ae=Pe({\u0275inj:Pe}),Ge=Pe({ngInjectableDef:Pe}),K=Pe({ngInjectorDef:Pe});var te=(()=>((te=te||{})[te.Default=0]="Default",te[te.Host=1]="Host",te[te.Self=2]="Self",te[te.SkipSelf=4]="SkipSelf",te[te.Optional=8]="Optional",te))();let ge;function Xe(S){const M=ge;return ge=S,M}function lt(S,M,x){const O=gt(S);return O&&"root"==O.providedIn?void 0===O.value?O.value=O.factory():O.value:x&te.Optional?null:void 0!==M?M:void ht(ve(S),"Injector")}function on(S){return{toString:S}.toString()}var Dn=(()=>((Dn=Dn||{})[Dn.OnPush=0]="OnPush",Dn[Dn.Default=1]="Default",Dn))(),en=(()=>((en=en||{})[en.Emulated=0]="Emulated",en[en.None=2]="None",en[en.ShadowDom=3]="ShadowDom",en))();const Un="undefined"!=typeof globalThis&&globalThis,es="undefined"!=typeof window&&window,Gi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,li="undefined"!=typeof global&&global,wr=Un||li||es||Gi,Wr={},dt=[],ee=Pe({\u0275cmp:Pe}),se=Pe({\u0275dir:Pe}),_t=Pe({\u0275pipe:Pe}),pe=Pe({\u0275mod:Pe}),Je=Pe({\u0275loc:Pe}),Pn=Pe({\u0275fac:Pe}),pn=Pe({__NG_ELEMENT_ID__:Pe});let Cr=0;function lr(S){return on(()=>{const x={},O={type:S.type,providersResolver:null,decls:S.decls,vars:S.vars,factory:null,template:S.template||null,consts:S.consts||null,ngContentSelectors:S.ngContentSelectors,hostBindings:S.hostBindings||null,hostVars:S.hostVars||0,hostAttrs:S.hostAttrs||null,contentQueries:S.contentQueries||null,declaredInputs:x,inputs:null,outputs:null,exportAs:S.exportAs||null,onPush:S.changeDetection===Dn.OnPush,directiveDefs:null,pipeDefs:null,selectors:S.selectors||dt,viewQuery:S.viewQuery||null,features:S.features||null,data:S.data||{},encapsulation:S.encapsulation||en.Emulated,id:"c",styles:S.styles||dt,_:null,setInput:null,schemas:S.schemas||null,tView:null},F=S.directives,z=S.features,W=S.pipes;return O.id+=Cr++,O.inputs=he(S.inputs,x),O.outputs=he(S.outputs),z&&z.forEach(Z=>Z(O)),O.directiveDefs=F?()=>("function"==typeof F?F():F).map($r):null,O.pipeDefs=W?()=>("function"==typeof W?W():W).map(De):null,O})}function $r(S){return Vt(S)||function(S){return S[se]||null}(S)}function De(S){return function(S){return S[_t]||null}(S)}const ne={};function X(S){return on(()=>{const M={type:S.type,bootstrap:S.bootstrap||dt,declarations:S.declarations||dt,imports:S.imports||dt,exports:S.exports||dt,transitiveCompileScopes:null,schemas:S.schemas||null,id:S.id||null};return null!=S.id&&(ne[S.id]=S.type),M})}function Me(S,M){return on(()=>{const x=In(S,!0);x.declarations=M.declarations||dt,x.imports=M.imports||dt,x.exports=M.exports||dt})}function he(S,M){if(null==S)return Wr;const x={};for(const O in S)if(S.hasOwnProperty(O)){let F=S[O],z=F;Array.isArray(F)&&(z=F[1],F=F[0]),x[F]=O,M&&(M[F]=z)}return x}const et=lr;function wt(S){return{type:S.type,name:S.name,factory:null,pure:!1!==S.pure,onDestroy:S.type.prototype.ngOnDestroy||null}}function Vt(S){return S[ee]||null}function In(S,M){const x=S[pe]||null;if(!x&&!0===M)throw new Error(`Type ${ve(S)} does not have '\u0275mod' property.`);return x}function Fa(S){return Array.isArray(S)&&"object"==typeof S[1]}function Yi(S){return Array.isArray(S)&&!0===S[1]}function td(S){return 0!=(8&S.flags)}function nd(S){return 2==(2&S.flags)}function fu(S){return 1==(1&S.flags)}function pa(S){return null!==S.template}function ma(S){return 0!=(512&S[2])}function yi(S,M){return S.hasOwnProperty(Pn)?S[Pn]:null}class Wi{constructor(M,x,O){this.previousValue=M,this.currentValue=x,this.firstChange=O}isFirstChange(){return this.firstChange}}function ps(){return As}function As(S){return S.type.prototype.ngOnChanges&&(S.setInput=n0),t0}function t0(){const S=sd(this),M=null==S?void 0:S.current;if(M){const x=S.previous;if(x===Wr)S.previous=M;else for(let O in M)x[O]=M[O];S.current=null,this.ngOnChanges(M)}}function n0(S,M,x,O){const F=sd(S)||function(S,M){return S[r0]=M}(S,{previous:Wr,current:null}),z=F.current||(F.current={}),W=F.previous,Z=this.declaredInputs[x],ie=W[Z];z[Z]=new Wi(ie&&ie.currentValue,M,W===Wr),S[O]=M}ps.ngInherit=!0;const r0="__ngSimpleChanges__";function sd(S){return S[r0]||null}const kc="http://www.w3.org/2000/svg";let xl;function La(S){xl=S}function Zi(S){return!!S.listen}const Rs={createRenderer:(S,M)=>void 0!==xl?xl:"undefined"!=typeof document?document:void 0};function Qn(S){for(;Array.isArray(S);)S=S[0];return S}function dh(S,M){return Qn(M[S])}function va(S,M){return Qn(M[S.index])}function hh(S,M){return S.data[M]}function Ac(S,M){return S[M]}function Qr(S,M){const x=M[S];return Fa(x)?x:x[0]}function Ic(S){return 4==(4&S[2])}function _f(S){return 128==(128&S[2])}function oc(S,M){return null==M?null:S[M]}function Al(S){S[18]=0}function Tr(S,M){S[5]+=M;let x=S,O=S[3];for(;null!==O&&(1===M&&1===x[5]||-1===M&&0===x[5]);)O[5]+=M,x=O,O=O[3]}const gr={lFrame:vh(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ph(){return gr.bindingsEnabled}function hn(){return gr.lFrame.lView}function Kr(){return gr.lFrame.tView}function rm(S){return gr.lFrame.contextLView=S,S[8]}function Ji(){let S=ad();for(;null!==S&&64===S.type;)S=S.parent;return S}function ad(){return gr.lFrame.currentTNode}function xo(S,M){const x=gr.lFrame;x.currentTNode=S,x.isParent=M}function Zs(){return gr.lFrame.isParent}function ld(){gr.lFrame.isParent=!1}function mu(){return gr.isInCheckNoChangesMode}function gh(S){gr.isInCheckNoChangesMode=S}function Bs(){const S=gr.lFrame;let M=S.bindingRootIndex;return-1===M&&(M=S.bindingRootIndex=S.tView.bindingStartIndex),M}function el(){return gr.lFrame.bindingIndex}function tl(){return gr.lFrame.bindingIndex++}function Vs(S){const M=gr.lFrame,x=M.bindingIndex;return M.bindingIndex=M.bindingIndex+S,x}function yf(S,M){const x=gr.lFrame;x.bindingIndex=x.bindingRootIndex=S,nl(M)}function nl(S){gr.lFrame.currentDirectiveIndex=S}function Nc(S){const M=gr.lFrame.currentDirectiveIndex;return-1===M?null:S[M]}function bf(){return gr.lFrame.currentQueryIndex}function gu(S){gr.lFrame.currentQueryIndex=S}function u0(S){const M=S[1];return 2===M.type?M.declTNode:1===M.type?S[6]:null}function Pc(S,M,x){if(x&te.SkipSelf){let F=M,z=S;for(;!(F=F.parent,null!==F||x&te.Host||(F=u0(z),null===F||(z=z[15],10&F.type))););if(null===F)return!1;M=F,S=z}const O=gr.lFrame=wf();return O.currentTNode=M,O.lView=S,!0}function $o(S){const M=wf(),x=S[1];gr.lFrame=M,M.currentTNode=x.firstChild,M.lView=S,M.tView=x,M.contextLView=S,M.bindingIndex=x.bindingStartIndex,M.inI18n=!1}function wf(){const S=gr.lFrame,M=null===S?null:S.child;return null===M?vh(S):M}function vh(S){const M={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:S,child:null,inI18n:!1};return null!==S&&(S.child=M),M}function d0(){const S=gr.lFrame;return gr.lFrame=S.parent,S.currentTNode=null,S.lView=null,S}const Fv=d0;function yh(){const S=d0();S.isParent=!0,S.tView=null,S.selectedIndex=-1,S.contextLView=null,S.elementDepthCount=0,S.currentDirectiveIndex=-1,S.currentNamespace=null,S.bindingRootIndex=-1,S.bindingIndex=-1,S.currentQueryIndex=0}function At(){return gr.lFrame.selectedIndex}function nn(S){gr.lFrame.selectedIndex=S}function Yt(){const S=gr.lFrame;return hh(S.tView,S.selectedIndex)}function Bn(){gr.lFrame.currentNamespace=kc}function hi(){gr.lFrame.currentNamespace=null}function ud(S,M){for(let x=M.directiveStart,O=M.directiveEnd;x<O;x++){const z=S.data[x].type.prototype,{ngAfterContentInit:W,ngAfterContentChecked:Z,ngAfterViewInit:ie,ngAfterViewChecked:de,ngOnDestroy:Ee}=z;W&&(S.contentHooks||(S.contentHooks=[])).push(-x,W),Z&&((S.contentHooks||(S.contentHooks=[])).push(x,Z),(S.contentCheckHooks||(S.contentCheckHooks=[])).push(x,Z)),ie&&(S.viewHooks||(S.viewHooks=[])).push(-x,ie),de&&((S.viewHooks||(S.viewHooks=[])).push(x,de),(S.viewCheckHooks||(S.viewCheckHooks=[])).push(x,de)),null!=Ee&&(S.destroyHooks||(S.destroyHooks=[])).push(x,Ee)}}function zs(S,M,x){Il(S,M,3,x)}function mo(S,M,x,O){(3&S[2])===x&&Il(S,M,x,O)}function Sf(S,M){let x=S[2];(3&x)===M&&(x&=2047,x+=1,S[2]=x)}function Il(S,M,x,O){const z=null!=O?O:-1,W=M.length-1;let Z=0;for(let ie=void 0!==O?65535&S[18]:0;ie<W;ie++)if("number"==typeof M[ie+1]){if(Z=M[ie],null!=O&&Z>=O)break}else M[ie]<0&&(S[18]+=65536),(Z<z||-1==z)&&(il(S,x,M,ie),S[18]=(4294901760&S[18])+ie+2),ie++}function il(S,M,x,O){const F=x[O]<0,z=x[O+1],Z=S[F?-x[O]:x[O]];if(F){if(S[2]>>11<S[18]>>16&&(3&S[2])===M){S[2]+=2048;try{z.call(Z)}finally{}}}else try{z.call(Z)}finally{}}class Rr{constructor(M,x,O){this.factory=M,this.resolving=!1,this.canSeeViewProviders=x,this.injectImpl=O}}function Fc(S,M,x){const O=Zi(S);let F=0;for(;F<x.length;){const z=x[F];if("number"==typeof z){if(0!==z)break;F++;const W=x[F++],Z=x[F++],ie=x[F++];O?S.setAttribute(M,Z,ie,W):M.setAttributeNS(W,Z,ie)}else{const W=z,Z=x[++F];Ko(W)?O&&S.setProperty(M,W,Z):O?S.setAttribute(M,W,Z):M.setAttribute(W,Z),F++}}return F}function Df(S){return 3===S||4===S||6===S}function Ko(S){return 64===S.charCodeAt(0)}function dd(S,M){if(null!==M&&0!==M.length)if(null===S||0===S.length)S=M.slice();else{let x=-1;for(let O=0;O<M.length;O++){const F=M[O];"number"==typeof F?x=F:0===x||Tf(S,x,F,null,-1===x||2===x?M[++O]:null)}}return S}function Tf(S,M,x,O,F){let z=0,W=S.length;if(-1===M)W=-1;else for(;z<S.length;){const Z=S[z++];if("number"==typeof Z){if(Z===M){W=-1;break}if(Z>M){W=z-1;break}}}for(;z<S.length;){const Z=S[z];if("number"==typeof Z)break;if(Z===x){if(null===O)return void(null!==F&&(S[z+1]=F));if(O===S[z+1])return void(S[z+2]=F)}z++,null!==O&&z++,null!==F&&z++}-1!==W&&(S.splice(W,0,M),z=W+1),S.splice(z++,0,x),null!==O&&S.splice(z++,0,O),null!==F&&S.splice(z++,0,F)}function lc(S){return-1!==S}function Rl(S){return 32767&S}function Ba(S,M){let x=function(S){return S>>16}(S),O=M;for(;x>0;)O=O[15],x--;return O}let hd=!0;function xf(S){const M=hd;return hd=S,M}let kf=0;function cc(S,M){const x=$n(S,M);if(-1!==x)return x;const O=M[1];O.firstCreatePass&&(S.injectorIndex=M.length,om(O.data,S),om(M,null),om(O.blueprint,null));const F=$i(S,M),z=S.injectorIndex;if(lc(F)){const W=Rl(F),Z=Ba(F,M),ie=Z[1].data;for(let de=0;de<8;de++)M[z+de]=Z[W+de]|ie[W+de]}return M[z+8]=F,z}function om(S,M){S.push(0,0,0,0,0,0,0,0,M)}function $n(S,M){return-1===S.injectorIndex||S.parent&&S.parent.injectorIndex===S.injectorIndex||null===M[S.injectorIndex+8]?-1:S.injectorIndex}function $i(S,M){if(S.parent&&-1!==S.parent.injectorIndex)return S.parent.injectorIndex;let x=0,O=null,F=M;for(;null!==F;){const z=F[1],W=z.type;if(O=2===W?z.declTNode:1===W?F[6]:null,null===O)return-1;if(x++,F=F[15],-1!==O.injectorIndex)return O.injectorIndex|x<<16}return-1}function Xr(S,M,x){!function(S,M,x){let O;"string"==typeof x?O=x.charCodeAt(0)||0:x.hasOwnProperty(pn)&&(O=x[pn]),null==O&&(O=x[pn]=kf++);const F=255&O;M.data[S+(F>>5)]|=1<<F}(S,M,x)}function Hs(S,M,x){if(x&te.Optional)return S;ht(M,"NodeInjector")}function xr(S,M,x,O){if(x&te.Optional&&void 0===O&&(O=null),0==(x&(te.Self|te.Host))){const F=S[9],z=Xe(void 0);try{return F?F.get(M,O,x&te.Optional):lt(M,O,x&te.Optional)}finally{Xe(z)}}return Hs(O,M,x)}function Af(S,M,x,O=te.Default,F){if(null!==S){const z=function(S){if("string"==typeof S)return S.charCodeAt(0)||0;const M=S.hasOwnProperty(pn)?S[pn]:void 0;return"number"==typeof M?M>=0?255&M:rr:M}(x);if("function"==typeof z){if(!Pc(M,S,O))return O&te.Host?Hs(F,x,O):xr(M,x,O,F);try{const W=z(O);if(null!=W||O&te.Optional)return W;ht(x)}finally{Fv()}}else if("number"==typeof z){let W=null,Z=$n(S,M),ie=-1,de=O&te.Host?M[16][6]:null;for((-1===Z||O&te.SkipSelf)&&(ie=-1===Z?$i(S,M):M[Z+8],-1!==ie&&md(O,!1)?(W=M[1],Z=Rl(ie),M=Ba(ie,M)):Z=-1);-1!==Z;){const Ee=M[1];if(pd(z,Z,Ee.data)){const Ye=yu(Z,M,x,W,O,de);if(Ye!==If)return Ye}ie=M[Z+8],-1!==ie&&md(O,M[1].data[Z+8]===de)&&pd(z,Z,M)?(W=Ee,Z=Rl(ie),M=Ba(ie,M)):Z=-1}}}return xr(M,x,O,F)}const If={};function rr(){return new ol(Ji(),hn())}function yu(S,M,x,O,F,z){const W=M[1],Z=W.data[S+8],Ee=bu(Z,W,x,null==O?nd(Z)&&hd:O!=W&&0!=(3&Z.type),F&te.Host&&z===Z);return null!==Ee?Ss(M,W,Ee,Z):If}function bu(S,M,x,O,F){const z=S.providerIndexes,W=M.data,Z=1048575&z,ie=S.directiveStart,Ee=z>>20,it=F?Z+Ee:S.directiveEnd;for(let bt=O?Z:Z+Ee;bt<it;bt++){const It=W[bt];if(bt<ie&&x===It||bt>=ie&&It.type===x)return bt}if(F){const bt=W[ie];if(bt&&pa(bt)&&bt.type===x)return ie}return null}function Ss(S,M,x,O){let F=S[x];const z=M.data;if(function(S){return S instanceof Rr}(F)){const W=F;W.resolving&&function(S,M){throw new pt("200",`Circular dependency in DI detected for ${S}`)}(ut(z[x]));const Z=xf(W.canSeeViewProviders);W.resolving=!0;const ie=W.injectImpl?Xe(W.injectImpl):null;Pc(S,O,te.Default);try{F=S[x]=W.factory(void 0,z,S,O),M.firstCreatePass&&x>=O.directiveStart&&function(S,M,x){const{ngOnChanges:O,ngOnInit:F,ngDoCheck:z}=M.type.prototype;if(O){const W=As(M);(x.preOrderHooks||(x.preOrderHooks=[])).push(S,W),(x.preOrderCheckHooks||(x.preOrderCheckHooks=[])).push(S,W)}F&&(x.preOrderHooks||(x.preOrderHooks=[])).push(0-S,F),z&&((x.preOrderHooks||(x.preOrderHooks=[])).push(S,z),(x.preOrderCheckHooks||(x.preOrderCheckHooks=[])).push(S,z))}(x,z[x],M)}finally{null!==ie&&Xe(ie),xf(Z),W.resolving=!1,Fv()}}return F}function pd(S,M,x){return!!(x[M+(S>>5)]&1<<S)}function md(S,M){return!(S&te.Self||S&te.Host&&M)}class ol{constructor(M,x){this._tNode=M,this._lView=x}get(M,x){return Af(this._tNode,this._lView,M,void 0,x)}}function Rf(S){return on(()=>{const M=S.prototype.constructor,x=M[Pn]||gd(M),O=Object.prototype;let F=Object.getPrototypeOf(S.prototype).constructor;for(;F&&F!==O;){const z=F[Pn]||gd(F);if(z&&z!==x)return z;F=Object.getPrototypeOf(F)}return z=>new z})}function gd(S){return Fe(S)?()=>{const M=gd(Re(S));return M&&M()}:yi(S)}function ba(S){return function(S,M){if("class"===M)return S.classes;if("style"===M)return S.styles;const x=S.attrs;if(x){const O=x.length;let F=0;for(;F<O;){const z=x[F];if(Df(z))break;if(0===z)F+=2;else if("number"==typeof z)for(F++;F<O&&"string"==typeof x[F];)F++;else{if(z===M)return x[F+1];F+=2}}}return null}(Ji(),S)}const wu="__parameters__";function qe(S,M,x){return on(()=>{const O=function(S){return function(...x){if(S){const O=S(...x);for(const F in O)this[F]=O[F]}}}(M);function F(...z){if(this instanceof F)return O.apply(this,z),this;const W=new F(...z);return Z.annotation=W,Z;function Z(ie,de,Ee){const Ye=ie.hasOwnProperty(wu)?ie[wu]:Object.defineProperty(ie,wu,{value:[]})[wu];for(;Ye.length<=Ee;)Ye.push(null);return(Ye[Ee]=Ye[Ee]||[]).push(W),ie}}return x&&(F.prototype=Object.create(x.prototype)),F.prototype.ngMetadataName=S,F.annotationCls=F,F})}class Qi{constructor(M,x){this._desc=M,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof x?this.__NG_ELEMENT_ID__=x:void 0!==x&&(this.\u0275prov=Ke({token:this,providedIn:x.providedIn||"root",factory:x.factory}))}toString(){return`InjectionToken ${this._desc}`}}const f0=new Qi("AnalyzeForEntryComponents"),yd=Function;function Jo(S,M){void 0===M&&(M=S);for(let x=0;x<S.length;x++){let O=S[x];Array.isArray(O)?(M===S&&(M=S.slice(0,x)),Jo(O,M)):M!==S&&M.push(O)}return M}function Us(S,M){S.forEach(x=>Array.isArray(x)?Us(x,M):M(x))}function wd(S,M,x){M>=S.length?S.push(x):S.splice(M,0,x)}function Su(S,M){return M>=S.length-1?S.pop():S.splice(M,1)[0]}function Js(S,M){const x=[];for(let O=0;O<S;O++)x.push(M);return x}function ue(S,M,x){let O=We(S,M);return O>=0?S[1|O]=x:(O=~O,function(S,M,x,O){let F=S.length;if(F==M)S.push(x,O);else if(1===F)S.push(O,S[0]),S[0]=x;else{for(F--,S.push(S[F-1],S[F]);F>M;)S[F]=S[F-2],F--;S[M]=x,S[M+1]=O}}(S,O,M,x)),O}function xe(S,M){const x=We(S,M);if(x>=0)return S[1|x]}function We(S,M){return function(S,M,x){let O=0,F=S.length>>x;for(;F!==O;){const z=O+(F-O>>1),W=S[z<<x];if(M===W)return z<<x;W>M?F=z:O=z+1}return~(F<<x)}(S,M,1)}const jr={},bi="__NG_DI_FLAG__",fi="ngTempTokenPath",wi=/\n/gm,ir="__source",Qs=Pe({provide:String,useValue:Pe});let pi;function Os(S){const M=pi;return pi=S,M}function wa(S,M=te.Default){if(void 0===pi)throw new Error("inject() must be called from an injection context");return null===pi?lt(S,void 0,M):pi.get(S,M&te.Optional?null:void 0,M)}function si(S,M=te.Default){return(ge||wa)(Re(S),M)}const Mh=si;function Va(S){const M=[];for(let x=0;x<S.length;x++){const O=Re(S[x]);if(Array.isArray(O)){if(0===O.length)throw new Error("Arguments array must have arguments.");let F,z=te.Default;for(let W=0;W<O.length;W++){const Z=O[W],ie=as(Z);"number"==typeof ie?-1===ie?F=Z.token:z|=ie:F=Z}M.push(si(F,z))}else M.push(si(O))}return M}function Mu(S,M){return S[bi]=M,S.prototype[bi]=M,S}function as(S){return S[bi]}function Ff(S,M,x,O){const F=S[fi];throw M[ir]&&F.unshift(M[ir]),S.message=function(S,M,x,O=null){S=S&&"\n"===S.charAt(0)&&"\u0275"==S.charAt(1)?S.substr(2):S;let F=ve(M);if(Array.isArray(M))F=M.map(ve).join(" -> ");else if("object"==typeof M){let z=[];for(let W in M)if(M.hasOwnProperty(W)){let Z=M[W];z.push(W+":"+("string"==typeof Z?JSON.stringify(Z):ve(Z)))}F=`{${z.join(", ")}}`}return`${x}${O?"("+O+")":""}[${F}]: ${S.replace(wi,"\n  ")}`}("\n"+S.message,F,x,O),S.ngTokenPath=F,S[fi]=null,S}const Fl=Mu(qe("Inject",S=>({token:S})),-1),Xs=Mu(qe("Optional"),8),Vi=Mu(qe("SkipSelf"),4);let dm;function eo(S){var M;return(null===(M=function(){if(void 0===dm&&(dm=null,wr.trustedTypes))try{dm=wr.trustedTypes.createPolicy("angular",{createHTML:S=>S,createScript:S=>S,createScriptURL:S=>S})}catch(S){}return dm}())||void 0===M?void 0:M.createHTML(S))||S}class Vc{constructor(M){this.changingThisBreaksApplicationSecurity=M}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Hv extends Vc{getTypeName(){return"HTML"}}class Vr extends Vc{getTypeName(){return"Style"}}class kE extends Vc{getTypeName(){return"Script"}}class Uv extends Vc{getTypeName(){return"URL"}}class hm extends Vc{getTypeName(){return"ResourceURL"}}function Vl(S){return S instanceof Vc?S.changingThisBreaksApplicationSecurity:S}function zc(S,M){const x=AE(S);if(null!=x&&x!==M){if("ResourceURL"===x&&"URL"===M)return!0;throw new Error(`Required a safe ${M}, got a ${x} (see https://g.co/ng/security#xss)`)}return x===M}function AE(S){return S instanceof Vc&&S.getTypeName()||null}function zl(S){return new Hv(S)}function Gv(S){return new Vr(S)}function zf(S){return new kE(S)}function Hf(S){return new Uv(S)}function yw(S){return new hm(S)}class Sa{constructor(M){this.inertDocumentHelper=M}getInertBodyElement(M){M="<body><remove></remove>"+M;try{const x=(new window.DOMParser).parseFromString(eo(M),"text/html").body;return null===x?this.inertDocumentHelper.getInertBodyElement(M):(x.removeChild(x.firstChild),x)}catch(x){return null}}}class Sd{constructor(M){if(this.defaultDoc=M,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const x=this.inertDocument.createElement("html");this.inertDocument.appendChild(x);const O=this.inertDocument.createElement("body");x.appendChild(O)}}getInertBodyElement(M){const x=this.inertDocument.createElement("template");if("content"in x)return x.innerHTML=eo(M),x;const O=this.inertDocument.createElement("body");return O.innerHTML=eo(M),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(O),O}stripCustomNsAttrs(M){const x=M.attributes;for(let F=x.length-1;0<F;F--){const W=x.item(F).name;("xmlns:ns1"===W||0===W.indexOf("ns1:"))&&M.removeAttribute(W)}let O=M.firstChild;for(;O;)O.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(O),O=O.nextSibling}}const jv=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,w0=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function xh(S){return(S=String(S)).match(jv)||S.match(w0)?S:"unsafe:"+S}function Hl(S){const M={};for(const x of S.split(","))M[x]=!0;return M}function kh(...S){const M={};for(const x of S)for(const O in x)x.hasOwnProperty(O)&&(M[O]=!0);return M}const Eu=Hl("area,br,col,hr,img,wbr"),C0=Hl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ll=Hl("rp,rt"),S0=kh(Eu,kh(C0,Hl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),kh(ll,Hl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),kh(ll,C0)),Uf=Hl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ed=Hl("srcset"),M0=kh(Uf,Ed,Hl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Hl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Yv=Hl("script,style,template");class Wv{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(M){let x=M.firstChild,O=!0;for(;x;)if(x.nodeType===Node.ELEMENT_NODE?O=this.startElement(x):x.nodeType===Node.TEXT_NODE?this.chars(x.nodeValue):this.sanitizedSomething=!0,O&&x.firstChild)x=x.firstChild;else for(;x;){x.nodeType===Node.ELEMENT_NODE&&this.endElement(x);let F=this.checkClobberedElement(x,x.nextSibling);if(F){x=F;break}x=this.checkClobberedElement(x,x.parentNode)}return this.buf.join("")}startElement(M){const x=M.nodeName.toLowerCase();if(!S0.hasOwnProperty(x))return this.sanitizedSomething=!0,!Yv.hasOwnProperty(x);this.buf.push("<"),this.buf.push(x);const O=M.attributes;for(let F=0;F<O.length;F++){const z=O.item(F),W=z.name,Z=W.toLowerCase();if(!M0.hasOwnProperty(Z)){this.sanitizedSomething=!0;continue}let ie=z.value;Uf[Z]&&(ie=xh(ie)),Ed[Z]&&(S=ie,ie=(S=String(S)).split(",").map(M=>xh(M.trim())).join(", ")),this.buf.push(" ",W,'="',$v(ie),'"')}var S;return this.buf.push(">"),!0}endElement(M){const x=M.nodeName.toLowerCase();S0.hasOwnProperty(x)&&!Eu.hasOwnProperty(x)&&(this.buf.push("</"),this.buf.push(x),this.buf.push(">"))}chars(M){this.buf.push($v(M))}checkClobberedElement(M,x){if(x&&(M.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${M.outerHTML}`);return x}}const Ma=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hc=/([^\#-~ |!])/g;function $v(S){return S.replace(/&/g,"&amp;").replace(Ma,function(M){return"&#"+(1024*(M.charCodeAt(0)-55296)+(M.charCodeAt(1)-56320)+65536)+";"}).replace(hc,function(M){return"&#"+M.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ih;function E0(S,M){let x=null;try{Ih=Ih||function(S){const M=new Sd(S);return function(){try{return!!(new window.DOMParser).parseFromString(eo(""),"text/html")}catch(S){return!1}}()?new Sa(M):M}(S);let O=M?String(M):"";x=Ih.getInertBodyElement(O);let F=5,z=O;do{if(0===F)throw new Error("Failed to sanitize html because the input is unstable");F--,O=z,z=x.innerHTML,x=Ih.getInertBodyElement(O)}while(O!==z);return eo((new Wv).sanitizeChildren(Dd(x)||x))}finally{if(x){const O=Dd(x)||x;for(;O.firstChild;)O.removeChild(O.firstChild)}}}function Dd(S){return"content"in S&&function(S){return S.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===S.nodeName}(S)?S.content:null}var gs=(()=>((gs=gs||{})[gs.NONE=0]="NONE",gs[gs.HTML=1]="HTML",gs[gs.STYLE=2]="STYLE",gs[gs.SCRIPT=3]="SCRIPT",gs[gs.URL=4]="URL",gs[gs.RESOURCE_URL=5]="RESOURCE_URL",gs))();function Td(S){const M=function(){const S=hn();return S&&S[12]}();return M?M.sanitize(gs.URL,S)||"":zc(S,"URL")?Vl(S):xh(je(S))}const Xv="__ngContext__";function Gs(S,M){S[Xv]=M}function Gf(S){const M=function(S){return S[Xv]||null}(S);return M?Array.isArray(M)?M:M.lView:null}function ql(S){return S.ngOriginalError}function Nh(S,...M){S.error(...M)}class Ph{constructor(){this._console=console}handleError(M){const x=this._findOriginalError(M),O=this._findContext(M),F=(S=M)&&S.ngErrorLogger||Nh;var S;F(this._console,"ERROR",M),x&&F(this._console,"ORIGINAL ERROR",x),O&&F(this._console,"ERROR CONTEXT",O)}_findContext(M){return M?M.ngDebugContext||this._findContext(ql(M)):null}_findOriginalError(M){let x=M&&ql(M);for(;x&&ql(x);)x=ql(x);return x||null}}const LE=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(wr))();function Hc(S){return S instanceof Function?S():S}var Uc=(()=>((Uc=Uc||{})[Uc.Important=1]="Important",Uc[Uc.DashCase=2]="DashCase",Uc))();function ay(S,M){return undefined(S,M)}function Ao(S){const M=S[3];return Yi(M)?M[3]:M}function Yf(S){return Wf(S[13])}function Bh(S){return Wf(S[4])}function Wf(S){for(;null!==S&&!Yi(S);)S=S[4];return S}function za(S,M,x,O,F){if(null!=O){let z,W=!1;Yi(O)?z=O:Fa(O)&&(W=!0,O=O[0]);const Z=Qn(O);0===S&&null!==x?null==F?L0(M,x,Z):xu(M,x,Z,F||null,!0):1===S&&null!==x?xu(M,x,Z,F||null,!0):2===S?function(S,M,x){const O=my(S,M);O&&function(S,M,x,O){Zi(S)?S.removeChild(M,x,O):M.removeChild(x)}(S,O,M,x)}(M,Z,W):3===S&&M.destroyNode(Z),null!=z&&function(S,M,x,O,F){const z=x[7];z!==Qn(x)&&za(M,S,O,z,F);for(let Z=10;Z<x.length;Z++){const ie=x[Z];H0(ie[1],ie,S,M,O,z)}}(M,S,z,x,F)}}function $f(S,M,x){return Zi(S)?S.createElement(M,x):null===x?S.createElement(M):S.createElementNS(x,M)}function N0(S,M){const x=S[9],O=x.indexOf(M),F=M[3];1024&M[2]&&(M[2]&=-1025,Tr(F,-1)),x.splice(O,1)}function fy(S,M){if(S.length<=10)return;const x=10+M,O=S[x];if(O){const F=O[17];null!==F&&F!==S&&N0(F,O),M>0&&(S[x-1][4]=O[4]);const z=Su(S,10+M);!function(S,M){H0(S,M,M[11],2,null,null),M[0]=null,M[6]=null}(O[1],O);const W=z[19];null!==W&&W.detachView(z[1]),O[3]=null,O[4]=null,O[2]&=-129}return O}function P0(S,M){if(!(256&M[2])){const x=M[11];Zi(x)&&x.destroyNode&&H0(S,M,x,3,null,null),function(S){let M=S[13];if(!M)return py(S[1],S);for(;M;){let x=null;if(Fa(M))x=M[13];else{const O=M[10];O&&(x=O)}if(!x){for(;M&&!M[4]&&M!==S;)Fa(M)&&py(M[1],M),M=M[3];null===M&&(M=S),Fa(M)&&py(M[1],M),x=M&&M[4]}M=x}}(M)}}function py(S,M){if(!(256&M[2])){M[2]&=-129,M[2]|=256,function(S,M){let x;if(null!=S&&null!=(x=S.destroyHooks))for(let O=0;O<x.length;O+=2){const F=M[x[O]];if(!(F instanceof Rr)){const z=x[O+1];if(Array.isArray(z))for(let W=0;W<z.length;W+=2){const Z=F[z[W]],ie=z[W+1];try{ie.call(Z)}finally{}}else try{z.call(F)}finally{}}}}(S,M),function(S,M){const x=S.cleanup,O=M[7];let F=-1;if(null!==x)for(let z=0;z<x.length-1;z+=2)if("string"==typeof x[z]){const W=x[z+1],Z="function"==typeof W?W(M):Qn(M[W]),ie=O[F=x[z+2]],de=x[z+3];"boolean"==typeof de?Z.removeEventListener(x[z],ie,de):de>=0?O[F=de]():O[F=-de].unsubscribe(),z+=2}else{const W=O[F=x[z+1]];x[z].call(W)}if(null!==O){for(let z=F+1;z<O.length;z++)O[z]();M[7]=null}}(S,M),1===M[1].type&&Zi(M[11])&&M[11].destroy();const x=M[17];if(null!==x&&Yi(M[3])){x!==M[3]&&N0(x,M);const O=M[19];null!==O&&O.detachView(S)}}}function wm(S,M,x){return function(S,M,x){let O=M;for(;null!==O&&40&O.type;)O=(M=O).parent;if(null===O)return x[0];if(2&O.flags){const F=S.data[O.directiveStart].encapsulation;if(F===en.None||F===en.Emulated)return null}return va(O,x)}(S,M.parent,x)}function xu(S,M,x,O,F){Zi(S)?S.insertBefore(M,x,O,F):M.insertBefore(x,O,F)}function L0(S,M,x){Zi(S)?S.appendChild(M,x):M.appendChild(x)}function Cm(S,M,x,O,F){null!==O?xu(S,M,x,O,F):L0(S,M,x)}function my(S,M){return Zi(S)?S.parentNode(M):M.parentNode}function zE(S,M,x){return HE(S,M,x)}let HE=function(S,M,x){return 40&S.type?va(S,x):null};function Kf(S,M,x,O){const F=wm(S,O,M),z=M[11],Z=zE(O.parent||M[6],O,M);if(null!=F)if(Array.isArray(x))for(let ie=0;ie<x.length;ie++)Cm(z,F,x[ie],Z,!1);else Cm(z,F,x,Z,!1)}function _y(S,M){if(null!==M){const x=M.type;if(3&x)return va(M,S);if(4&x)return Rw(-1,S[M.index]);if(8&x){const O=M.child;if(null!==O)return _y(S,O);{const F=S[M.index];return Yi(F)?Rw(-1,F):Qn(F)}}if(32&x)return ay(M,S)()||Qn(S[M.index]);{const O=Sm(S,M);return null!==O?Array.isArray(O)?O[0]:_y(Ao(S[16]),O):_y(S,M.next)}}return null}function Sm(S,M){return null!==M?S[16][6].projection[M.projection]:null}function Rw(S,M){const x=10+S+1;if(x<M.length){const O=M[x],F=O[1].firstChild;if(null!==F)return _y(O,F)}return M[7]}function Ow(S,M,x,O,F,z,W){for(;null!=x;){const Z=O[x.index],ie=x.type;if(W&&0===M&&(Z&&Gs(Qn(Z),O),x.flags|=4),64!=(64&x.flags))if(8&ie)Ow(S,M,x.child,O,F,z,!1),za(M,S,F,Z,z);else if(32&ie){const de=ay(x,O);let Ee;for(;Ee=de();)za(M,S,F,Ee,z);za(M,S,F,Z,z)}else 16&ie?UE(S,M,O,x,F,z):za(M,S,F,Z,z);x=W?x.projectionNext:x.next}}function H0(S,M,x,O,F,z){Ow(x,O,S.firstChild,M,F,z,!1)}function UE(S,M,x,O,F,z){const W=x[16],ie=W[6].projection[O.projection];if(Array.isArray(ie))for(let de=0;de<ie.length;de++)za(M,S,F,ie[de],z);else Ow(S,M,ie,W[3],F,z,!0)}function Nw(S,M,x){Zi(S)?S.setAttribute(M,"style",x):M.style.cssText=x}function Em(S,M,x){Zi(S)?""===x?S.removeAttribute(M,"class"):S.setAttribute(M,"class",x):M.className=x}function GE(S,M,x){let O=S.length;for(;;){const F=S.indexOf(M,x);if(-1===F)return F;if(0===F||S.charCodeAt(F-1)<=32){const z=M.length;if(F+z===O||S.charCodeAt(F+z)<=32)return F}x=F+1}}const qE="ng-template";function yy(S,M,x){let O=0;for(;O<S.length;){let F=S[O++];if(x&&"class"===F){if(F=S[O],-1!==GE(F.toLowerCase(),M,0))return!0}else if(1===F){for(;O<S.length&&"string"==typeof(F=S[O++]);)if(F.toLowerCase()===M)return!0;return!1}}return!1}function jE(S){return 4===S.type&&S.value!==qE}function by(S,M,x){return M===(4!==S.type||x?S.value:qE)}function YE(S,M,x){let O=4;const F=S.attrs||[],z=function(S){for(let M=0;M<S.length;M++)if(Df(S[M]))return M;return S.length}(F);let W=!1;for(let Z=0;Z<M.length;Z++){const ie=M[Z];if("number"!=typeof ie){if(!W)if(4&O){if(O=2|1&O,""!==ie&&!by(S,ie,x)||""===ie&&1===M.length){if(ul(O))return!1;W=!0}}else{const de=8&O?ie:M[++Z];if(8&O&&null!==S.attrs){if(!yy(S.attrs,de,x)){if(ul(O))return!1;W=!0}continue}const Ye=r2(8&O?"class":ie,F,jE(S),x);if(-1===Ye){if(ul(O))return!1;W=!0;continue}if(""!==de){let it;it=Ye>z?"":F[Ye+1].toLowerCase();const bt=8&O?it:null;if(bt&&-1!==GE(bt,de,0)||2&O&&de!==it){if(ul(O))return!1;W=!0}}}}else{if(!W&&!ul(O)&&!ul(ie))return!1;if(W&&ul(ie))continue;W=!1,O=ie|1&O}}return ul(O)||W}function ul(S){return 0==(1&S)}function r2(S,M,x,O){if(null===M)return-1;let F=0;if(O||!x){let z=!1;for(;F<M.length;){const W=M[F];if(W===S)return F;if(3===W||6===W)z=!0;else{if(1===W||2===W){let Z=M[++F];for(;"string"==typeof Z;)Z=M[++F];continue}if(4===W)break;if(0===W){F+=4;continue}}F+=z?1:2}return-1}return function(S,M){let x=S.indexOf(4);if(x>-1)for(x++;x<S.length;){const O=S[x];if("number"==typeof O)return-1;if(O===M)return x;x++}return-1}(M,S)}function U0(S,M,x=!1){for(let O=0;O<M.length;O++)if(YE(S,M[O],x))return!0;return!1}function wy(S,M){e:for(let x=0;x<M.length;x++){const O=M[x];if(S.length===O.length){for(let F=0;F<S.length;F++)if(S[F]!==O[F])continue e;return!0}}return!1}function Lw(S,M){return S?":not("+M.trim()+")":M}function Dm(S){let M=S[0],x=1,O=2,F="",z=!1;for(;x<S.length;){let W=S[x];if("string"==typeof W)if(2&O){const Z=S[++x];F+="["+W+(Z.length>0?'="'+Z+'"':"")+"]"}else 8&O?F+="."+W:4&O&&(F+=" "+W);else""!==F&&!ul(W)&&(M+=Lw(z,F),F=""),O=W,z=z||!ul(O);x++}return""!==F&&(M+=Lw(z,F)),M}const Ar={};function Bw(S){Vw(Kr(),hn(),At()+S,mu())}function Vw(S,M,x,O){if(!O)if(3==(3&M[2])){const z=S.preOrderCheckHooks;null!==z&&zs(M,z,x)}else{const z=S.preOrderHooks;null!==z&&mo(M,z,0,x)}nn(x)}function Cy(S,M){return S<<17|M<<2}function Gc(S){return S>>17&32767}function Sy(S){return 2|S}function kd(S){return(131068&S)>>2}function Tm(S,M){return-131069&S|M<<2}function xm(S){return 1|S}function tD(S,M){const x=S.contentQueries;if(null!==x)for(let O=0;O<x.length;O+=2){const F=x[O],z=x[O+1];if(-1!==z){const W=S.data[z];gu(F),W.contentQueries(2,M[z],z)}}}function Ad(S,M,x,O,F,z,W,Z,ie,de){const Ee=M.blueprint.slice();return Ee[0]=F,Ee[2]=140|O,Al(Ee),Ee[3]=Ee[15]=S,Ee[8]=x,Ee[10]=W||S&&S[10],Ee[11]=Z||S&&S[11],Ee[12]=ie||S&&S[12]||null,Ee[9]=de||S&&S[9]||null,Ee[6]=z,Ee[16]=2==M.type?S[16]:Ee,Ee}function Xf(S,M,x,O,F){let z=S.data[M];if(null===z)z=function(S,M,x,O,F){const z=ad(),W=Zs(),ie=S.data[M]=function(S,M,x,O,F,z){return{type:x,index:O,insertBeforeIndex:null,injectorIndex:M?M.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:F,attrs:z,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:M,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,W?z:z&&z.parent,x,M,O,F);return null===S.firstChild&&(S.firstChild=ie),null!==z&&(W?null==z.child&&null!==ie.parent&&(z.child=ie):null===z.next&&(z.next=ie)),ie}(S,M,x,O,F),gr.lFrame.inI18n&&(z.flags|=64);else if(64&z.type){z.type=x,z.value=O,z.attrs=F;const W=function(){const S=gr.lFrame,M=S.currentTNode;return S.isParent?M:M.parent}();z.injectorIndex=null===W?-1:W.injectorIndex}return xo(z,!0),z}function Id(S,M,x,O){if(0===x)return-1;const F=M.length;for(let z=0;z<x;z++)M.push(O),S.blueprint.push(O),S.data.push(null);return F}function Rd(S,M,x){$o(M);try{const O=S.viewQuery;null!==O&&ea(1,O,x);const F=S.template;null!==F&&Ty(S,M,F,1,x),S.firstCreatePass&&(S.firstCreatePass=!1),S.staticContentQueries&&tD(S,M),S.staticViewQueries&&ea(2,S.viewQuery,x);const z=S.components;null!==z&&function(S,M){for(let x=0;x<M.length;x++)rp(S,M[x])}(M,z)}catch(O){throw S.firstCreatePass&&(S.incompleteFirstPass=!0,S.firstCreatePass=!1),O}finally{M[2]&=-5,yh()}}function ep(S,M,x,O){const F=M[2];if(256==(256&F))return;$o(M);const z=mu();try{Al(M),function(S){gr.lFrame.bindingIndex=S}(S.bindingStartIndex),null!==x&&Ty(S,M,x,2,O);const W=3==(3&F);if(!z)if(W){const de=S.preOrderCheckHooks;null!==de&&zs(M,de,null)}else{const de=S.preOrderHooks;null!==de&&mo(M,de,0,null),Sf(M,0)}if(function(S){for(let M=Yf(S);null!==M;M=Bh(M)){if(!M[2])continue;const x=M[9];for(let O=0;O<x.length;O++){const F=x[O],z=F[3];0==(1024&F[2])&&Tr(z,1),F[2]|=1024}}}(M),function(S){for(let M=Yf(S);null!==M;M=Bh(M))for(let x=10;x<M.length;x++){const O=M[x],F=O[1];_f(O)&&ep(F,O,F.template,O[8])}}(M),null!==S.contentQueries&&tD(S,M),!z)if(W){const de=S.contentCheckHooks;null!==de&&zs(M,de)}else{const de=S.contentHooks;null!==de&&mo(M,de,1),Sf(M,1)}!function(S,M){const x=S.hostBindingOpCodes;if(null!==x)try{for(let O=0;O<x.length;O++){const F=x[O];if(F<0)nn(~F);else{const z=F,W=x[++O],Z=x[++O];yf(W,z),Z(2,M[z])}}}finally{nn(-1)}}(S,M);const Z=S.components;null!==Z&&function(S,M){for(let x=0;x<M.length;x++)X0(S,M[x])}(M,Z);const ie=S.viewQuery;if(null!==ie&&ea(2,ie,O),!z)if(W){const de=S.viewCheckHooks;null!==de&&zs(M,de)}else{const de=S.viewHooks;null!==de&&mo(M,de,2),Sf(M,2)}!0===S.firstUpdatePass&&(S.firstUpdatePass=!1),z||(M[2]&=-73),1024&M[2]&&(M[2]&=-1025,Tr(M[3],-1))}finally{yh()}}function Ww(S,M,x,O){const F=M[10],z=!mu(),W=Ic(M);try{z&&!W&&F.begin&&F.begin(),W&&Rd(S,M,O),ep(S,M,x,O)}finally{z&&!W&&F.end&&F.end()}}function Ty(S,M,x,O,F){const z=At(),W=2&O;try{nn(-1),W&&M.length>20&&Vw(S,M,20,mu()),x(O,F)}finally{nn(z)}}function $w(S,M,x){if(td(M)){const F=M.directiveEnd;for(let z=M.directiveStart;z<F;z++){const W=S.data[z];W.contentQueries&&W.contentQueries(1,x[z],z)}}}function xy(S,M,x){!ph()||(function(S,M,x,O){const F=x.directiveStart,z=x.directiveEnd;S.firstCreatePass||cc(x,M),Gs(O,M);const W=x.initialInputs;for(let Z=F;Z<z;Z++){const ie=S.data[Z],de=pa(ie);de&&_2(M,x,ie);const Ee=Ss(M,S,Z,x);Gs(Ee,M),null!==W&&ky(0,Z-F,Ee,ie,0,W),de&&(Qr(x.index,M)[8]=Ee)}}(S,M,x,va(x,M)),128==(128&x.flags)&&function(S,M,x){const O=x.directiveStart,F=x.directiveEnd,W=x.index,Z=gr.lFrame.currentDirectiveIndex;try{nn(W);for(let ie=O;ie<F;ie++){const de=S.data[ie],Ee=M[ie];nl(ie),(null!==de.hostBindings||0!==de.hostVars||null!==de.hostAttrs)&&Xw(de,Ee)}}finally{nn(-1),nl(Z)}}(S,M,x))}function tp(S,M,x=va){const O=M.localNames;if(null!==O){let F=M.index+1;for(let z=0;z<O.length;z+=2){const W=O[z+1],Z=-1===W?x(M,S):S[W];S[F++]=Z}}}function Kw(S){const M=S.tView;return null===M||M.incompleteFirstPass?S.tView=$0(1,null,S.template,S.decls,S.vars,S.directiveDefs,S.pipeDefs,S.viewQuery,S.schemas,S.consts):M}function $0(S,M,x,O,F,z,W,Z,ie,de){const Ee=20+O,Ye=Ee+F,it=function(S,M){const x=[];for(let O=0;O<M;O++)x.push(O<S?null:Ar);return x}(Ee,Ye),bt="function"==typeof de?de():de;return it[1]={type:S,blueprint:it,template:x,queries:null,viewQuery:Z,declTNode:M,data:it.slice().fill(null,Ee),bindingStartIndex:Ee,expandoStartIndex:Ye,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof z?z():z,pipeRegistry:"function"==typeof W?W():W,firstChild:null,schemas:ie,consts:bt,incompleteFirstPass:!1}}function Yl(S,M,x,O){const F=Ci(M);null===x?F.push(O):(F.push(x),S.firstCreatePass&&lD(S).push(O,F.length-1))}function Jw(S,M,x){for(let O in S)if(S.hasOwnProperty(O)){const F=S[O];(x=null===x?{}:x).hasOwnProperty(O)?x[O].push(M,F):x[O]=[M,F]}return x}function Wl(S,M,x,O,F,z,W,Z){const ie=va(M,x);let Ee,de=M.inputs;!Z&&null!=de&&(Ee=de[O])?(cD(S,x,Ee,O,F),nd(M)&&function(S,M){const x=Qr(M,S);16&x[2]||(x[2]|=64)}(x,M.index)):3&M.type&&(O=function(S){return"class"===S?"className":"for"===S?"htmlFor":"formaction"===S?"formAction":"innerHtml"===S?"innerHTML":"readonly"===S?"readOnly":"tabindex"===S?"tabIndex":S}(O),F=null!=W?W(F,M.value||"",O):F,Zi(z)?z.setProperty(ie,O,F):Ko(O)||(ie.setProperty?ie.setProperty(O,F):ie[O]=F))}function Om(S,M,x,O){let F=!1;if(ph()){const z=function(S,M,x){const O=S.directiveRegistry;let F=null;if(O)for(let z=0;z<O.length;z++){const W=O[z];U0(x,W.selectors,!1)&&(F||(F=[]),Xr(cc(x,M),S,W.type),pa(W)?(rs(S,x),F.unshift(W)):F.push(W))}return F}(S,M,x),W=null===O?null:{"":-1};if(null!==z){F=!0,tC(x,S.data.length,z.length);for(let Ee=0;Ee<z.length;Ee++){const Ye=z[Ee];Ye.providersResolver&&Ye.providersResolver(Ye)}let Z=!1,ie=!1,de=Id(S,M,z.length,null);for(let Ee=0;Ee<z.length;Ee++){const Ye=z[Ee];x.mergedAttrs=dd(x.mergedAttrs,Ye.hostAttrs),J0(S,x,M,de,Ye),eC(de,Ye,W),null!==Ye.contentQueries&&(x.flags|=8),(null!==Ye.hostBindings||null!==Ye.hostAttrs||0!==Ye.hostVars)&&(x.flags|=128);const it=Ye.type.prototype;!Z&&(it.ngOnChanges||it.ngOnInit||it.ngDoCheck)&&((S.preOrderHooks||(S.preOrderHooks=[])).push(x.index),Z=!0),!ie&&(it.ngOnChanges||it.ngDoCheck)&&((S.preOrderCheckHooks||(S.preOrderCheckHooks=[])).push(x.index),ie=!0),de++}!function(S,M){const O=M.directiveEnd,F=S.data,z=M.attrs,W=[];let Z=null,ie=null;for(let de=M.directiveStart;de<O;de++){const Ee=F[de],Ye=Ee.inputs,it=null===z||jE(M)?null:sD(Ye,z);W.push(it),Z=Jw(Ye,de,Z),ie=Jw(Ee.outputs,de,ie)}null!==Z&&(Z.hasOwnProperty("class")&&(M.flags|=16),Z.hasOwnProperty("style")&&(M.flags|=32)),M.initialInputs=W,M.inputs=Z,M.outputs=ie}(S,x)}W&&function(S,M,x){if(M){const O=S.localNames=[];for(let F=0;F<M.length;F+=2){const z=x[M[F+1]];if(null==z)throw new pt("301",`Export of name '${M[F+1]}' not found!`);O.push(M[F],z)}}}(x,O,W)}return x.mergedAttrs=dd(x.mergedAttrs,x.attrs),F}function Z0(S,M,x,O,F,z){const W=z.hostBindings;if(W){let Z=S.hostBindingOpCodes;null===Z&&(Z=S.hostBindingOpCodes=[]);const ie=~M.index;(function(S){let M=S.length;for(;M>0;){const x=S[--M];if("number"==typeof x&&x<0)return x}return 0})(Z)!=ie&&Z.push(ie),Z.push(O,F,W)}}function Xw(S,M){null!==S.hostBindings&&S.hostBindings(1,M)}function rs(S,M){M.flags|=2,(S.components||(S.components=[])).push(M.index)}function eC(S,M,x){if(x){if(M.exportAs)for(let O=0;O<M.exportAs.length;O++)x[M.exportAs[O]]=S;pa(M)&&(x[""]=S)}}function tC(S,M,x){S.flags|=1,S.directiveStart=M,S.directiveEnd=M+x,S.providerIndexes=M}function J0(S,M,x,O,F){S.data[O]=F;const z=F.factory||(F.factory=yi(F.type)),W=new Rr(z,pa(F),null);S.blueprint[O]=W,x[O]=W,Z0(S,M,0,O,Id(S,x,F.hostVars,Ar),F)}function _2(S,M,x){const O=va(M,S),F=Kw(x),z=S[10],W=ip(S,Ad(S,F,null,x.onPush?64:16,O,M,z,z.createRenderer(O,x),null,null));S[M.index]=W}function Iu(S,M,x,O,F,z){const W=va(S,M);!function(S,M,x,O,F,z,W){if(null==z)Zi(S)?S.removeAttribute(M,F,x):M.removeAttribute(F);else{const Z=null==W?je(z):W(z,O||"",F);Zi(S)?S.setAttribute(M,F,Z,x):x?M.setAttributeNS(x,F,Z):M.setAttribute(F,Z)}}(M[11],W,z,S.value,x,O,F)}function ky(S,M,x,O,F,z){const W=z[M];if(null!==W){const Z=O.setInput;for(let ie=0;ie<W.length;){const de=W[ie++],Ee=W[ie++],Ye=W[ie++];null!==Z?O.setInput(x,Ye,de,Ee):x[Ee]=Ye}}}function sD(S,M){let x=null,O=0;for(;O<M.length;){const F=M[O];if(0!==F)if(5!==F){if("number"==typeof F)break;S.hasOwnProperty(F)&&(null===x&&(x=[]),x.push(F,S[F],M[O+1])),O+=2}else O+=2;else O+=4}return x}function Ay(S,M,x,O){return new Array(S,!0,!1,M,null,0,O,x,null,null)}function X0(S,M){const x=Qr(M,S);if(_f(x)){const O=x[1];80&x[2]?ep(O,x,O.template,x[8]):x[5]>0&&Io(x)}}function Io(S){for(let O=Yf(S);null!==O;O=Bh(O))for(let F=10;F<O.length;F++){const z=O[F];if(1024&z[2]){const W=z[1];ep(W,z,W.template,z[8])}else z[5]>0&&Io(z)}const x=S[1].components;if(null!==x)for(let O=0;O<x.length;O++){const F=Qr(x[O],S);_f(F)&&F[5]>0&&Io(F)}}function rp(S,M){const x=Qr(M,S),O=x[1];(function(S,M){for(let x=M.length;x<S.blueprint.length;x++)M.push(S.blueprint[x])})(O,x),Rd(O,x,x[8])}function ip(S,M){return S[13]?S[14][4]=M:S[13]=M,S[14]=M,M}function Pm(S){for(;S;){S[2]|=64;const M=Ao(S);if(ma(S)&&!M)return S;S=M}return null}function sp(S,M,x){const O=M[10];O.begin&&O.begin();try{ep(S,M,S.template,x)}catch(F){throw Hh(M,F),F}finally{O.end&&O.end()}}function gc(S){!function(S){for(let M=0;M<S.components.length;M++){const x=S.components[M],O=Gf(x),F=O[1];Ww(F,O,F.template,x)}}(S[8])}function ea(S,M,x){gu(0),M(S,x)}const aD=(()=>Promise.resolve(null))();function Ci(S){return S[7]||(S[7]=[])}function lD(S){return S.cleanup||(S.cleanup=[])}function Oy(S,M,x){return(null===S||pa(S))&&(x=function(S){for(;Array.isArray(S);){if("object"==typeof S[1])return S;S=S[0]}return null}(x[M.index])),x[11]}function Hh(S,M){const x=S[9],O=x?x.get(Ph,null):null;O&&O.handleError(M)}function cD(S,M,x,O,F){for(let z=0;z<x.length;){const W=x[z++],Z=x[z++],ie=M[W],de=S.data[W];null!==de.setInput?de.setInput(ie,F,O,Z):ie[Z]=F}}function _c(S,M,x){const O=dh(M,S);!function(S,M,x){Zi(S)?S.setValue(M,x):M.textContent=x}(S[11],O,x)}function Fm(S,M,x){let O=x?S.styles:null,F=x?S.classes:null,z=0;if(null!==M)for(let W=0;W<M.length;W++){const Z=M[W];"number"==typeof Z?z=Z:1==z?F=Ie(F,Z):2==z&&(O=Ie(O,Z+": "+M[++W]+";"))}x?S.styles=O:S.stylesWithoutHost=O,x?S.classes=F:S.classesWithoutHost=F}const op=new Qi("INJECTOR",-1);class aC{get(M,x=jr){if(x===jr){const O=new Error(`NullInjectorError: No provider for ${ve(M)}!`);throw O.name="NullInjectorError",O}return x}}const ap=new Qi("Set Injector scope."),lp={},uD={};let Py;function e_(){return void 0===Py&&(Py=new aC),Py}function lC(S,M=null,x=null,O){return new Ly(S,x,M||e_(),O)}class Ly{constructor(M,x,O,F=null){this.parent=O,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const z=[];x&&Us(x,Z=>this.processProvider(Z,M,x)),Us([M],Z=>this.processInjectorType(Z,[],z)),this.records.set(op,ro(void 0,this));const W=this.records.get(ap);this.scope=null!=W?W.value:null,this.source=F||("object"==typeof M?null:ve(M))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(M=>M.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(M,x=jr,O=te.Default){this.assertNotDestroyed();const F=Os(this),z=Xe(void 0);try{if(!(O&te.SkipSelf)){let Z=this.records.get(M);if(void 0===Z){const ie=("function"==typeof(S=M)||"object"==typeof S&&S instanceof Qi)&&gt(M);Z=ie&&this.injectableDefInScope(ie)?ro(Lm(M),lp):null,this.records.set(M,Z)}if(null!=Z)return this.hydrate(M,Z)}return(O&te.Self?e_():this.parent).get(M,x=O&te.Optional&&x===jr?null:x)}catch(W){if("NullInjectorError"===W.name){if((W[fi]=W[fi]||[]).unshift(ve(M)),F)throw W;return Ff(W,M,"R3InjectorError",this.source)}throw W}finally{Xe(z),Os(F)}var S}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(M=>this.get(M))}toString(){const M=[];return this.records.forEach((O,F)=>M.push(ve(F))),`R3Injector[${M.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(M,x,O){if(!(M=Re(M)))return!1;let F=fe(M);const z=null==F&&M.ngModule||void 0,W=void 0===z?M:z,Z=-1!==O.indexOf(W);if(void 0!==z&&(F=fe(z)),null==F)return!1;if(null!=F.imports&&!Z){let Ee;O.push(W);try{Us(F.imports,Ye=>{this.processInjectorType(Ye,x,O)&&(void 0===Ee&&(Ee=[]),Ee.push(Ye))})}finally{}if(void 0!==Ee)for(let Ye=0;Ye<Ee.length;Ye++){const{ngModule:it,providers:bt}=Ee[Ye];Us(bt,It=>this.processProvider(It,it,bt||dt))}}this.injectorDefTypes.add(W);const ie=yi(W)||(()=>new W);this.records.set(W,ro(ie,lp));const de=F.providers;if(null!=de&&!Z){const Ee=M;Us(de,Ye=>this.processProvider(Ye,Ee,de))}return void 0!==z&&void 0!==M.providers}processProvider(M,x,O){let F=Uh(M=Re(M))?M:Re(M&&M.provide);const z=Bm(S=M)?ro(void 0,S.useValue):ro(qs(S),lp);var S;if(Uh(M)||!0!==M.multi)this.records.get(F);else{let W=this.records.get(F);W||(W=ro(void 0,lp,!0),W.factory=()=>Va(W.multi),this.records.set(F,W)),F=M,W.multi.push(M)}this.records.set(F,z)}hydrate(M,x){return x.value===lp&&(x.value=uD,x.value=x.factory()),"object"==typeof x.value&&x.value&&null!==(S=x.value)&&"object"==typeof S&&"function"==typeof S.ngOnDestroy&&this.onDestroy.add(x.value),x.value;var S}injectableDefInScope(M){if(!M.providedIn)return!1;const x=Re(M.providedIn);return"string"==typeof x?"any"===x||x===this.scope:this.injectorDefTypes.has(x)}}function Lm(S){const M=gt(S),x=null!==M?M.factory:yi(S);if(null!==x)return x;if(S instanceof Qi)throw new Error(`Token ${ve(S)} is missing a \u0275prov definition.`);if(S instanceof Function)return function(S){const M=S.length;if(M>0){const O=Js(M,"?");throw new Error(`Can't resolve all parameters for ${ve(S)}: (${O.join(", ")}).`)}const x=function(S){const M=S&&(S[we]||S[Ge]);if(M){const x=function(S){if(S.hasOwnProperty("name"))return S.name;const M=(""+S).match(/^function\s*([^\s(]+)/);return null===M?"":M[1]}(S);return console.warn(`DEPRECATED: DI is instantiating a token "${x}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${x}" class.`),M}return null}(S);return null!==x?()=>x.factory(S):()=>new S}(S);throw new Error("unreachable")}function qs(S,M,x){let O;if(Uh(S)){const F=Re(S);return yi(F)||Lm(F)}if(Bm(S))O=()=>Re(S.useValue);else if(function(S){return!(!S||!S.useFactory)}(S))O=()=>S.useFactory(...Va(S.deps||[]));else if(function(S){return!(!S||!S.useExisting)}(S))O=()=>si(Re(S.useExisting));else{const F=Re(S&&(S.useClass||S.provide));if(!function(S){return!!S.deps}(S))return yi(F)||Lm(F);O=()=>new F(...Va(S.deps))}return O}function ro(S,M,x=!1){return{factory:S,value:M,multi:x?[]:void 0}}function Bm(S){return null!==S&&"object"==typeof S&&Qs in S}function Uh(S){return"function"==typeof S}const uC=function(S,M,x){return function(S,M=null,x=null,O){const F=lC(S,M,x,O);return F._resolveInjectorDefTypes(),F}({name:x},M,S,x)};class Oi{static create(M,x){return Array.isArray(M)?uC(M,x,""):uC(M.providers,M.parent,M.name||"")}}function E2(S,M){ud(Gf(S)[1],Ji())}function wC(S){let M=function(S){return Object.getPrototypeOf(S.prototype).constructor}(S.type),x=!0;const O=[S];for(;M;){let F;if(pa(S))F=M.\u0275cmp||M.\u0275dir;else{if(M.\u0275cmp)throw new Error("Directives cannot inherit Components");F=M.\u0275dir}if(F){if(x){O.push(F);const W=S;W.inputs=Ea(S.inputs),W.declaredInputs=Ea(S.declaredInputs),W.outputs=Ea(S.outputs);const Z=F.hostBindings;Z&&x2(S,Z);const ie=F.viewQuery,de=F.contentQueries;if(ie&&CC(S,ie),de&&T2(S,de),Ve(S.inputs,F.inputs),Ve(S.declaredInputs,F.declaredInputs),Ve(S.outputs,F.outputs),pa(F)&&F.data.animation){const Ee=S.data;Ee.animation=(Ee.animation||[]).concat(F.data.animation)}}const z=F.features;if(z)for(let W=0;W<z.length;W++){const Z=z[W];Z&&Z.ngInherit&&Z(S),Z===wC&&(x=!1)}}M=Object.getPrototypeOf(M)}!function(S){let M=0,x=null;for(let O=S.length-1;O>=0;O--){const F=S[O];F.hostVars=M+=F.hostVars,F.hostAttrs=dd(F.hostAttrs,x=dd(x,F.hostAttrs))}}(O)}function Ea(S){return S===Wr?{}:S===dt?[]:S}function CC(S,M){const x=S.viewQuery;S.viewQuery=x?(O,F)=>{M(O,F),x(O,F)}:M}function T2(S,M){const x=S.contentQueries;S.contentQueries=x?(O,F,z)=>{M(O,F,z),x(O,F,z)}:M}function x2(S,M){const x=S.hostBindings;S.hostBindings=x?(O,F)=>{M(O,F),x(O,F)}:M}Oi.THROW_IF_NOT_FOUND=jr,Oi.NULL=new aC,Oi.\u0275prov=Ke({token:Oi,providedIn:"any",factory:()=>si(op)}),Oi.__NG_ELEMENT_ID__=-1;let qy=null;function qh(){if(!qy){const S=wr.Symbol;if(S&&S.iterator)qy=S.iterator;else{const M=Object.getOwnPropertyNames(Map.prototype);for(let x=0;x<M.length;++x){const O=M[x];"entries"!==O&&"size"!==O&&Map.prototype[O]===Map.prototype.entries&&(qy=O)}}}return qy}class Wc{constructor(M){this.wrapped=M}static wrap(M){return new Wc(M)}static unwrap(M){return Wc.isWrapped(M)?M.wrapped:M}static isWrapped(M){return M instanceof Wc}}function s_(S){return!!MC(S)&&(Array.isArray(S)||!(S instanceof Map)&&qh()in S)}function MC(S){return null!==S&&("function"==typeof S||"object"==typeof S)}function Ou(S,M,x){return S[M]=x}function Ro(S,M,x){return!Object.is(S[M],x)&&(S[M]=x,!0)}function Nd(S,M,x,O){const F=Ro(S,M,x);return Ro(S,M+1,O)||F}function EC(S,M,x,O){const F=hn();return Ro(F,tl(),M)&&(Kr(),Iu(Yt(),F,S,M,x,O)),EC}function Hm(S,M,x,O){return Ro(S,tl(),x)?M+je(x)+O:Ar}function H(S,M,x,O,F,z,W,Z){const ie=hn(),de=Kr(),Ee=S+20,Ye=de.firstCreatePass?function(S,M,x,O,F,z,W,Z,ie){const de=M.consts,Ee=Xf(M,S,4,W||null,oc(de,Z));Om(M,x,Ee,oc(de,ie)),ud(M,Ee);const Ye=Ee.tViews=$0(2,Ee,O,F,z,M.directiveRegistry,M.pipeRegistry,null,M.schemas,de);return null!==M.queries&&(M.queries.template(M,Ee),Ye.queries=M.queries.embeddedTView(Ee)),Ee}(Ee,de,ie,M,x,O,F,z,W):de.data[Ee];xo(Ye,!1);const it=ie[11].createComment("");Kf(de,ie,it,Ye),Gs(it,ie),ip(ie,ie[Ee]=Ay(it,ie,it,Ye)),fu(Ye)&&xy(de,ie,Ye),null!=W&&tp(ie,Ye,Z)}function ce(S){return Ac(gr.lFrame.contextLView,20+S)}function Wy(S,M=te.Default){const x=hn();return null===x?si(S,M):Af(Ji(),x,Re(S),M)}function $y(S,M,x){const O=hn();return Ro(O,tl(),M)&&Wl(Kr(),Yt(),O,S,M,O[11],x,!1),$y}function kC(S,M,x,O,F){const W=F?"class":"style";cD(S,x,M.inputs[W],W,O)}function JD(S,M,x,O){const F=hn(),z=Kr(),W=20+S,Z=F[11],ie=F[W]=$f(Z,M,gr.lFrame.currentNamespace),de=z.firstCreatePass?function(S,M,x,O,F,z,W){const Z=M.consts,de=Xf(M,S,2,F,oc(Z,z));return Om(M,x,de,oc(Z,W)),null!==de.attrs&&Fm(de,de.attrs,!1),null!==de.mergedAttrs&&Fm(de,de.mergedAttrs,!0),null!==M.queries&&M.queries.elementStart(M,de),de}(W,z,F,0,M,x,O):z.data[W];xo(de,!0);const Ee=de.mergedAttrs;null!==Ee&&Fc(Z,ie,Ee);const Ye=de.classes;null!==Ye&&Em(Z,ie,Ye);const it=de.styles;null!==it&&Nw(Z,ie,it),64!=(64&de.flags)&&Kf(z,F,ie,de),0===gr.lFrame.elementDepthCount&&Gs(ie,F),gr.lFrame.elementDepthCount++,fu(de)&&(xy(z,F,de),$w(z,de,F)),null!==O&&tp(F,de)}function na(){let S=Ji();Zs()?ld():(S=S.parent,xo(S,!1));const M=S;gr.lFrame.elementDepthCount--;const x=Kr();x.firstCreatePass&&(ud(x,S),td(S)&&x.queries.elementEnd(S)),null!=M.classesWithoutHost&&function(S){return 0!=(16&S.flags)}(M)&&kC(x,M,hn(),M.classesWithoutHost,!0),null!=M.stylesWithoutHost&&function(S){return 0!=(32&S.flags)}(M)&&kC(x,M,hn(),M.stylesWithoutHost,!1)}function c_(S,M,x,O){JD(S,M,x,O),na()}function QD(S,M,x){const O=hn(),F=Kr(),z=S+20,W=F.firstCreatePass?function(S,M,x,O,F){const z=M.consts,W=oc(z,O),Z=Xf(M,S,8,"ng-container",W);return null!==W&&Fm(Z,W,!0),Om(M,x,Z,oc(z,F)),null!==M.queries&&M.queries.elementStart(M,Z),Z}(z,F,O,M,x):F.data[z];xo(W,!0);const Z=O[z]=O[11].createComment("");Kf(F,O,Z,W),Gs(Z,O),fu(W)&&(xy(F,O,W),$w(F,W,O)),null!=x&&tp(O,W)}function XD(){let S=Ji();const M=Kr();Zs()?ld():(S=S.parent,xo(S,!1)),M.firstCreatePass&&(ud(M,S),td(S)&&M.queries.elementEnd(S))}function Zy(S,M,x){QD(S,M,x),XD()}function Jy(){return hn()}function Qy(S){return!!S&&"function"==typeof S.then}function AC(S){return!!S&&"function"==typeof S.subscribe}const Xy=AC;function eb(S,M,x,O){const F=hn(),z=Kr(),W=Ji();return z2(z,F,F[11],W,S,M,!!x,O),eb}function IC(S,M){const x=Ji(),O=hn(),F=Kr();return z2(F,O,Oy(Nc(F.data),x,O),x,S,M,!1),IC}function z2(S,M,x,O,F,z,W,Z){const ie=fu(O),Ee=S.firstCreatePass&&lD(S),Ye=M[8],it=Ci(M);let bt=!0;if(3&O.type||Z){const Ut=va(O,M),Mn=Z?Z(Ut):Ut,cn=it.length,sr=Z?Dr=>Z(Qn(Dr[O.index])):O.index;if(Zi(x)){let Dr=null;if(!Z&&ie&&(Dr=function(S,M,x,O){const F=S.cleanup;if(null!=F)for(let z=0;z<F.length-1;z+=2){const W=F[z];if(W===x&&F[z+1]===O){const Z=M[7],ie=F[z+2];return Z.length>ie?Z[ie]:null}"string"==typeof W&&(z+=2)}return null}(S,M,F,O.index)),null!==Dr)(Dr.__ngLastListenerFn__||Dr).__ngNextListenerFn__=z,Dr.__ngLastListenerFn__=z,bt=!1;else{z=RC(O,M,Ye,z,!1);const gi=x.listen(Mn,F,z);it.push(z,gi),Ee&&Ee.push(F,sr,cn,cn+1)}}else z=RC(O,M,Ye,z,!0),Mn.addEventListener(F,z,W),it.push(z),Ee&&Ee.push(F,sr,cn,W)}else z=RC(O,M,Ye,z,!1);const It=O.outputs;let Xt;if(bt&&null!==It&&(Xt=It[F])){const Ut=Xt.length;if(Ut)for(let Mn=0;Mn<Ut;Mn+=2){const la=M[Xt[Mn]][Xt[Mn+1]].subscribe(z),Uu=it.length;it.push(z,la),Ee&&Ee.push(F,O.index,Uu,-(Uu+1))}}}function eT(S,M,x,O){try{return!1!==x(O)}catch(F){return Hh(S,F),!1}}function RC(S,M,x,O,F){return function z(W){if(W===Function)return O;const Z=2&S.flags?Qr(S.index,M):M;0==(32&M[2])&&Pm(Z);let ie=eT(M,0,O,W),de=z.__ngNextListenerFn__;for(;de;)ie=eT(M,0,de,W)&&ie,de=de.__ngNextListenerFn__;return F&&!1===ie&&(W.preventDefault(),W.returnValue=!1),ie}}function OC(S=1){return function(S){return(gr.lFrame.contextLView=function(S,M){for(;S>0;)M=M[15],S--;return M}(S,gr.lFrame.contextLView))[8]}(S)}function H2(S,M){let x=null;const O=function(S){const M=S.attrs;if(null!=M){const x=M.indexOf(5);if(0==(1&x))return M[x+1]}return null}(S);for(let F=0;F<M.length;F++){const z=M[F];if("*"!==z){if(null===O?U0(S,z,!0):wy(O,z))return F}else x=F}return x}function U2(S){const M=hn()[16][6];if(!M.projection){const O=M.projection=Js(S?S.length:1,null),F=O.slice();let z=M.child;for(;null!==z;){const W=S?H2(z,S):0;null!==W&&(F[W]?F[W].projectionNext=z:O[W]=z,F[W]=z),z=z.next}}}function NC(S,M=0,x){const O=hn(),F=Kr(),z=Xf(F,20+S,16,null,x||null);null===z.projection&&(z.projection=M),ld(),64!=(64&z.flags)&&function(S,M,x){UE(M[11],0,M,x,wm(S,x,M),zE(x.parent||M[6],x,M))}(F,O,z)}function Y2(S,M,x,O,F){const z=S[x+1],W=null===M;let Z=O?Gc(z):kd(z),ie=!1;for(;0!==Z&&(!1===ie||W);){const Ee=S[Z+1];iT(S[Z],M)&&(ie=!0,S[Z+1]=O?xm(Ee):Sy(Ee)),Z=O?Gc(Ee):kd(Ee)}ie&&(S[x+1]=O?Sy(z):xm(z))}function iT(S,M){return null===S||null==M||(Array.isArray(S)?S[1]:S)===M||!(!Array.isArray(S)||"string"!=typeof M)&&We(S,M)>=0}const yo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function W2(S){return S.substring(yo.key,yo.keyEnd)}function BC(S,M){const x=yo.textEnd;return x===M?-1:(M=yo.keyEnd=function(S,M,x){for(;M<x&&S.charCodeAt(M)>32;)M++;return M}(S,yo.key=M,x),Km(S,M,x))}function Km(S,M,x){for(;M<x&&S.charCodeAt(M)<=32;)M++;return M}function oT(S,M,x){return hl(S,M,x,!1),oT}function aT(S,M){return hl(S,M,null,!0),aT}function Nu(S,M){for(let x=function(S){return function(S){yo.key=0,yo.keyEnd=0,yo.value=0,yo.valueEnd=0,yo.textEnd=S.length}(S),BC(S,Km(S,0,yo.textEnd))}(M);x>=0;x=BC(M,x))ue(S,W2(M),!0)}function hl(S,M,x,O){const F=hn(),z=Kr(),W=Vs(2);z.firstUpdatePass&&lT(z,S,W,O),M!==Ar&&Ro(F,W,M)&&GC(z,z.data[At()],F,F[11],S,F[W+1]=function(S,M){return null==S||("string"==typeof M?S+=M:"object"==typeof S&&(S=ve(Vl(S)))),S}(M,x),O,W)}function qa(S,M){return M>=S.expandoStartIndex}function lT(S,M,x,O){const F=S.data;if(null===F[x+1]){const z=F[At()],W=qa(S,x);nI(z,O)&&null===M&&!W&&(M=!1),M=function(S,M,x,O){const F=Nc(S);let z=O?M.residualClasses:M.residualStyles;if(null===F)0===(O?M.classBindings:M.styleBindings)&&(x=d_(x=HC(null,S,M,x,O),M.attrs,O),z=null);else{const W=M.directiveStylingLast;if(-1===W||S[W]!==F)if(x=HC(F,S,M,x,O),null===z){let ie=function(S,M,x){const O=x?M.classBindings:M.styleBindings;if(0!==kd(O))return S[Gc(O)]}(S,M,O);void 0!==ie&&Array.isArray(ie)&&(ie=HC(null,S,M,ie[1],O),ie=d_(ie,M.attrs,O),function(S,M,x,O){S[Gc(x?M.classBindings:M.styleBindings)]=O}(S,M,O,ie))}else z=function(S,M,x){let O;const F=M.directiveEnd;for(let z=1+M.directiveStylingLast;z<F;z++)O=d_(O,S[z].hostAttrs,x);return d_(O,M.attrs,x)}(S,M,O)}return void 0!==z&&(O?M.residualClasses=z:M.residualStyles=z),x}(F,z,M,O),function(S,M,x,O,F,z){let W=z?M.classBindings:M.styleBindings,Z=Gc(W),ie=kd(W);S[O]=x;let Ee,de=!1;if(Array.isArray(x)){const Ye=x;Ee=Ye[1],(null===Ee||We(Ye,Ee)>0)&&(de=!0)}else Ee=x;if(F)if(0!==ie){const it=Gc(S[Z+1]);S[O+1]=Cy(it,Z),0!==it&&(S[it+1]=Tm(S[it+1],O)),S[Z+1]=function(S,M){return 131071&S|M<<17}(S[Z+1],O)}else S[O+1]=Cy(Z,0),0!==Z&&(S[Z+1]=Tm(S[Z+1],O)),Z=O;else S[O+1]=Cy(ie,0),0===Z?Z=O:S[ie+1]=Tm(S[ie+1],O),ie=O;de&&(S[O+1]=Sy(S[O+1])),Y2(S,Ee,O,!0),Y2(S,Ee,O,!1),function(S,M,x,O,F){const z=F?S.residualClasses:S.residualStyles;null!=z&&"string"==typeof M&&We(z,M)>=0&&(x[O+1]=xm(x[O+1]))}(M,Ee,S,O,z),W=Cy(Z,ie),z?M.classBindings=W:M.styleBindings=W}(F,z,M,x,W,O)}}function HC(S,M,x,O,F){let z=null;const W=x.directiveEnd;let Z=x.directiveStylingLast;for(-1===Z?Z=x.directiveStart:Z++;Z<W&&(z=M[Z],O=d_(O,z.hostAttrs,F),z!==S);)Z++;return null!==S&&(x.directiveStylingLast=Z),O}function d_(S,M,x){const O=x?1:2;let F=-1;if(null!==M)for(let z=0;z<M.length;z++){const W=M[z];"number"==typeof W?F=W:F===O&&(Array.isArray(S)||(S=void 0===S?[]:["",S]),ue(S,W,!!x||M[++z]))}return void 0===S?null:S}function GC(S,M,x,O,F,z,W,Z){if(!(3&M.type))return;const ie=S.data,de=ie[Z+1];cp(function(S){return 1==(1&S)}(de)?ab(ie,M,x,F,kd(de),W):void 0)||(cp(z)||function(S){return 2==(2&S)}(de)&&(z=ab(ie,null,x,F,Z,W)),function(S,M,x,O,F){const z=Zi(S);if(M)F?z?S.addClass(x,O):x.classList.add(O):z?S.removeClass(x,O):x.classList.remove(O);else{let W=-1===O.indexOf("-")?void 0:Uc.DashCase;if(null==F)z?S.removeStyle(x,O,W):x.style.removeProperty(O);else{const Z="string"==typeof F&&F.endsWith("!important");Z&&(F=F.slice(0,-10),W|=Uc.Important),z?S.setStyle(x,O,F,W):x.style.setProperty(O,F,Z?"important":"")}}}(O,W,dh(At(),x),F,z))}function ab(S,M,x,O,F,z){const W=null===M;let Z;for(;F>0;){const ie=S[F],de=Array.isArray(ie),Ee=de?ie[1]:ie,Ye=null===Ee;let it=x[F+1];it===Ar&&(it=Ye?dt:void 0);let bt=Ye?xe(it,O):Ee===O?it:void 0;if(de&&!cp(bt)&&(bt=xe(ie,O)),cp(bt)&&(Z=bt,W))return Z;const It=S[F+1];F=W?Gc(It):kd(It)}if(null!==M){let ie=z?M.residualClasses:M.residualStyles;null!=ie&&(Z=xe(ie,O))}return Z}function cp(S){return void 0!==S}function nI(S,M){return 0!=(S.flags&(M?16:32))}function qC(S,M=""){const x=hn(),O=Kr(),F=S+20,z=O.firstCreatePass?Xf(O,F,1,M,null):O.data[F],W=x[F]=function(S,M){return Zi(S)?S.createText(M):S.createTextNode(M)}(x[11],M);Kf(O,x,W,z),xo(z,!1)}function h_(S){return f_("",S,""),h_}function f_(S,M,x){const O=hn(),F=Hm(O,S,M,x);return F!==Ar&&_c(O,At(),F),f_}function jC(S,M,x,O,F){const z=hn(),W=function(S,M,x,O,F,z){const Z=Nd(S,el(),x,F);return Vs(2),Z?M+je(x)+O+je(F)+z:Ar}(z,S,M,x,O,F);return W!==Ar&&_c(z,At(),W),jC}function up(S,M,x){!function(S,M,x,O){const F=Kr(),z=Vs(2);F.firstUpdatePass&&lT(F,null,z,O);const W=hn();if(x!==Ar&&Ro(W,z,x)){const Z=F.data[At()];if(nI(Z,O)&&!qa(F,z)){let ie=O?Z.classesWithoutHost:Z.stylesWithoutHost;null!==ie&&(x=Ie(ie,x||"")),kC(F,Z,W,x,O)}else!function(S,M,x,O,F,z,W,Z){F===Ar&&(F=dt);let ie=0,de=0,Ee=0<F.length?F[0]:null,Ye=0<z.length?z[0]:null;for(;null!==Ee||null!==Ye;){const it=ie<F.length?F[ie+1]:void 0,bt=de<z.length?z[de+1]:void 0;let Xt,It=null;Ee===Ye?(ie+=2,de+=2,it!==bt&&(It=Ye,Xt=bt)):null===Ye||null!==Ee&&Ee<Ye?(ie+=2,It=Ee):(de+=2,It=Ye,Xt=bt),null!==It&&GC(S,M,x,O,It,Xt,W,Z),Ee=ie<F.length?F[ie]:null,Ye=de<z.length?z[de]:null}}(F,Z,W,W[11],W[z+1],W[z+1]=function(S,M,x){if(null==x||""===x)return dt;const O=[],F=Vl(x);if(Array.isArray(F))for(let z=0;z<F.length;z++)S(O,F[z],!0);else if("object"==typeof F)for(const z in F)F.hasOwnProperty(z)&&S(O,z,F[z]);else"string"==typeof F&&M(O,F);return O}(S,M,x),O,z)}}(ue,Nu,Hm(hn(),S,M,x),!0)}function Qm(S,M,x){const O=hn();return Ro(O,tl(),M)&&Wl(Kr(),Yt(),O,S,M,O[11],x,!0),Qm}function Pd(S,M,x){const O=hn();if(Ro(O,tl(),M)){const z=Kr(),W=Yt();Wl(z,W,O,S,M,Oy(Nc(z.data),W,O),x,!0)}return Pd}const dp=void 0;var fI=["en",[["a","p"],["AM","PM"],dp],[["AM","PM"],dp,dp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],dp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],dp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",dp,"{1} 'at' {0}",dp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(S){const M=Math.floor(Math.abs(S)),x=S.toString().replace(/^[^.]*\.?/,"").length;return 1===M&&0===x?1:5}];let Pu={};function vT(S){const M=function(S){return S.toLowerCase().replace(/_/g,"-")}(S);let x=yT(M);if(x)return x;const O=M.split("-")[0];if(x=yT(O),x)return x;if("en"===O)return fI;throw new Error(`Missing locale data for the locale "${S}".`)}function pI(S){return vT(S)[fr.PluralCase]}function yT(S){return S in Pu||(Pu[S]=wr.ng&&wr.ng.common&&wr.ng.common.locales&&wr.ng.common.locales[S]),Pu[S]}var fr=(()=>((fr=fr||{})[fr.LocaleId=0]="LocaleId",fr[fr.DayPeriodsFormat=1]="DayPeriodsFormat",fr[fr.DayPeriodsStandalone=2]="DayPeriodsStandalone",fr[fr.DaysFormat=3]="DaysFormat",fr[fr.DaysStandalone=4]="DaysStandalone",fr[fr.MonthsFormat=5]="MonthsFormat",fr[fr.MonthsStandalone=6]="MonthsStandalone",fr[fr.Eras=7]="Eras",fr[fr.FirstDayOfWeek=8]="FirstDayOfWeek",fr[fr.WeekendRange=9]="WeekendRange",fr[fr.DateFormat=10]="DateFormat",fr[fr.TimeFormat=11]="TimeFormat",fr[fr.DateTimeFormat=12]="DateTimeFormat",fr[fr.NumberSymbols=13]="NumberSymbols",fr[fr.NumberFormats=14]="NumberFormats",fr[fr.CurrencyCode=15]="CurrencyCode",fr[fr.CurrencySymbol=16]="CurrencySymbol",fr[fr.CurrencyName=17]="CurrencyName",fr[fr.Currencies=18]="Currencies",fr[fr.Directionality=19]="Directionality",fr[fr.PluralCase=20]="PluralCase",fr[fr.ExtraData=21]="ExtraData",fr))();const y_="en-US";let cb=y_;function ub(S){Ue(S,"Expected localeId to be defined"),"string"==typeof S&&(cb=S.toLowerCase().replace(/_/g,"-"))}function IT(S,M,x,O,F){if(S=Re(S),Array.isArray(S))for(let z=0;z<S.length;z++)IT(S[z],M,x,O,F);else{const z=Kr(),W=hn();let Z=Uh(S)?S:Re(S.provide),ie=qs(S);const de=Ji(),Ee=1048575&de.providerIndexes,Ye=de.directiveStart,it=de.providerIndexes>>20;if(Uh(S)||!S.multi){const bt=new Rr(ie,F,Wy),It=pp(Z,M,F?Ee:Ee+it,Ye);-1===It?(Xr(cc(de,W),z,Z),nS(z,S,M.length),M.push(Z),de.directiveStart++,de.directiveEnd++,F&&(de.providerIndexes+=1048576),x.push(bt),W.push(bt)):(x[It]=bt,W[It]=bt)}else{const bt=pp(Z,M,Ee+it,Ye),It=pp(Z,M,Ee,Ee+it),Xt=bt>=0&&x[bt],Ut=It>=0&&x[It];if(F&&!Ut||!F&&!Xt){Xr(cc(de,W),z,Z);const Mn=function(S,M,x,O,F){const z=new Rr(S,x,Wy);return z.multi=[],z.index=M,z.componentProviders=0,ui(z,F,O&&!x),z}(F?Da:VI,x.length,F,O,ie);!F&&Ut&&(x[It].providerFactory=Mn),nS(z,S,M.length,0),M.push(Z),de.directiveStart++,de.directiveEnd++,F&&(de.providerIndexes+=1048576),x.push(Mn),W.push(Mn)}else nS(z,S,bt>-1?bt:It,ui(x[F?It:bt],ie,!F&&O));!F&&O&&Ut&&x[It].componentProviders++}}}function nS(S,M,x,O){const F=Uh(M);if(F||function(S){return!!S.useClass}(M)){const W=(M.useClass||M).prototype.ngOnDestroy;if(W){const Z=S.destroyHooks||(S.destroyHooks=[]);if(!F&&M.multi){const ie=Z.indexOf(x);-1===ie?Z.push(x,[O,W]):Z[ie+1].push(O,W)}else Z.push(x,W)}}}function ui(S,M,x){return x&&S.componentProviders++,S.multi.push(M)-1}function pp(S,M,x,O){for(let F=x;F<O;F++)if(M[F]===S)return F;return-1}function VI(S,M,x,O){return Fr(this.multi,[])}function Da(S,M,x,O){const F=this.multi;let z;if(this.providerFactory){const W=this.providerFactory.componentProviders,Z=Ss(x,x[1],this.providerFactory.index,O);z=Z.slice(0,W),Fr(F,z);for(let ie=W;ie<Z.length;ie++)z.push(Z[ie])}else z=[],Fr(F,z);return z}function Fr(S,M){for(let x=0;x<S.length;x++)M.push((0,S[x])());return M}function mp(S,M=[]){return x=>{x.providersResolver=(O,F)=>function(S,M,x){const O=Kr();if(O.firstCreatePass){const F=pa(S);IT(x,O.data,O.blueprint,F,!0),IT(M,O.data,O.blueprint,F,!1)}}(O,F?F(S):S,M)}}class yb{}const UI="ngComponent";class E_{resolveComponentFactory(M){throw function(S){const M=Error(`No component factory found for ${ve(S)}. Did you add it to @NgModule.entryComponents?`);return M[UI]=S,M}(M)}}class D_{}function Fu(...S){}function Lu(S,M){return new ja(va(S,M))}D_.NULL=new E_;const bb=function(){return Lu(Ji(),hn())};let ja=(()=>{class S{constructor(x){this.nativeElement=x}}return S.__NG_ELEMENT_ID__=bb,S})();function wb(S){return S instanceof ja?S.nativeElement:S}class nr{}let tg=(()=>{class S{}return S.__NG_ELEMENT_ID__=()=>T_(),S})();const T_=function(){const S=hn(),x=Qr(Ji().index,S);return function(S){return S[11]}(Fa(x)?x:S)};let Cb=(()=>{class S{}return S.\u0275prov=Ke({token:S,providedIn:"root",factory:()=>null}),S})();class Sb{constructor(M){this.full=M,this.major=M.split(".")[0],this.minor=M.split(".")[1],this.patch=M.split(".").slice(2).join(".")}}const Mb=new Sb("12.2.4");class iS{constructor(){}supports(M){return s_(M)}create(M){return new sS(M)}}const qI=(S,M)=>M;class sS{constructor(M){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=M||qI}forEachItem(M){let x;for(x=this._itHead;null!==x;x=x._next)M(x)}forEachOperation(M){let x=this._itHead,O=this._removalsHead,F=0,z=null;for(;x||O;){const W=!O||x&&x.currentIndex<ys(O,F,z)?x:O,Z=ys(W,F,z),ie=W.currentIndex;if(W===O)F--,O=O._nextRemoved;else if(x=x._next,null==W.previousIndex)F++;else{z||(z=[]);const de=Z-F,Ee=ie-F;if(de!=Ee){for(let it=0;it<de;it++){const bt=it<z.length?z[it]:z[it]=0,It=bt+it;Ee<=It&&It<de&&(z[it]=bt+1)}z[W.previousIndex]=Ee-de}}Z!==ie&&M(W,Z,ie)}}forEachPreviousItem(M){let x;for(x=this._previousItHead;null!==x;x=x._nextPrevious)M(x)}forEachAddedItem(M){let x;for(x=this._additionsHead;null!==x;x=x._nextAdded)M(x)}forEachMovedItem(M){let x;for(x=this._movesHead;null!==x;x=x._nextMoved)M(x)}forEachRemovedItem(M){let x;for(x=this._removalsHead;null!==x;x=x._nextRemoved)M(x)}forEachIdentityChange(M){let x;for(x=this._identityChangesHead;null!==x;x=x._nextIdentityChange)M(x)}diff(M){if(null==M&&(M=[]),!s_(M))throw new Error(`Error trying to diff '${ve(M)}'. Only arrays and iterables are allowed`);return this.check(M)?this:null}onDestroy(){}check(M){this._reset();let F,z,W,x=this._itHead,O=!1;if(Array.isArray(M)){this.length=M.length;for(let Z=0;Z<this.length;Z++)z=M[Z],W=this._trackByFn(Z,z),null!==x&&Object.is(x.trackById,W)?(O&&(x=this._verifyReinsertion(x,z,W,Z)),Object.is(x.item,z)||this._addIdentityChange(x,z)):(x=this._mismatch(x,z,W,Z),O=!0),x=x._next}else F=0,function(S,M){if(Array.isArray(S))for(let x=0;x<S.length;x++)M(S[x]);else{const x=S[qh()]();let O;for(;!(O=x.next()).done;)M(O.value)}}(M,Z=>{W=this._trackByFn(F,Z),null!==x&&Object.is(x.trackById,W)?(O&&(x=this._verifyReinsertion(x,Z,W,F)),Object.is(x.item,Z)||this._addIdentityChange(x,Z)):(x=this._mismatch(x,Z,W,F),O=!0),x=x._next,F++}),this.length=F;return this._truncate(x),this.collection=M,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let M;for(M=this._previousItHead=this._itHead;null!==M;M=M._next)M._nextPrevious=M._next;for(M=this._additionsHead;null!==M;M=M._nextAdded)M.previousIndex=M.currentIndex;for(this._additionsHead=this._additionsTail=null,M=this._movesHead;null!==M;M=M._nextMoved)M.previousIndex=M.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(M,x,O,F){let z;return null===M?z=this._itTail:(z=M._prev,this._remove(M)),null!==(M=null===this._unlinkedRecords?null:this._unlinkedRecords.get(O,null))?(Object.is(M.item,x)||this._addIdentityChange(M,x),this._reinsertAfter(M,z,F)):null!==(M=null===this._linkedRecords?null:this._linkedRecords.get(O,F))?(Object.is(M.item,x)||this._addIdentityChange(M,x),this._moveAfter(M,z,F)):M=this._addAfter(new Eb(x,O),z,F),M}_verifyReinsertion(M,x,O,F){let z=null===this._unlinkedRecords?null:this._unlinkedRecords.get(O,null);return null!==z?M=this._reinsertAfter(z,M._prev,F):M.currentIndex!=F&&(M.currentIndex=F,this._addToMoves(M,F)),M}_truncate(M){for(;null!==M;){const x=M._next;this._addToRemovals(this._unlink(M)),M=x}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(M,x,O){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(M);const F=M._prevRemoved,z=M._nextRemoved;return null===F?this._removalsHead=z:F._nextRemoved=z,null===z?this._removalsTail=F:z._prevRemoved=F,this._insertAfter(M,x,O),this._addToMoves(M,O),M}_moveAfter(M,x,O){return this._unlink(M),this._insertAfter(M,x,O),this._addToMoves(M,O),M}_addAfter(M,x,O){return this._insertAfter(M,x,O),this._additionsTail=null===this._additionsTail?this._additionsHead=M:this._additionsTail._nextAdded=M,M}_insertAfter(M,x,O){const F=null===x?this._itHead:x._next;return M._next=F,M._prev=x,null===F?this._itTail=M:F._prev=M,null===x?this._itHead=M:x._next=M,null===this._linkedRecords&&(this._linkedRecords=new PT),this._linkedRecords.put(M),M.currentIndex=O,M}_remove(M){return this._addToRemovals(this._unlink(M))}_unlink(M){null!==this._linkedRecords&&this._linkedRecords.remove(M);const x=M._prev,O=M._next;return null===x?this._itHead=O:x._next=O,null===O?this._itTail=x:O._prev=x,M}_addToMoves(M,x){return M.previousIndex===x||(this._movesTail=null===this._movesTail?this._movesHead=M:this._movesTail._nextMoved=M),M}_addToRemovals(M){return null===this._unlinkedRecords&&(this._unlinkedRecords=new PT),this._unlinkedRecords.put(M),M.currentIndex=null,M._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=M,M._prevRemoved=null):(M._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=M),M}_addIdentityChange(M,x){return M.item=x,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=M:this._identityChangesTail._nextIdentityChange=M,M}}class Eb{constructor(M,x){this.item=M,this.trackById=x,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ya{constructor(){this._head=null,this._tail=null}add(M){null===this._head?(this._head=this._tail=M,M._nextDup=null,M._prevDup=null):(this._tail._nextDup=M,M._prevDup=this._tail,M._nextDup=null,this._tail=M)}get(M,x){let O;for(O=this._head;null!==O;O=O._nextDup)if((null===x||x<=O.currentIndex)&&Object.is(O.trackById,M))return O;return null}remove(M){const x=M._prevDup,O=M._nextDup;return null===x?this._head=O:x._nextDup=O,null===O?this._tail=x:O._prevDup=x,null===this._head}}class PT{constructor(){this.map=new Map}put(M){const x=M.trackById;let O=this.map.get(x);O||(O=new Ya,this.map.set(x,O)),O.add(M)}get(M,x){const F=this.map.get(M);return F?F.get(M,x):null}remove(M){const x=M.trackById;return this.map.get(x).remove(M)&&this.map.delete(x),M}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ys(S,M,x){const O=S.previousIndex;if(null===O)return O;let F=0;return x&&O<x.length&&(F=x[O]),O+M+F}class jI{constructor(){}supports(M){return M instanceof Map||MC(M)}create(){return new YI}}class YI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(M){let x;for(x=this._mapHead;null!==x;x=x._next)M(x)}forEachPreviousItem(M){let x;for(x=this._previousMapHead;null!==x;x=x._nextPrevious)M(x)}forEachChangedItem(M){let x;for(x=this._changesHead;null!==x;x=x._nextChanged)M(x)}forEachAddedItem(M){let x;for(x=this._additionsHead;null!==x;x=x._nextAdded)M(x)}forEachRemovedItem(M){let x;for(x=this._removalsHead;null!==x;x=x._nextRemoved)M(x)}diff(M){if(M){if(!(M instanceof Map||MC(M)))throw new Error(`Error trying to diff '${ve(M)}'. Only maps and objects are allowed`)}else M=new Map;return this.check(M)?this:null}onDestroy(){}check(M){this._reset();let x=this._mapHead;if(this._appendAfter=null,this._forEach(M,(O,F)=>{if(x&&x.key===F)this._maybeAddToChanges(x,O),this._appendAfter=x,x=x._next;else{const z=this._getOrCreateRecordForKey(F,O);x=this._insertBeforeOrAppend(x,z)}}),x){x._prev&&(x._prev._next=null),this._removalsHead=x;for(let O=x;null!==O;O=O._nextRemoved)O===this._mapHead&&(this._mapHead=null),this._records.delete(O.key),O._nextRemoved=O._next,O.previousValue=O.currentValue,O.currentValue=null,O._prev=null,O._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(M,x){if(M){const O=M._prev;return x._next=M,x._prev=O,M._prev=x,O&&(O._next=x),M===this._mapHead&&(this._mapHead=x),this._appendAfter=M,M}return this._appendAfter?(this._appendAfter._next=x,x._prev=this._appendAfter):this._mapHead=x,this._appendAfter=x,null}_getOrCreateRecordForKey(M,x){if(this._records.has(M)){const F=this._records.get(M);this._maybeAddToChanges(F,x);const z=F._prev,W=F._next;return z&&(z._next=W),W&&(W._prev=z),F._next=null,F._prev=null,F}const O=new Db(M);return this._records.set(M,O),O.currentValue=x,this._addToAdditions(O),O}_reset(){if(this.isDirty){let M;for(this._previousMapHead=this._mapHead,M=this._previousMapHead;null!==M;M=M._next)M._nextPrevious=M._next;for(M=this._changesHead;null!==M;M=M._nextChanged)M.previousValue=M.currentValue;for(M=this._additionsHead;null!=M;M=M._nextAdded)M.previousValue=M.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(M,x){Object.is(x,M.currentValue)||(M.previousValue=M.currentValue,M.currentValue=x,this._addToChanges(M))}_addToAdditions(M){null===this._additionsHead?this._additionsHead=this._additionsTail=M:(this._additionsTail._nextAdded=M,this._additionsTail=M)}_addToChanges(M){null===this._changesHead?this._changesHead=this._changesTail=M:(this._changesTail._nextChanged=M,this._changesTail=M)}_forEach(M,x){M instanceof Map?M.forEach(x):Object.keys(M).forEach(O=>x(M[O],O))}}class Db{constructor(M){this.key=M,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function WI(){return new ng([new iS])}let ng=(()=>{class S{constructor(x){this.factories=x}static create(x,O){if(null!=O){const F=O.factories.slice();x=x.concat(F)}return new S(x)}static extend(x){return{provide:S,useFactory:O=>S.create(x,O||WI()),deps:[[S,new Vi,new Xs]]}}find(x){const O=this.factories.find(F=>F.supports(x));if(null!=O)return O;throw new Error(`Cannot find a differ supporting object '${x}' of type '${function(S){return S.name||typeof S}(x)}'`)}}return S.\u0275prov=Ke({token:S,providedIn:"root",factory:WI}),S})();function Yh(){return new aS([new jI])}let aS=(()=>{class S{constructor(x){this.factories=x}static create(x,O){if(O){const F=O.factories.slice();x=x.concat(F)}return new S(x)}static extend(x){return{provide:S,useFactory:O=>S.create(x,O||Yh()),deps:[[S,new Vi,new Xs]]}}find(x){const O=this.factories.find(F=>F.supports(x));if(O)return O;throw new Error(`Cannot find a differ supporting object '${x}'`)}}return S.\u0275prov=Ke({token:S,providedIn:"root",factory:Yh}),S})();function lS(S,M,x,O,F=!1){for(;null!==x;){const z=M[x.index];if(null!==z&&O.push(Qn(z)),Yi(z))for(let Z=10;Z<z.length;Z++){const ie=z[Z],de=ie[1].firstChild;null!==de&&lS(ie[1],ie,de,O)}const W=x.type;if(8&W)lS(S,M,x.child,O);else if(32&W){const Z=ay(x,M);let ie;for(;ie=Z();)O.push(ie)}else if(16&W){const Z=Sm(M,x);if(Array.isArray(Z))O.push(...Z);else{const ie=Ao(M[16]);lS(ie[1],ie,Z,O,!0)}}x=F?x.projectionNext:x.next}return O}class Tb{constructor(M,x){this._lView=M,this._cdRefInjectingView=x,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const M=this._lView,x=M[1];return lS(x,M,x.firstChild,[])}get context(){return this._lView[8]}set context(M){this._lView[8]=M}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const M=this._lView[3];if(Yi(M)){const x=M[8],O=x?x.indexOf(this):-1;O>-1&&(fy(M,O),Su(x,O))}this._attachedToViewContainer=!1}P0(this._lView[1],this._lView)}onDestroy(M){Yl(this._lView[1],this._lView,null,M)}markForCheck(){Pm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){sp(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(S,M,x){gh(!0);try{sp(S,M,x)}finally{gh(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var M;this._appRef=null,H0(this._lView[1],M=this._lView,M[11],2,null,null)}attachToAppRef(M){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=M}}class iN extends Tb{constructor(M){super(M),this._view=M}detectChanges(){gc(this._view)}checkNoChanges(){!function(S){gh(!0);try{gc(S)}finally{gh(!1)}}(this._view)}get context(){return null}}const sN=function(S){return function(S,M,x){if(nd(S)&&!x){const O=Qr(S.index,M);return new Tb(O,O)}return 47&S.type?new Tb(M[16],M):null}(Ji(),hn(),16==(16&S))};let oN=(()=>{class S{}return S.__NG_ELEMENT_ID__=sN,S})();const cS=[new jI],lN=new ng([new iS]),KI=new aS(cS),JI=function(){return k_(Ji(),hn())};let Bd=(()=>{class S{}return S.__NG_ELEMENT_ID__=JI,S})();const uS=Bd,dS=class extends uS{constructor(M,x,O){super(),this._declarationLView=M,this._declarationTContainer=x,this.elementRef=O}createEmbeddedView(M){const x=this._declarationTContainer.tViews,O=Ad(this._declarationLView,x,M,16,null,x.declTNode,null,null,null,null);O[17]=this._declarationLView[this._declarationTContainer.index];const z=this._declarationLView[19];return null!==z&&(O[19]=z.createEmbeddedView(x)),Rd(x,O,M),new Tb(O)}};function k_(S,M){return 4&S.type?new dS(M,S,Lu(S,M)):null}class Wh{}class rg{}const kb=function(){return VT(Ji(),hn())};let Ab=(()=>{class S{}return S.__NG_ELEMENT_ID__=kb,S})();const Ib=Ab,BT=class extends Ib{constructor(M,x,O){super(),this._lContainer=M,this._hostTNode=x,this._hostLView=O}get element(){return Lu(this._hostTNode,this._hostLView)}get injector(){return new ol(this._hostTNode,this._hostLView)}get parentInjector(){const M=$i(this._hostTNode,this._hostLView);if(lc(M)){const x=Ba(M,this._hostLView),O=Rl(M);return new ol(x[1].data[O+8],x)}return new ol(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(M){const x=QI(this._lContainer);return null!==x&&x[M]||null}get length(){return this._lContainer.length-10}createEmbeddedView(M,x,O){const F=M.createEmbeddedView(x||{});return this.insert(F,O),F}createComponent(M,x,O,F,z){const W=O||this.parentInjector;if(!z&&null==M.ngModule&&W){const ie=W.get(Wh,null);ie&&(z=ie)}const Z=M.create(W,F,void 0,z);return this.insert(Z.hostView,x),Z}insert(M,x){const O=M._lView,F=O[1];if(Yi(O[3])){const Ee=this.indexOf(M);if(-1!==Ee)this.detach(Ee);else{const Ye=O[3],it=new BT(Ye,Ye[6],Ye[3]);it.detach(it.indexOf(M))}}const z=this._adjustIndex(x),W=this._lContainer;!function(S,M,x,O){const F=10+O,z=x.length;O>0&&(x[F-1][4]=M),O<z-10?(M[4]=x[F],wd(x,10+O,M)):(x.push(M),M[4]=null),M[3]=x;const W=M[17];null!==W&&x!==W&&function(S,M){const x=S[9];M[16]!==M[3][3][16]&&(S[2]=!0),null===x?S[9]=[M]:x.push(M)}(W,M);const Z=M[19];null!==Z&&Z.insertView(S),M[2]|=128}(F,O,W,z);const Z=Rw(z,W),ie=O[11],de=my(ie,W[7]);return null!==de&&function(S,M,x,O,F,z){O[0]=F,O[6]=M,H0(S,O,x,1,F,z)}(F,W[6],ie,O,de,Z),M.attachToViewContainerRef(),wd(hS(W),z,M),M}move(M,x){return this.insert(M,x)}indexOf(M){const x=QI(this._lContainer);return null!==x?x.indexOf(M):-1}remove(M){const x=this._adjustIndex(M,-1),O=fy(this._lContainer,x);O&&(Su(hS(this._lContainer),x),P0(O[1],O))}detach(M){const x=this._adjustIndex(M,-1),O=fy(this._lContainer,x);return O&&null!=Su(hS(this._lContainer),x)?new Tb(O):null}_adjustIndex(M,x=0){return null==M?this.length+x:M}};function QI(S){return S[8]}function hS(S){return S[8]||(S[8]=[])}function VT(S,M){let x;const O=M[S.index];if(Yi(O))x=O;else{let F;if(8&S.type)F=Qn(O);else{const z=M[11];F=z.createComment("");const W=va(S,M);xu(z,my(z,W),F,function(S,M){return Zi(S)?S.nextSibling(M):M.nextSibling}(z,W),!1)}M[S.index]=x=Ay(O,M,F,S),ip(M,x)}return new BT(x,S,M)}const Kl={};class Vb extends D_{constructor(M){super(),this.ngModule=M}resolveComponentFactory(M){const x=Vt(M);return new M4(x,this.ngModule)}}function Qc(S){const M=[];for(let x in S)S.hasOwnProperty(x)&&M.push({propName:S[x],templateName:x});return M}const zb=new Qi("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>LE});class M4 extends yb{constructor(M,x){super(),this.componentDef=M,this.ngModule=x,this.componentType=M.type,this.selector=M.selectors.map(Dm).join(","),this.ngContentSelectors=M.ngContentSelectors?M.ngContentSelectors:[],this.isBoundToModule=!!x}get inputs(){return Qc(this.componentDef.inputs)}get outputs(){return Qc(this.componentDef.outputs)}create(M,x,O,F){const z=(F=F||this.ngModule)?function(S,M){return{get:(x,O,F)=>{const z=S.get(x,Kl,F);return z!==Kl||O===Kl?z:M.get(x,O,F)}}}(M,F.injector):M,W=z.get(nr,Rs),Z=z.get(Cb,null),ie=W.createRenderer(null,this.componentDef),de=this.componentDef.selectors[0][0]||"div",Ee=O?function(S,M,x){if(Zi(S))return S.selectRootElement(M,x===en.ShadowDom);let O="string"==typeof M?S.querySelector(M):M;return O.textContent="",O}(ie,O,this.componentDef.encapsulation):$f(W.createRenderer(null,this.componentDef),de,function(S){const M=S.toLowerCase();return"svg"===M?kc:"math"===M?"http://www.w3.org/1998/MathML/":null}(de)),Ye=this.componentDef.onPush?576:528,it=function(S,M){return{components:[],scheduler:S||LE,clean:aD,playerHandler:M||null,flags:0}}(),bt=$0(0,null,null,1,0,null,null,null,null,null),It=Ad(null,bt,it,Ye,null,null,W,ie,Z,z);let Xt,Ut;$o(It);try{const Mn=function(S,M,x,O,F,z){const W=x[1];x[20]=S;const ie=Xf(W,20,2,"#host",null),de=ie.mergedAttrs=M.hostAttrs;null!==de&&(Fm(ie,de,!0),null!==S&&(Fc(F,S,de),null!==ie.classes&&Em(F,S,ie.classes),null!==ie.styles&&Nw(F,S,ie.styles)));const Ee=O.createRenderer(S,M),Ye=Ad(x,Kw(M),null,M.onPush?64:16,x[20],ie,O,Ee,z||null,null);return W.firstCreatePass&&(Xr(cc(ie,x),W,M.type),rs(W,ie),tC(ie,x.length,1)),ip(x,Ye),x[20]=Ye}(Ee,this.componentDef,It,W,ie);if(Ee)if(O)Fc(ie,Ee,["ng-version",Mb.full]);else{const{attrs:cn,classes:sr}=function(S){const M=[],x=[];let O=1,F=2;for(;O<S.length;){let z=S[O];if("string"==typeof z)2===F?""!==z&&M.push(z,S[++O]):8===F&&x.push(z);else{if(!ul(F))break;F=z}O++}return{attrs:M,classes:x}}(this.componentDef.selectors[0]);cn&&Fc(ie,Ee,cn),sr&&sr.length>0&&Em(ie,Ee,sr.join(" "))}if(Ut=hh(bt,20),void 0!==x){const cn=Ut.projection=[];for(let sr=0;sr<this.ngContentSelectors.length;sr++){const Dr=x[sr];cn.push(null!=Dr?Array.from(Dr):null)}}Xt=function(S,M,x,O,F){const z=x[1],W=function(S,M,x){const O=Ji();S.firstCreatePass&&(x.providersResolver&&x.providersResolver(x),J0(S,O,M,Id(S,M,1,null),x));const F=Ss(M,S,O.directiveStart,O);Gs(F,M);const z=va(O,M);return z&&Gs(z,M),F}(z,x,M);if(O.components.push(W),S[8]=W,F&&F.forEach(ie=>ie(W,M)),M.contentQueries){const ie=Ji();M.contentQueries(1,W,ie.directiveStart)}const Z=Ji();return!z.firstCreatePass||null===M.hostBindings&&null===M.hostAttrs||(nn(Z.index),Z0(x[1],Z,0,Z.directiveStart,Z.directiveEnd,M),Xw(M,W)),W}(Mn,this.componentDef,It,it,[E2]),Rd(bt,It,null)}finally{yh()}return new ZT(this.componentType,Xt,Lu(Ut,It),It,Ut)}}class ZT extends class{}{constructor(M,x,O,F,z){super(),this.location=O,this._rootLView=F,this._tNode=z,this.instance=x,this.hostView=this.changeDetectorRef=new iN(F),this.componentType=M}get injector(){return new ol(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(M){this.hostView.onDestroy(M)}}const Bo=new Map;class T4 extends Wh{constructor(M,x){super(),this._parent=x,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Vb(this);const O=In(M),F=M[Je]||null;F&&ub(F),this._bootstrapComponents=Hc(O.bootstrap),this._r3Injector=lC(M,x,[{provide:Wh,useValue:this},{provide:D_,useValue:this.componentFactoryResolver}],ve(M)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(M)}get(M,x=Oi.THROW_IF_NOT_FOUND,O=te.Default){return M===Oi||M===Wh||M===op?this:this._r3Injector.get(M,x,O)}destroy(){const M=this._r3Injector;!M.destroyed&&M.destroy(),this.destroyCbs.forEach(x=>x()),this.destroyCbs=null}onDestroy(M){this.destroyCbs.push(M)}}class Hb extends rg{constructor(M){super(),this.moduleType=M,null!==In(M)&&function(S){const M=new Set;!function x(O){const F=In(O,!0),z=F.id;null!==z&&(function(S,M,x){if(M&&M!==x)throw new Error(`Duplicate module registered for ${S} - ${ve(M)} vs ${ve(M.name)}`)}(z,Bo.get(z),O),Bo.set(z,O));const W=Hc(F.imports);for(const Z of W)M.has(Z)||(M.add(Z),x(Z))}(S)}(M)}create(M){return new T4(this.moduleType,M)}}function JT(S,M,x){const O=Bs()+S,F=hn();return F[O]===Ar?Ou(F,O,x?M.call(x):M()):function(S,M){return S[M]}(F,O)}function pg(S,M,x,O){return bS(hn(),Bs(),S,M,x,O)}function mg(S,M,x,O,F){return function(S,M,x,O,F,z,W){const Z=M+x;return Nd(S,Z,F,z)?Ou(S,Z+2,W?O.call(W,F,z):O(F,z)):Gb(S,Z+2)}(hn(),Bs(),S,M,x,O,F)}function Gb(S,M){const x=S[M];return x===Ar?void 0:x}function bS(S,M,x,O,F,z){const W=M+x;return Ro(S,W,F)?Ou(S,W+1,z?O.call(z,F):O(F)):Gb(S,W+1)}function tx(S,M){const x=Kr();let O;const F=S+20;x.firstCreatePass?(O=function(S,M){if(M)for(let x=M.length-1;x>=0;x--){const O=M[x];if(S===O.name)return O}throw new pt("302",`The pipe '${S}' could not be found!`)}(M,x.pipeRegistry),x.data[F]=O,O.onDestroy&&(x.destroyHooks||(x.destroyHooks=[])).push(F,O.onDestroy)):O=x.data[F];const z=O.factory||(O.factory=yi(O.type)),W=Xe(Wy);try{const Z=xf(!1),ie=z();return xf(Z),function(S,M,x,O){x>=S.data.length&&(S.data[x]=null,S.blueprint[x]=null),M[x]=O}(x,hn(),F,ie),ie}finally{Xe(W)}}function CS(S,M,x){const O=S+20,F=hn(),z=Ac(F,O);return function(S,M){Wc.isWrapped(M)&&(M=Wc.unwrap(M),S[el()]=Ar);return M}(F,function(S,M){return S[1].data[M].pure}(F,O)?bS(F,Bs(),M,z.transform,x,z):z.transform(x))}function SS(S){return M=>{setTimeout(S,void 0,M)}}const ka=class extends C.xQ{constructor(M=!1){super(),this.__isAsync=M}emit(M){super.next(M)}subscribe(M,x,O){var F,z,W;let Z=M,ie=x||(()=>null),de=O;if(M&&"object"==typeof M){const Ye=M;Z=null===(F=Ye.next)||void 0===F?void 0:F.bind(Ye),ie=null===(z=Ye.error)||void 0===z?void 0:z.bind(Ye),de=null===(W=Ye.complete)||void 0===W?void 0:W.bind(Ye)}this.__isAsync&&(ie=SS(ie),Z&&(Z=SS(Z)),de&&(de=SS(de)));const Ee=super.subscribe({next:Z,error:ie,complete:de});return M instanceof le.w&&M.add(Ee),Ee}};function gg(){return this._results[qh()]()}class _g{constructor(M=!1){this._emitDistinctChangesOnly=M,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const x=qh(),O=_g.prototype;O[x]||(O[x]=gg)}get changes(){return this._changes||(this._changes=new ka)}get(M){return this._results[M]}map(M){return this._results.map(M)}filter(M){return this._results.filter(M)}find(M){return this._results.find(M)}reduce(M,x){return this._results.reduce(M,x)}forEach(M){this._results.forEach(M)}some(M){return this._results.some(M)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(M,x){const O=this;O.dirty=!1;const F=Jo(M);(this._changesDetected=!function(S,M,x){if(S.length!==M.length)return!1;for(let O=0;O<S.length;O++){let F=S[O],z=M[O];if(x&&(F=x(F),z=x(z)),z!==F)return!1}return!0}(O._results,F,x))&&(O._results=F,O.length=F.length,O.last=F[this.length-1],O.first=F[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class nx{constructor(M){this.queryList=M,this.matches=null}clone(){return new nx(this.queryList)}setDirty(){this.queryList.setDirty()}}class rx{constructor(M=[]){this.queries=M}createEmbeddedView(M){const x=M.queries;if(null!==x){const O=null!==M.contentQueries?M.contentQueries[0]:x.length,F=[];for(let z=0;z<O;z++){const W=x.getByIndex(z);F.push(this.queries[W.indexInDeclarationView].clone())}return new rx(F)}return null}insertView(M){this.dirtyQueriesWithMatches(M)}detachView(M){this.dirtyQueriesWithMatches(M)}dirtyQueriesWithMatches(M){for(let x=0;x<this.queries.length;x++)null!==xS(M,x).matches&&this.queries[x].setDirty()}}class jb{constructor(M,x,O=null){this.predicate=M,this.flags=x,this.read=O}}class bp{constructor(M=[]){this.queries=M}elementStart(M,x){for(let O=0;O<this.queries.length;O++)this.queries[O].elementStart(M,x)}elementEnd(M){for(let x=0;x<this.queries.length;x++)this.queries[x].elementEnd(M)}embeddedTView(M){let x=null;for(let O=0;O<this.length;O++){const F=null!==x?x.length:0,z=this.getByIndex(O).embeddedTView(M,F);z&&(z.indexInDeclarationView=O,null!==x?x.push(z):x=[z])}return null!==x?new bp(x):null}template(M,x){for(let O=0;O<this.queries.length;O++)this.queries[O].template(M,x)}getByIndex(M){return this.queries[M]}get length(){return this.queries.length}track(M){this.queries.push(M)}}class P4{constructor(M,x=-1){this.metadata=M,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=x}elementStart(M,x){this.isApplyingToNode(x)&&this.matchTNode(M,x)}elementEnd(M){this._declarationNodeIndex===M.index&&(this._appliesToNextNode=!1)}template(M,x){this.elementStart(M,x)}embeddedTView(M,x){return this.isApplyingToNode(M)?(this.crossesNgTemplate=!0,this.addMatch(-M.index,x),new P4(this.metadata)):null}isApplyingToNode(M){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const x=this._declarationNodeIndex;let O=M.parent;for(;null!==O&&8&O.type&&O.index!==x;)O=O.parent;return x===(null!==O?O.index:-1)}return this._appliesToNextNode}matchTNode(M,x){const O=this.metadata.predicate;if(Array.isArray(O))for(let F=0;F<O.length;F++){const z=O[F];this.matchTNodeWithReadOption(M,x,IN(x,z)),this.matchTNodeWithReadOption(M,x,bu(x,M,z,!1,!1))}else O===Bd?4&x.type&&this.matchTNodeWithReadOption(M,x,-1):this.matchTNodeWithReadOption(M,x,bu(x,M,O,!1,!1))}matchTNodeWithReadOption(M,x,O){if(null!==O){const F=this.metadata.read;if(null!==F)if(F===ja||F===Ab||F===Bd&&4&x.type)this.addMatch(x.index,-2);else{const z=bu(x,M,F,!1,!1);null!==z&&this.addMatch(x.index,z)}else this.addMatch(x.index,O)}}addMatch(M,x){null===this.matches?this.matches=[M,x]:this.matches.push(M,x)}}function IN(S,M){const x=S.localNames;if(null!==x)for(let O=0;O<x.length;O+=2)if(x[O]===M)return x[O+1];return null}function F4(S,M,x,O){return-1===x?function(S,M){return 11&S.type?Lu(S,M):4&S.type?k_(S,M):null}(M,S):-2===x?function(S,M,x){return x===ja?Lu(M,S):x===Bd?k_(M,S):x===Ab?VT(M,S):void 0}(S,M,O):Ss(S,S[1],x,M)}function Yb(S,M,x,O){const F=M[19].queries[O];if(null===F.matches){const z=S.data,W=x.matches,Z=[];for(let ie=0;ie<W.length;ie+=2){const de=W[ie];Z.push(de<0?null:F4(M,z[de],W[ie+1],x.metadata.read))}F.matches=Z}return F.matches}function ix(S,M,x,O){const F=S.queries.getByIndex(x),z=F.matches;if(null!==z){const W=Yb(S,M,F,x);for(let Z=0;Z<z.length;Z+=2){const ie=z[Z];if(ie>0)O.push(W[Z/2]);else{const de=z[Z+1],Ee=M[-ie];for(let Ye=10;Ye<Ee.length;Ye++){const it=Ee[Ye];it[17]===it[3]&&ix(it[1],it,de,O)}if(null!==Ee[9]){const Ye=Ee[9];for(let it=0;it<Ye.length;it++){const bt=Ye[it];ix(bt[1],bt,de,O)}}}}}return O}function sx(S){const M=hn(),x=Kr(),O=bf();gu(O+1);const F=xS(x,O);if(S.dirty&&Ic(M)===(2==(2&F.metadata.flags))){if(null===F.matches)S.reset([]);else{const z=F.crossesNgTemplate?ix(x,M,O,[]):Yb(x,M,F,O);S.reset(z,wb),S.notifyOnChanges()}return!0}return!1}function MS(S,M,x){const O=Kr();O.firstCreatePass&&(L4(O,new jb(S,M,x),-1),2==(2&M)&&(O.staticViewQueries=!0)),TS(O,hn(),M)}function ES(S,M,x,O){const F=Kr();if(F.firstCreatePass){const z=Ji();L4(F,new jb(M,x,O),z.index),function(S,M){const x=S.contentQueries||(S.contentQueries=[]);M!==(x.length?x[x.length-1]:-1)&&x.push(S.queries.length-1,M)}(F,S),2==(2&x)&&(F.staticContentQueries=!0)}TS(F,hn(),x)}function H_(){return S=hn(),M=bf(),S[19].queries[M].queryList;var S,M}function TS(S,M,x){const O=new _g(4==(4&x));Yl(S,M,O,O.destroy),null===M[19]&&(M[19]=new rx),M[19].queries.push(new nx(O))}function L4(S,M,x){null===S.queries&&(S.queries=new bp),S.queries.track(new P4(M,x))}function xS(S,M){return S.queries.getByIndex(M)}function ox(S,M){return k_(S,M)}const Dx=new Qi("Application Initializer");let bg=(()=>{class S{constructor(x){this.appInits=x,this.resolve=Fu,this.reject=Fu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((O,F)=>{this.resolve=O,this.reject=F})}runInitializers(){if(this.initialized)return;const x=[],O=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let F=0;F<this.appInits.length;F++){const z=this.appInits[F]();if(Qy(z))x.push(z);else if(Xy(z)){const W=new Promise((Z,ie)=>{z.subscribe({complete:Z,error:ie})});x.push(W)}}Promise.all(x).then(()=>{O()}).catch(F=>{this.reject(F)}),0===x.length&&O(),this.initialized=!0}}return S.\u0275fac=function(x){return new(x||S)(si(Dx,8))},S.\u0275prov=Ke({token:S,factory:S.\u0275fac}),S})();const Tx=new Qi("AppId"),xx={provide:Tx,useFactory:function(){return`${kx()}${kx()}${kx()}`},deps:[]};function kx(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const VS=new Qi("Platform Initializer"),t3=new Qi("Platform ID"),zS=new Qi("appBootstrapListener");let HS=(()=>{class S{log(x){console.log(x)}warn(x){console.warn(x)}}return S.\u0275fac=function(x){return new(x||S)},S.\u0275prov=Ke({token:S,factory:S.\u0275fac}),S})();const Y_=new Qi("LocaleId"),US=new Qi("DefaultCurrencyCode");class $_{constructor(M,x){this.ngModuleFactory=M,this.componentFactories=x}}const e1=function(S){return new Hb(S)},Ax=e1,WN=function(S){return Promise.resolve(e1(S))},GS=function(S){const M=e1(S),O=Hc(In(S).declarations).reduce((F,z)=>{const W=Vt(z);return W&&F.push(new M4(W)),F},[]);return new $_(M,O)},Ix=GS,KN=function(S){return Promise.resolve(GS(S))};let K_=(()=>{class S{constructor(){this.compileModuleSync=Ax,this.compileModuleAsync=WN,this.compileModuleAndAllComponentsSync=Ix,this.compileModuleAndAllComponentsAsync=KN}clearCache(){}clearCacheFor(x){}getModuleId(x){}}return S.\u0275fac=function(x){return new(x||S)},S.\u0275prov=Ke({token:S,factory:S.\u0275fac}),S})();const l3=(()=>Promise.resolve(0))();function Rx(S){"undefined"==typeof Zone?l3.then(()=>{S&&S.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",S)}class Cc{constructor({enableLongStackTrace:M=!1,shouldCoalesceEventChangeDetection:x=!1,shouldCoalesceRunChangeDetection:O=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ka(!1),this.onMicrotaskEmpty=new ka(!1),this.onStable=new ka(!1),this.onError=new ka(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const F=this;F._nesting=0,F._outer=F._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(F._inner=F._inner.fork(new Zone.TaskTrackingZoneSpec)),M&&Zone.longStackTraceZoneSpec&&(F._inner=F._inner.fork(Zone.longStackTraceZoneSpec)),F.shouldCoalesceEventChangeDetection=!O&&x,F.shouldCoalesceRunChangeDetection=O,F.lastRequestAnimationFrameId=-1,F.nativeRequestAnimationFrame=function(){let S=wr.requestAnimationFrame,M=wr.cancelAnimationFrame;if("undefined"!=typeof Zone&&S&&M){const x=S[Zone.__symbol__("OriginalDelegate")];x&&(S=x);const O=M[Zone.__symbol__("OriginalDelegate")];O&&(M=O)}return{nativeRequestAnimationFrame:S,nativeCancelAnimationFrame:M}}().nativeRequestAnimationFrame,function(S){const M=()=>{!function(S){S.isCheckStableRunning||-1!==S.lastRequestAnimationFrameId||(S.lastRequestAnimationFrameId=S.nativeRequestAnimationFrame.call(wr,()=>{S.fakeTopEventTask||(S.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{S.lastRequestAnimationFrameId=-1,Px(S),S.isCheckStableRunning=!0,t1(S),S.isCheckStableRunning=!1},void 0,()=>{},()=>{})),S.fakeTopEventTask.invoke()}),Px(S))}(S)};S._inner=S._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(x,O,F,z,W,Z)=>{try{return qS(S),x.invokeTask(F,z,W,Z)}finally{(S.shouldCoalesceEventChangeDetection&&"eventTask"===z.type||S.shouldCoalesceRunChangeDetection)&&M(),c3(S)}},onInvoke:(x,O,F,z,W,Z,ie)=>{try{return qS(S),x.invoke(F,z,W,Z,ie)}finally{S.shouldCoalesceRunChangeDetection&&M(),c3(S)}},onHasTask:(x,O,F,z)=>{x.hasTask(F,z),O===F&&("microTask"==z.change?(S._hasPendingMicrotasks=z.microTask,Px(S),t1(S)):"macroTask"==z.change&&(S.hasPendingMacrotasks=z.macroTask))},onHandleError:(x,O,F,z)=>(x.handleError(F,z),S.runOutsideAngular(()=>S.onError.emit(z)),!1)})}(F)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Cc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Cc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(M,x,O){return this._inner.run(M,x,O)}runTask(M,x,O,F){const z=this._inner,W=z.scheduleEventTask("NgZoneEvent: "+F,M,JN,Fu,Fu);try{return z.runTask(W,x,O)}finally{z.cancelTask(W)}}runGuarded(M,x,O){return this._inner.runGuarded(M,x,O)}runOutsideAngular(M){return this._outer.run(M)}}const JN={};function t1(S){if(0==S._nesting&&!S.hasPendingMicrotasks&&!S.isStable)try{S._nesting++,S.onMicrotaskEmpty.emit(null)}finally{if(S._nesting--,!S.hasPendingMicrotasks)try{S.runOutsideAngular(()=>S.onStable.emit(null))}finally{S.isStable=!0}}}function Px(S){S.hasPendingMicrotasks=!!(S._hasPendingMicrotasks||(S.shouldCoalesceEventChangeDetection||S.shouldCoalesceRunChangeDetection)&&-1!==S.lastRequestAnimationFrameId)}function qS(S){S._nesting++,S.isStable&&(S.isStable=!1,S.onUnstable.emit(null))}function c3(S){S._nesting--,t1(S)}class Fx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ka,this.onMicrotaskEmpty=new ka,this.onStable=new ka,this.onError=new ka}run(M,x,O){return M.apply(x,O)}runGuarded(M,x,O){return M.apply(x,O)}runOutsideAngular(M){return M()}runTask(M,x,O,F){return M.apply(x,O)}}let Lx=(()=>{class S{constructor(x){this._ngZone=x,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),x.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Cc.assertNotInAngularZone(),Rx(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Rx(()=>{for(;0!==this._callbacks.length;){let x=this._callbacks.pop();clearTimeout(x.timeoutId),x.doneCb(this._didWork)}this._didWork=!1});else{let x=this.getPendingTasks();this._callbacks=this._callbacks.filter(O=>!O.updateCb||!O.updateCb(x)||(clearTimeout(O.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(x=>({source:x.source,creationLocation:x.creationLocation,data:x.data})):[]}addCallback(x,O,F){let z=-1;O&&O>0&&(z=setTimeout(()=>{this._callbacks=this._callbacks.filter(W=>W.timeoutId!==z),x(this._didWork,this.getPendingTasks())},O)),this._callbacks.push({doneCb:x,timeoutId:z,updateCb:F})}whenStable(x,O,F){if(F&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(x,O,F),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(x,O,F){return[]}}return S.\u0275fac=function(x){return new(x||S)(si(Cc))},S.\u0275prov=Ke({token:S,factory:S.\u0275fac}),S})(),jS=(()=>{class S{constructor(){this._applications=new Map,n1.addToWindow(this)}registerApplication(x,O){this._applications.set(x,O)}unregisterApplication(x){this._applications.delete(x)}unregisterAllApplications(){this._applications.clear()}getTestability(x){return this._applications.get(x)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(x,O=!0){return n1.findTestabilityInTree(this,x,O)}}return S.\u0275fac=function(x){return new(x||S)},S.\u0275prov=Ke({token:S,factory:S.\u0275fac}),S})();class u3{addToWindow(M){}findTestabilityInTree(M,x,O){return null}}function QN(S){n1=S}let n1=new u3,d3=!0,YS=!1;function Bx(){return YS=!0,d3}function Vx(){if(YS)throw new Error("Cannot enable prod mode after platform setup.");d3=!1}let Hu;const WS=new Qi("AllowMultipleToken");class eP{constructor(M,x){this.name=M,this.token=x}}function m3(S,M,x=[]){const O=`Platform: ${M}`,F=new Qi(O);return(z=[])=>{let W=_3();if(!W||W.injector.get(WS,!1))if(S)S(x.concat(z).concat({provide:F,useValue:!0}));else{const Z=x.concat(z).concat({provide:F,useValue:!0},{provide:ap,useValue:"platform"});!function(S){if(Hu&&!Hu.destroyed&&!Hu.injector.get(WS,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Hu=S.get($S);const M=S.get(VS,null);M&&M.forEach(x=>x())}(Oi.create({providers:Z,name:O}))}return function(S){const M=_3();if(!M)throw new Error("No platform exists!");if(!M.injector.get(S,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return M}(F)}}function _3(){return Hu&&!Hu.destroyed?Hu:null}let $S=(()=>{class S{constructor(x){this._injector=x,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(x,O){const Z=function(S,M){let x;return x="noop"===S?new Fx:("zone.js"===S?void 0:S)||new Cc({enableLongStackTrace:Bx(),shouldCoalesceEventChangeDetection:!!(null==M?void 0:M.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==M?void 0:M.ngZoneRunCoalescing)}),x}(O?O.ngZone:void 0,{ngZoneEventCoalescing:O&&O.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:O&&O.ngZoneRunCoalescing||!1}),ie=[{provide:Cc,useValue:Z}];return Z.run(()=>{const de=Oi.create({providers:ie,parent:this.injector,name:x.moduleType.name}),Ee=x.create(de),Ye=Ee.injector.get(Ph,null);if(!Ye)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return Z.runOutsideAngular(()=>{const it=Z.onError.subscribe({next:bt=>{Ye.handleError(bt)}});Ee.onDestroy(()=>{KS(this._modules,Ee),it.unsubscribe()})}),function(S,M,x){try{const O=x();return Qy(O)?O.catch(F=>{throw M.runOutsideAngular(()=>S.handleError(F)),F}):O}catch(O){throw M.runOutsideAngular(()=>S.handleError(O)),O}}(Ye,Z,()=>{const it=Ee.injector.get(bg);return it.runInitializers(),it.donePromise.then(()=>(ub(Ee.injector.get(Y_,y_)||y_),this._moduleDoBootstrap(Ee),Ee))})})}bootstrapModule(x,O=[]){const F=v3({},O);return function(S,M,x){const O=new Hb(x);return Promise.resolve(O)}(0,0,x).then(z=>this.bootstrapModuleFactory(z,F))}_moduleDoBootstrap(x){const O=x.injector.get(Cg);if(x._bootstrapComponents.length>0)x._bootstrapComponents.forEach(F=>O.bootstrap(F));else{if(!x.instance.ngDoBootstrap)throw new Error(`The module ${ve(x.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);x.instance.ngDoBootstrap(O)}this._modules.push(x)}onDestroy(x){this._destroyListeners.push(x)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(x=>x.destroy()),this._destroyListeners.forEach(x=>x()),this._destroyed=!0}get destroyed(){return this._destroyed}}return S.\u0275fac=function(x){return new(x||S)(si(Oi))},S.\u0275prov=Ke({token:S,factory:S.\u0275fac}),S})();function v3(S,M){return Array.isArray(M)?M.reduce(v3,S):Object.assign(Object.assign({},S),M)}let Cg=(()=>{class S{constructor(x,O,F,z,W){this._zone=x,this._injector=O,this._exceptionHandler=F,this._componentFactoryResolver=z,this._initStatus=W,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const Z=new Ct.y(de=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{de.next(this._stable),de.complete()})}),ie=new Ct.y(de=>{let Ee;this._zone.runOutsideAngular(()=>{Ee=this._zone.onStable.subscribe(()=>{Cc.assertNotInAngularZone(),Rx(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,de.next(!0))})})});const Ye=this._zone.onUnstable.subscribe(()=>{Cc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{de.next(!1)}))});return()=>{Ee.unsubscribe(),Ye.unsubscribe()}});this.isStable=(0,Ze.T)(Z,ie.pipe((0,Ne.B)()))}bootstrap(x,O){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let F;F=x instanceof yb?x:this._componentFactoryResolver.resolveComponentFactory(x),this.componentTypes.push(F.componentType);const z=function(S){return S.isBoundToModule}(F)?void 0:this._injector.get(Wh),Z=F.create(Oi.NULL,[],O||F.selector,z),ie=Z.location.nativeElement,de=Z.injector.get(Lx,null),Ee=de&&Z.injector.get(jS);return de&&Ee&&Ee.registerApplication(ie,de),Z.onDestroy(()=>{this.detachView(Z.hostView),KS(this.components,Z),Ee&&Ee.unregisterApplication(ie)}),this._loadComponent(Z),Z}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let x of this._views)x.detectChanges()}catch(x){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(x))}finally{this._runningTick=!1}}attachView(x){const O=x;this._views.push(O),O.attachToAppRef(this)}detachView(x){const O=x;KS(this._views,O),O.detachFromAppRef()}_loadComponent(x){this.attachView(x.hostView),this.tick(),this.components.push(x),this._injector.get(zS,[]).concat(this._bootstrapListeners).forEach(F=>F(x))}ngOnDestroy(){this._views.slice().forEach(x=>x.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return S.\u0275fac=function(x){return new(x||S)(si(Cc),si(Oi),si(Ph),si(D_),si(bg))},S.\u0275prov=Ke({token:S,factory:S.\u0275fac}),S})();function KS(S,M){const x=S.indexOf(M);x>-1&&S.splice(x,1)}class rP{}class iP{}const sP={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let oP=(()=>{class S{constructor(x,O){this._compiler=x,this._config=O||sP}load(x){return this.loadAndCompile(x)}loadAndCompile(x){let[O,F]=x.split("#");return void 0===F&&(F="default"),$e(8255)(O).then(z=>z[F]).then(z=>w3(z,O,F)).then(z=>this._compiler.compileModuleAsync(z))}loadFactory(x){let[O,F]=x.split("#"),z="NgFactory";return void 0===F&&(F="default",z=""),$e(8255)(this._config.factoryPathPrefix+O+this._config.factoryPathSuffix).then(W=>W[F+z]).then(W=>w3(W,O,F))}}return S.\u0275fac=function(x){return new(x||S)(si(K_),si(iP,8))},S.\u0275prov=Ke({token:S,factory:S.\u0275fac}),S})();function w3(S,M,x){if(!S)throw new Error(`Cannot find '${x}' in '${M}'`);return S}const lP=function(S){return null},l1=m3(null,"core",[{provide:t3,useValue:"unknown"},{provide:$S,deps:[Oi]},{provide:jS,deps:[]},{provide:HS,deps:[]}]),iM=[{provide:Cg,useClass:Cg,deps:[Cc,Oi,Ph,D_,bg]},{provide:zb,deps:[Cc],useFactory:function(S){let M=[];return S.onStable.subscribe(()=>{for(;M.length;)M.pop()()}),function(x){M.push(x)}}},{provide:bg,useClass:bg,deps:[[new Xs,Dx]]},{provide:K_,useClass:K_,deps:[]},xx,{provide:ng,useFactory:function(){return lN},deps:[]},{provide:aS,useFactory:function(){return KI},deps:[]},{provide:Y_,useFactory:function(S){return ub(S=S||"undefined"!=typeof $localize&&$localize.locale||y_),S},deps:[[new Fl(Y_),new Xs,new Vi]]},{provide:US,useValue:"USD"}];let k3=(()=>{class S{constructor(x){}}return S.\u0275fac=function(x){return new(x||S)(si(Cg))},S.\u0275mod=X({type:S}),S.\u0275inj=ct({providers:iM}),S})()},2709:(An,zt,$e)=>{"use strict";$e.d(zt,{q4:()=>Fe,HU:()=>St,vb:()=>ft,JM:()=>ut,KL:()=>Qe,u3:()=>Tt});var C=$e(7716),le=$e(2329),Ct=$e(7771),Ze=$e(3637),Ne=$e(7574),Pe=$e(4581),Ve=$e(6561);class ve extends Ne.y{constructor(ke,tt=0,Ue=Pe.e){super(),this.source=ke,this.delayTime=tt,this.scheduler=Ue,(!(0,Ve.k)(tt)||tt<0)&&(this.delayTime=0),(!Ue||"function"!=typeof Ue.schedule)&&(this.scheduler=Pe.e)}static create(ke,tt=0,Ue=Pe.e){return new ve(ke,tt,Ue)}static dispatch(ke){const{source:tt,subscriber:Ue}=ke;return this.add(tt.subscribe(Ue))}_subscribe(ke){return this.scheduler.schedule(ve.dispatch,this.delayTime,{source:this.source,subscriber:ke})}}class Ce{constructor(ke,tt){this.scheduler=ke,this.delay=tt}call(ke,tt){return new ve(tt,this.delay,this.scheduler).subscribe(ke)}}var ye=$e(8307),Re=$e(9746);An=$e.hmd(An);const Fe=new C.GfV("7.0.0");function Qe(vt,ke){const[,tt]=globalThis.\u0275AngularfireInstanceCache.find(Ue=>function(vt,ke){try{return vt.toString()===ke.toString()}catch(tt){return vt===ke}}(Ue[0],vt))||[];if(tt)return tt;{const Ue=ke.runOutsideAngular(()=>vt());return globalThis.\u0275AngularfireInstanceCache.push([vt,Ue]),Ue}}function ut(vt){return(0,le.Mq)().container.getProvider(vt).getImmediate()}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);const ft=(vt,ke)=>{const tt=ke?[ke]:(0,le.C6)(),Ue=[];return tt.forEach(qt=>{qt.container.getProvider(vt).instances.forEach(rt=>{Ue.includes(rt)||Ue.push(rt)})}),Ue};function Mt(){}class Nt{constructor(ke,tt=Ct.N){this.zone=ke,this.delegate=tt}now(){return this.delegate.now()}schedule(ke,tt,Ue){const qt=this.zone;return this.delegate.schedule(function(rt){qt.runGuarded(()=>{ke.apply(this,[rt])})},tt,Ue)}}class ht{constructor(ke){this.zone=ke,this.task=null}call(ke,tt){const Ue=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mt,{},Mt,Mt)),tt.pipe((0,ye.b)({next:Ue,complete:Ue,error:Ue})).subscribe(ke).add(Ue)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let St=(()=>{class vt{constructor(tt){this.ngZone=tt,this.outsideAngular=tt.runOutsideAngular(()=>new Nt(Zone.current)),this.insideAngular=tt.run(()=>new Nt(Zone.current,Ze.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return vt.\u0275fac=function(tt){return new(tt||vt)(C.LFG(C.R0b))},vt.\u0275prov=C.Yz7({token:vt,factory:vt.\u0275fac,providedIn:"root"}),vt})();function Wt(){const vt=globalThis.\u0275AngularFireScheduler;if(!vt)throw new Error("AngularFireModule has not been provided");return vt}function bn(vt){return Wt().ngZone.runOutsideAngular(()=>vt())}function xt(vt){return Wt().ngZone.run(()=>vt())}function Gt(vt){return Wt(),function(vt){return function(tt){return(tt=tt.lift(new ht(vt.ngZone))).pipe(function(vt,ke=0){return function(Ue){return Ue.lift(new Ce(vt,ke))}}(vt.outsideAngular),(0,Re.QV)(vt.insideAngular))}}(Wt())(vt)}const Se=(vt,ke)=>function(){return setTimeout(()=>{"scheduled"===ke.state&&ke.invoke()},10),xt(()=>vt.apply(void 0,arguments))},Tt=vt=>function(){let ke;for(let Ue=0;Ue<arguments.length;Ue++)"function"==typeof arguments[Ue]&&(ke||(ke=xt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mt,{},Mt,Mt))),arguments[Ue]=Se(arguments[Ue],ke));const tt=bn(()=>vt.apply(this,arguments));return tt instanceof Ne.y?tt.pipe(Gt):tt instanceof Promise?xt(()=>new Promise((Ue,qt)=>tt.then(Jt=>xt(()=>Ue(Jt)),Jt=>xt(()=>qt(Jt))))):"function"==typeof tt&&ke?function(){return setTimeout(()=>{"scheduled"===ke.state&&ke.invoke()},10),tt.apply(this,arguments)}:xt(()=>tt)}},5452:(An,zt,$e)=>{"use strict";$e.d(zt,{Jn:()=>Qt,qX:()=>at,Xd:()=>rt,Mq:()=>fe,C6:()=>we,ZF:()=>be,KN:()=>K});var C=$e(6034),le=$e(300),Ct=$e(4685);class Ze{constructor(lt){this.container=lt}getPlatformInfoString(){return this.container.getProviders().map(Rt=>{if(function(Xe){const lt=Xe.getComponent();return"VERSION"===(null==lt?void 0:lt.type)}(Rt)){const on=Rt.getImmediate();return`${on.library}/${on.version}`}return null}).filter(Rt=>Rt).join(" ")}}const Pe="@firebase/app",ve=new le.Yd("@firebase/app"),vt="[DEFAULT]",ke={[Pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},tt=new Map,Ue=new Map;function qt(Xe,lt){try{Xe.container.addComponent(lt)}catch(Rt){ve.debug(`Component ${lt.name} failed to register with FirebaseApp ${Xe.name}`,Rt)}}function rt(Xe){const lt=Xe.name;if(Ue.has(lt))return ve.debug(`There were multiple attempts to register component ${lt}.`),!1;Ue.set(lt,Xe);for(const Rt of tt.values())qt(Rt,Xe);return!0}function at(Xe,lt){return Xe.container.getProvider(lt)}const gt=new Ct.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Zt{constructor(lt,Rt,on){this._isDeleted=!1,this._options=Object.assign({},lt),this._config=Object.assign({},Rt),this._name=Rt.name,this._automaticDataCollectionEnabled=Rt.automaticDataCollectionEnabled,this._container=on,this.container.addComponent(new C.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(lt){this.checkDestroyed(),this._automaticDataCollectionEnabled=lt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(lt){this._isDeleted=lt}checkDestroyed(){if(this.isDeleted)throw gt.create("app-deleted",{appName:this._name})}}const Qt="9.0.0";function be(Xe,lt={}){"object"!=typeof lt&&(lt={name:lt});const Rt=Object.assign({name:vt,automaticDataCollectionEnabled:!1},lt),on=Rt.name;if("string"!=typeof on||!on)throw gt.create("bad-app-name",{appName:String(on)});const Dn=tt.get(on);if(Dn){if((0,Ct.vZ)(Xe,Dn.options)&&(0,Ct.vZ)(Rt,Dn.config))return Dn;throw gt.create("duplicate-app",{appName:on})}const Ln=new C.H0(on);for(const en of Ue.values())Ln.addComponent(en);const gn=new Zt(Xe,Rt,Ln);return tt.set(on,gn),gn}function fe(Xe=vt){const lt=tt.get(Xe);if(!lt)throw gt.create("no-app",{appName:Xe});return lt}function we(){return Array.from(tt.values())}function K(Xe,lt,Rt){var on;let Dn=null!==(on=ke[Xe])&&void 0!==on?on:Xe;Rt&&(Dn+=`-${Rt}`);const Ln=Dn.match(/\s|\//),gn=lt.match(/\s|\//);if(Ln||gn){const en=[`Unable to register library "${Dn}" with version "${lt}":`];return Ln&&en.push(`library name "${Dn}" contains illegal characters (whitespace or "/")`),Ln&&gn&&en.push("and"),gn&&en.push(`version name "${lt}" contains illegal characters (whitespace or "/")`),void ve.warn(en.join(" "))}rt(new C.wA(`${Dn}-version`,()=>({library:Dn,version:lt}),"VERSION"))}rt(new C.wA("platform-logger",lt=>new Ze(lt),"PRIVATE")),K(Pe,"0.7.0",undefined),K("fire-js","")},6034:(An,zt,$e)=>{"use strict";$e.d(zt,{wA:()=>Ct,H0:()=>ve});var C=$e(4762),le=$e(4685),Ct=function(){function Ie(Ce,ye,Re){this.name=Ce,this.instanceFactory=ye,this.type=Re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Ie.prototype.setInstantiationMode=function(Ce){return this.instantiationMode=Ce,this},Ie.prototype.setMultipleInstances=function(Ce){return this.multipleInstances=Ce,this},Ie.prototype.setServiceProps=function(Ce){return this.serviceProps=Ce,this},Ie.prototype.setInstanceCreatedCallback=function(Ce){return this.onInstanceCreated=Ce,this},Ie}(),Ze="[DEFAULT]",Ne=function(){function Ie(Ce,ye){this.name=Ce,this.container=ye,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Ie.prototype.get=function(Ce){var ye=this.normalizeInstanceIdentifier(Ce);if(!this.instancesDeferred.has(ye)){var Re=new le.BH;if(this.instancesDeferred.set(ye,Re),this.isInitialized(ye)||this.shouldAutoInitialize())try{var Fe=this.getOrInitializeService({instanceIdentifier:ye});Fe&&Re.resolve(Fe)}catch(Be){}}return this.instancesDeferred.get(ye).promise},Ie.prototype.getImmediate=function(Ce){var ye,Re=this.normalizeInstanceIdentifier(null==Ce?void 0:Ce.identifier),Fe=null!==(ye=null==Ce?void 0:Ce.optional)&&void 0!==ye&&ye;if(!this.isInitialized(Re)&&!this.shouldAutoInitialize()){if(Fe)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:Re})}catch(Be){if(Fe)return null;throw Be}},Ie.prototype.getComponent=function(){return this.component},Ie.prototype.setComponent=function(Ce){var ye,Re;if(Ce.name!==this.name)throw Error("Mismatching Component "+Ce.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=Ce,this.shouldAutoInitialize()){if(function(Ie){return"EAGER"===Ie.instantiationMode}(Ce))try{this.getOrInitializeService({instanceIdentifier:Ze})}catch(ft){}try{for(var Fe=(0,C.XA)(this.instancesDeferred.entries()),Be=Fe.next();!Be.done;Be=Fe.next()){var pt=(0,C.CR)(Be.value,2),Qe=pt[1],je=this.normalizeInstanceIdentifier(pt[0]);try{var ut=this.getOrInitializeService({instanceIdentifier:je});Qe.resolve(ut)}catch(ft){}}}catch(ft){ye={error:ft}}finally{try{Be&&!Be.done&&(Re=Fe.return)&&Re.call(Fe)}finally{if(ye)throw ye.error}}}},Ie.prototype.clearInstance=function(Ce){void 0===Ce&&(Ce=Ze),this.instancesDeferred.delete(Ce),this.instancesOptions.delete(Ce),this.instances.delete(Ce)},Ie.prototype.delete=function(){return(0,C.mG)(this,void 0,void 0,function(){var Ce;return(0,C.Jh)(this,function(ye){switch(ye.label){case 0:return Ce=Array.from(this.instances.values()),[4,Promise.all((0,C.ev)((0,C.ev)([],(0,C.CR)(Ce.filter(function(Re){return"INTERNAL"in Re}).map(function(Re){return Re.INTERNAL.delete()}))),(0,C.CR)(Ce.filter(function(Re){return"_delete"in Re}).map(function(Re){return Re._delete()}))))];case 1:return ye.sent(),[2]}})})},Ie.prototype.isComponentSet=function(){return null!=this.component},Ie.prototype.isInitialized=function(Ce){return void 0===Ce&&(Ce=Ze),this.instances.has(Ce)},Ie.prototype.getOptions=function(Ce){return void 0===Ce&&(Ce=Ze),this.instancesOptions.get(Ce)||{}},Ie.prototype.initialize=function(Ce){var ye,Re;void 0===Ce&&(Ce={});var Fe=Ce.options,Be=void 0===Fe?{}:Fe,pt=this.normalizeInstanceIdentifier(Ce.instanceIdentifier);if(this.isInitialized(pt))throw Error(this.name+"("+pt+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var Te=this.getOrInitializeService({instanceIdentifier:pt,options:Be});try{for(var Qe=(0,C.XA)(this.instancesDeferred.entries()),je=Qe.next();!je.done;je=Qe.next()){var ut=(0,C.CR)(je.value,2),Mt=ut[1];pt===this.normalizeInstanceIdentifier(ut[0])&&Mt.resolve(Te)}}catch(ht){ye={error:ht}}finally{try{je&&!je.done&&(Re=Qe.return)&&Re.call(Qe)}finally{if(ye)throw ye.error}}return Te},Ie.prototype.onInit=function(Ce,ye){var Re,Fe=this.normalizeInstanceIdentifier(ye),Be=null!==(Re=this.onInitCallbacks.get(Fe))&&void 0!==Re?Re:new Set;Be.add(Ce),this.onInitCallbacks.set(Fe,Be);var pt=this.instances.get(Fe);return pt&&Ce(pt,Fe),function(){Be.delete(Ce)}},Ie.prototype.invokeOnInitCallbacks=function(Ce,ye){var Re,Fe,Be=this.onInitCallbacks.get(ye);if(Be)try{for(var pt=(0,C.XA)(Be),Te=pt.next();!Te.done;Te=pt.next()){var Qe=Te.value;try{Qe(Ce,ye)}catch(je){}}}catch(je){Re={error:je}}finally{try{Te&&!Te.done&&(Fe=pt.return)&&Fe.call(pt)}finally{if(Re)throw Re.error}}},Ie.prototype.getOrInitializeService=function(Ce){var ye=Ce.instanceIdentifier,Re=Ce.options,Fe=void 0===Re?{}:Re,Be=this.instances.get(ye);if(!Be&&this.component&&(Be=this.component.instanceFactory(this.container,{instanceIdentifier:Pe(ye),options:Fe}),this.instances.set(ye,Be),this.instancesOptions.set(ye,Fe),this.invokeOnInitCallbacks(Be,ye),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ye,Be)}catch(pt){}return Be||null},Ie.prototype.normalizeInstanceIdentifier=function(Ce){return void 0===Ce&&(Ce=Ze),this.component?this.component.multipleInstances?Ce:Ze:Ce},Ie.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},Ie}();function Pe(Ie){return Ie===Ze?void 0:Ie}var ve=function(){function Ie(Ce){this.name=Ce,this.providers=new Map}return Ie.prototype.addComponent=function(Ce){var ye=this.getProvider(Ce.name);if(ye.isComponentSet())throw new Error("Component "+Ce.name+" has already been registered with "+this.name);ye.setComponent(Ce)},Ie.prototype.addOrOverwriteComponent=function(Ce){this.getProvider(Ce.name).isComponentSet()&&this.providers.delete(Ce.name),this.addComponent(Ce)},Ie.prototype.getProvider=function(Ce){if(this.providers.has(Ce))return this.providers.get(Ce);var ye=new Ne(Ce,this);return this.providers.set(Ce,ye),ye},Ie.prototype.getProviders=function(){return Array.from(this.providers.values())},Ie}()},300:(An,zt,$e)=>{"use strict";function C(){for(var Re=0,Fe=0,Be=arguments.length;Fe<Be;Fe++)Re+=arguments[Fe].length;var pt=Array(Re),Te=0;for(Fe=0;Fe<Be;Fe++)for(var Qe=arguments[Fe],je=0,ut=Qe.length;je<ut;je++,Te++)pt[Te]=Qe[je];return pt}$e.d(zt,{in:()=>Ze,Yd:()=>Ie});var le,Ct=[],Ze=(()=>{return(Re=Ze||(Ze={}))[Re.DEBUG=0]="DEBUG",Re[Re.VERBOSE=1]="VERBOSE",Re[Re.INFO=2]="INFO",Re[Re.WARN=3]="WARN",Re[Re.ERROR=4]="ERROR",Re[Re.SILENT=5]="SILENT",Ze;var Re})(),Ne={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},Pe=Ze.INFO,Ve=((le={})[Ze.DEBUG]="log",le[Ze.VERBOSE]="log",le[Ze.INFO]="info",le[Ze.WARN]="warn",le[Ze.ERROR]="error",le),ve=function(Re,Fe){for(var Be=[],pt=2;pt<arguments.length;pt++)Be[pt-2]=arguments[pt];if(!(Fe<Re.logLevel)){var Te=(new Date).toISOString(),Qe=Ve[Fe];if(!Qe)throw new Error("Attempted to log a message with an invalid logType (value: "+Fe+")");console[Qe].apply(console,C(["["+Te+"]  "+Re.name+":"],Be))}},Ie=function(){function Re(Fe){this.name=Fe,this._logLevel=Pe,this._logHandler=ve,this._userLogHandler=null,Ct.push(this)}return Object.defineProperty(Re.prototype,"logLevel",{get:function(){return this._logLevel},set:function(Fe){if(!(Fe in Ze))throw new TypeError('Invalid value "'+Fe+'" assigned to `logLevel`');this._logLevel=Fe},enumerable:!1,configurable:!0}),Re.prototype.setLogLevel=function(Fe){this._logLevel="string"==typeof Fe?Ne[Fe]:Fe},Object.defineProperty(Re.prototype,"logHandler",{get:function(){return this._logHandler},set:function(Fe){if("function"!=typeof Fe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Fe},enumerable:!1,configurable:!0}),Object.defineProperty(Re.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(Fe){this._userLogHandler=Fe},enumerable:!1,configurable:!0}),Re.prototype.debug=function(){for(var Fe=[],Be=0;Be<arguments.length;Be++)Fe[Be]=arguments[Be];this._userLogHandler&&this._userLogHandler.apply(this,C([this,Ze.DEBUG],Fe)),this._logHandler.apply(this,C([this,Ze.DEBUG],Fe))},Re.prototype.log=function(){for(var Fe=[],Be=0;Be<arguments.length;Be++)Fe[Be]=arguments[Be];this._userLogHandler&&this._userLogHandler.apply(this,C([this,Ze.VERBOSE],Fe)),this._logHandler.apply(this,C([this,Ze.VERBOSE],Fe))},Re.prototype.info=function(){for(var Fe=[],Be=0;Be<arguments.length;Be++)Fe[Be]=arguments[Be];this._userLogHandler&&this._userLogHandler.apply(this,C([this,Ze.INFO],Fe)),this._logHandler.apply(this,C([this,Ze.INFO],Fe))},Re.prototype.warn=function(){for(var Fe=[],Be=0;Be<arguments.length;Be++)Fe[Be]=arguments[Be];this._userLogHandler&&this._userLogHandler.apply(this,C([this,Ze.WARN],Fe)),this._logHandler.apply(this,C([this,Ze.WARN],Fe))},Re.prototype.error=function(){for(var Fe=[],Be=0;Be<arguments.length;Be++)Fe[Be]=arguments[Be];this._userLogHandler&&this._userLogHandler.apply(this,C([this,Ze.ERROR],Fe)),this._logHandler.apply(this,C([this,Ze.ERROR],Fe))},Re}()},4685:(An,zt,$e)=>{"use strict";$e.d(zt,{BH:()=>Be,LL:()=>Tt,ZR:()=>Se,tV:()=>Ce,ne:()=>K,vZ:()=>Qt,m9:()=>Wr,z$:()=>Te,ru:()=>ft,uI:()=>Qe,b$:()=>Mt,xO:()=>fe});var C=$e(4762),Ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(dt,ee){if(!Array.isArray(dt))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var se=ee?this.byteToCharMapWebSafe_:this.byteToCharMap_,_t=[],pe=0;pe<dt.length;pe+=3){var Je=dt[pe],Pn=pe+1<dt.length,pn=Pn?dt[pe+1]:0,Cr=pe+2<dt.length,lr=Cr?dt[pe+2]:0,De=(15&pn)<<2|lr>>6,ne=63&lr;Cr||(ne=64,Pn||(De=64)),_t.push(se[Je>>2],se[(3&Je)<<4|pn>>4],se[De],se[ne])}return _t.join("")},encodeString:function(dt,ee){return this.HAS_NATIVE_SUPPORT&&!ee?btoa(dt):this.encodeByteArray(function(dt){for(var ee=[],se=0,_t=0;_t<dt.length;_t++){var pe=dt.charCodeAt(_t);pe<128?ee[se++]=pe:pe<2048?(ee[se++]=pe>>6|192,ee[se++]=63&pe|128):55296==(64512&pe)&&_t+1<dt.length&&56320==(64512&dt.charCodeAt(_t+1))?(pe=65536+((1023&pe)<<10)+(1023&dt.charCodeAt(++_t)),ee[se++]=pe>>18|240,ee[se++]=pe>>12&63|128,ee[se++]=pe>>6&63|128,ee[se++]=63&pe|128):(ee[se++]=pe>>12|224,ee[se++]=pe>>6&63|128,ee[se++]=63&pe|128)}return ee}(dt),ee)},decodeString:function(dt,ee){return this.HAS_NATIVE_SUPPORT&&!ee?atob(dt):function(dt){for(var ee=[],se=0,_t=0;se<dt.length;){var pe=dt[se++];if(pe<128)ee[_t++]=String.fromCharCode(pe);else if(pe>191&&pe<224){var Je=dt[se++];ee[_t++]=String.fromCharCode((31&pe)<<6|63&Je)}else if(pe>239&&pe<365){var Cr=((7&pe)<<18|(63&(Je=dt[se++]))<<12|(63&(Pn=dt[se++]))<<6|63&dt[se++])-65536;ee[_t++]=String.fromCharCode(55296+(Cr>>10)),ee[_t++]=String.fromCharCode(56320+(1023&Cr))}else{Je=dt[se++];var Pn=dt[se++];ee[_t++]=String.fromCharCode((15&pe)<<12|(63&Je)<<6|63&Pn)}}return ee.join("")}(this.decodeStringToByteArray(dt,ee))},decodeStringToByteArray:function(dt,ee){this.init_();for(var se=ee?this.charToByteMapWebSafe_:this.charToByteMap_,_t=[],pe=0;pe<dt.length;){var Je=se[dt.charAt(pe++)],pn=pe<dt.length?se[dt.charAt(pe)]:0,lr=++pe<dt.length?se[dt.charAt(pe)]:64,$r=++pe<dt.length?se[dt.charAt(pe)]:64;if(++pe,null==Je||null==pn||null==lr||null==$r)throw Error();_t.push(Je<<2|pn>>4),64!==lr&&(_t.push(pn<<4&240|lr>>2),64!==$r&&_t.push(lr<<6&192|$r))}return _t},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var dt=0;dt<this.ENCODED_VALS.length;dt++)this.byteToCharMap_[dt]=this.ENCODED_VALS.charAt(dt),this.charToByteMap_[this.byteToCharMap_[dt]]=dt,this.byteToCharMapWebSafe_[dt]=this.ENCODED_VALS_WEBSAFE.charAt(dt),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[dt]]=dt,dt>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(dt)]=dt,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(dt)]=dt)}}},Ce=function(dt){try{return Ve.decodeString(dt,!0)}catch(ee){console.error("base64Decode failed: ",ee)}return null},Be=function(){function dt(){var ee=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(se,_t){ee.resolve=se,ee.reject=_t})}return dt.prototype.wrapCallback=function(ee){var se=this;return function(_t,pe){_t?se.reject(_t):se.resolve(pe),"function"==typeof ee&&(se.promise.catch(function(){}),1===ee.length?ee(_t):ee(_t,pe))}},dt}();function Te(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Qe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Te())}function ft(){var dt="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof dt&&void 0!==dt.id}function Mt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}var Se=function(dt){function ee(se,_t,pe){var Je=dt.call(this,_t)||this;return Je.code=se,Je.customData=pe,Je.name="FirebaseError",Object.setPrototypeOf(Je,ee.prototype),Error.captureStackTrace&&Error.captureStackTrace(Je,Tt.prototype.create),Je}return(0,C.ZT)(ee,dt),ee}(Error),Tt=function(){function dt(ee,se,_t){this.service=ee,this.serviceName=se,this.errors=_t}return dt.prototype.create=function(ee){for(var se=[],_t=1;_t<arguments.length;_t++)se[_t-1]=arguments[_t];var pe=se[0]||{},Je=this.service+"/"+ee,Pn=this.errors[ee],pn=Pn?vt(Pn,pe):"Error",Cr=this.serviceName+": "+pn+" ("+Je+").",lr=new Se(Je,Cr,pe);return lr},dt}();function vt(dt,ee){return dt.replace(ke,function(se,_t){var pe=ee[_t];return null!=pe?String(pe):"<"+_t+"?>"})}var ke=/\{\$([^}]+)}/g;function Qt(dt,ee){if(dt===ee)return!0;for(var se=Object.keys(dt),_t=Object.keys(ee),pe=0,Je=se;pe<Je.length;pe++){if(!_t.includes(Pn=Je[pe]))return!1;var pn=dt[Pn],Cr=ee[Pn];if(be(pn)&&be(Cr)){if(!Qt(pn,Cr))return!1}else if(pn!==Cr)return!1}for(var lr=0,Wn=_t;lr<Wn.length;lr++){var Pn;if(!se.includes(Pn=Wn[lr]))return!1}return!0}function be(dt){return null!==dt&&"object"==typeof dt}function fe(dt){for(var ee=[],se=function(Cr,lr){Array.isArray(lr)?lr.forEach(function(Wn){ee.push(encodeURIComponent(Cr)+"="+encodeURIComponent(Wn))}):ee.push(encodeURIComponent(Cr)+"="+encodeURIComponent(lr))},_t=0,pe=Object.entries(dt);_t<pe.length;_t++){var Je=pe[_t];se(Je[0],Je[1])}return ee.length?"&"+ee.join("&"):""}function K(dt,ee){var se=new te(dt,ee);return se.subscribe.bind(se)}!function(){function dt(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var ee=1;ee<this.blockSize;++ee)this.pad_[ee]=0;this.reset()}dt.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},dt.prototype.compress_=function(ee,se){se||(se=0);var _t=this.W_;if("string"==typeof ee)for(var pe=0;pe<16;pe++)_t[pe]=ee.charCodeAt(se)<<24|ee.charCodeAt(se+1)<<16|ee.charCodeAt(se+2)<<8|ee.charCodeAt(se+3),se+=4;else for(pe=0;pe<16;pe++)_t[pe]=ee[se]<<24|ee[se+1]<<16|ee[se+2]<<8|ee[se+3],se+=4;for(pe=16;pe<80;pe++)_t[pe]=4294967295&((Je=_t[pe-3]^_t[pe-8]^_t[pe-14]^_t[pe-16])<<1|Je>>>31);var $r,De,Pn=this.chain_[0],pn=this.chain_[1],Cr=this.chain_[2],lr=this.chain_[3],Wn=this.chain_[4];for(pe=0;pe<80;pe++){pe<40?pe<20?($r=lr^pn&(Cr^lr),De=1518500249):($r=pn^Cr^lr,De=1859775393):pe<60?($r=pn&Cr|lr&(pn|Cr),De=2400959708):($r=pn^Cr^lr,De=3395469782);var Je=(Pn<<5|Pn>>>27)+$r+Wn+De+_t[pe]&4294967295;Wn=lr,lr=Cr,Cr=4294967295&(pn<<30|pn>>>2),pn=Pn,Pn=Je}this.chain_[0]=this.chain_[0]+Pn&4294967295,this.chain_[1]=this.chain_[1]+pn&4294967295,this.chain_[2]=this.chain_[2]+Cr&4294967295,this.chain_[3]=this.chain_[3]+lr&4294967295,this.chain_[4]=this.chain_[4]+Wn&4294967295},dt.prototype.update=function(ee,se){if(null!=ee){void 0===se&&(se=ee.length);for(var _t=se-this.blockSize,pe=0,Je=this.buf_,Pn=this.inbuf_;pe<se;){if(0===Pn)for(;pe<=_t;)this.compress_(ee,pe),pe+=this.blockSize;if("string"==typeof ee){for(;pe<se;)if(Je[Pn]=ee.charCodeAt(pe),++pe,++Pn===this.blockSize){this.compress_(Je),Pn=0;break}}else for(;pe<se;)if(Je[Pn]=ee[pe],++pe,++Pn===this.blockSize){this.compress_(Je),Pn=0;break}}this.inbuf_=Pn,this.total_+=se}},dt.prototype.digest=function(){var ee=[],se=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var _t=this.blockSize-1;_t>=56;_t--)this.buf_[_t]=255&se,se/=256;this.compress_(this.buf_);var pe=0;for(_t=0;_t<5;_t++)for(var Je=24;Je>=0;Je-=8)ee[pe]=this.chain_[_t]>>Je&255,++pe;return ee}}();var te=function(){function dt(ee,se){var _t=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=se,this.task.then(function(){ee(_t)}).catch(function(pe){_t.error(pe)})}return dt.prototype.next=function(ee){this.forEachObserver(function(se){se.next(ee)})},dt.prototype.error=function(ee){this.forEachObserver(function(se){se.error(ee)}),this.close(ee)},dt.prototype.complete=function(){this.forEachObserver(function(ee){ee.complete()}),this.close()},dt.prototype.subscribe=function(ee,se,_t){var Je,pe=this;if(void 0===ee&&void 0===se&&void 0===_t)throw new Error("Missing Observer.");void 0===(Je=function(dt,ee){if("object"!=typeof dt||null===dt)return!1;for(var se=0,_t=["next","error","complete"];se<_t.length;se++){var pe=_t[se];if(pe in dt&&"function"==typeof dt[pe])return!0}return!1}(ee)?ee:{next:ee,error:se,complete:_t}).next&&(Je.next=Xe),void 0===Je.error&&(Je.error=Xe),void 0===Je.complete&&(Je.complete=Xe);var Pn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{pe.finalError?Je.error(pe.finalError):Je.complete()}catch(pn){}}),this.observers.push(Je),Pn},dt.prototype.unsubscribeOne=function(ee){void 0===this.observers||void 0===this.observers[ee]||(delete this.observers[ee],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},dt.prototype.forEachObserver=function(ee){if(!this.finalized)for(var se=0;se<this.observers.length;se++)this.sendOne(se,ee)},dt.prototype.sendOne=function(ee,se){var _t=this;this.task.then(function(){if(void 0!==_t.observers&&void 0!==_t.observers[ee])try{se(_t.observers[ee])}catch(pe){"undefined"!=typeof console&&console.error&&console.error(pe)}})},dt.prototype.close=function(ee){var se=this;this.finalized||(this.finalized=!0,void 0!==ee&&(this.finalError=ee),this.task.then(function(){se.observers=void 0,se.onNoObservers=void 0}))},dt}();function Xe(){}function Wr(dt){return dt&&dt._delegate?dt._delegate:dt}},2329:(An,zt,$e)=>{"use strict";$e.d(zt,{Mq:()=>C.Mq,C6:()=>C.C6,ZF:()=>C.ZF,KN:()=>C.KN});var C=$e(5452);(0,C.KN)("firebase","9.0.0","app")},5413:function(An){"undefined"!=typeof self&&self,An.exports=function(){"use strict";var zt={d:function(me,U){for(var q in U)zt.o(U,q)&&!zt.o(me,q)&&Object.defineProperty(me,q,{enumerable:!0,get:U[q]})},o:function(me,U){return Object.prototype.hasOwnProperty.call(me,U)}},$e={};zt.d($e,{default:function(){return Js}});var C=function me(U,q){this.position=void 0;var J,j="KaTeX parse error: "+U,ae=q&&q.loc;if(ae&&ae.start<=ae.end){var ue=ae.lexer.input,xe=ae.end;j+=(J=ae.start)===ue.length?" at end of input: ":" at position "+(J+1)+": ";var We=ue.slice(J,xe).replace(/[^]/g,"$&\u0332");j+=(J>15?"\u2026"+ue.slice(J-15,J):ue.slice(0,J))+We+(xe+15<ue.length?ue.slice(xe,xe+15)+"\u2026":ue.slice(xe))}var jt=new Error(j);return jt.name="ParseError",jt.__proto__=me.prototype,jt.position=J,jt};C.prototype.__proto__=Error.prototype;var le=C,Ne=/([A-Z])/g,Ve={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},ve=/[&><"']/g;var Ce=function me(U){return"ordgroup"===U.type||"color"===U.type?1===U.body.length?me(U.body[0]):U:"font"===U.type?me(U.body):U},Be={contains:function(U,q){return-1!==U.indexOf(q)},deflt:function(U,q){return void 0===U?q:U},escape:function(me){return String(me).replace(ve,function(U){return Ve[U]})},hyphenate:function(U){return U.replace(Ne,"-$1").toLowerCase()},getBaseElem:Ce,isCharacterBox:function(U){var q=Ce(U);return"mathord"===q.type||"textord"===q.type||"atom"===q.type},protocolFromUrl:function(U){var q=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(U);return null!=q?q[1]:"_relative"}},pt=function(){function me(q){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,this.displayMode=Be.deflt((q=q||{}).displayMode,!1),this.output=Be.deflt(q.output,"htmlAndMathml"),this.leqno=Be.deflt(q.leqno,!1),this.fleqn=Be.deflt(q.fleqn,!1),this.throwOnError=Be.deflt(q.throwOnError,!0),this.errorColor=Be.deflt(q.errorColor,"#cc0000"),this.macros=q.macros||{},this.minRuleThickness=Math.max(0,Be.deflt(q.minRuleThickness,0)),this.colorIsTextColor=Be.deflt(q.colorIsTextColor,!1),this.strict=Be.deflt(q.strict,"warn"),this.trust=Be.deflt(q.trust,!1),this.maxSize=Math.max(0,Be.deflt(q.maxSize,1/0)),this.maxExpand=Math.max(0,Be.deflt(q.maxExpand,1e3)),this.globalGroup=Be.deflt(q.globalGroup,!1)}var U=me.prototype;return U.reportNonstrict=function(j,J,ae){var ue=this.strict;if("function"==typeof ue&&(ue=ue(j,J,ae)),ue&&"ignore"!==ue){if(!0===ue||"error"===ue)throw new le("LaTeX-incompatible input and strict mode is set to 'error': "+J+" ["+j+"]",ae);"warn"===ue?"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+J+" ["+j+"]"):"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+ue+"': "+J+" ["+j+"]")}},U.useStrictBehavior=function(j,J,ae){var ue=this.strict;if("function"==typeof ue)try{ue=ue(j,J,ae)}catch(xe){ue="error"}return!(!ue||"ignore"===ue||!0!==ue&&"error"!==ue&&("warn"===ue?("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+J+" ["+j+"]"),1):("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+ue+"': "+J+" ["+j+"]"),1)))},U.isTrusted=function(j){j.url&&!j.protocol&&(j.protocol=Be.protocolFromUrl(j.url));var J="function"==typeof this.trust?this.trust(j):this.trust;return Boolean(J)},me}(),Te=function(){function me(q,j,J){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=q,this.size=j,this.cramped=J}var U=me.prototype;return U.sup=function(){return Wt[bn[this.id]]},U.sub=function(){return Wt[xt[this.id]]},U.fracNum=function(){return Wt[Ot[this.id]]},U.fracDen=function(){return Wt[Ht[this.id]]},U.cramp=function(){return Wt[Gt[this.id]]},U.text=function(){return Wt[Et[this.id]]},U.isTight=function(){return this.size>=2},me}(),Wt=[new Te(0,0,!1),new Te(1,0,!0),new Te(2,1,!1),new Te(3,1,!0),new Te(4,2,!1),new Te(5,2,!0),new Te(6,3,!1),new Te(7,3,!0)],bn=[4,5,4,5,6,7,6,7],xt=[5,5,5,5,7,7,7,7],Ot=[2,3,4,5,6,7,6,7],Ht=[3,3,5,5,7,7,7,7],Gt=[1,1,3,3,5,5,7,7],Et=[0,1,2,3,2,3,2,3],Se={DISPLAY:Wt[0],TEXT:Wt[2],SCRIPT:Wt[4],SCRIPTSCRIPT:Wt[6]},Tt=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];var ke=[];function tt(me){for(var U=0;U<ke.length;U+=2)if(me>=ke[U]&&me<=ke[U+1])return!0;return!1}Tt.forEach(function(me){return me.blocks.forEach(function(U){return ke.push.apply(ke,U)})});var Qt={doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"},be=function(){function me(q){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=q,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}var U=me.prototype;return U.hasClass=function(j){return Be.contains(this.classes,j)},U.toNode=function(){for(var j=document.createDocumentFragment(),J=0;J<this.children.length;J++)j.appendChild(this.children[J].toNode());return j},U.toMarkup=function(){for(var j="",J=0;J<this.children.length;J++)j+=this.children[J].toMarkup();return j},U.toText=function(){return this.children.map(function(ae){return ae.toText()}).join("")},me}(),fe=function(U){return U.filter(function(q){return q}).join(" ")},we=function(U,q,j){if(this.classes=U||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=j||{},q){q.style.isTight()&&this.classes.push("mtight");var J=q.getColor();J&&(this.style.color=J)}},Ae=function(U){var q=document.createElement(U);for(var j in q.className=fe(this.classes),this.style)this.style.hasOwnProperty(j)&&(q.style[j]=this.style[j]);for(var J in this.attributes)this.attributes.hasOwnProperty(J)&&q.setAttribute(J,this.attributes[J]);for(var ae=0;ae<this.children.length;ae++)q.appendChild(this.children[ae].toNode());return q},Ge=function(U){var q="<"+U;this.classes.length&&(q+=' class="'+Be.escape(fe(this.classes))+'"');var j="";for(var J in this.style)this.style.hasOwnProperty(J)&&(j+=Be.hyphenate(J)+":"+this.style[J]+";");for(var ae in j&&(q+=' style="'+Be.escape(j)+'"'),this.attributes)this.attributes.hasOwnProperty(ae)&&(q+=" "+ae+'="'+Be.escape(this.attributes[ae])+'"');q+=">";for(var ue=0;ue<this.children.length;ue++)q+=this.children[ue].toMarkup();return q+"</"+U+">"},K=function(){function me(q,j,J,ae){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,we.call(this,q,J,ae),this.children=j||[]}var U=me.prototype;return U.setAttribute=function(j,J){this.attributes[j]=J},U.hasClass=function(j){return Be.contains(this.classes,j)},U.toNode=function(){return Ae.call(this,"span")},U.toMarkup=function(){return Ge.call(this,"span")},me}(),te=function(){function me(q,j,J,ae){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,we.call(this,j,ae),this.children=J||[],this.setAttribute("href",q)}var U=me.prototype;return U.setAttribute=function(j,J){this.attributes[j]=J},U.hasClass=function(j){return Be.contains(this.classes,j)},U.toNode=function(){return Ae.call(this,"a")},U.toMarkup=function(){return Ge.call(this,"a")},me}(),ge=function(){function me(q,j,J){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=j,this.src=q,this.classes=["mord"],this.style=J}var U=me.prototype;return U.hasClass=function(j){return Be.contains(this.classes,j)},U.toNode=function(){var j=document.createElement("img");for(var J in j.src=this.src,j.alt=this.alt,j.className="mord",this.style)this.style.hasOwnProperty(J)&&(j.style[J]=this.style[J]);return j},U.toMarkup=function(){var j="<img  src='"+this.src+" 'alt='"+this.alt+"' ",J="";for(var ae in this.style)this.style.hasOwnProperty(ae)&&(J+=Be.hyphenate(ae)+":"+this.style[ae]+";");return J&&(j+=' style="'+Be.escape(J)+'"'),j+"'/>"},me}(),Le={\u00ee:"\u0131\u0302",\u00ef:"\u0131\u0308",\u00ed:"\u0131\u0301",\u00ec:"\u0131\u0300"},Xe=function(){function me(q,j,J,ae,ue,xe,We,ot){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=q,this.height=j||0,this.depth=J||0,this.italic=ae||0,this.skew=ue||0,this.width=xe||0,this.classes=We||[],this.style=ot||{},this.maxFontSize=0;var Dt=function(me){for(var U=0;U<Tt.length;U++)for(var q=Tt[U],j=0;j<q.blocks.length;j++){var J=q.blocks[j];if(me>=J[0]&&me<=J[1])return q.name}return null}(this.text.charCodeAt(0));Dt&&this.classes.push(Dt+"_fallback"),/[\xee\xef\xed\xec]/.test(this.text)&&(this.text=Le[this.text])}var U=me.prototype;return U.hasClass=function(j){return Be.contains(this.classes,j)},U.toNode=function(){var j=document.createTextNode(this.text),J=null;for(var ae in this.italic>0&&((J=document.createElement("span")).style.marginRight=this.italic+"em"),this.classes.length>0&&((J=J||document.createElement("span")).className=fe(this.classes)),this.style)this.style.hasOwnProperty(ae)&&((J=J||document.createElement("span")).style[ae]=this.style[ae]);return J?(J.appendChild(j),J):j},U.toMarkup=function(){var j=!1,J="<span";this.classes.length&&(j=!0,J+=' class="',J+=Be.escape(fe(this.classes)),J+='"');var ae="";for(var ue in this.italic>0&&(ae+="margin-right:"+this.italic+"em;"),this.style)this.style.hasOwnProperty(ue)&&(ae+=Be.hyphenate(ue)+":"+this.style[ue]+";");ae&&(j=!0,J+=' style="'+Be.escape(ae)+'"');var xe=Be.escape(this.text);return j?(J+=">",J+=xe,J+="</span>"):xe},me}(),lt=function(){function me(q,j){this.children=void 0,this.attributes=void 0,this.children=q||[],this.attributes=j||{}}var U=me.prototype;return U.toNode=function(){var J=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var ae in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,ae)&&J.setAttribute(ae,this.attributes[ae]);for(var ue=0;ue<this.children.length;ue++)J.appendChild(this.children[ue].toNode());return J},U.toMarkup=function(){var j='<svg xmlns="http://www.w3.org/2000/svg"';for(var J in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,J)&&(j+=" "+J+"='"+this.attributes[J]+"'");j+=">";for(var ae=0;ae<this.children.length;ae++)j+=this.children[ae].toMarkup();return j+"</svg>"},me}(),Rt=function(){function me(q,j){this.pathName=void 0,this.alternate=void 0,this.pathName=q,this.alternate=j}var U=me.prototype;return U.toNode=function(){var J=document.createElementNS("http://www.w3.org/2000/svg","path");return J.setAttribute("d",this.alternate?this.alternate:Qt[this.pathName]),J},U.toMarkup=function(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+Qt[this.pathName]+"'/>"},me}(),on=function(){function me(q){this.attributes=void 0,this.attributes=q||{}}var U=me.prototype;return U.toNode=function(){var J=document.createElementNS("http://www.w3.org/2000/svg","line");for(var ae in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,ae)&&J.setAttribute(ae,this.attributes[ae]);return J},U.toMarkup=function(){var j="<line";for(var J in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,J)&&(j+=" "+J+"='"+this.attributes[J]+"'");return j+"/>"},me}();function Dn(me){if(me instanceof Xe)return me;throw new Error("Expected symbolNode but got "+String(me)+".")}var gn={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.12,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,1],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.67,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.9,0,0,.278],8943:[-.19,.31,0,0,1.172],8945:[-.1,.82,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.744,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.744,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},en={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Un={\u00c5:"A",\u00c7:"C",\u00d0:"D",\u00de:"o",\u00e5:"a",\u00e7:"c",\u00f0:"d",\u00fe:"o",\u0410:"A",\u0411:"B",\u0412:"B",\u0413:"F",\u0414:"A",\u0415:"E",\u0416:"K",\u0417:"3",\u0418:"N",\u0419:"N",\u041a:"K",\u041b:"N",\u041c:"M",\u041d:"H",\u041e:"O",\u041f:"N",\u0420:"P",\u0421:"C",\u0422:"T",\u0423:"y",\u0424:"O",\u0425:"X",\u0426:"U",\u0427:"h",\u0428:"W",\u0429:"W",\u042a:"B",\u042b:"X",\u042c:"B",\u042d:"3",\u042e:"X",\u042f:"R",\u0430:"a",\u0431:"b",\u0432:"a",\u0433:"r",\u0434:"y",\u0435:"e",\u0436:"m",\u0437:"e",\u0438:"n",\u0439:"n",\u043a:"n",\u043b:"n",\u043c:"m",\u043d:"n",\u043e:"o",\u043f:"n",\u0440:"p",\u0441:"c",\u0442:"o",\u0443:"y",\u0444:"b",\u0445:"x",\u0446:"n",\u0447:"n",\u0448:"w",\u0449:"w",\u044a:"a",\u044b:"m",\u044c:"a",\u044d:"e",\u044e:"m",\u044f:"r"};function Gi(me,U,q){if(!gn[U])throw new Error("Font metrics not found for font: "+U+".");var j=me.charCodeAt(0),J=gn[U][j];if(!J&&me[0]in Un&&(j=Un[me[0]].charCodeAt(0),J=gn[U][j]),!J&&"text"===q&&tt(j)&&(J=gn[U][77]),J)return{depth:J[0],height:J[1],italic:J[2],skew:J[3],width:J[4]}}var li={};var Ti={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Ls={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Wr={math:{},text:{}},dt=Wr;function ee(me,U,q,j,J,ae){Wr[me][J]={font:U,group:q,replace:j},ae&&j&&(Wr[me][j]=Wr[me][J])}var se="math",_t="text",pe="main",Je="ams",Pn="accent-token",pn="bin",Cr="close",lr="inner",Wn="mathord",$r="op-token",De="open",ne="punct",X="rel",Me="spacing",he="textord";ee(se,pe,X,"\u2261","\\equiv",!0),ee(se,pe,X,"\u227a","\\prec",!0),ee(se,pe,X,"\u227b","\\succ",!0),ee(se,pe,X,"\u223c","\\sim",!0),ee(se,pe,X,"\u22a5","\\perp"),ee(se,pe,X,"\u2aaf","\\preceq",!0),ee(se,pe,X,"\u2ab0","\\succeq",!0),ee(se,pe,X,"\u2243","\\simeq",!0),ee(se,pe,X,"\u2223","\\mid",!0),ee(se,pe,X,"\u226a","\\ll",!0),ee(se,pe,X,"\u226b","\\gg",!0),ee(se,pe,X,"\u224d","\\asymp",!0),ee(se,pe,X,"\u2225","\\parallel"),ee(se,pe,X,"\u22c8","\\bowtie",!0),ee(se,pe,X,"\u2323","\\smile",!0),ee(se,pe,X,"\u2291","\\sqsubseteq",!0),ee(se,pe,X,"\u2292","\\sqsupseteq",!0),ee(se,pe,X,"\u2250","\\doteq",!0),ee(se,pe,X,"\u2322","\\frown",!0),ee(se,pe,X,"\u220b","\\ni",!0),ee(se,pe,X,"\u221d","\\propto",!0),ee(se,pe,X,"\u22a2","\\vdash",!0),ee(se,pe,X,"\u22a3","\\dashv",!0),ee(se,pe,X,"\u220b","\\owns"),ee(se,pe,ne,".","\\ldotp"),ee(se,pe,ne,"\u22c5","\\cdotp"),ee(se,pe,he,"#","\\#"),ee(_t,pe,he,"#","\\#"),ee(se,pe,he,"&","\\&"),ee(_t,pe,he,"&","\\&"),ee(se,pe,he,"\u2135","\\aleph",!0),ee(se,pe,he,"\u2200","\\forall",!0),ee(se,pe,he,"\u210f","\\hbar",!0),ee(se,pe,he,"\u2203","\\exists",!0),ee(se,pe,he,"\u2207","\\nabla",!0),ee(se,pe,he,"\u266d","\\flat",!0),ee(se,pe,he,"\u2113","\\ell",!0),ee(se,pe,he,"\u266e","\\natural",!0),ee(se,pe,he,"\u2663","\\clubsuit",!0),ee(se,pe,he,"\u2118","\\wp",!0),ee(se,pe,he,"\u266f","\\sharp",!0),ee(se,pe,he,"\u2662","\\diamondsuit",!0),ee(se,pe,he,"\u211c","\\Re",!0),ee(se,pe,he,"\u2661","\\heartsuit",!0),ee(se,pe,he,"\u2111","\\Im",!0),ee(se,pe,he,"\u2660","\\spadesuit",!0),ee(se,pe,he,"\xa7","\\S",!0),ee(_t,pe,he,"\xa7","\\S"),ee(se,pe,he,"\xb6","\\P",!0),ee(_t,pe,he,"\xb6","\\P"),ee(se,pe,he,"\u2020","\\dag"),ee(_t,pe,he,"\u2020","\\dag"),ee(_t,pe,he,"\u2020","\\textdagger"),ee(se,pe,he,"\u2021","\\ddag"),ee(_t,pe,he,"\u2021","\\ddag"),ee(_t,pe,he,"\u2021","\\textdaggerdbl"),ee(se,pe,Cr,"\u23b1","\\rmoustache",!0),ee(se,pe,De,"\u23b0","\\lmoustache",!0),ee(se,pe,Cr,"\u27ef","\\rgroup",!0),ee(se,pe,De,"\u27ee","\\lgroup",!0),ee(se,pe,pn,"\u2213","\\mp",!0),ee(se,pe,pn,"\u2296","\\ominus",!0),ee(se,pe,pn,"\u228e","\\uplus",!0),ee(se,pe,pn,"\u2293","\\sqcap",!0),ee(se,pe,pn,"\u2217","\\ast"),ee(se,pe,pn,"\u2294","\\sqcup",!0),ee(se,pe,pn,"\u25ef","\\bigcirc",!0),ee(se,pe,pn,"\u2219","\\bullet"),ee(se,pe,pn,"\u2021","\\ddagger"),ee(se,pe,pn,"\u2240","\\wr",!0),ee(se,pe,pn,"\u2a3f","\\amalg"),ee(se,pe,pn,"&","\\And"),ee(se,pe,X,"\u27f5","\\longleftarrow",!0),ee(se,pe,X,"\u21d0","\\Leftarrow",!0),ee(se,pe,X,"\u27f8","\\Longleftarrow",!0),ee(se,pe,X,"\u27f6","\\longrightarrow",!0),ee(se,pe,X,"\u21d2","\\Rightarrow",!0),ee(se,pe,X,"\u27f9","\\Longrightarrow",!0),ee(se,pe,X,"\u2194","\\leftrightarrow",!0),ee(se,pe,X,"\u27f7","\\longleftrightarrow",!0),ee(se,pe,X,"\u21d4","\\Leftrightarrow",!0),ee(se,pe,X,"\u27fa","\\Longleftrightarrow",!0),ee(se,pe,X,"\u21a6","\\mapsto",!0),ee(se,pe,X,"\u27fc","\\longmapsto",!0),ee(se,pe,X,"\u2197","\\nearrow",!0),ee(se,pe,X,"\u21a9","\\hookleftarrow",!0),ee(se,pe,X,"\u21aa","\\hookrightarrow",!0),ee(se,pe,X,"\u2198","\\searrow",!0),ee(se,pe,X,"\u21bc","\\leftharpoonup",!0),ee(se,pe,X,"\u21c0","\\rightharpoonup",!0),ee(se,pe,X,"\u2199","\\swarrow",!0),ee(se,pe,X,"\u21bd","\\leftharpoondown",!0),ee(se,pe,X,"\u21c1","\\rightharpoondown",!0),ee(se,pe,X,"\u2196","\\nwarrow",!0),ee(se,pe,X,"\u21cc","\\rightleftharpoons",!0),ee(se,Je,X,"\u226e","\\nless",!0),ee(se,Je,X,"\ue010","\\@nleqslant"),ee(se,Je,X,"\ue011","\\@nleqq"),ee(se,Je,X,"\u2a87","\\lneq",!0),ee(se,Je,X,"\u2268","\\lneqq",!0),ee(se,Je,X,"\ue00c","\\@lvertneqq"),ee(se,Je,X,"\u22e6","\\lnsim",!0),ee(se,Je,X,"\u2a89","\\lnapprox",!0),ee(se,Je,X,"\u2280","\\nprec",!0),ee(se,Je,X,"\u22e0","\\npreceq",!0),ee(se,Je,X,"\u22e8","\\precnsim",!0),ee(se,Je,X,"\u2ab9","\\precnapprox",!0),ee(se,Je,X,"\u2241","\\nsim",!0),ee(se,Je,X,"\ue006","\\@nshortmid"),ee(se,Je,X,"\u2224","\\nmid",!0),ee(se,Je,X,"\u22ac","\\nvdash",!0),ee(se,Je,X,"\u22ad","\\nvDash",!0),ee(se,Je,X,"\u22ea","\\ntriangleleft"),ee(se,Je,X,"\u22ec","\\ntrianglelefteq",!0),ee(se,Je,X,"\u228a","\\subsetneq",!0),ee(se,Je,X,"\ue01a","\\@varsubsetneq"),ee(se,Je,X,"\u2acb","\\subsetneqq",!0),ee(se,Je,X,"\ue017","\\@varsubsetneqq"),ee(se,Je,X,"\u226f","\\ngtr",!0),ee(se,Je,X,"\ue00f","\\@ngeqslant"),ee(se,Je,X,"\ue00e","\\@ngeqq"),ee(se,Je,X,"\u2a88","\\gneq",!0),ee(se,Je,X,"\u2269","\\gneqq",!0),ee(se,Je,X,"\ue00d","\\@gvertneqq"),ee(se,Je,X,"\u22e7","\\gnsim",!0),ee(se,Je,X,"\u2a8a","\\gnapprox",!0),ee(se,Je,X,"\u2281","\\nsucc",!0),ee(se,Je,X,"\u22e1","\\nsucceq",!0),ee(se,Je,X,"\u22e9","\\succnsim",!0),ee(se,Je,X,"\u2aba","\\succnapprox",!0),ee(se,Je,X,"\u2246","\\ncong",!0),ee(se,Je,X,"\ue007","\\@nshortparallel"),ee(se,Je,X,"\u2226","\\nparallel",!0),ee(se,Je,X,"\u22af","\\nVDash",!0),ee(se,Je,X,"\u22eb","\\ntriangleright"),ee(se,Je,X,"\u22ed","\\ntrianglerighteq",!0),ee(se,Je,X,"\ue018","\\@nsupseteqq"),ee(se,Je,X,"\u228b","\\supsetneq",!0),ee(se,Je,X,"\ue01b","\\@varsupsetneq"),ee(se,Je,X,"\u2acc","\\supsetneqq",!0),ee(se,Je,X,"\ue019","\\@varsupsetneqq"),ee(se,Je,X,"\u22ae","\\nVdash",!0),ee(se,Je,X,"\u2ab5","\\precneqq",!0),ee(se,Je,X,"\u2ab6","\\succneqq",!0),ee(se,Je,X,"\ue016","\\@nsubseteqq"),ee(se,Je,pn,"\u22b4","\\unlhd"),ee(se,Je,pn,"\u22b5","\\unrhd"),ee(se,Je,X,"\u219a","\\nleftarrow",!0),ee(se,Je,X,"\u219b","\\nrightarrow",!0),ee(se,Je,X,"\u21cd","\\nLeftarrow",!0),ee(se,Je,X,"\u21cf","\\nRightarrow",!0),ee(se,Je,X,"\u21ae","\\nleftrightarrow",!0),ee(se,Je,X,"\u21ce","\\nLeftrightarrow",!0),ee(se,Je,X,"\u25b3","\\vartriangle"),ee(se,Je,he,"\u210f","\\hslash"),ee(se,Je,he,"\u25bd","\\triangledown"),ee(se,Je,he,"\u25ca","\\lozenge"),ee(se,Je,he,"\u24c8","\\circledS"),ee(se,Je,he,"\xae","\\circledR"),ee(_t,Je,he,"\xae","\\circledR"),ee(se,Je,he,"\u2221","\\measuredangle",!0),ee(se,Je,he,"\u2204","\\nexists"),ee(se,Je,he,"\u2127","\\mho"),ee(se,Je,he,"\u2132","\\Finv",!0),ee(se,Je,he,"\u2141","\\Game",!0),ee(se,Je,he,"\u2035","\\backprime"),ee(se,Je,he,"\u25b2","\\blacktriangle"),ee(se,Je,he,"\u25bc","\\blacktriangledown"),ee(se,Je,he,"\u25a0","\\blacksquare"),ee(se,Je,he,"\u29eb","\\blacklozenge"),ee(se,Je,he,"\u2605","\\bigstar"),ee(se,Je,he,"\u2222","\\sphericalangle",!0),ee(se,Je,he,"\u2201","\\complement",!0),ee(se,Je,he,"\xf0","\\eth",!0),ee(_t,pe,he,"\xf0","\xf0"),ee(se,Je,he,"\u2571","\\diagup"),ee(se,Je,he,"\u2572","\\diagdown"),ee(se,Je,he,"\u25a1","\\square"),ee(se,Je,he,"\u25a1","\\Box"),ee(se,Je,he,"\u25ca","\\Diamond"),ee(se,Je,he,"\xa5","\\yen",!0),ee(_t,Je,he,"\xa5","\\yen",!0),ee(se,Je,he,"\u2713","\\checkmark",!0),ee(_t,Je,he,"\u2713","\\checkmark"),ee(se,Je,he,"\u2136","\\beth",!0),ee(se,Je,he,"\u2138","\\daleth",!0),ee(se,Je,he,"\u2137","\\gimel",!0),ee(se,Je,he,"\u03dd","\\digamma",!0),ee(se,Je,he,"\u03f0","\\varkappa"),ee(se,Je,De,"\u250c","\\@ulcorner",!0),ee(se,Je,Cr,"\u2510","\\@urcorner",!0),ee(se,Je,De,"\u2514","\\@llcorner",!0),ee(se,Je,Cr,"\u2518","\\@lrcorner",!0),ee(se,Je,X,"\u2266","\\leqq",!0),ee(se,Je,X,"\u2a7d","\\leqslant",!0),ee(se,Je,X,"\u2a95","\\eqslantless",!0),ee(se,Je,X,"\u2272","\\lesssim",!0),ee(se,Je,X,"\u2a85","\\lessapprox",!0),ee(se,Je,X,"\u224a","\\approxeq",!0),ee(se,Je,pn,"\u22d6","\\lessdot"),ee(se,Je,X,"\u22d8","\\lll",!0),ee(se,Je,X,"\u2276","\\lessgtr",!0),ee(se,Je,X,"\u22da","\\lesseqgtr",!0),ee(se,Je,X,"\u2a8b","\\lesseqqgtr",!0),ee(se,Je,X,"\u2251","\\doteqdot"),ee(se,Je,X,"\u2253","\\risingdotseq",!0),ee(se,Je,X,"\u2252","\\fallingdotseq",!0),ee(se,Je,X,"\u223d","\\backsim",!0),ee(se,Je,X,"\u22cd","\\backsimeq",!0),ee(se,Je,X,"\u2ac5","\\subseteqq",!0),ee(se,Je,X,"\u22d0","\\Subset",!0),ee(se,Je,X,"\u228f","\\sqsubset",!0),ee(se,Je,X,"\u227c","\\preccurlyeq",!0),ee(se,Je,X,"\u22de","\\curlyeqprec",!0),ee(se,Je,X,"\u227e","\\precsim",!0),ee(se,Je,X,"\u2ab7","\\precapprox",!0),ee(se,Je,X,"\u22b2","\\vartriangleleft"),ee(se,Je,X,"\u22b4","\\trianglelefteq"),ee(se,Je,X,"\u22a8","\\vDash",!0),ee(se,Je,X,"\u22aa","\\Vvdash",!0),ee(se,Je,X,"\u2323","\\smallsmile"),ee(se,Je,X,"\u2322","\\smallfrown"),ee(se,Je,X,"\u224f","\\bumpeq",!0),ee(se,Je,X,"\u224e","\\Bumpeq",!0),ee(se,Je,X,"\u2267","\\geqq",!0),ee(se,Je,X,"\u2a7e","\\geqslant",!0),ee(se,Je,X,"\u2a96","\\eqslantgtr",!0),ee(se,Je,X,"\u2273","\\gtrsim",!0),ee(se,Je,X,"\u2a86","\\gtrapprox",!0),ee(se,Je,pn,"\u22d7","\\gtrdot"),ee(se,Je,X,"\u22d9","\\ggg",!0),ee(se,Je,X,"\u2277","\\gtrless",!0),ee(se,Je,X,"\u22db","\\gtreqless",!0),ee(se,Je,X,"\u2a8c","\\gtreqqless",!0),ee(se,Je,X,"\u2256","\\eqcirc",!0),ee(se,Je,X,"\u2257","\\circeq",!0),ee(se,Je,X,"\u225c","\\triangleq",!0),ee(se,Je,X,"\u223c","\\thicksim"),ee(se,Je,X,"\u2248","\\thickapprox"),ee(se,Je,X,"\u2ac6","\\supseteqq",!0),ee(se,Je,X,"\u22d1","\\Supset",!0),ee(se,Je,X,"\u2290","\\sqsupset",!0),ee(se,Je,X,"\u227d","\\succcurlyeq",!0),ee(se,Je,X,"\u22df","\\curlyeqsucc",!0),ee(se,Je,X,"\u227f","\\succsim",!0),ee(se,Je,X,"\u2ab8","\\succapprox",!0),ee(se,Je,X,"\u22b3","\\vartriangleright"),ee(se,Je,X,"\u22b5","\\trianglerighteq"),ee(se,Je,X,"\u22a9","\\Vdash",!0),ee(se,Je,X,"\u2223","\\shortmid"),ee(se,Je,X,"\u2225","\\shortparallel"),ee(se,Je,X,"\u226c","\\between",!0),ee(se,Je,X,"\u22d4","\\pitchfork",!0),ee(se,Je,X,"\u221d","\\varpropto"),ee(se,Je,X,"\u25c0","\\blacktriangleleft"),ee(se,Je,X,"\u2234","\\therefore",!0),ee(se,Je,X,"\u220d","\\backepsilon"),ee(se,Je,X,"\u25b6","\\blacktriangleright"),ee(se,Je,X,"\u2235","\\because",!0),ee(se,Je,X,"\u22d8","\\llless"),ee(se,Je,X,"\u22d9","\\gggtr"),ee(se,Je,pn,"\u22b2","\\lhd"),ee(se,Je,pn,"\u22b3","\\rhd"),ee(se,Je,X,"\u2242","\\eqsim",!0),ee(se,pe,X,"\u22c8","\\Join"),ee(se,Je,X,"\u2251","\\Doteq",!0),ee(se,Je,pn,"\u2214","\\dotplus",!0),ee(se,Je,pn,"\u2216","\\smallsetminus"),ee(se,Je,pn,"\u22d2","\\Cap",!0),ee(se,Je,pn,"\u22d3","\\Cup",!0),ee(se,Je,pn,"\u2a5e","\\doublebarwedge",!0),ee(se,Je,pn,"\u229f","\\boxminus",!0),ee(se,Je,pn,"\u229e","\\boxplus",!0),ee(se,Je,pn,"\u22c7","\\divideontimes",!0),ee(se,Je,pn,"\u22c9","\\ltimes",!0),ee(se,Je,pn,"\u22ca","\\rtimes",!0),ee(se,Je,pn,"\u22cb","\\leftthreetimes",!0),ee(se,Je,pn,"\u22cc","\\rightthreetimes",!0),ee(se,Je,pn,"\u22cf","\\curlywedge",!0),ee(se,Je,pn,"\u22ce","\\curlyvee",!0),ee(se,Je,pn,"\u229d","\\circleddash",!0),ee(se,Je,pn,"\u229b","\\circledast",!0),ee(se,Je,pn,"\u22c5","\\centerdot"),ee(se,Je,pn,"\u22ba","\\intercal",!0),ee(se,Je,pn,"\u22d2","\\doublecap"),ee(se,Je,pn,"\u22d3","\\doublecup"),ee(se,Je,pn,"\u22a0","\\boxtimes",!0),ee(se,Je,X,"\u21e2","\\dashrightarrow",!0),ee(se,Je,X,"\u21e0","\\dashleftarrow",!0),ee(se,Je,X,"\u21c7","\\leftleftarrows",!0),ee(se,Je,X,"\u21c6","\\leftrightarrows",!0),ee(se,Je,X,"\u21da","\\Lleftarrow",!0),ee(se,Je,X,"\u219e","\\twoheadleftarrow",!0),ee(se,Je,X,"\u21a2","\\leftarrowtail",!0),ee(se,Je,X,"\u21ab","\\looparrowleft",!0),ee(se,Je,X,"\u21cb","\\leftrightharpoons",!0),ee(se,Je,X,"\u21b6","\\curvearrowleft",!0),ee(se,Je,X,"\u21ba","\\circlearrowleft",!0),ee(se,Je,X,"\u21b0","\\Lsh",!0),ee(se,Je,X,"\u21c8","\\upuparrows",!0),ee(se,Je,X,"\u21bf","\\upharpoonleft",!0),ee(se,Je,X,"\u21c3","\\downharpoonleft",!0),ee(se,pe,X,"\u22b6","\\origof",!0),ee(se,pe,X,"\u22b7","\\imageof",!0),ee(se,Je,X,"\u22b8","\\multimap",!0),ee(se,Je,X,"\u21ad","\\leftrightsquigarrow",!0),ee(se,Je,X,"\u21c9","\\rightrightarrows",!0),ee(se,Je,X,"\u21c4","\\rightleftarrows",!0),ee(se,Je,X,"\u21a0","\\twoheadrightarrow",!0),ee(se,Je,X,"\u21a3","\\rightarrowtail",!0),ee(se,Je,X,"\u21ac","\\looparrowright",!0),ee(se,Je,X,"\u21b7","\\curvearrowright",!0),ee(se,Je,X,"\u21bb","\\circlearrowright",!0),ee(se,Je,X,"\u21b1","\\Rsh",!0),ee(se,Je,X,"\u21ca","\\downdownarrows",!0),ee(se,Je,X,"\u21be","\\upharpoonright",!0),ee(se,Je,X,"\u21c2","\\downharpoonright",!0),ee(se,Je,X,"\u21dd","\\rightsquigarrow",!0),ee(se,Je,X,"\u21dd","\\leadsto"),ee(se,Je,X,"\u21db","\\Rrightarrow",!0),ee(se,Je,X,"\u21be","\\restriction"),ee(se,pe,he,"\u2018","`"),ee(se,pe,he,"$","\\$"),ee(_t,pe,he,"$","\\$"),ee(_t,pe,he,"$","\\textdollar"),ee(se,pe,he,"%","\\%"),ee(_t,pe,he,"%","\\%"),ee(se,pe,he,"_","\\_"),ee(_t,pe,he,"_","\\_"),ee(_t,pe,he,"_","\\textunderscore"),ee(se,pe,he,"\u2220","\\angle",!0),ee(se,pe,he,"\u221e","\\infty",!0),ee(se,pe,he,"\u2032","\\prime"),ee(se,pe,he,"\u25b3","\\triangle"),ee(se,pe,he,"\u0393","\\Gamma",!0),ee(se,pe,he,"\u0394","\\Delta",!0),ee(se,pe,he,"\u0398","\\Theta",!0),ee(se,pe,he,"\u039b","\\Lambda",!0),ee(se,pe,he,"\u039e","\\Xi",!0),ee(se,pe,he,"\u03a0","\\Pi",!0),ee(se,pe,he,"\u03a3","\\Sigma",!0),ee(se,pe,he,"\u03a5","\\Upsilon",!0),ee(se,pe,he,"\u03a6","\\Phi",!0),ee(se,pe,he,"\u03a8","\\Psi",!0),ee(se,pe,he,"\u03a9","\\Omega",!0),ee(se,pe,he,"A","\u0391"),ee(se,pe,he,"B","\u0392"),ee(se,pe,he,"E","\u0395"),ee(se,pe,he,"Z","\u0396"),ee(se,pe,he,"H","\u0397"),ee(se,pe,he,"I","\u0399"),ee(se,pe,he,"K","\u039a"),ee(se,pe,he,"M","\u039c"),ee(se,pe,he,"N","\u039d"),ee(se,pe,he,"O","\u039f"),ee(se,pe,he,"P","\u03a1"),ee(se,pe,he,"T","\u03a4"),ee(se,pe,he,"X","\u03a7"),ee(se,pe,he,"\xac","\\neg",!0),ee(se,pe,he,"\xac","\\lnot"),ee(se,pe,he,"\u22a4","\\top"),ee(se,pe,he,"\u22a5","\\bot"),ee(se,pe,he,"\u2205","\\emptyset"),ee(se,Je,he,"\u2205","\\varnothing"),ee(se,pe,Wn,"\u03b1","\\alpha",!0),ee(se,pe,Wn,"\u03b2","\\beta",!0),ee(se,pe,Wn,"\u03b3","\\gamma",!0),ee(se,pe,Wn,"\u03b4","\\delta",!0),ee(se,pe,Wn,"\u03f5","\\epsilon",!0),ee(se,pe,Wn,"\u03b6","\\zeta",!0),ee(se,pe,Wn,"\u03b7","\\eta",!0),ee(se,pe,Wn,"\u03b8","\\theta",!0),ee(se,pe,Wn,"\u03b9","\\iota",!0),ee(se,pe,Wn,"\u03ba","\\kappa",!0),ee(se,pe,Wn,"\u03bb","\\lambda",!0),ee(se,pe,Wn,"\u03bc","\\mu",!0),ee(se,pe,Wn,"\u03bd","\\nu",!0),ee(se,pe,Wn,"\u03be","\\xi",!0),ee(se,pe,Wn,"\u03bf","\\omicron",!0),ee(se,pe,Wn,"\u03c0","\\pi",!0),ee(se,pe,Wn,"\u03c1","\\rho",!0),ee(se,pe,Wn,"\u03c3","\\sigma",!0),ee(se,pe,Wn,"\u03c4","\\tau",!0),ee(se,pe,Wn,"\u03c5","\\upsilon",!0),ee(se,pe,Wn,"\u03d5","\\phi",!0),ee(se,pe,Wn,"\u03c7","\\chi",!0),ee(se,pe,Wn,"\u03c8","\\psi",!0),ee(se,pe,Wn,"\u03c9","\\omega",!0),ee(se,pe,Wn,"\u03b5","\\varepsilon",!0),ee(se,pe,Wn,"\u03d1","\\vartheta",!0),ee(se,pe,Wn,"\u03d6","\\varpi",!0),ee(se,pe,Wn,"\u03f1","\\varrho",!0),ee(se,pe,Wn,"\u03c2","\\varsigma",!0),ee(se,pe,Wn,"\u03c6","\\varphi",!0),ee(se,pe,pn,"\u2217","*"),ee(se,pe,pn,"+","+"),ee(se,pe,pn,"\u2212","-"),ee(se,pe,pn,"\u22c5","\\cdot",!0),ee(se,pe,pn,"\u2218","\\circ"),ee(se,pe,pn,"\xf7","\\div",!0),ee(se,pe,pn,"\xb1","\\pm",!0),ee(se,pe,pn,"\xd7","\\times",!0),ee(se,pe,pn,"\u2229","\\cap",!0),ee(se,pe,pn,"\u222a","\\cup",!0),ee(se,pe,pn,"\u2216","\\setminus"),ee(se,pe,pn,"\u2227","\\land"),ee(se,pe,pn,"\u2228","\\lor"),ee(se,pe,pn,"\u2227","\\wedge",!0),ee(se,pe,pn,"\u2228","\\vee",!0),ee(se,pe,he,"\u221a","\\surd"),ee(se,pe,De,"\u27e8","\\langle",!0),ee(se,pe,De,"\u2223","\\lvert"),ee(se,pe,De,"\u2225","\\lVert"),ee(se,pe,Cr,"?","?"),ee(se,pe,Cr,"!","!"),ee(se,pe,Cr,"\u27e9","\\rangle",!0),ee(se,pe,Cr,"\u2223","\\rvert"),ee(se,pe,Cr,"\u2225","\\rVert"),ee(se,pe,X,"=","="),ee(se,pe,X,":",":"),ee(se,pe,X,"\u2248","\\approx",!0),ee(se,pe,X,"\u2245","\\cong",!0),ee(se,pe,X,"\u2265","\\ge"),ee(se,pe,X,"\u2265","\\geq",!0),ee(se,pe,X,"\u2190","\\gets"),ee(se,pe,X,">","\\gt",!0),ee(se,pe,X,"\u2208","\\in",!0),ee(se,pe,X,"\ue020","\\@not"),ee(se,pe,X,"\u2282","\\subset",!0),ee(se,pe,X,"\u2283","\\supset",!0),ee(se,pe,X,"\u2286","\\subseteq",!0),ee(se,pe,X,"\u2287","\\supseteq",!0),ee(se,Je,X,"\u2288","\\nsubseteq",!0),ee(se,Je,X,"\u2289","\\nsupseteq",!0),ee(se,pe,X,"\u22a8","\\models"),ee(se,pe,X,"\u2190","\\leftarrow",!0),ee(se,pe,X,"\u2264","\\le"),ee(se,pe,X,"\u2264","\\leq",!0),ee(se,pe,X,"<","\\lt",!0),ee(se,pe,X,"\u2192","\\rightarrow",!0),ee(se,pe,X,"\u2192","\\to"),ee(se,Je,X,"\u2271","\\ngeq",!0),ee(se,Je,X,"\u2270","\\nleq",!0),ee(se,pe,Me,"\xa0","\\ "),ee(se,pe,Me,"\xa0","\\space"),ee(se,pe,Me,"\xa0","\\nobreakspace"),ee(_t,pe,Me,"\xa0","\\ "),ee(_t,pe,Me,"\xa0"," "),ee(_t,pe,Me,"\xa0","\\space"),ee(_t,pe,Me,"\xa0","\\nobreakspace"),ee(se,pe,Me,null,"\\nobreak"),ee(se,pe,Me,null,"\\allowbreak"),ee(se,pe,ne,",",","),ee(se,pe,ne,";",";"),ee(se,Je,pn,"\u22bc","\\barwedge",!0),ee(se,Je,pn,"\u22bb","\\veebar",!0),ee(se,pe,pn,"\u2299","\\odot",!0),ee(se,pe,pn,"\u2295","\\oplus",!0),ee(se,pe,pn,"\u2297","\\otimes",!0),ee(se,pe,he,"\u2202","\\partial",!0),ee(se,pe,pn,"\u2298","\\oslash",!0),ee(se,Je,pn,"\u229a","\\circledcirc",!0),ee(se,Je,pn,"\u22a1","\\boxdot",!0),ee(se,pe,pn,"\u25b3","\\bigtriangleup"),ee(se,pe,pn,"\u25bd","\\bigtriangledown"),ee(se,pe,pn,"\u2020","\\dagger"),ee(se,pe,pn,"\u22c4","\\diamond"),ee(se,pe,pn,"\u22c6","\\star"),ee(se,pe,pn,"\u25c3","\\triangleleft"),ee(se,pe,pn,"\u25b9","\\triangleright"),ee(se,pe,De,"{","\\{"),ee(_t,pe,he,"{","\\{"),ee(_t,pe,he,"{","\\textbraceleft"),ee(se,pe,Cr,"}","\\}"),ee(_t,pe,he,"}","\\}"),ee(_t,pe,he,"}","\\textbraceright"),ee(se,pe,De,"{","\\lbrace"),ee(se,pe,Cr,"}","\\rbrace"),ee(se,pe,De,"[","\\lbrack",!0),ee(_t,pe,he,"[","\\lbrack",!0),ee(se,pe,Cr,"]","\\rbrack",!0),ee(_t,pe,he,"]","\\rbrack",!0),ee(se,pe,De,"(","\\lparen",!0),ee(se,pe,Cr,")","\\rparen",!0),ee(_t,pe,he,"<","\\textless",!0),ee(_t,pe,he,">","\\textgreater",!0),ee(se,pe,De,"\u230a","\\lfloor",!0),ee(se,pe,Cr,"\u230b","\\rfloor",!0),ee(se,pe,De,"\u2308","\\lceil",!0),ee(se,pe,Cr,"\u2309","\\rceil",!0),ee(se,pe,he,"\\","\\backslash"),ee(se,pe,he,"\u2223","|"),ee(se,pe,he,"\u2223","\\vert"),ee(_t,pe,he,"|","\\textbar",!0),ee(se,pe,he,"\u2225","\\|"),ee(se,pe,he,"\u2225","\\Vert"),ee(_t,pe,he,"\u2225","\\textbardbl"),ee(_t,pe,he,"~","\\textasciitilde"),ee(_t,pe,he,"\\","\\textbackslash"),ee(_t,pe,he,"^","\\textasciicircum"),ee(se,pe,X,"\u2191","\\uparrow",!0),ee(se,pe,X,"\u21d1","\\Uparrow",!0),ee(se,pe,X,"\u2193","\\downarrow",!0),ee(se,pe,X,"\u21d3","\\Downarrow",!0),ee(se,pe,X,"\u2195","\\updownarrow",!0),ee(se,pe,X,"\u21d5","\\Updownarrow",!0),ee(se,pe,$r,"\u2210","\\coprod"),ee(se,pe,$r,"\u22c1","\\bigvee"),ee(se,pe,$r,"\u22c0","\\bigwedge"),ee(se,pe,$r,"\u2a04","\\biguplus"),ee(se,pe,$r,"\u22c2","\\bigcap"),ee(se,pe,$r,"\u22c3","\\bigcup"),ee(se,pe,$r,"\u222b","\\int"),ee(se,pe,$r,"\u222b","\\intop"),ee(se,pe,$r,"\u222c","\\iint"),ee(se,pe,$r,"\u222d","\\iiint"),ee(se,pe,$r,"\u220f","\\prod"),ee(se,pe,$r,"\u2211","\\sum"),ee(se,pe,$r,"\u2a02","\\bigotimes"),ee(se,pe,$r,"\u2a01","\\bigoplus"),ee(se,pe,$r,"\u2a00","\\bigodot"),ee(se,pe,$r,"\u222e","\\oint"),ee(se,pe,$r,"\u222f","\\oiint"),ee(se,pe,$r,"\u2230","\\oiiint"),ee(se,pe,$r,"\u2a06","\\bigsqcup"),ee(se,pe,$r,"\u222b","\\smallint"),ee(_t,pe,lr,"\u2026","\\textellipsis"),ee(se,pe,lr,"\u2026","\\mathellipsis"),ee(_t,pe,lr,"\u2026","\\ldots",!0),ee(se,pe,lr,"\u2026","\\ldots",!0),ee(se,pe,lr,"\u22ef","\\@cdots",!0),ee(se,pe,lr,"\u22f1","\\ddots",!0),ee(se,pe,he,"\u22ee","\\varvdots"),ee(se,pe,Pn,"\u02ca","\\acute"),ee(se,pe,Pn,"\u02cb","\\grave"),ee(se,pe,Pn,"\xa8","\\ddot"),ee(se,pe,Pn,"~","\\tilde"),ee(se,pe,Pn,"\u02c9","\\bar"),ee(se,pe,Pn,"\u02d8","\\breve"),ee(se,pe,Pn,"\u02c7","\\check"),ee(se,pe,Pn,"^","\\hat"),ee(se,pe,Pn,"\u20d7","\\vec"),ee(se,pe,Pn,"\u02d9","\\dot"),ee(se,pe,Pn,"\u02da","\\mathring"),ee(se,pe,Wn,"\ue131","\\@imath"),ee(se,pe,Wn,"\ue237","\\@jmath"),ee(se,pe,he,"\u0131","\u0131"),ee(se,pe,he,"\u0237","\u0237"),ee(_t,pe,he,"\u0131","\\i",!0),ee(_t,pe,he,"\u0237","\\j",!0),ee(_t,pe,he,"\xdf","\\ss",!0),ee(_t,pe,he,"\xe6","\\ae",!0),ee(_t,pe,he,"\u0153","\\oe",!0),ee(_t,pe,he,"\xf8","\\o",!0),ee(_t,pe,he,"\xc6","\\AE",!0),ee(_t,pe,he,"\u0152","\\OE",!0),ee(_t,pe,he,"\xd8","\\O",!0),ee(_t,pe,Pn,"\u02ca","\\'"),ee(_t,pe,Pn,"\u02cb","\\`"),ee(_t,pe,Pn,"\u02c6","\\^"),ee(_t,pe,Pn,"\u02dc","\\~"),ee(_t,pe,Pn,"\u02c9","\\="),ee(_t,pe,Pn,"\u02d8","\\u"),ee(_t,pe,Pn,"\u02d9","\\."),ee(_t,pe,Pn,"\u02da","\\r"),ee(_t,pe,Pn,"\u02c7","\\v"),ee(_t,pe,Pn,"\xa8",'\\"'),ee(_t,pe,Pn,"\u02dd","\\H"),ee(_t,pe,Pn,"\u25ef","\\textcircled");var et={"--":!0,"---":!0,"``":!0,"''":!0};ee(_t,pe,he,"\u2013","--",!0),ee(_t,pe,he,"\u2013","\\textendash"),ee(_t,pe,he,"\u2014","---",!0),ee(_t,pe,he,"\u2014","\\textemdash"),ee(_t,pe,he,"\u2018","`",!0),ee(_t,pe,he,"\u2018","\\textquoteleft"),ee(_t,pe,he,"\u2019","'",!0),ee(_t,pe,he,"\u2019","\\textquoteright"),ee(_t,pe,he,"\u201c","``",!0),ee(_t,pe,he,"\u201c","\\textquotedblleft"),ee(_t,pe,he,"\u201d","''",!0),ee(_t,pe,he,"\u201d","\\textquotedblright"),ee(se,pe,he,"\xb0","\\degree",!0),ee(_t,pe,he,"\xb0","\\degree"),ee(_t,pe,he,"\xb0","\\textdegree",!0),ee(se,pe,he,"\xa3","\\pounds"),ee(se,pe,he,"\xa3","\\mathsterling",!0),ee(_t,pe,he,"\xa3","\\pounds"),ee(_t,pe,he,"\xa3","\\textsterling",!0),ee(se,Je,he,"\u2720","\\maltese"),ee(_t,Je,he,"\u2720","\\maltese");for(var wt='0123456789/@."',Vt=0;Vt<wt.length;Vt++){var an=wt.charAt(Vt);ee(se,pe,he,an,an)}for(var wn='0123456789!@*()-=+";:?/.,',In=0;In<wn.length;In++){var qr=wn.charAt(In);ee(_t,pe,he,qr,qr)}for(var mr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",Sn=0;Sn<mr.length;Sn++){var or=mr.charAt(Sn);ee(se,pe,Wn,or,or),ee(_t,pe,he,or,or)}ee(se,Je,he,"C","\u2102"),ee(_t,Je,he,"C","\u2102"),ee(se,Je,he,"H","\u210d"),ee(_t,Je,he,"H","\u210d"),ee(se,Je,he,"N","\u2115"),ee(_t,Je,he,"N","\u2115"),ee(se,Je,he,"P","\u2119"),ee(_t,Je,he,"P","\u2119"),ee(se,Je,he,"Q","\u211a"),ee(_t,Je,he,"Q","\u211a"),ee(se,Je,he,"R","\u211d"),ee(_t,Je,he,"R","\u211d"),ee(se,Je,he,"Z","\u2124"),ee(_t,Je,he,"Z","\u2124"),ee(se,pe,Wn,"h","\u210e"),ee(_t,pe,Wn,"h","\u210e");for(var zn="",ci=0;ci<mr.length;ci++){var Ai=mr.charAt(ci);ee(se,pe,Wn,Ai,zn=String.fromCharCode(55349,56320+ci)),ee(_t,pe,he,Ai,zn),ee(se,pe,Wn,Ai,zn=String.fromCharCode(55349,56372+ci)),ee(_t,pe,he,Ai,zn),ee(se,pe,Wn,Ai,zn=String.fromCharCode(55349,56424+ci)),ee(_t,pe,he,Ai,zn),ee(se,pe,Wn,Ai,zn=String.fromCharCode(55349,56580+ci)),ee(_t,pe,he,Ai,zn),ee(se,pe,Wn,Ai,zn=String.fromCharCode(55349,56736+ci)),ee(_t,pe,he,Ai,zn),ee(se,pe,Wn,Ai,zn=String.fromCharCode(55349,56788+ci)),ee(_t,pe,he,Ai,zn),ee(se,pe,Wn,Ai,zn=String.fromCharCode(55349,56840+ci)),ee(_t,pe,he,Ai,zn),ee(se,pe,Wn,Ai,zn=String.fromCharCode(55349,56944+ci)),ee(_t,pe,he,Ai,zn),ci<26&&(ee(se,pe,Wn,Ai,zn=String.fromCharCode(55349,56632+ci)),ee(_t,pe,he,Ai,zn),ee(se,pe,Wn,Ai,zn=String.fromCharCode(55349,56476+ci)),ee(_t,pe,he,Ai,zn))}ee(se,pe,Wn,"k",zn=String.fromCharCode(55349,56668)),ee(_t,pe,he,"k",zn);for(var qi=0;qi<10;qi++){var po=qi.toString();ee(se,pe,Wn,po,zn=String.fromCharCode(55349,57294+qi)),ee(_t,pe,he,po,zn),ee(se,pe,Wn,po,zn=String.fromCharCode(55349,57314+qi)),ee(_t,pe,he,po,zn),ee(se,pe,Wn,po,zn=String.fromCharCode(55349,57324+qi)),ee(_t,pe,he,po,zn),ee(se,pe,Wn,po,zn=String.fromCharCode(55349,57334+qi)),ee(_t,pe,he,po,zn)}for(var ji="\xc7\xd0\xde\xe7\xfe",cu=0;cu<ji.length;cu++){var Na=ji.charAt(cu);ee(se,pe,Wn,Na,Na),ee(_t,pe,he,Na,Na)}var br=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Dc=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],mf=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],du=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Ks=function(U,q){return q.size<2?U:mf[U-1][q.size-1]},Pa=function(){function me(q){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=q.style,this.color=q.color,this.size=q.size||me.BASESIZE,this.textSize=q.textSize||this.size,this.phantom=!!q.phantom,this.font=q.font||"",this.fontFamily=q.fontFamily||"",this.fontWeight=q.fontWeight||"",this.fontShape=q.fontShape||"",this.sizeMultiplier=du[this.size-1],this.maxSize=q.maxSize,this.minRuleThickness=q.minRuleThickness,this._fontMetrics=void 0}var U=me.prototype;return U.extend=function(j){var J={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var ae in j)j.hasOwnProperty(ae)&&(J[ae]=j[ae]);return new me(J)},U.havingStyle=function(j){return this.style===j?this:this.extend({style:j,size:Ks(this.textSize,j)})},U.havingCrampedStyle=function(){return this.havingStyle(this.style.cramp())},U.havingSize=function(j){return this.size===j&&this.textSize===j?this:this.extend({style:this.style.text(),size:j,textSize:j,sizeMultiplier:du[j-1]})},U.havingBaseStyle=function(j){j=j||this.style.text();var J=Ks(me.BASESIZE,j);return this.size===J&&this.textSize===me.BASESIZE&&this.style===j?this:this.extend({style:j,size:J})},U.havingBaseSizing=function(){var j;switch(this.style.id){case 4:case 5:j=3;break;case 6:case 7:j=1;break;default:j=6}return this.extend({style:this.style.text(),size:j})},U.withColor=function(j){return this.extend({color:j})},U.withPhantom=function(){return this.extend({phantom:!0})},U.withFont=function(j){return this.extend({font:j})},U.withTextFontFamily=function(j){return this.extend({fontFamily:j,font:""})},U.withTextFontWeight=function(j){return this.extend({fontWeight:j,font:""})},U.withTextFontShape=function(j){return this.extend({fontShape:j,font:""})},U.sizingClasses=function(j){return j.size!==this.size?["sizing","reset-size"+j.size,"size"+this.size]:[]},U.baseSizingClasses=function(){return this.size!==me.BASESIZE?["sizing","reset-size"+this.size,"size"+me.BASESIZE]:[]},U.fontMetrics=function(){return this._fontMetrics||(this._fontMetrics=function(me){var U;if(!li[U=me>=5?0:me>=3?1:2]){var q=li[U]={cssEmPerMu:en.quad[U]/18};for(var j in en)en.hasOwnProperty(j)&&(q[j]=en[j][U])}return li[U]}(this.size)),this._fontMetrics},U.getColor=function(){return this.phantom?"transparent":this.color},me}();Pa.BASESIZE=6;var Xu=Pa,fa={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},ni={ex:!0,em:!0,mu:!0},gf=function(U){return"string"!=typeof U&&(U=U.unit),U in fa||U in ni||"ex"===U},ts=function(U,q){var j;if(U.unit in fa)j=fa[U.unit]/q.fontMetrics().ptPerEm/q.sizeMultiplier;else if("mu"===U.unit)j=q.fontMetrics().cssEmPerMu;else{var J;if(J=q.style.isTight()?q.havingStyle(q.style.text()):q,"ex"===U.unit)j=J.fontMetrics().xHeight;else{if("em"!==U.unit)throw new le("Invalid unit: '"+U.unit+"'");j=J.fontMetrics().quad}J!==q&&(j*=J.sizeMultiplier/q.sizeMultiplier)}return Math.min(U.number*j,q.maxSize)},Ii=function(U,q,j){return dt[j][U]&&dt[j][U].replace&&(U=dt[j][U].replace),{value:U,metrics:Gi(U,q,j)}},To=function(U,q,j,J,ae){var We,ue=Ii(U,q,j),xe=ue.metrics;if(U=ue.value,xe){var ot=xe.italic;("text"===j||J&&"mathit"===J.font)&&(ot=0),We=new Xe(U,xe.height,xe.depth,ot,xe.skew,xe.width,ae)}else"undefined"!=typeof console&&console.warn("No character metrics for '"+U+"' in style '"+q+"' and mode '"+j+"'"),We=new Xe(U,0,0,0,0,0,ae);if(J){We.maxFontSize=J.sizeMultiplier,J.style.isTight()&&We.classes.push("mtight");var Dt=J.getColor();Dt&&(We.style.color=Dt)}return We},ns=function(U,q){if(fe(U.classes)!==fe(q.classes)||U.skew!==q.skew||U.maxFontSize!==q.maxFontSize)return!1;if(1===U.classes.length){var j=U.classes[0];if("mbin"===j||"mord"===j)return!1}for(var J in U.style)if(U.style.hasOwnProperty(J)&&U.style[J]!==q.style[J])return!1;for(var ae in q.style)if(q.style.hasOwnProperty(ae)&&U.style[ae]!==q.style[ae])return!1;return!0},Fa=function(U){for(var q=0,j=0,J=0,ae=0;ae<U.children.length;ae++){var ue=U.children[ae];ue.height>q&&(q=ue.height),ue.depth>j&&(j=ue.depth),ue.maxFontSize>J&&(J=ue.maxFontSize)}U.height=q,U.depth=j,U.maxFontSize=J},Yi=function(U,q,j,J){var ae=new K(U,q,j,J);return Fa(ae),ae},td=function(U,q,j,J){return new K(U,q,j,J)},pa=function(U){var q=new be(U);return Fa(q),q},Xp=function(U,q,j){var J="";switch(U){case"amsrm":J="AMS";break;case"textrm":J="Main";break;case"textsf":J="SansSerif";break;case"texttt":J="Typewriter";break;default:J=U}return J+"-"+("textbf"===q&&"textit"===j?"BoldItalic":"textbf"===q?"Bold":"textit"===q?"Italic":"Regular")},em={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Xg={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},$t={fontMap:em,makeSymbol:To,mathsym:function(U,q,j,J){return void 0===J&&(J=[]),"boldsymbol"===j.font&&Ii(U,"Main-Bold",q).metrics?To(U,"Main-Bold",q,j,J.concat(["mathbf"])):"\\"===U||"main"===dt[q][U].font?To(U,"Main-Regular",q,j,J):To(U,"AMS-Regular",q,j,J.concat(["amsrm"]))},makeSpan:Yi,makeSvgSpan:td,makeLineSpan:function(U,q,j){var J=Yi([U],[],q);return J.height=Math.max(j||q.fontMetrics().defaultRuleThickness,q.minRuleThickness),J.style.borderBottomWidth=J.height+"em",J.maxFontSize=1,J},makeAnchor:function(U,q,j,J){var ae=new te(U,q,j,J);return Fa(ae),ae},makeFragment:pa,wrapFragment:function(U,q){return U instanceof be?Yi([],[U],q):U},makeVList:function(U,q){for(var j=function(U){if("individualShift"===U.positionType){for(var q=U.children,j=[q[0]],J=-q[0].shift-q[0].elem.depth,ae=J,ue=1;ue<q.length;ue++){var xe=-q[ue].shift-ae-q[ue].elem.depth;ae+=xe,j.push({type:"kern",size:xe-(q[ue-1].elem.height+q[ue-1].elem.depth)}),j.push(q[ue])}return{children:j,depth:J}}var ot;if("top"===U.positionType){for(var Dt=U.positionData,jt=0;jt<U.children.length;jt++){var rn=U.children[jt];Dt-="kern"===rn.type?rn.size:rn.elem.height+rn.elem.depth}ot=Dt}else if("bottom"===U.positionType)ot=-U.positionData;else{var mn=U.children[0];if("elem"!==mn.type)throw new Error('First child must have type "elem".');if("shift"===U.positionType)ot=-mn.elem.depth-U.positionData;else{if("firstBaseline"!==U.positionType)throw new Error("Invalid positionType "+U.positionType+".");ot=-mn.elem.depth}}return{children:U.children,depth:ot}}(U),J=j.children,ae=j.depth,ue=0,xe=0;xe<J.length;xe++){var We=J[xe];if("elem"===We.type){var ot=We.elem;ue=Math.max(ue,ot.maxFontSize,ot.height)}}ue+=2;var Dt=Yi(["pstrut"],[]);Dt.style.height=ue+"em";for(var jt=[],rn=ae,mn=ae,yn=ae,Tn=0;Tn<J.length;Tn++){var On=J[Tn];if("kern"===On.type)yn+=On.size;else{var jn=On.elem,jr=Yi(On.wrapperClasses||[],[Dt,jn],void 0,On.wrapperStyle||{});jr.style.top=-ue-yn-jn.depth+"em",On.marginLeft&&(jr.style.marginLeft=On.marginLeft),On.marginRight&&(jr.style.marginRight=On.marginRight),jt.push(jr),yn+=jn.height+jn.depth}rn=Math.min(rn,yn),mn=Math.max(mn,yn)}var fi,bi=Yi(["vlist"],jt);if(bi.style.height=mn+"em",rn<0){var ei=Yi([],[]),wi=Yi(["vlist"],[ei]);wi.style.height=-rn+"em";var Yn=Yi(["vlist-s"],[new Xe("\u200b")]);fi=[Yi(["vlist-r"],[bi,Yn]),Yi(["vlist-r"],[wi])]}else fi=[Yi(["vlist-r"],[bi])];var ir=Yi(["vlist-t"],fi);return 2===fi.length&&ir.classes.push("vlist-t2"),ir.height=mn,ir.depth=-rn,ir},makeOrd:function(U,q,j){var J=U.mode,ae=U.text,ue=["mord"],xe="math"===J||"text"===J&&q.font,We=xe?q.font:q.fontFamily;if(55349===ae.charCodeAt(0)){var ot=function(U,q){var ae=1024*(U.charCodeAt(0)-55296)+(U.charCodeAt(1)-56320)+65536,ue="math"===q?0:1;if(119808<=ae&&ae<120484){var xe=Math.floor((ae-119808)/26);return[br[xe][2],br[xe][ue]]}if(120782<=ae&&ae<=120831){var We=Math.floor((ae-120782)/10);return[Dc[We][2],Dc[We][ue]]}if(120485===ae||120486===ae)return[br[0][2],br[0][ue]];if(120486<ae&&ae<120782)return["",""];throw new le("Unsupported character: "+U)}(ae,J);return To(ae,ot[0],J,q,ue.concat(ot[1]))}if(We){var rn,mn;if("boldsymbol"===We){var yn=function(U,q,j,J,ae){return"textord"!==ae&&Ii(U,"Math-BoldItalic",q).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}}(ae,J,0,0,j);rn=yn.fontName,mn=[yn.fontClass]}else xe?(rn=em[We].fontName,mn=[We]):(rn=Xp(We,q.fontWeight,q.fontShape),mn=[We,q.fontWeight,q.fontShape]);if(Ii(ae,rn,J).metrics)return To(ae,rn,J,q,ue.concat(mn));if(et.hasOwnProperty(ae)&&"Typewriter"===rn.substr(0,10)){for(var Tn=[],On=0;On<ae.length;On++)Tn.push(To(ae[On],rn,J,q,ue.concat(mn)));return pa(Tn)}}if("mathord"===j)return To(ae,"Math-Italic",J,q,ue.concat(["mathnormal"]));if("textord"===j){var jn=dt[J][ae]&&dt[J][ae].font;if("ams"===jn){var Kn=Xp("amsrm",q.fontWeight,q.fontShape);return To(ae,Kn,J,q,ue.concat("amsrm",q.fontWeight,q.fontShape))}if("main"!==jn&&jn){var jr=Xp(jn,q.fontWeight,q.fontShape);return To(ae,jr,J,q,ue.concat(jr,q.fontWeight,q.fontShape))}var ur=Xp("textrm",q.fontWeight,q.fontShape);return To(ae,ur,J,q,ue.concat(q.fontWeight,q.fontShape))}throw new Error("unexpected type: "+j+" in makeOrd")},makeGlue:function(U,q){var j=Yi(["mspace"],[],q),J=ts(U,q);return j.style.marginRight=J+"em",j},staticSvg:function(U,q){var j=Xg[U],ae=j[1],ue=j[2],xe=new Rt(j[0]),We=new lt([xe],{width:ae+"em",height:ue+"em",style:"width:"+ae+"em",viewBox:"0 0 "+1e3*ae+" "+1e3*ue,preserveAspectRatio:"xMinYMin"}),ot=td(["overlay"],[We],q);return ot.height=ue,ot.style.height=ue+"em",ot.style.width=ae+"em",ot},svgData:Xg,tryCombineChars:function(U){for(var q=0;q<U.length-1;q++){var j=U[q],J=U[q+1];j instanceof Xe&&J instanceof Xe&&ns(j,J)&&(j.text+=J.text,j.height=Math.max(j.height,J.height),j.depth=Math.max(j.depth,J.depth),j.italic=J.italic,U.splice(q+1,1),q--)}return U}},us={number:3,unit:"mu"},rd={number:4,unit:"mu"},Tc={number:5,unit:"mu"},Ov={mord:{mop:us,mbin:rd,mrel:Tc,minner:us},mop:{mord:us,mop:us,mrel:Tc,minner:us},mbin:{mord:rd,mop:rd,mopen:rd,minner:rd},mrel:{mord:Tc,mop:Tc,mopen:Tc,minner:Tc},mopen:{},mclose:{mop:us,mbin:rd,mrel:Tc,minner:us},mpunct:{mord:us,mop:us,mrel:Tc,mopen:us,mclose:us,mpunct:us,minner:us},minner:{mord:us,mop:us,mbin:rd,mrel:Tc,mopen:us,mpunct:us,minner:us}},uw={mord:{mop:us},mop:{mord:us,mop:us},mbin:{},mrel:{},mopen:{},mclose:{mop:us},mpunct:{},minner:{mop:us}},Nv={},tm={},nm={};function qn(me){for(var U=me.type,q=me.names,j=me.props,ae=me.htmlBuilder,ue=me.mathmlBuilder,xe={type:U,numArgs:j.numArgs,argTypes:j.argTypes,allowedInArgument:!!j.allowedInArgument,allowedInText:!!j.allowedInText,allowedInMath:void 0===j.allowedInMath||j.allowedInMath,numOptionalArgs:j.numOptionalArgs||0,infix:!!j.infix,primitive:!!j.primitive,handler:me.handler},We=0;We<q.length;++We)Nv[q[We]]=xe;U&&(ae&&(tm[U]=ae),ue&&(nm[U]=ue))}function xc(me){qn({type:me.type,names:[],props:{numArgs:0},handler:function(){throw new Error("Should never be called.")},htmlBuilder:me.htmlBuilder,mathmlBuilder:me.mathmlBuilder})}var id=function(U){return"ordgroup"===U.type&&1===U.body.length?U.body[0]:U},ks=function(U){return"ordgroup"===U.type?U.body:[U]},Tl=$t.makeSpan,e0=["leftmost","mbin","mopen","mrel","mop","mpunct"],yi=["rightmost","mrel","mclose","mpunct"],Wi={display:Se.DISPLAY,text:Se.TEXT,script:Se.SCRIPT,scriptscript:Se.SCRIPTSCRIPT},ps={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},As=function(U,q,j,J){void 0===J&&(J=[null,null]);for(var ae=[],ue=0;ue<U.length;ue++){var xe=ii(U[ue],q);xe instanceof be?ae.push.apply(ae,xe.children):ae.push(xe)}if($t.tryCombineChars(ae),!j)return ae;var ot=q;if(1===U.length){var Dt=U[0];"sizing"===Dt.type?ot=q.havingSize(Dt.size):"styling"===Dt.type&&(ot=q.havingStyle(Wi[Dt.style]))}var jt=Tl([J[0]||"leftmost"],[],q),rn=Tl([J[1]||"rightmost"],[],q),mn="root"===j;return t0(ae,function(yn,Tn){var On=Tn.classes[0],jn=yn.classes[0];"mbin"===On&&Be.contains(yi,jn)?Tn.classes[0]="mord":"mbin"===jn&&Be.contains(e0,On)&&(yn.classes[0]="mord")},{node:jt},rn,mn),t0(ae,function(yn,Tn){var On=sd(Tn),jn=sd(yn),Kn=On&&jn?yn.hasClass("mtight")?uw[On][jn]:Ov[On][jn]:null;if(Kn)return $t.makeGlue(Kn,ot)},{node:jt},rn,mn),ae},t0=function me(U,q,j,J,ae){J&&U.push(J);for(var ue=0;ue<U.length;ue++){var xe=U[ue],We=n0(xe);if(We)me(We.children,q,j,null,ae);else{var ot=!xe.hasClass("mspace");if(ot){var Dt=q(xe,j.node);Dt&&(j.insertAfter?j.insertAfter(Dt):(U.unshift(Dt),ue++))}ot?j.node=xe:ae&&xe.hasClass("newline")&&(j.node=Tl(["leftmost"])),j.insertAfter=function(jt){return function(rn){U.splice(jt+1,0,rn),ue++}}(ue)}}J&&U.pop()},n0=function(U){return U instanceof be||U instanceof te||U instanceof K&&U.hasClass("enclosing")?U:null},r0=function me(U,q){var j=n0(U);if(j){var J=j.children;if(J.length){if("right"===q)return me(J[J.length-1],"right");if("left"===q)return me(J[0],"left")}}return U},sd=function(U,q){return U?(q&&(U=r0(U,q)),ps[U.classes[0]]||null):null},ch=function(U,q){var j=["nulldelimiter"].concat(U.baseSizingClasses());return Tl(q.concat(j))},ii=function(U,q,j){if(!U)return Tl();if(tm[U.type]){var J=tm[U.type](U,q);if(j&&q.size!==j.size){J=Tl(q.sizingClasses(j),[J],q);var ae=q.sizeMultiplier/j.sizeMultiplier;J.height*=ae,J.depth*=ae}return J}throw new le("Got group of unknown type: '"+U.type+"'")};function Is(me,U){var q=Tl(["base"],me,U),j=Tl(["strut"]);return j.style.height=q.height+q.depth+"em",j.style.verticalAlign=-q.depth+"em",q.children.unshift(j),q}function Yo(me,U){var q=null;1===me.length&&"tag"===me[0].type&&(q=me[0].tag,me=me[0].body);var J,ot,j=As(me,U,"root");2===j.length&&j[1].hasClass("tag")&&(J=j.pop());for(var ae=[],ue=[],xe=0;xe<j.length;xe++)if(ue.push(j[xe]),j[xe].hasClass("mbin")||j[xe].hasClass("mrel")||j[xe].hasClass("allowbreak")){for(var We=!1;xe<j.length-1&&j[xe+1].hasClass("mspace")&&!j[xe+1].hasClass("newline");)xe++,ue.push(j[xe]),j[xe].hasClass("nobreak")&&(We=!0);We||(ae.push(Is(ue,U)),ue=[])}else j[xe].hasClass("newline")&&(ue.pop(),ue.length>0&&(ae.push(Is(ue,U)),ue=[]),ae.push(j[xe]));ue.length>0&&ae.push(Is(ue,U)),q?((ot=Is(As(q,U,!0))).classes=["tag"],ae.push(ot)):J&&ae.push(J);var Dt=Tl(["katex-html"],ae);if(Dt.setAttribute("aria-hidden","true"),ot){var jt=ot.children[0];jt.style.height=Dt.height+Dt.depth+"em",jt.style.verticalAlign=-Dt.depth+"em"}return Dt}function kc(me){return new be(me)}var Wo=function(){function me(q,j,J){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=q,this.attributes={},this.children=j||[],this.classes=J||[]}var U=me.prototype;return U.setAttribute=function(j,J){this.attributes[j]=J},U.getAttribute=function(j){return this.attributes[j]},U.toNode=function(){var j=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var J in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,J)&&j.setAttribute(J,this.attributes[J]);this.classes.length>0&&(j.className=fe(this.classes));for(var ae=0;ae<this.children.length;ae++)j.appendChild(this.children[ae].toNode());return j},U.toMarkup=function(){var j="<"+this.type;for(var J in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,J)&&(j+=" "+J+'="',j+=Be.escape(this.attributes[J]),j+='"');this.classes.length>0&&(j+=' class ="'+Be.escape(fe(this.classes))+'"'),j+=">";for(var ae=0;ae<this.children.length;ae++)j+=this.children[ae].toMarkup();return j+"</"+this.type+">"},U.toText=function(){return this.children.map(function(j){return j.toText()}).join("")},me}(),xl=function(){function me(q){this.text=void 0,this.text=q}var U=me.prototype;return U.toNode=function(){return document.createTextNode(this.text)},U.toMarkup=function(){return Be.escape(this.toText())},U.toText=function(){return this.text},me}(),Cn={MathNode:Wo,TextNode:xl,SpaceNode:function(){function me(q){this.width=void 0,this.character=void 0,this.width=q,this.character=q>=.05555&&q<=.05556?"\u200a":q>=.1666&&q<=.1667?"\u2009":q>=.2222&&q<=.2223?"\u2005":q>=.2777&&q<=.2778?"\u2005\u200a":q>=-.05556&&q<=-.05555?"\u200a\u2063":q>=-.1667&&q<=-.1666?"\u2009\u2063":q>=-.2223&&q<=-.2222?"\u205f\u2063":q>=-.2778&&q<=-.2777?"\u2005\u2063":null}var U=me.prototype;return U.toNode=function(){if(this.character)return document.createTextNode(this.character);var j=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return j.setAttribute("width",this.width+"em"),j},U.toMarkup=function(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+this.width+'em"/>'},U.toText=function(){return this.character?this.character:" "},me}(),newDocumentFragment:kc},ga=function(U,q,j){return dt[q][U]&&dt[q][U].replace&&55349!==U.charCodeAt(0)&&!(et.hasOwnProperty(U)&&j&&(j.fontFamily&&"tt"===j.fontFamily.substr(4,2)||j.font&&"tt"===j.font.substr(4,2)))&&(U=dt[q][U].replace),new Cn.TextNode(U)},Zi=function(U){return 1===U.length?U[0]:new Cn.MathNode("mrow",U)},uh=function(U,q){if("texttt"===q.fontFamily)return"monospace";if("textsf"===q.fontFamily)return"textit"===q.fontShape&&"textbf"===q.fontWeight?"sans-serif-bold-italic":"textit"===q.fontShape?"sans-serif-italic":"textbf"===q.fontWeight?"bold-sans-serif":"sans-serif";if("textit"===q.fontShape&&"textbf"===q.fontWeight)return"bold-italic";if("textit"===q.fontShape)return"italic";if("textbf"===q.fontWeight)return"bold";var j=q.font;if(!j||"mathnormal"===j)return null;var J=U.mode;if("mathit"===j)return"italic";if("boldsymbol"===j)return"textord"===U.type?"bold":"bold-italic";if("mathbf"===j)return"bold";if("mathbb"===j)return"double-struck";if("mathfrak"===j)return"fraktur";if("mathscr"===j||"mathcal"===j)return"script";if("mathsf"===j)return"sans-serif";if("mathtt"===j)return"monospace";var ae=U.text;return Be.contains(["\\imath","\\jmath"],ae)?null:(dt[J][ae]&&dt[J][ae].replace&&(ae=dt[J][ae].replace),Gi(ae,$t.fontMap[j].fontName,J)?$t.fontMap[j].variant:null)},Rs=function(U,q,j){if(1===U.length){var J=Qn(U[0],q);return j&&J instanceof Wo&&"mo"===J.type&&(J.setAttribute("lspace","0em"),J.setAttribute("rspace","0em")),[J]}for(var ue,ae=[],xe=0;xe<U.length;xe++){var We=Qn(U[xe],q);if(We instanceof Wo&&ue instanceof Wo){if("mtext"===We.type&&"mtext"===ue.type&&We.getAttribute("mathvariant")===ue.getAttribute("mathvariant")){var ot;(ot=ue.children).push.apply(ot,We.children);continue}if("mn"===We.type&&"mn"===ue.type){var Dt;(Dt=ue.children).push.apply(Dt,We.children);continue}if("mi"===We.type&&1===We.children.length&&"mn"===ue.type){var jt=We.children[0];if(jt instanceof xl&&"."===jt.text){var rn;(rn=ue.children).push.apply(rn,We.children);continue}}else if("mi"===ue.type&&1===ue.children.length){var mn=ue.children[0];if(mn instanceof xl&&"\u0338"===mn.text&&("mo"===We.type||"mi"===We.type||"mn"===We.type)){var yn=We.children[0];yn instanceof xl&&yn.text.length>0&&(yn.text=yn.text.slice(0,1)+"\u0338"+yn.text.slice(1),ae.pop())}}}ae.push(We),ue=We}return ae},sc=function(U,q,j){return Zi(Rs(U,q,j))},Qn=function(U,q){if(!U)return new Cn.MathNode("mrow");if(nm[U.type])return nm[U.type](U,q);throw new le("Got group of unknown type: '"+U.type+"'")};function s0(me,U,q,j,J){var ue,ae=Rs(me,q);ue=1===ae.length&&ae[0]instanceof Wo&&Be.contains(["mrow","mtable"],ae[0].type)?ae[0]:new Cn.MathNode("mrow",ae);var xe=new Cn.MathNode("annotation",[new Cn.TextNode(U)]);xe.setAttribute("encoding","application/x-tex");var We=new Cn.MathNode("semantics",[ue,xe]),ot=new Cn.MathNode("math",[We]);return ot.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),j&&ot.setAttribute("display","block"),$t.makeSpan([J?"katex":"katex-mathml"],[ot])}var _a=function(U){return new Xu({style:U.displayMode?Se.DISPLAY:Se.TEXT,maxSize:U.maxSize,minRuleThickness:U.minRuleThickness})},dh=function(U,q){if(q.displayMode){var j=["katex-display"];q.leqno&&j.push("leqno"),q.fleqn&&j.push("fleqn"),U=$t.makeSpan(j,[U])}return U},Ac={widehat:"^",widecheck:"\u02c7",widetilde:"~",utilde:"~",overleftarrow:"\u2190",underleftarrow:"\u2190",xleftarrow:"\u2190",overrightarrow:"\u2192",underrightarrow:"\u2192",xrightarrow:"\u2192",underbrace:"\u23df",overbrace:"\u23de",overgroup:"\u23e0",undergroup:"\u23e1",overleftrightarrow:"\u2194",underleftrightarrow:"\u2194",xleftrightarrow:"\u2194",Overrightarrow:"\u21d2",xRightarrow:"\u21d2",overleftharpoon:"\u21bc",xleftharpoonup:"\u21bc",overrightharpoon:"\u21c0",xrightharpoonup:"\u21c0",xLeftarrow:"\u21d0",xLeftrightarrow:"\u21d4",xhookleftarrow:"\u21a9",xhookrightarrow:"\u21aa",xmapsto:"\u21a6",xrightharpoondown:"\u21c1",xleftharpoondown:"\u21bd",xrightleftharpoons:"\u21cc",xleftrightharpoons:"\u21cb",xtwoheadleftarrow:"\u219e",xtwoheadrightarrow:"\u21a0",xlongequal:"=",xtofrom:"\u21c4",xrightleftarrows:"\u21c4",xrightequilibrium:"\u21cc",xleftequilibrium:"\u21cb","\\cdrightarrow":"\u2192","\\cdleftarrow":"\u2190","\\cdlongequal":"="},Ic={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Al_encloseSpan=function(U,q,j,J,ae){var ue,xe=U.height+U.depth+j+J;if(/fbox|color|angl/.test(q)){if(ue=$t.makeSpan(["stretchy",q],[],ae),"fbox"===q){var We=ae.color&&ae.getColor();We&&(ue.style.borderColor=We)}}else{var ot=[];/^[bx]cancel$/.test(q)&&ot.push(new on({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(q)&&ot.push(new on({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var Dt=new lt(ot,{width:"100%",height:xe+"em"});ue=$t.makeSvgSpan([],[Dt],ae)}return ue.height=xe,ue.style.height=xe+"em",ue},Al_mathMLnode=function(U){var q=new Cn.MathNode("mo",[new Cn.TextNode(Ac[U.replace(/^\\/,"")])]);return q.setAttribute("stretchy","true"),q},Al_svgSpan=function(U,q){var J=function(){var We=4e5,ot=U.label.substr(1);if(Be.contains(["widehat","widecheck","widetilde","utilde"],ot)){var rn,mn,yn,jt=function(U){return"ordgroup"===U.type?U.body.length:1}(U.base);if(jt>5)"widehat"===ot||"widecheck"===ot?(rn=420,We=2364,yn=.42,mn=ot+"4"):(rn=312,We=2340,yn=.34,mn="tilde4");else{var Tn=[1,1,2,2,3,3][jt];"widehat"===ot||"widecheck"===ot?(We=[0,1062,2364,2364,2364][Tn],rn=[0,239,300,360,420][Tn],yn=[0,.24,.3,.3,.36,.42][Tn],mn=ot+Tn):(We=[0,600,1033,2339,2340][Tn],rn=[0,260,286,306,312][Tn],yn=[0,.26,.286,.3,.306,.34][Tn],mn="tilde"+Tn)}var On=new Rt(mn),jn=new lt([On],{width:"100%",height:yn+"em",viewBox:"0 0 "+We+" "+rn,preserveAspectRatio:"none"});return{span:$t.makeSvgSpan([],[jn],q),minWidth:0,height:yn}}var Yn,ir,Kn=[],ur=Ic[ot],jr=ur[0],bi=ur[1],fi=ur[2],ei=fi/1e3,wi=jr.length;if(1===wi)Yn=["hide-tail"],ir=[ur[3]];else if(2===wi)Yn=["halfarrow-left","halfarrow-right"],ir=["xMinYMin","xMaxYMin"];else{if(3!==wi)throw new Error("Correct katexImagesData or update code here to support\n                    "+wi+" children.");Yn=["brace-left","brace-center","brace-right"],ir=["xMinYMin","xMidYMin","xMaxYMin"]}for(var Qs=0;Qs<wi;Qs++){var pi=new Rt(jr[Qs]),Os=new lt([pi],{width:"400em",height:ei+"em",viewBox:"0 0 "+We+" "+fi,preserveAspectRatio:ir[Qs]+" slice"}),wa=$t.makeSvgSpan([Yn[Qs]],[Os],q);if(1===wi)return{span:wa,minWidth:bi,height:ei};wa.style.height=ei+"em",Kn.push(wa)}return{span:$t.makeSpan(["stretchy"],Kn,q),minWidth:bi,height:ei}}(),ae=J.span,ue=J.minWidth,xe=J.height;return ae.height=xe,ae.style.height=xe+"em",ue>0&&(ae.style.minWidth=ue+"em"),ae};function Tr(me,U){if(!me||me.type!==U)throw new Error("Expected node of type "+U+", but got "+(me?"node of type "+me.type:String(me)));return me}function gr(me){var U=fh(me);if(!U)throw new Error("Expected node of symbol group type, but got "+(me?"node of type "+me.type:String(me)));return U}function fh(me){return me&&("atom"===me.type||Ls.hasOwnProperty(me.type))?me:null}var od=function(U,q){var j,J,ae;U&&"supsub"===U.type?(J=Tr(U.base,"accent"),U.base=j=J.base,ae=function(me){if(me instanceof K)return me;throw new Error("Expected span<HtmlDomNode> but got "+String(me)+".")}(ii(U,q)),U.base=J):j=(J=Tr(U,"accent")).base;var ue=ii(j,q.havingCrampedStyle()),We=0;if(J.isShifty&&Be.isCharacterBox(j)){var ot=Be.getBaseElem(j);We=Dn(ii(ot,q.havingCrampedStyle())).skew}var rn,jt=Math.min(ue.height,q.fontMetrics().xHeight);if(J.isStretchy)rn=Al_svgSpan(J,q),rn=$t.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:ue},{type:"elem",elem:rn,wrapperClasses:["svg-align"],wrapperStyle:We>0?{width:"calc(100% - "+2*We+"em)",marginLeft:2*We+"em"}:void 0}]},q);else{var mn,yn;"\\vec"===J.label?(mn=$t.staticSvg("vec",q),yn=$t.svgData.vec[1]):((mn=Dn(mn=$t.makeOrd({mode:J.mode,text:J.label},q,"textord"))).italic=0,yn=mn.width),rn=$t.makeSpan(["accent-body"],[mn]);var Tn="\\textcircled"===J.label;Tn&&(rn.classes.push("accent-full"),jt=ue.height);var On=We;Tn||(On-=yn/2),rn.style.left=On+"em","\\textcircled"===J.label&&(rn.style.top=".2em"),rn=$t.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:ue},{type:"kern",size:-jt},{type:"elem",elem:rn}]},q)}var jn=$t.makeSpan(["mord","accent"],[rn],q);return ae?(ae.children[0]=jn,ae.height=Math.max(jn.height,ae.height),ae.classes[0]="mord",ae):jn},pu=function(U,q){var j=U.isStretchy?Al_mathMLnode(U.label):new Cn.MathNode("mo",[ga(U.label,U.mode)]),J=new Cn.MathNode("mover",[Qn(U.base,q),j]);return J.setAttribute("accent","true"),J},Pv=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(function(me){return"\\"+me}).join("|"));qn({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:function(U,q){var j=id(q[0]),J=!Pv.test(U.funcName);return{type:"accent",mode:U.parser.mode,label:U.funcName,isStretchy:J,isShifty:!J||"\\widehat"===U.funcName||"\\widetilde"===U.funcName||"\\widecheck"===U.funcName,base:j}},htmlBuilder:od,mathmlBuilder:pu}),qn({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:function(U,q){var j=q[0],J=U.parser.mode;return"math"===J&&(U.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+U.funcName+" works only in text mode"),J="text"),{type:"accent",mode:J,label:U.funcName,isStretchy:!1,isShifty:!0,base:j}},htmlBuilder:od,mathmlBuilder:pu}),qn({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:function(U,q){return{type:"accentUnder",mode:U.parser.mode,label:U.funcName,base:q[0]}},htmlBuilder:function(U,q){var j=ii(U.base,q),J=Al_svgSpan(U,q),ue=$t.makeVList({positionType:"top",positionData:j.height,children:[{type:"elem",elem:J,wrapperClasses:["svg-align"]},{type:"kern",size:"\\utilde"===U.label?.12:0},{type:"elem",elem:j}]},q);return $t.makeSpan(["mord","accentunder"],[ue],q)},mathmlBuilder:function(U,q){var j=Al_mathMLnode(U.label),J=new Cn.MathNode("munder",[Qn(U.base,q),j]);return J.setAttribute("accentunder","true"),J}});var ph=function(U){var q=new Cn.MathNode("mpadded",U?[U]:[]);return q.setAttribute("width","+0.6em"),q.setAttribute("lspace","0.3em"),q};qn({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler:function(U,q,j){return{type:"xArrow",mode:U.parser.mode,label:U.funcName,body:q[0],below:j[0]}},htmlBuilder:function(U,q){var xe,j=q.style,J=q.havingStyle(j.sup()),ae=$t.wrapFragment(ii(U.body,J,q),q),ue="\\x"===U.label.slice(0,2)?"x":"cd";ae.classes.push(ue+"-arrow-pad"),U.below&&(J=q.havingStyle(j.sub()),(xe=$t.wrapFragment(ii(U.below,J,q),q)).classes.push(ue+"-arrow-pad"));var jt,We=Al_svgSpan(U,q),ot=-q.fontMetrics().axisHeight+.5*We.height,Dt=-q.fontMetrics().axisHeight-.5*We.height-.111;if((ae.depth>.25||"\\xleftequilibrium"===U.label)&&(Dt-=ae.depth),xe){var rn=-q.fontMetrics().axisHeight+xe.height+.5*We.height+.111;jt=$t.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ae,shift:Dt},{type:"elem",elem:We,shift:ot},{type:"elem",elem:xe,shift:rn}]},q)}else jt=$t.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ae,shift:Dt},{type:"elem",elem:We,shift:ot}]},q);return jt.children[0].children[0].children[1].classes.push("svg-align"),$t.makeSpan(["mrel","x-arrow"],[jt],q)},mathmlBuilder:function(U,q){var J,j=Al_mathMLnode(U.label);if(j.setAttribute("minsize","x"===U.label.charAt(0)?"1.75em":"3.0em"),U.body){var ae=ph(Qn(U.body,q));if(U.below){var ue=ph(Qn(U.below,q));J=new Cn.MathNode("munderover",[j,ue,ae])}else J=new Cn.MathNode("mover",[j,ae])}else if(U.below){var xe=ph(Qn(U.below,q));J=new Cn.MathNode("munder",[j,xe])}else J=ph(),J=new Cn.MathNode("mover",[j,J]);return J}});var o0={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},hn=function(U){return"textord"===U.type&&"@"===U.text},Kr=function(U,q){return("mathord"===U.type||"atom"===U.type)&&U.text===q};function rm(me,U,q){var j=o0[me];switch(j){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return q.callFunction(j,[U[0]],[U[1]]);case"\\uparrow":case"\\downarrow":var J=q.callFunction("\\\\cdleft",[U[0]],[]),ue=q.callFunction("\\Big",[{type:"atom",text:j,mode:"math",family:"rel"}],[]),xe=q.callFunction("\\\\cdright",[U[1]],[]);return q.callFunction("\\\\cdparent",[{type:"ordgroup",mode:"math",body:[J,ue,xe]}],[]);case"\\\\cdlongequal":return q.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":return q.callFunction("\\Big",[{type:"textord",text:"\\Vert",mode:"math"}],[]);default:return{type:"textord",text:" ",mode:"math"}}}qn({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler:function(U,q){return{type:"cdlabel",mode:U.parser.mode,side:U.funcName.slice(4),label:q[0]}},htmlBuilder:function(U,q){var j=q.havingStyle(q.style.sup()),J=$t.wrapFragment(ii(U.label,j,q),q);return J.classes.push("cd-label-"+U.side),J.style.bottom=.8-J.depth+"em",J.height=0,J.depth=0,J},mathmlBuilder:function(U,q){var j=new Cn.MathNode("mrow",[Qn(U.label,q)]);return(j=new Cn.MathNode("mpadded",[j])).setAttribute("width","0"),"left"===U.side&&j.setAttribute("lspace","-1width"),j.setAttribute("voffset","0.7em"),(j=new Cn.MathNode("mstyle",[j])).setAttribute("displaystyle","false"),j.setAttribute("scriptlevel","1"),j}}),qn({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler:function(U,q){return{type:"cdlabelparent",mode:U.parser.mode,fragment:q[0]}},htmlBuilder:function(U,q){var j=$t.wrapFragment(ii(U.fragment,q),q);return j.classes.push("cd-vert-arrow"),j},mathmlBuilder:function(U,q){return new Cn.MathNode("mrow",[Qn(U.fragment,q)])}}),qn({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler:function(U,q){for(var j=U.parser,ae=Tr(q[0],"ordgroup").body,ue="",xe=0;xe<ae.length;xe++)ue+=Tr(ae[xe],"textord").text;var ot=parseInt(ue);if(isNaN(ot))throw new le("\\@char has non-numeric argument "+ue);return{type:"textord",mode:j.mode,text:String.fromCharCode(ot)}}});var ad=function(U,q){var j=As(U.body,q.withColor(U.color),!1);return $t.makeFragment(j)},Oc=function(U,q){var j=Rs(U.body,q.withColor(U.color)),J=new Cn.MathNode("mstyle",j);return J.setAttribute("mathcolor",U.color),J};qn({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler:function(U,q){var j=U.parser,J=Tr(q[0],"color-token").color;return{type:"color",mode:j.mode,color:J,body:ks(q[1])}},htmlBuilder:ad,mathmlBuilder:Oc}),qn({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler:function(U,q){var j=U.parser,J=U.breakOnTokenText,ae=Tr(q[0],"color-token").color;j.gullet.macros.set("\\current@color",ae);var ue=j.parseExpression(!0,J);return{type:"color",mode:j.mode,color:ae,body:ue}},htmlBuilder:ad,mathmlBuilder:Oc}),qn({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:1,argTypes:["size"],allowedInText:!0},handler:function(U,q,j){var J=U.parser,ae=j[0],ue=!J.settings.displayMode||!J.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:J.mode,newLine:ue,size:ae&&Tr(ae,"size").value}},htmlBuilder:function(U,q){var j=$t.makeSpan(["mspace"],[],q);return U.newLine&&(j.classes.push("newline"),U.size&&(j.style.marginTop=ts(U.size,q)+"em")),j},mathmlBuilder:function(U,q){var j=new Cn.MathNode("mspace");return U.newLine&&(j.setAttribute("linebreak","newline"),U.size&&j.setAttribute("height",ts(U.size,q)+"em")),j}});var xo={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Zs=function(U){var q=U.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(q))throw new le("Expected a control sequence",U);return q},mh=function(U,q,j,J){var ae=U.gullet.macros.get(j.text);null==ae&&(j.noexpand=!0,ae={tokens:[j],numArgs:0,unexpandable:!U.gullet.isExpandable(j.text)}),U.gullet.macros.set(q,ae,J)};qn({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler:function(U){var q=U.parser,j=U.funcName;q.consumeSpaces();var J=q.fetch();if(xo[J.text])return("\\global"===j||"\\\\globallong"===j)&&(J.text=xo[J.text]),Tr(q.parseFunction(),"internal");throw new le("Invalid token after macro prefix",J)}}),qn({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(U){var q=U.parser,j=U.funcName,J=q.gullet.popToken(),ae=J.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(ae))throw new le("Expected a control sequence",J);for(var xe,ue=0,We=[[]];"{"!==q.gullet.future().text;)if("#"===(J=q.gullet.popToken()).text){if("{"===q.gullet.future().text){xe=q.gullet.future(),We[ue].push("{");break}if(J=q.gullet.popToken(),!/^[1-9]$/.test(J.text))throw new le('Invalid argument number "'+J.text+'"');if(parseInt(J.text)!==ue+1)throw new le('Argument number "'+J.text+'" out of order');ue++,We.push([])}else{if("EOF"===J.text)throw new le("Expected a macro definition");We[ue].push(J.text)}var Dt=q.gullet.consumeArg().tokens;return xe&&Dt.unshift(xe),("\\edef"===j||"\\xdef"===j)&&(Dt=q.gullet.expandTokens(Dt)).reverse(),q.gullet.macros.set(ae,{tokens:Dt,numArgs:ue,delimiters:We},j===xo[j]),{type:"internal",mode:q.mode}}}),qn({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(U){var q=U.parser,j=U.funcName,J=Zs(q.gullet.popToken());q.gullet.consumeSpaces();var ae=function(U){var q=U.gullet.popToken();return"="===q.text&&" "===(q=U.gullet.popToken()).text&&(q=U.gullet.popToken()),q}(q);return mh(q,J,ae,"\\\\globallet"===j),{type:"internal",mode:q.mode}}}),qn({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(U){var q=U.parser,j=U.funcName,J=Zs(q.gullet.popToken()),ae=q.gullet.popToken(),ue=q.gullet.popToken();return mh(q,J,ue,"\\\\globalfuture"===j),q.gullet.pushToken(ue),q.gullet.pushToken(ae),{type:"internal",mode:q.mode}}});var cd=function(U,q,j){var ae=Gi(dt.math[U]&&dt.math[U].replace||U,q,j);if(!ae)throw new Error("Unsupported symbol "+U+" and font size "+q+".");return ae},mu=function(U,q,j,J){var ae=j.havingBaseStyle(q),ue=$t.makeSpan(J.concat(ae.sizingClasses(j)),[U],j),xe=ae.sizeMultiplier/j.sizeMultiplier;return ue.height*=xe,ue.depth*=xe,ue.maxFontSize=ae.sizeMultiplier,ue},gh=function(U,q,j){var J=q.havingBaseStyle(j),ae=(1-q.sizeMultiplier/J.sizeMultiplier)*q.fontMetrics().axisHeight;U.classes.push("delimcenter"),U.style.top=ae+"em",U.height-=ae,U.depth+=ae},a0=function(U,q,j,J,ae,ue){var xe=function(U,q,j,J){return $t.makeSymbol(U,"Size"+q+"-Regular",j,J)}(U,q,ae,J),We=mu($t.makeSpan(["delimsizing","size"+q],[xe],J),Se.TEXT,J,ue);return j&&gh(We,J,Se.TEXT),We},tl=function(U,q,j){return{type:"elem",elem:$t.makeSpan(["delimsizinginner","Size1-Regular"===q?"delim-size1":"delim-size4"],[$t.makeSpan([],[$t.makeSymbol(U,q,j)])])}},Vs=function(U,q,j){var J=gn["Size4-Regular"][U.charCodeAt(0)]?gn["Size4-Regular"][U.charCodeAt(0)][4].toFixed(3):gn["Size1-Regular"][U.charCodeAt(0)][4].toFixed(3),ae=new Rt("inner",function(U,q){switch(U){case"\u239c":return"M291 0 H417 V"+q+" H291z M291 0 H417 V"+q+" H291z";case"\u2223":return"M145 0 H188 V"+q+" H145z M145 0 H188 V"+q+" H145z";case"\u2225":return"M145 0 H188 V"+q+" H145z M145 0 H188 V"+q+" H145zM367 0 H410 V"+q+" H367z M367 0 H410 V"+q+" H367z";case"\u239f":return"M457 0 H583 V"+q+" H457z M457 0 H583 V"+q+" H457z";case"\u23a2":return"M319 0 H403 V"+q+" H319z M319 0 H403 V"+q+" H319z";case"\u23a5":return"M263 0 H347 V"+q+" H263z M263 0 H347 V"+q+" H263z";case"\u23aa":return"M384 0 H504 V"+q+" H384z M384 0 H504 V"+q+" H384z";case"\u23d0":return"M312 0 H355 V"+q+" H312z M312 0 H355 V"+q+" H312z";case"\u2016":return"M257 0 H300 V"+q+" H257z M257 0 H300 V"+q+" H257zM478 0 H521 V"+q+" H478z M478 0 H521 V"+q+" H478z";default:return""}}(U,Math.round(1e3*q))),ue=new lt([ae],{width:J+"em",height:q+"em",style:"width:"+J+"em",viewBox:"0 0 "+1e3*J+" "+Math.round(1e3*q),preserveAspectRatio:"xMinYMin"}),xe=$t.makeSvgSpan([],[ue],j);return xe.height=q,xe.style.height=q+"em",xe.style.width=J+"em",{type:"elem",elem:xe}},_h={type:"kern",size:-.008},yf=["|","\\lvert","\\rvert","\\vert"],c0=["\\|","\\lVert","\\rVert","\\Vert"],nl=function(U,q,j,J,ae,ue){var xe,We,ot,Dt;xe=ot=Dt=U,We=null;var jt="Size1-Regular";"\\uparrow"===U?ot=Dt="\u23d0":"\\Uparrow"===U?ot=Dt="\u2016":"\\downarrow"===U?xe=ot="\u23d0":"\\Downarrow"===U?xe=ot="\u2016":"\\updownarrow"===U?(xe="\\uparrow",ot="\u23d0",Dt="\\downarrow"):"\\Updownarrow"===U?(xe="\\Uparrow",ot="\u2016",Dt="\\Downarrow"):Be.contains(yf,U)?ot="\u2223":Be.contains(c0,U)?ot="\u2225":"["===U||"\\lbrack"===U?(xe="\u23a1",ot="\u23a2",Dt="\u23a3",jt="Size4-Regular"):"]"===U||"\\rbrack"===U?(xe="\u23a4",ot="\u23a5",Dt="\u23a6",jt="Size4-Regular"):"\\lfloor"===U||"\u230a"===U?(ot=xe="\u23a2",Dt="\u23a3",jt="Size4-Regular"):"\\lceil"===U||"\u2308"===U?(xe="\u23a1",ot=Dt="\u23a2",jt="Size4-Regular"):"\\rfloor"===U||"\u230b"===U?(ot=xe="\u23a5",Dt="\u23a6",jt="Size4-Regular"):"\\rceil"===U||"\u2309"===U?(xe="\u23a4",ot=Dt="\u23a5",jt="Size4-Regular"):"("===U||"\\lparen"===U?(xe="\u239b",ot="\u239c",Dt="\u239d",jt="Size4-Regular"):")"===U||"\\rparen"===U?(xe="\u239e",ot="\u239f",Dt="\u23a0",jt="Size4-Regular"):"\\{"===U||"\\lbrace"===U?(xe="\u23a7",We="\u23a8",Dt="\u23a9",ot="\u23aa",jt="Size4-Regular"):"\\}"===U||"\\rbrace"===U?(xe="\u23ab",We="\u23ac",Dt="\u23ad",ot="\u23aa",jt="Size4-Regular"):"\\lgroup"===U||"\u27ee"===U?(xe="\u23a7",Dt="\u23a9",ot="\u23aa",jt="Size4-Regular"):"\\rgroup"===U||"\u27ef"===U?(xe="\u23ab",Dt="\u23ad",ot="\u23aa",jt="Size4-Regular"):"\\lmoustache"===U||"\u23b0"===U?(xe="\u23a7",Dt="\u23ad",ot="\u23aa",jt="Size4-Regular"):("\\rmoustache"===U||"\u23b1"===U)&&(xe="\u23ab",Dt="\u23a9",ot="\u23aa",jt="Size4-Regular");var rn=cd(xe,jt,ae),mn=rn.height+rn.depth,yn=cd(ot,jt,ae),Tn=yn.height+yn.depth,On=cd(Dt,jt,ae),jn=On.height+On.depth,Kn=0,ur=1;if(null!==We){var jr=cd(We,jt,ae);Kn=jr.height+jr.depth,ur=2}var bi=mn+jn+Kn,ei=bi+Math.max(0,Math.ceil((q-bi)/(ur*Tn)))*ur*Tn,wi=J.fontMetrics().axisHeight;j&&(wi*=J.sizeMultiplier);var Yn=ei/2-wi,ir=[];if(ir.push(tl(Dt,jt,ae)),ir.push(_h),null===We)ir.push(Vs(ot,ei-mn-jn+.016,J));else{var Qs=(ei-mn-jn-Kn)/2+.016;ir.push(Vs(ot,Qs,J)),ir.push(_h),ir.push(tl(We,jt,ae)),ir.push(_h),ir.push(Vs(ot,Qs,J))}ir.push(_h),ir.push(tl(xe,jt,ae));var pi=J.havingBaseStyle(Se.TEXT),Os=$t.makeVList({positionType:"bottom",positionData:Yn,children:ir},pi);return mu($t.makeSpan(["delimsizing","mult"],[Os],pi),Se.TEXT,J,ue)},gu=function(U,q,j,J,ae){var ue=function(U,q,j){q*=1e3;var J="";switch(U){case"sqrtMain":J=function(U,q){return"M95,"+(622+U+q)+"\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl"+U/2.075+" -"+U+"\nc5.3,-9.3,12,-14,20,-14\nH400000v"+(40+U)+"H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM"+(834+U)+" "+q+"h400000v"+(40+U)+"h-400000z"}(q,80);break;case"sqrtSize1":J=function(U,q){return"M263,"+(601+U+q)+"c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl"+U/2.084+" -"+U+"\nc4.7,-7.3,11,-11,19,-11\nH40000v"+(40+U)+"H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM"+(1001+U)+" "+q+"h400000v"+(40+U)+"h-400000z"}(q,80);break;case"sqrtSize2":J=function(U,q){return"M983 "+(10+U+q)+"\nl"+U/3.13+" -"+U+"\nc4,-6.7,10,-10,18,-10 H400000v"+(40+U)+"\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM"+(1001+U)+" "+q+"h400000v"+(40+U)+"h-400000z"}(q,80);break;case"sqrtSize3":J=function(U,q){return"M424,"+(2398+U+q)+"\nc-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514\nc0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20\ns-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121\ns209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081\nl"+U/4.223+" -"+U+"c4,-6.7,10,-10,18,-10 H400000\nv"+(40+U)+"H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185\nc-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M"+(1001+U)+" "+q+"\nh400000v"+(40+U)+"h-400000z"}(q,80);break;case"sqrtSize4":J=function(U,q){return"M473,"+(2713+U+q)+"\nc339.3,-1799.3,509.3,-2700,510,-2702 l"+U/5.298+" -"+U+"\nc3.3,-7.3,9.3,-11,18,-11 H400000v"+(40+U)+"H1017.7\ns-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200\nc0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26\ns76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,\n606zM"+(1001+U)+" "+q+"h400000v"+(40+U)+"H1017.7z"}(q,80);break;case"sqrtTall":J=function(U,q,j){return"M702 "+(U+q)+"H400000"+(40+U)+"\nH742v"+(j-54-q-U)+"l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\n219 661 l218 661zM702 "+q+"H400000v"+(40+U)+"H742z"}(q,80,j)}return J}(U,J,j),xe=new Rt(U,ue),We=new lt([xe],{width:"400em",height:q+"em",viewBox:"0 0 400000 "+j,preserveAspectRatio:"xMinYMin slice"});return $t.makeSvgSpan(["hide-tail"],[We],ae)},Pc=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230a","\u230b","\\lceil","\\rceil","\u2308","\u2309","\\surd"],$o=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27ee","\u27ef","\\lmoustache","\\rmoustache","\u23b0","\u23b1"],wf=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],vh=[0,1.2,1.8,2.4,3],Fv=[{type:"small",style:Se.SCRIPTSCRIPT},{type:"small",style:Se.SCRIPT},{type:"small",style:Se.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],yh=[{type:"small",style:Se.SCRIPTSCRIPT},{type:"small",style:Se.SCRIPT},{type:"small",style:Se.TEXT},{type:"stack"}],h0=[{type:"small",style:Se.SCRIPTSCRIPT},{type:"small",style:Se.SCRIPT},{type:"small",style:Se.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Cf=function(U){if("small"===U.type)return"Main-Regular";if("large"===U.type)return"Size"+U.size+"-Regular";if("stack"===U.type)return"Size4-Regular";throw new Error("Add support for delim type '"+U.type+"' here.")},At=function(U,q,j,J){for(var ue=Math.min(2,3-J.style.size);ue<j.length&&"stack"!==j[ue].type;ue++){var xe=cd(U,Cf(j[ue]),"math"),We=xe.height+xe.depth;if("small"===j[ue].type&&(We*=J.havingBaseStyle(j[ue].style).sizeMultiplier),We>q)return j[ue]}return j[j.length-1]},nn=function(U,q,j,J,ae,ue){var xe;"<"===U||"\\lt"===U||"\u27e8"===U?U="\\langle":(">"===U||"\\gt"===U||"\u27e9"===U)&&(U="\\rangle"),xe=Be.contains(wf,U)?Fv:Be.contains(Pc,U)?h0:yh;var We=At(U,q,xe,J);return"small"===We.type?function(U,q,j,J,ae,ue){var xe=$t.makeSymbol(U,"Main-Regular",ae,J),We=mu(xe,q,J,ue);return j&&gh(We,J,q),We}(U,We.style,j,J,ae,ue):"large"===We.type?a0(U,We.size,j,J,ae,ue):nl(U,q,j,J,ae,ue)},Bn_sqrtImage=function(U,q){var xe,jt,j=q.havingBaseSizing(),J=At("\\surd",U*j.sizeMultiplier,h0,j),ae=j.sizeMultiplier,ue=Math.max(0,q.minRuleThickness-q.fontMetrics().sqrtRuleThickness),We=0,ot=0,Dt=0;return"small"===J.type?(U<1?ae=1:U<1.4&&(ae=.7),ot=(1+ue)/ae,(xe=gu("sqrtMain",We=(1+ue+.08)/ae,Dt=1e3+1e3*ue+80,ue,q)).style.minWidth="0.853em",jt=.833/ae):"large"===J.type?(ot=(vh[J.size]+ue)/ae,(xe=gu("sqrtSize"+J.size,We=(vh[J.size]+ue+.08)/ae,Dt=1080*vh[J.size],ue,q)).style.minWidth="1.02em",jt=1/ae):(We=U+ue+.08,ot=U+ue,Dt=Math.floor(1e3*U+ue)+80,(xe=gu("sqrtTall",We,Dt,ue,q)).style.minWidth="0.742em",jt=1.056),xe.height=ot,xe.style.height=We+"em",{span:xe,advanceWidth:jt,ruleWidth:(q.fontMetrics().sqrtRuleThickness+ue)*ae}},Bn_sizedDelim=function(U,q,j,J,ae){if("<"===U||"\\lt"===U||"\u27e8"===U?U="\\langle":(">"===U||"\\gt"===U||"\u27e9"===U)&&(U="\\rangle"),Be.contains(Pc,U)||Be.contains(wf,U))return a0(U,q,!1,j,J,ae);if(Be.contains($o,U))return nl(U,vh[q],!1,j,J,ae);throw new le("Illegal delimiter: '"+U+"'")},Bn_sizeToMaxHeight=vh,Bn_customSizedDelim=nn,Bn_leftRightDelim=function(U,q,j,J,ae,ue){var xe=J.fontMetrics().axisHeight*J.sizeMultiplier,ot=5/J.fontMetrics().ptPerEm,Dt=Math.max(q-xe,j+xe),jt=Math.max(Dt/500*901,2*Dt-ot);return nn(U,jt,!0,J,ae,ue)},Mr={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},hi=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230a","\u230b","\\lceil","\\rceil","\u2308","\u2309","<",">","\\langle","\u27e8","\\rangle","\u27e9","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27ee","\u27ef","\\lmoustache","\\rmoustache","\u23b0","\u23b1","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function ds(me,U){var q=fh(me);if(q&&Be.contains(hi,q.text))return q;throw new le(q?"Invalid delimiter '"+q.text+"' after '"+U.funcName+"'":"Invalid delimiter type '"+me.type+"'",me)}function Ri(me){if(!me.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}qn({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:function(U,q){var j=ds(q[0],U);return{type:"delimsizing",mode:U.parser.mode,size:Mr[U.funcName].size,mclass:Mr[U.funcName].mclass,delim:j.text}},htmlBuilder:function(U,q){return"."===U.delim?$t.makeSpan([U.mclass]):Bn_sizedDelim(U.delim,U.size,q,U.mode,[U.mclass])},mathmlBuilder:function(U){var q=[];"."!==U.delim&&q.push(ga(U.delim,U.mode));var j=new Cn.MathNode("mo",q);return j.setAttribute("fence","mopen"===U.mclass||"mclose"===U.mclass?"true":"false"),j.setAttribute("stretchy","true"),j.setAttribute("minsize",Bn_sizeToMaxHeight[U.size]+"em"),j.setAttribute("maxsize",Bn_sizeToMaxHeight[U.size]+"em"),j}}),qn({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:function(U,q){var j=U.parser.gullet.macros.get("\\current@color");if(j&&"string"!=typeof j)throw new le("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:U.parser.mode,delim:ds(q[0],U).text,color:j}}}),qn({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:function(U,q){var j=ds(q[0],U),J=U.parser;++J.leftrightDepth;var ae=J.parseExpression(!1);--J.leftrightDepth,J.expect("\\right",!1);var ue=Tr(J.parseFunction(),"leftright-right");return{type:"leftright",mode:J.mode,body:ae,left:j.text,right:ue.delim,rightColor:ue.color}},htmlBuilder:function(U,q){Ri(U);for(var j=As(U.body,q,!0,["mopen","mclose"]),J=0,ae=0,ue=!1,xe=0;xe<j.length;xe++)j[xe].isMiddle?ue=!0:(J=Math.max(j[xe].height,J),ae=Math.max(j[xe].depth,ae));var We,rn;if(J*=q.sizeMultiplier,ae*=q.sizeMultiplier,We="."===U.left?ch(q,["mopen"]):Bn_leftRightDelim(U.left,J,ae,q,U.mode,["mopen"]),j.unshift(We),ue)for(var ot=1;ot<j.length;ot++){var jt=j[ot].isMiddle;jt&&(j[ot]=Bn_leftRightDelim(jt.delim,J,ae,jt.options,U.mode,[]))}if("."===U.right)rn=ch(q,["mclose"]);else{var mn=U.rightColor?q.withColor(U.rightColor):q;rn=Bn_leftRightDelim(U.right,J,ae,mn,U.mode,["mclose"])}return j.push(rn),$t.makeSpan(["minner"],j,q)},mathmlBuilder:function(U,q){Ri(U);var j=Rs(U.body,q);if("."!==U.left){var J=new Cn.MathNode("mo",[ga(U.left,U.mode)]);J.setAttribute("fence","true"),j.unshift(J)}if("."!==U.right){var ae=new Cn.MathNode("mo",[ga(U.right,U.mode)]);ae.setAttribute("fence","true"),U.rightColor&&ae.setAttribute("mathcolor",U.rightColor),j.push(ae)}return Zi(j)}}),qn({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:function(U,q){var j=ds(q[0],U);if(!U.parser.leftrightDepth)throw new le("\\middle without preceding \\left",j);return{type:"middle",mode:U.parser.mode,delim:j.text}},htmlBuilder:function(U,q){var j;return"."===U.delim?j=ch(q,[]):(j=Bn_sizedDelim(U.delim,1,q,U.mode,[])).isMiddle={delim:U.delim,options:q},j},mathmlBuilder:function(U,q){var j="\\vert"===U.delim||"|"===U.delim?ga("|","text"):ga(U.delim,U.mode),J=new Cn.MathNode("mo",[j]);return J.setAttribute("fence","true"),J.setAttribute("lspace","0.05em"),J.setAttribute("rspace","0.05em"),J}});var rl=function(U,q){var ue,ur,j=$t.wrapFragment(ii(U.body,q),q),J=U.label.substr(1),ae=q.sizeMultiplier,xe=0,We=Be.isCharacterBox(U.body);if("sout"===J)(ue=$t.makeSpan(["stretchy","sout"])).height=q.fontMetrics().defaultRuleThickness/ae,xe=-.5*q.fontMetrics().xHeight;else if("phase"===J){var ot=ts({number:.6,unit:"pt"},q),Dt=ts({number:.35,unit:"ex"},q);ae/=q.havingBaseSizing().sizeMultiplier;var rn=j.height+j.depth+ot+Dt;j.style.paddingLeft=rn/2+ot+"em";var mn=Math.floor(1e3*rn*ae),yn=function(U){return"M400000 "+U+" H0 L"+U/2+" 0 l65 45 L145 "+(U-80)+" H400000z"}(mn),Tn=new lt([new Rt("phase",yn)],{width:"400em",height:mn/1e3+"em",viewBox:"0 0 400000 "+mn,preserveAspectRatio:"xMinYMin slice"});(ue=$t.makeSvgSpan(["hide-tail"],[Tn],q)).style.height=rn+"em",xe=j.depth+ot+Dt}else{/cancel/.test(J)?We||j.classes.push("cancel-pad"):j.classes.push("angl"===J?"anglpad":"boxpad");var On=0,jn=0,Kn=0;/box/.test(J)?(Kn=Math.max(q.fontMetrics().fboxrule,q.minRuleThickness),jn=On=q.fontMetrics().fboxsep+("colorbox"===J?0:Kn)):"angl"===J?(On=4*(Kn=Math.max(q.fontMetrics().defaultRuleThickness,q.minRuleThickness)),jn=Math.max(0,.25-j.depth)):jn=On=We?.2:0,ue=Al_encloseSpan(j,J,On,jn,q),/fbox|boxed|fcolorbox/.test(J)?(ue.style.borderStyle="solid",ue.style.borderWidth=Kn+"em"):"angl"===J&&.049!==Kn&&(ue.style.borderTopWidth=Kn+"em",ue.style.borderRightWidth=Kn+"em"),xe=j.depth+jn,U.backgroundColor&&(ue.style.backgroundColor=U.backgroundColor,U.borderColor&&(ue.style.borderColor=U.borderColor))}if(U.backgroundColor)ur=$t.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ue,shift:xe},{type:"elem",elem:j,shift:0}]},q);else{var jr=/cancel|phase/.test(J)?["svg-align"]:[];ur=$t.makeVList({positionType:"individualShift",children:[{type:"elem",elem:j,shift:0},{type:"elem",elem:ue,shift:xe,wrapperClasses:jr}]},q)}return/cancel/.test(J)&&(ur.height=j.height,ur.depth=j.depth),/cancel/.test(J)&&!We?$t.makeSpan(["mord","cancel-lap"],[ur],q):$t.makeSpan(["mord"],[ur],q)},ud=function(U,q){var j=0,J=new Cn.MathNode(U.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Qn(U.body,q)]);switch(U.label){case"\\cancel":J.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":J.setAttribute("notation","downdiagonalstrike");break;case"\\phase":J.setAttribute("notation","phasorangle");break;case"\\sout":J.setAttribute("notation","horizontalstrike");break;case"\\fbox":J.setAttribute("notation","box");break;case"\\angl":J.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(j=q.fontMetrics().fboxsep*q.fontMetrics().ptPerEm,J.setAttribute("width","+"+2*j+"pt"),J.setAttribute("height","+"+2*j+"pt"),J.setAttribute("lspace",j+"pt"),J.setAttribute("voffset",j+"pt"),"\\fcolorbox"===U.label){var ae=Math.max(q.fontMetrics().fboxrule,q.minRuleThickness);J.setAttribute("style","border: "+ae+"em solid "+String(U.borderColor))}break;case"\\xcancel":J.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return U.backgroundColor&&J.setAttribute("mathbackground",U.backgroundColor),J};qn({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler:function(U,q,j){var J=U.parser,ae=U.funcName,ue=Tr(q[0],"color-token").color;return{type:"enclose",mode:J.mode,label:ae,backgroundColor:ue,body:q[1]}},htmlBuilder:rl,mathmlBuilder:ud}),qn({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler:function(U,q,j){var J=U.parser,ae=U.funcName,ue=Tr(q[0],"color-token").color,xe=Tr(q[1],"color-token").color;return{type:"enclose",mode:J.mode,label:ae,backgroundColor:xe,borderColor:ue,body:q[2]}},htmlBuilder:rl,mathmlBuilder:ud}),qn({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler:function(U,q){return{type:"enclose",mode:U.parser.mode,label:"\\fbox",body:q[0]}}}),qn({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler:function(U,q){return{type:"enclose",mode:U.parser.mode,label:U.funcName,body:q[0]}},htmlBuilder:rl,mathmlBuilder:ud}),qn({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler:function(U,q){return{type:"enclose",mode:U.parser.mode,label:"\\angl",body:q[0]}}});var zs={};function mo(me){for(var U=me.type,q=me.names,ae=me.htmlBuilder,ue=me.mathmlBuilder,xe={type:U,numArgs:me.props.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:me.handler},We=0;We<q.length;++We)zs[q[We]]=xe;ae&&(tm[U]=ae),ue&&(nm[U]=ue)}function Sf(me){var U=[];me.consumeSpaces();for(var q=me.fetch().text;"\\hline"===q||"\\hdashline"===q;)me.consume(),U.push("\\hdashline"===q),me.consumeSpaces(),q=me.fetch().text;return U}var Il=function(U){if(!U.parser.settings.displayMode)throw new le("{"+U.envName+"} can be used only in display mode.")};function il(me,U,q){var j=U.hskipBeforeAndAfter,J=U.addJot,ae=U.cols,ue=U.arraystretch,xe=U.colSeparationType,We=U.addEqnNum,ot=U.singleRow,Dt=U.emptySingleRow,jt=U.maxNumCols,rn=U.leqno;if(me.gullet.beginGroup(),ot||me.gullet.macros.set("\\cr","\\\\\\relax"),!ue){var mn=me.gullet.expandMacroAsText("\\arraystretch");if(null==mn)ue=1;else if(!(ue=parseFloat(mn))||ue<0)throw new le("Invalid \\arraystretch: "+mn)}me.gullet.beginGroup();var yn=[],Tn=[yn],On=[],jn=[];for(jn.push(Sf(me));;){var Kn=me.parseExpression(!1,ot?"\\end":"\\\\");me.gullet.endGroup(),me.gullet.beginGroup(),Kn={type:"ordgroup",mode:me.mode,body:Kn},q&&(Kn={type:"styling",mode:me.mode,style:q,body:[Kn]}),yn.push(Kn);var ur=me.fetch().text;if("&"===ur){if(jt&&yn.length===jt){if(ot||xe)throw new le("Too many tab characters: &",me.nextToken);me.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}me.consume()}else{if("\\end"===ur){1===yn.length&&"styling"===Kn.type&&0===Kn.body[0].body.length&&(Tn.length>1||!Dt)&&Tn.pop(),jn.length<Tn.length+1&&jn.push([]);break}if("\\\\"!==ur)throw new le("Expected & or \\\\ or \\cr or \\end",me.nextToken);me.consume();var jr=void 0;" "!==me.gullet.future().text&&(jr=me.parseSizeGroup(!0)),On.push(jr?jr.value:null),jn.push(Sf(me)),Tn.push(yn=[])}}return me.gullet.endGroup(),me.gullet.endGroup(),{type:"array",mode:me.mode,addJot:J,arraystretch:ue,body:Tn,cols:ae,rowGaps:On,hskipBeforeAndAfter:j,hLinesBeforeRow:jn,colSeparationType:xe,addEqnNum:We,leqno:rn}}function ya(me){return"d"===me.substr(0,1)?"display":"text"}var Rr=function(U,q){var j,J,ae=U.body.length,ue=U.hLinesBeforeRow,xe=0,We=new Array(ae),ot=[],Dt=Math.max(q.fontMetrics().arrayRuleWidth,q.minRuleThickness),jt=1/q.fontMetrics().ptPerEm,rn=5*jt;U.colSeparationType&&"small"===U.colSeparationType&&(rn=q.havingStyle(Se.SCRIPT).sizeMultiplier/q.sizeMultiplier*.2778);var yn="CD"===U.colSeparationType?ts({number:3,unit:"ex"},q):12*jt,Tn=3*jt,On=U.arraystretch*yn,jn=.7*On,Kn=.3*On,ur=0;function jr(Lc){for(var Bc=0;Bc<Lc.length;++Bc)Bc>0&&(ur+=.25),ot.push({pos:ur,isDashed:Lc[Bc]})}for(jr(ue[0]),j=0;j<U.body.length;++j){var bi=U.body[j],fi=jn,ei=Kn;xe<bi.length&&(xe=bi.length);var wi=new Array(bi.length);for(J=0;J<bi.length;++J){var Yn=ii(bi[J],q);ei<Yn.depth&&(ei=Yn.depth),fi<Yn.height&&(fi=Yn.height),wi[J]=Yn}var ir=U.rowGaps[j],ms=0;ir&&(ms=ts(ir,q))>0&&(ei<(ms+=Kn)&&(ei=ms),ms=0),U.addJot&&(ei+=Tn),wi.height=fi,wi.depth=ei,wi.pos=ur+=fi,ur+=ei+ms,We[j]=wi,jr(ue[j+1])}var wa,si,Qs=ur/2+q.fontMetrics().axisHeight,pi=U.cols||[],Os=[],Pf=[];if(U.addEqnNum)for(j=0;j<ae;++j){var Mh=We[j],Va=Mh.pos-Qs,Mu=$t.makeSpan(["eqn-num"],[],q);Mu.depth=Mh.depth,Mu.height=Mh.height,Pf.push({type:"elem",elem:Mu,shift:Va})}for(J=0,si=0;J<xe||si<pi.length;++J,++si){for(var as=pi[si]||{},Ff=!0;"separator"===as.type;){if(Ff||((wa=$t.makeSpan(["arraycolsep"],[])).style.width=q.fontMetrics().doubleRuleSep+"em",Os.push(wa)),"|"!==as.separator&&":"!==as.separator)throw new le("Invalid separator type: "+as.separator);var Vv="|"===as.separator?"solid":"dashed",Cd=$t.makeSpan(["vertical-separator"],[],q);Cd.style.height=ur+"em",Cd.style.borderRightWidth=Dt+"em",Cd.style.borderRightStyle=Vv,Cd.style.margin="0 -"+Dt/2+"em",Cd.style.verticalAlign=-(ur-Qs)+"em",Os.push(Cd),as=pi[++si]||{},Ff=!1}if(!(J>=xe)){var Fl=void 0;(J>0||U.hskipBeforeAndAfter)&&0!==(Fl=Be.deflt(as.pregap,rn))&&((wa=$t.makeSpan(["arraycolsep"],[])).style.width=Fl+"em",Os.push(wa));var Xs=[];for(j=0;j<ae;++j){var Ll=We[j],Vi=Ll[J];if(Vi){var al=Ll.pos-Qs;Vi.depth=Ll.depth,Vi.height=Ll.height,Xs.push({type:"elem",elem:Vi,shift:al})}}Xs=$t.makeVList({positionType:"individualShift",children:Xs},q),Xs=$t.makeSpan(["col-align-"+(as.align||"c")],[Xs]),Os.push(Xs),(J<xe-1||U.hskipBeforeAndAfter)&&0!==(Fl=Be.deflt(as.postgap,rn))&&((wa=$t.makeSpan(["arraycolsep"],[])).style.width=Fl+"em",Os.push(wa))}}if(We=$t.makeSpan(["mtable"],Os),ot.length>0){for(var Lf=$t.makeLineSpan("hline",q,Dt),xn=$t.makeLineSpan("hdashline",q,Dt),Ns=[{type:"elem",elem:We,shift:0}];ot.length>0;){var Bl=ot.pop(),cm=Bl.pos-Qs;Ns.push(Bl.isDashed?{type:"elem",elem:xn,shift:cm}:{type:"elem",elem:Lf,shift:cm})}We=$t.makeVList({positionType:"individualShift",children:Ns},q)}if(U.addEqnNum){var Ca=$t.makeVList({positionType:"individualShift",children:Pf},q);return Ca=$t.makeSpan(["tag"],[Ca],q),$t.makeFragment([We,Ca])}return $t.makeSpan(["mord"],[We],q)},dw={c:"center ",l:"left ",r:"right "},sl=function(U,q){for(var j=[],J=new Cn.MathNode("mtd",[],["mtr-glue"]),ae=new Cn.MathNode("mtd",[],["mml-eqn-num"]),ue=0;ue<U.body.length;ue++){for(var xe=U.body[ue],We=[],ot=0;ot<xe.length;ot++)We.push(new Cn.MathNode("mtd",[Qn(xe[ot],q)]));U.addEqnNum&&(We.unshift(J),We.push(J),U.leqno?We.unshift(ae):We.push(ae)),j.push(new Cn.MathNode("mtr",We))}var Dt=new Cn.MathNode("mtable",j);Dt.setAttribute("rowspacing",(.5===U.arraystretch?.1:.16+U.arraystretch-1+(U.addJot?.09:0)).toFixed(4)+"em");var rn="",mn="";if(U.cols&&U.cols.length>0){var yn=U.cols,Tn="",On=!1,jn=0,Kn=yn.length;"separator"===yn[0].type&&(rn+="top ",jn=1),"separator"===yn[yn.length-1].type&&(rn+="bottom ",Kn-=1);for(var ur=jn;ur<Kn;ur++)"align"===yn[ur].type?(mn+=dw[yn[ur].align],On&&(Tn+="none "),On=!0):"separator"===yn[ur].type&&On&&(Tn+="|"===yn[ur].separator?"solid ":"dashed ",On=!1);Dt.setAttribute("columnalign",mn.trim()),/[sd]/.test(Tn)&&Dt.setAttribute("columnlines",Tn.trim())}if("align"===U.colSeparationType){for(var jr=U.cols||[],bi="",fi=1;fi<jr.length;fi++)bi+=fi%2?"0em ":"1em ";Dt.setAttribute("columnspacing",bi.trim())}else Dt.setAttribute("columnspacing","alignat"===U.colSeparationType||"gather"===U.colSeparationType?"0em":"small"===U.colSeparationType?"0.2778em":"CD"===U.colSeparationType?"0.5em":"1em");var ei="",wi=U.hLinesBeforeRow;rn+=wi[0].length>0?"left ":"",rn+=wi[wi.length-1].length>0?"right ":"";for(var Yn=1;Yn<wi.length-1;Yn++)ei+=0===wi[Yn].length?"none ":wi[Yn][0]?"dashed ":"solid ";return/[sd]/.test(ei)&&Dt.setAttribute("rowlines",ei.trim()),""!==rn&&(Dt=new Cn.MathNode("menclose",[Dt])).setAttribute("notation",rn.trim()),U.arraystretch&&U.arraystretch<1&&(Dt=new Cn.MathNode("mstyle",[Dt])).setAttribute("scriptlevel","1"),Dt},ac=function(U,q){-1===U.envName.indexOf("ed")&&Il(U);var ue,j=[],J=U.envName.indexOf("at")>-1?"alignat":"align",ae=il(U.parser,{cols:j,addJot:!0,addEqnNum:"align"===U.envName||"alignat"===U.envName,emptySingleRow:!0,colSeparationType:J,maxNumCols:"split"===U.envName?2:void 0,leqno:U.parser.settings.leqno},"display"),xe=0,We={type:"ordgroup",mode:U.mode,body:[]};if(q[0]&&"ordgroup"===q[0].type){for(var ot="",Dt=0;Dt<q[0].body.length;Dt++)ot+=Tr(q[0].body[Dt],"textord").text;ue=Number(ot),xe=2*ue}var rn=!xe;ae.body.forEach(function(On){for(var jn=1;jn<On.length;jn+=2){var Kn=Tr(On[jn],"styling");Tr(Kn.body[0],"ordgroup").body.unshift(We)}if(rn)xe<On.length&&(xe=On.length);else{var jr=On.length/2;if(ue<jr)throw new le("Too many math in a row: expected "+ue+", but got "+jr,On[0])}});for(var mn=0;mn<xe;++mn){var yn="r",Tn=0;mn%2==1?yn="l":mn>0&&rn&&(Tn=1),j[mn]={type:"align",align:yn,pregap:Tn,postgap:0}}return ae.colSeparationType=rn?"align":"alignat",ae};mo({type:"array",names:["array","darray"],props:{numArgs:1},handler:function(U,q){var ae=(fh(q[0])?[q[0]]:Tr(q[0],"ordgroup").body).map(function(xe){var ot=gr(xe).text;if(-1!=="lcr".indexOf(ot))return{type:"align",align:ot};if("|"===ot)return{type:"separator",separator:"|"};if(":"===ot)return{type:"separator",separator:":"};throw new le("Unknown column alignment: "+ot,xe)});return il(U.parser,{cols:ae,hskipBeforeAndAfter:!0,maxNumCols:ae.length},ya(U.envName))},htmlBuilder:Rr,mathmlBuilder:sl}),mo({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler:function(U){var q={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[U.envName.replace("*","")],j="c",J={hskipBeforeAndAfter:!1,cols:[{type:"align",align:j}]};if("*"===U.envName.charAt(U.envName.length-1)){var ae=U.parser;if(ae.consumeSpaces(),"["===ae.fetch().text){if(ae.consume(),ae.consumeSpaces(),j=ae.fetch().text,-1==="lcr".indexOf(j))throw new le("Expected l or c or r",ae.nextToken);ae.consume(),ae.consumeSpaces(),ae.expect("]"),ae.consume(),J.cols=[{type:"align",align:j}]}}var ue=il(U.parser,J,ya(U.envName)),xe=Math.max.apply(Math,[0].concat(ue.body.map(function(We){return We.length})));return ue.cols=new Array(xe).fill({type:"align",align:j}),q?{type:"leftright",mode:U.mode,body:[ue],left:q[0],right:q[1],rightColor:void 0}:ue},htmlBuilder:Rr,mathmlBuilder:sl}),mo({type:"array",names:["smallmatrix"],props:{numArgs:0},handler:function(U){var j=il(U.parser,{arraystretch:.5},"script");return j.colSeparationType="small",j},htmlBuilder:Rr,mathmlBuilder:sl}),mo({type:"array",names:["subarray"],props:{numArgs:1},handler:function(U,q){var ae=(fh(q[0])?[q[0]]:Tr(q[0],"ordgroup").body).map(function(xe){var ot=gr(xe).text;if(-1!=="lc".indexOf(ot))return{type:"align",align:ot};throw new le("Unknown column alignment: "+ot,xe)});if(ae.length>1)throw new le("{subarray} can contain only one column");var ue={cols:ae,hskipBeforeAndAfter:!1,arraystretch:.5};if((ue=il(U.parser,ue,"script")).body.length>0&&ue.body[0].length>1)throw new le("{subarray} can contain only one column");return ue},htmlBuilder:Rr,mathmlBuilder:sl}),mo({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler:function(U){var j=il(U.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},ya(U.envName));return{type:"leftright",mode:U.mode,body:[j],left:U.envName.indexOf("r")>-1?".":"\\{",right:U.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Rr,mathmlBuilder:sl}),mo({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:ac,htmlBuilder:Rr,mathmlBuilder:sl}),mo({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler:function(U){return Be.contains(["gather","gather*"],U.envName)&&Il(U),il(U.parser,{cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",addEqnNum:"gather"===U.envName,emptySingleRow:!0,leqno:U.parser.settings.leqno},"display")},htmlBuilder:Rr,mathmlBuilder:sl}),mo({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:ac,htmlBuilder:Rr,mathmlBuilder:sl}),mo({type:"array",names:["equation","equation*"],props:{numArgs:0},handler:function(U){return Il(U),il(U.parser,{addEqnNum:"equation"===U.envName,emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:U.parser.settings.leqno},"display")},htmlBuilder:Rr,mathmlBuilder:sl}),mo({type:"array",names:["CD"],props:{numArgs:0},handler:function(U){return Il(U),function(me){var U=[];for(me.gullet.beginGroup(),me.gullet.macros.set("\\cr","\\\\\\relax"),me.gullet.beginGroup();;){U.push(me.parseExpression(!1,"\\\\")),me.gullet.endGroup(),me.gullet.beginGroup();var q=me.fetch().text;if("&"!==q&&"\\\\"!==q){if("\\end"===q){0===U[U.length-1].length&&U.pop();break}throw new le("Expected \\\\ or \\cr or \\end",me.nextToken)}me.consume()}for(var j=[],J=[j],ae=0;ae<U.length;ae++){for(var ue=U[ae],xe={type:"styling",body:[],mode:"math",style:"display"},We=0;We<ue.length;We++)if(hn(ue[We])){j.push(xe);var ot=gr(ue[We+=1]).text,Dt=new Array(2);if(Dt[0]={type:"ordgroup",mode:"math",body:[]},Dt[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(ot)>-1)){if(!("<>AV".indexOf(ot)>-1))throw new le('Expected one of "<>AV=|." after @',ue[We]);for(var jt=0;jt<2;jt++){for(var rn=!0,mn=We+1;mn<ue.length;mn++){if(Kr(ue[mn],ot)){rn=!1,We=mn;break}if(hn(ue[mn]))throw new le("Missing a "+ot+" character to complete a CD arrow.",ue[mn]);Dt[jt].body.push(ue[mn])}if(rn)throw new le("Missing a "+ot+" character to complete a CD arrow.",ue[We])}}var yn=rm(ot,Dt,me);j.push({type:"styling",body:[yn],mode:"math",style:"display"}),xe={type:"styling",body:[],mode:"math",style:"display"}}else xe.body.push(ue[We]);ae%2==0?j.push(xe):j.shift(),J.push(j=[])}return me.gullet.endGroup(),me.gullet.endGroup(),{type:"array",mode:"math",body:J,arraystretch:1,addJot:!0,rowGaps:[null],cols:new Array(J[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25}),colSeparationType:"CD",hLinesBeforeRow:new Array(J.length+1).fill([])}}(U.parser)},htmlBuilder:Rr,mathmlBuilder:sl}),qn({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler:function(U,q){throw new le(U.funcName+" valid only within array environment")}});var Mf=zs;qn({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler:function(U,q){var j=U.parser,J=U.funcName,ae=q[0];if("ordgroup"!==ae.type)throw new le("Invalid environment name",ae);for(var ue="",xe=0;xe<ae.body.length;++xe)ue+=Tr(ae.body[xe],"textord").text;if("\\begin"===J){if(!Mf.hasOwnProperty(ue))throw new le("No such environment: "+ue,ae);var We=Mf[ue],ot=j.parseArguments("\\begin{"+ue+"}",We),mn=We.handler({mode:j.mode,envName:ue,parser:j},ot.args,ot.optArgs);j.expect("\\end",!1);var yn=j.nextToken,Tn=Tr(j.parseFunction(),"environment");if(Tn.name!==ue)throw new le("Mismatch: \\begin{"+ue+"} matched by \\end{"+Tn.name+"}",yn);return mn}return{type:"environment",mode:j.mode,name:ue,nameGroup:ae}}});var hw=$t.makeSpan;function Ef(me,U){var q=As(me.body,U,!0);return hw([me.mclass],q,U)}function _u(me,U){var q,j=Rs(me.body,U);return"minner"===me.mclass?Cn.newDocumentFragment(j):("mord"===me.mclass?me.isCharacterBox?(q=j[0]).type="mi":q=new Cn.MathNode("mi",j):(me.isCharacterBox?(q=j[0]).type="mo":q=new Cn.MathNode("mo",j),"mbin"===me.mclass?(q.attributes.lspace="0.22em",q.attributes.rspace="0.22em"):"mpunct"===me.mclass?(q.attributes.lspace="0em",q.attributes.rspace="0.17em"):("mopen"===me.mclass||"mclose"===me.mclass)&&(q.attributes.lspace="0em",q.attributes.rspace="0em")),q)}qn({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler:function(U,q){var ae=q[0];return{type:"mclass",mode:U.parser.mode,mclass:"m"+U.funcName.substr(5),body:ks(ae),isCharacterBox:Be.isCharacterBox(ae)}},htmlBuilder:Ef,mathmlBuilder:_u});var Fc=function(U){var q="ordgroup"===U.type&&U.body.length?U.body[0]:U;return"atom"!==q.type||"bin"!==q.family&&"rel"!==q.family?"mord":"m"+q.family};qn({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler:function(U,q){return{type:"mclass",mode:U.parser.mode,mclass:Fc(q[0]),body:ks(q[1]),isCharacterBox:Be.isCharacterBox(q[1])}}}),qn({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler:function(U,q){var xe,j=U.parser,J=U.funcName,ae=q[1],ue=q[0];xe="\\stackrel"!==J?Fc(ae):"mrel";var We={type:"op",mode:ae.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:"\\stackrel"!==J,body:ks(ae)},ot={type:"supsub",mode:ue.mode,base:We,sup:"\\underset"===J?null:ue,sub:"\\underset"===J?ue:null};return{type:"mclass",mode:j.mode,mclass:xe,body:[ot],isCharacterBox:Be.isCharacterBox(ot)}},htmlBuilder:Ef,mathmlBuilder:_u});var Df=function(U,q){var J=q.withFont(U.font);return ii(U.body,J)},Ko=function(U,q){var J=q.withFont(U.font);return Qn(U.body,J)},dd={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};qn({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:function(U,q){var j=U.parser,J=U.funcName,ae=id(q[0]),ue=J;return ue in dd&&(ue=dd[ue]),{type:"font",mode:j.mode,font:ue.slice(1),body:ae}},htmlBuilder:Df,mathmlBuilder:Ko}),qn({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:function(U,q){var j=U.parser,J=q[0],ae=Be.isCharacterBox(J);return{type:"mclass",mode:j.mode,mclass:Fc(J),body:[{type:"font",mode:j.mode,font:"boldsymbol",body:J}],isCharacterBox:ae}}}),qn({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:function(U,q){var j=U.parser,J=U.funcName,ue=j.mode,xe=j.parseExpression(!0,U.breakOnTokenText);return{type:"font",mode:ue,font:"math"+J.slice(1),body:{type:"ordgroup",mode:j.mode,body:xe}}},htmlBuilder:Df,mathmlBuilder:Ko});var Tf=function(U,q){var j=q;return"display"===U?j=j.id>=Se.SCRIPT.id?j.text():Se.DISPLAY:"text"===U&&j.size===Se.DISPLAY.size?j=Se.TEXT:"script"===U?j=Se.SCRIPT:"scriptscript"===U&&(j=Se.SCRIPTSCRIPT),j},lc=function(U,q){var ue,j=Tf(U.size,q.style),J=j.fracNum(),ae=j.fracDen();ue=q.havingStyle(J);var xe=ii(U.numer,ue,q);if(U.continued){var We=8.5/q.fontMetrics().ptPerEm,ot=3.5/q.fontMetrics().ptPerEm;xe.height=xe.height<We?We:xe.height,xe.depth=xe.depth<ot?ot:xe.depth}ue=q.havingStyle(ae);var jt,rn,mn,yn,Tn,On,jn,bi,fi,ei,Dt=ii(U.denom,ue,q);if(U.hasBarLine?(U.barSize?(rn=ts(U.barSize,q),jt=$t.makeLineSpan("frac-line",q,rn)):jt=$t.makeLineSpan("frac-line",q),rn=jt.height,mn=jt.height):(jt=null,rn=0,mn=q.fontMetrics().defaultRuleThickness),j.size===Se.DISPLAY.size||"display"===U.size?(yn=q.fontMetrics().num1,Tn=rn>0?3*mn:7*mn,On=q.fontMetrics().denom1):(rn>0?(yn=q.fontMetrics().num2,Tn=mn):(yn=q.fontMetrics().num3,Tn=3*mn),On=q.fontMetrics().denom2),jt){var ur=q.fontMetrics().axisHeight;yn-xe.depth-(ur+.5*rn)<Tn&&(yn+=Tn-(yn-xe.depth-(ur+.5*rn))),ur-.5*rn-(Dt.height-On)<Tn&&(On+=Tn-(ur-.5*rn-(Dt.height-On))),jn=$t.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Dt,shift:On},{type:"elem",elem:jt,shift:-(ur-.5*rn)},{type:"elem",elem:xe,shift:-yn}]},q)}else{var Kn=yn-xe.depth-(Dt.height-On);Kn<Tn&&(yn+=.5*(Tn-Kn),On+=.5*(Tn-Kn)),jn=$t.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Dt,shift:On},{type:"elem",elem:xe,shift:-yn}]},q)}return ue=q.havingStyle(j),jn.height*=ue.sizeMultiplier/q.sizeMultiplier,jn.depth*=ue.sizeMultiplier/q.sizeMultiplier,bi=j.size===Se.DISPLAY.size?q.fontMetrics().delim1:j.size===Se.SCRIPTSCRIPT.size?q.havingStyle(Se.SCRIPT).fontMetrics().delim2:q.fontMetrics().delim2,fi=null==U.leftDelim?ch(q,["mopen"]):Bn_customSizedDelim(U.leftDelim,bi,!0,q.havingStyle(j),U.mode,["mopen"]),ei=U.continued?$t.makeSpan([]):null==U.rightDelim?ch(q,["mclose"]):Bn_customSizedDelim(U.rightDelim,bi,!0,q.havingStyle(j),U.mode,["mclose"]),$t.makeSpan(["mord"].concat(ue.sizingClasses(q)),[fi,$t.makeSpan(["mfrac"],[jn]),ei],q)},Rl=function(U,q){var j=new Cn.MathNode("mfrac",[Qn(U.numer,q),Qn(U.denom,q)]);if(U.hasBarLine){if(U.barSize){var J=ts(U.barSize,q);j.setAttribute("linethickness",J+"em")}}else j.setAttribute("linethickness","0px");var ae=Tf(U.size,q.style);if(ae.size!==q.style.size&&((j=new Cn.MathNode("mstyle",[j])).setAttribute("displaystyle",ae.size===Se.DISPLAY.size?"true":"false"),j.setAttribute("scriptlevel","0")),null!=U.leftDelim||null!=U.rightDelim){var xe=[];if(null!=U.leftDelim){var We=new Cn.MathNode("mo",[new Cn.TextNode(U.leftDelim.replace("\\",""))]);We.setAttribute("fence","true"),xe.push(We)}if(xe.push(j),null!=U.rightDelim){var ot=new Cn.MathNode("mo",[new Cn.TextNode(U.rightDelim.replace("\\",""))]);ot.setAttribute("fence","true"),xe.push(ot)}return Zi(xe)}return j};qn({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:function(U,q){var xe,j=U.parser,J=U.funcName,ae=q[0],ue=q[1],We=null,ot=null,Dt="auto";switch(J){case"\\dfrac":case"\\frac":case"\\tfrac":xe=!0;break;case"\\\\atopfrac":xe=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":xe=!1,We="(",ot=")";break;case"\\\\bracefrac":xe=!1,We="\\{",ot="\\}";break;case"\\\\brackfrac":xe=!1,We="[",ot="]";break;default:throw new Error("Unrecognized genfrac command")}switch(J){case"\\dfrac":case"\\dbinom":Dt="display";break;case"\\tfrac":case"\\tbinom":Dt="text"}return{type:"genfrac",mode:j.mode,continued:!1,numer:ae,denom:ue,hasBarLine:xe,leftDelim:We,rightDelim:ot,size:Dt,barSize:null}},htmlBuilder:lc,mathmlBuilder:Rl}),qn({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:function(U,q){return{type:"genfrac",mode:U.parser.mode,continued:!0,numer:q[0],denom:q[1],hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),qn({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler:function(U){var ae,q=U.parser,J=U.token;switch(U.funcName){case"\\over":ae="\\frac";break;case"\\choose":ae="\\binom";break;case"\\atop":ae="\\\\atopfrac";break;case"\\brace":ae="\\\\bracefrac";break;case"\\brack":ae="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:q.mode,replaceWith:ae,token:J}}});var bh=["display","text","script","scriptscript"],Ba=function(U){var q=null;return U.length>0&&(q="."===(q=U)?null:q),q};qn({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler:function(U,q){var jt,j=U.parser,J=q[4],ae=q[5],ue=id(q[0]),xe="atom"===ue.type&&"open"===ue.family?Ba(ue.text):null,We=id(q[1]),ot="atom"===We.type&&"close"===We.family?Ba(We.text):null,Dt=Tr(q[2],"size"),rn=null;jt=!!Dt.isBlank||(rn=Dt.value).number>0;var mn="auto",yn=q[3];if("ordgroup"===yn.type){if(yn.body.length>0){var Tn=Tr(yn.body[0],"textord");mn=bh[Number(Tn.text)]}}else yn=Tr(yn,"textord"),mn=bh[Number(yn.text)];return{type:"genfrac",mode:j.mode,numer:J,denom:ae,continued:!1,hasBarLine:jt,barSize:rn,leftDelim:xe,rightDelim:ot,size:mn}},htmlBuilder:lc,mathmlBuilder:Rl}),qn({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler:function(U,q){var ae=U.token;return{type:"infix",mode:U.parser.mode,replaceWith:"\\\\abovefrac",size:Tr(q[0],"size").value,token:ae}}}),qn({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:function(U,q){var j=U.parser,ae=q[0],ue=function(U){if(!U)throw new Error("Expected non-null, but got "+String(U));return U}(Tr(q[1],"infix").size);return{type:"genfrac",mode:j.mode,numer:ae,denom:q[2],continued:!1,hasBarLine:ue.number>0,barSize:ue,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:lc,mathmlBuilder:Rl});var hd=function(U,q){var J,ae,j=q.style;"supsub"===U.type?(J=U.sup?ii(U.sup,q.havingStyle(j.sup()),q):ii(U.sub,q.havingStyle(j.sub()),q),ae=Tr(U.base,"horizBrace")):ae=Tr(U,"horizBrace");var We,ue=ii(ae.base,q.havingBaseStyle(Se.DISPLAY)),xe=Al_svgSpan(ae,q);if(ae.isOver?(We=$t.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:ue},{type:"kern",size:.1},{type:"elem",elem:xe}]},q)).children[0].children[0].children[1].classes.push("svg-align"):(We=$t.makeVList({positionType:"bottom",positionData:ue.depth+.1+xe.height,children:[{type:"elem",elem:xe},{type:"kern",size:.1},{type:"elem",elem:ue}]},q)).children[0].children[0].children[0].classes.push("svg-align"),J){var ot=$t.makeSpan(["mord",ae.isOver?"mover":"munder"],[We],q);We=$t.makeVList(ae.isOver?{positionType:"firstBaseline",children:[{type:"elem",elem:ot},{type:"kern",size:.2},{type:"elem",elem:J}]}:{positionType:"bottom",positionData:ot.depth+.2+J.height+J.depth,children:[{type:"elem",elem:J},{type:"kern",size:.2},{type:"elem",elem:ot}]},q)}return $t.makeSpan(["mord",ae.isOver?"mover":"munder"],[We],q)};qn({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler:function(U,q){var J=U.funcName;return{type:"horizBrace",mode:U.parser.mode,label:J,isOver:/^\\over/.test(J),base:q[0]}},htmlBuilder:hd,mathmlBuilder:function(U,q){var j=Al_mathMLnode(U.label);return new Cn.MathNode(U.isOver?"mover":"munder",[Qn(U.base,q),j])}}),qn({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:function(U,q){var j=U.parser,J=q[1],ae=Tr(q[0],"url").url;return j.settings.isTrusted({command:"\\href",url:ae})?{type:"href",mode:j.mode,href:ae,body:ks(J)}:j.formatUnsupportedCmd("\\href")},htmlBuilder:function(U,q){var j=As(U.body,q,!1);return $t.makeAnchor(U.href,[],j,q)},mathmlBuilder:function(U,q){var j=sc(U.body,q);return j instanceof Wo||(j=new Wo("mrow",[j])),j.setAttribute("href",U.href),j}}),qn({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:function(U,q){var j=U.parser,J=Tr(q[0],"url").url;if(!j.settings.isTrusted({command:"\\url",url:J}))return j.formatUnsupportedCmd("\\url");for(var ae=[],ue=0;ue<J.length;ue++){var xe=J[ue];"~"===xe&&(xe="\\textasciitilde"),ae.push({type:"textord",mode:"text",text:xe})}return{type:"href",mode:j.mode,href:J,body:ks({type:"text",mode:j.mode,font:"\\texttt",body:ae})}}}),qn({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler:function(U,q){return{type:"hbox",mode:U.parser.mode,body:ks(q[0])}},htmlBuilder:function(U,q){var j=As(U.body,q,!1);return $t.makeFragment(j)},mathmlBuilder:function(U,q){return new Cn.MathNode("mrow",Rs(U.body,q))}}),qn({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:function(U,q){var j=U.parser,J=U.funcName,ue=Tr(q[0],"raw").string,xe=q[1];j.settings.strict&&j.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var We,ot={};switch(J){case"\\htmlClass":ot.class=ue,We={command:"\\htmlClass",class:ue};break;case"\\htmlId":ot.id=ue,We={command:"\\htmlId",id:ue};break;case"\\htmlStyle":ot.style=ue,We={command:"\\htmlStyle",style:ue};break;case"\\htmlData":for(var Dt=ue.split(","),jt=0;jt<Dt.length;jt++){var rn=Dt[jt].split("=");if(2!==rn.length)throw new le("Error parsing key-value for \\htmlData");ot["data-"+rn[0].trim()]=rn[1].trim()}We={command:"\\htmlData",attributes:ot};break;default:throw new Error("Unrecognized html command")}return j.settings.isTrusted(We)?{type:"html",mode:j.mode,attributes:ot,body:ks(xe)}:j.formatUnsupportedCmd(J)},htmlBuilder:function(U,q){var j=As(U.body,q,!1),J=["enclosing"];U.attributes.class&&J.push.apply(J,U.attributes.class.trim().split(/\s+/));var ae=$t.makeSpan(J,j,q);for(var ue in U.attributes)"class"!==ue&&U.attributes.hasOwnProperty(ue)&&ae.setAttribute(ue,U.attributes[ue]);return ae},mathmlBuilder:function(U,q){return sc(U.body,q)}}),qn({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:function(U,q){return{type:"htmlmathml",mode:U.parser.mode,html:ks(q[0]),mathml:ks(q[1])}},htmlBuilder:function(U,q){var j=As(U.html,q,!1);return $t.makeFragment(j)},mathmlBuilder:function(U,q){return sc(U.mathml,q)}});var Lv=function(U){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(U))return{number:+U,unit:"bp"};var q=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(U);if(!q)throw new le("Invalid size: '"+U+"' in \\includegraphics");var j={number:+(q[1]+q[2]),unit:q[3]};if(!gf(j))throw new le("Invalid unit: '"+j.unit+"' in \\includegraphics.");return j};qn({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:function(U,q,j){var J=U.parser,ae={number:0,unit:"em"},ue={number:.9,unit:"em"},xe={number:0,unit:"em"},We="";if(j[0])for(var Dt=Tr(j[0],"raw").string.split(","),jt=0;jt<Dt.length;jt++){var rn=Dt[jt].split("=");if(2===rn.length){var mn=rn[1].trim();switch(rn[0].trim()){case"alt":We=mn;break;case"width":ae=Lv(mn);break;case"height":ue=Lv(mn);break;case"totalheight":xe=Lv(mn);break;default:throw new le("Invalid key: '"+rn[0]+"' in \\includegraphics.")}}}var yn=Tr(q[0],"url").url;return""===We&&(We=(We=(We=yn).replace(/^.*[\\/]/,"")).substring(0,We.lastIndexOf("."))),J.settings.isTrusted({command:"\\includegraphics",url:yn})?{type:"includegraphics",mode:J.mode,alt:We,width:ae,height:ue,totalheight:xe,src:yn}:J.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:function(U,q){var j=ts(U.height,q),J=0;U.totalheight.number>0&&(J=ts(U.totalheight,q)-j,J=Number(J.toFixed(2)));var ae=0;U.width.number>0&&(ae=ts(U.width,q));var ue={height:j+J+"em"};ae>0&&(ue.width=ae+"em"),J>0&&(ue.verticalAlign=-J+"em");var xe=new ge(U.src,U.alt,ue);return xe.height=j,xe.depth=J,xe},mathmlBuilder:function(U,q){var j=new Cn.MathNode("mglyph",[]);j.setAttribute("alt",U.alt);var J=ts(U.height,q),ae=0;if(U.totalheight.number>0&&(ae=(ae=ts(U.totalheight,q)-J).toFixed(2),j.setAttribute("valign","-"+ae+"em")),j.setAttribute("height",J+ae+"em"),U.width.number>0){var ue=ts(U.width,q);j.setAttribute("width",ue+"em")}return j.setAttribute("src",U.src),j}}),qn({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler:function(U,q){var j=U.parser,J=U.funcName,ae=Tr(q[0],"size");if(j.settings.strict){var xe="mu"===ae.value.unit;"m"===J[1]?(xe||j.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+J+" supports only mu units, not "+ae.value.unit+" units"),"math"!==j.mode&&j.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+J+" works only in math mode")):xe&&j.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+J+" doesn't support mu units")}return{type:"kern",mode:j.mode,dimension:ae.value}},htmlBuilder:function(U,q){return $t.makeGlue(U.dimension,q)},mathmlBuilder:function(U,q){var j=ts(U.dimension,q);return new Cn.SpaceNode(j)}}),qn({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:function(U,q){var ae=q[0];return{type:"lap",mode:U.parser.mode,alignment:U.funcName.slice(5),body:ae}},htmlBuilder:function(U,q){var j;"clap"===U.alignment?(j=$t.makeSpan([],[ii(U.body,q)]),j=$t.makeSpan(["inner"],[j],q)):j=$t.makeSpan(["inner"],[ii(U.body,q)]);var J=$t.makeSpan(["fix"],[]),ae=$t.makeSpan([U.alignment],[j,J],q),ue=$t.makeSpan(["strut"]);return ue.style.height=ae.height+ae.depth+"em",ue.style.verticalAlign=-ae.depth+"em",ae.children.unshift(ue),ae=$t.makeSpan(["thinbox"],[ae],q),$t.makeSpan(["mord","vbox"],[ae],q)},mathmlBuilder:function(U,q){var j=new Cn.MathNode("mpadded",[Qn(U.body,q)]);return"rlap"!==U.alignment&&j.setAttribute("lspace",("llap"===U.alignment?"-1":"-0.5")+"width"),j.setAttribute("width","0px"),j}}),qn({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(U,q){var j=U.funcName,J=U.parser,ae=J.mode;J.switchMode("math");var ue="\\("===j?"\\)":"$",xe=J.parseExpression(!1,ue);return J.expect(ue),J.switchMode(ae),{type:"styling",mode:J.mode,style:"text",body:xe}}}),qn({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(U,q){throw new le("Mismatched "+U.funcName)}});var sm=function(U,q){switch(q.style.size){case Se.DISPLAY.size:return U.display;case Se.TEXT.size:return U.text;case Se.SCRIPT.size:return U.script;case Se.SCRIPTSCRIPT.size:return U.scriptscript;default:return U.text}};qn({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:function(U,q){return{type:"mathchoice",mode:U.parser.mode,display:ks(q[0]),text:ks(q[1]),script:ks(q[2]),scriptscript:ks(q[3])}},htmlBuilder:function(U,q){var j=sm(U,q),J=As(j,q,!1);return $t.makeFragment(J)},mathmlBuilder:function(U,q){var j=sm(U,q);return sc(j,q)}});var wh=function(U,q,j,J,ae,ue,xe){U=$t.makeSpan([],[U]);var ot,Dt,mn,We=j&&Be.isCharacterBox(j);if(q){var jt=ii(q,J.havingStyle(ae.sup()),J);Dt={elem:jt,kern:Math.max(J.fontMetrics().bigOpSpacing1,J.fontMetrics().bigOpSpacing3-jt.depth)}}if(j){var rn=ii(j,J.havingStyle(ae.sub()),J);ot={elem:rn,kern:Math.max(J.fontMetrics().bigOpSpacing2,J.fontMetrics().bigOpSpacing4-rn.height)}}if(Dt&&ot){var yn=J.fontMetrics().bigOpSpacing5+ot.elem.height+ot.elem.depth+ot.kern+U.depth+xe;mn=$t.makeVList({positionType:"bottom",positionData:yn,children:[{type:"kern",size:J.fontMetrics().bigOpSpacing5},{type:"elem",elem:ot.elem,marginLeft:-ue+"em"},{type:"kern",size:ot.kern},{type:"elem",elem:U},{type:"kern",size:Dt.kern},{type:"elem",elem:Dt.elem,marginLeft:ue+"em"},{type:"kern",size:J.fontMetrics().bigOpSpacing5}]},J)}else if(ot)mn=$t.makeVList({positionType:"top",positionData:U.height-xe,children:[{type:"kern",size:J.fontMetrics().bigOpSpacing5},{type:"elem",elem:ot.elem,marginLeft:-ue+"em"},{type:"kern",size:ot.kern},{type:"elem",elem:U}]},J);else{if(!Dt)return U;mn=$t.makeVList({positionType:"bottom",positionData:U.depth+xe,children:[{type:"elem",elem:U},{type:"kern",size:Dt.kern},{type:"elem",elem:Dt.elem,marginLeft:ue+"em"},{type:"kern",size:J.fontMetrics().bigOpSpacing5}]},J)}var jn=[mn];if(ot&&0!==ue&&!We){var Kn=$t.makeSpan(["mspace"],[],J);Kn.style.marginRight=ue+"em",jn.unshift(Kn)}return $t.makeSpan(["mop","op-limits"],jn,J)},kf=["\\smallint"],vu=function(U,q){var j,J,ue,ae=!1;"supsub"===U.type?(j=U.sup,J=U.sub,ue=Tr(U.base,"op"),ae=!0):ue=Tr(U,"op");var ot,xe=q.style,We=!1;if(xe.size===Se.DISPLAY.size&&ue.symbol&&!Be.contains(kf,ue.name)&&(We=!0),ue.symbol){var Dt=We?"Size2-Regular":"Size1-Regular",jt="";if(("\\oiint"===ue.name||"\\oiiint"===ue.name)&&(jt=ue.name.substr(1),ue.name="oiint"===jt?"\\iint":"\\iiint"),ot=$t.makeSymbol(ue.name,Dt,"math",q,["mop","op-symbol",We?"large-op":"small-op"]),jt.length>0){var rn=ot.italic,mn=$t.staticSvg(jt+"Size"+(We?"2":"1"),q);ot=$t.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ot,shift:0},{type:"elem",elem:mn,shift:We?.08:0}]},q),ue.name="\\"+jt,ot.classes.unshift("mop"),ot.italic=rn}}else if(ue.body){var yn=As(ue.body,q,!0);1===yn.length&&yn[0]instanceof Xe?(ot=yn[0]).classes[0]="mop":ot=$t.makeSpan(["mop"],yn,q)}else{for(var Tn=[],On=1;On<ue.name.length;On++)Tn.push($t.mathsym(ue.name[On],ue.mode,q));ot=$t.makeSpan(["mop"],Tn,q)}var jn=0,Kn=0;return(ot instanceof Xe||"\\oiint"===ue.name||"\\oiiint"===ue.name)&&!ue.suppressBaseShift&&(jn=(ot.height-ot.depth)/2-q.fontMetrics().axisHeight,Kn=ot.italic),ae?wh(ot,j,J,q,xe,Kn,jn):(jn&&(ot.style.position="relative",ot.style.top=jn+"em"),ot)},cc=function(U,q){var j;if(U.symbol)j=new Wo("mo",[ga(U.name,U.mode)]),Be.contains(kf,U.name)&&j.setAttribute("largeop","false");else if(U.body)j=new Wo("mo",Rs(U.body,q));else{j=new Wo("mi",[new xl(U.name.slice(1))]);var J=new Wo("mo",[ga("\u2061","text")]);j=U.parentIsSupSub?new Wo("mrow",[j,J]):kc([j,J])}return j},om={"\u220f":"\\prod","\u2210":"\\coprod","\u2211":"\\sum","\u22c0":"\\bigwedge","\u22c1":"\\bigvee","\u22c2":"\\bigcap","\u22c3":"\\bigcup","\u2a00":"\\bigodot","\u2a01":"\\bigoplus","\u2a02":"\\bigotimes","\u2a04":"\\biguplus","\u2a06":"\\bigsqcup"};qn({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","\u220f","\u2210","\u2211","\u22c0","\u22c1","\u22c2","\u22c3","\u2a00","\u2a01","\u2a02","\u2a04","\u2a06"],props:{numArgs:0},handler:function(U,q){var ae=U.funcName;return 1===ae.length&&(ae=om[ae]),{type:"op",mode:U.parser.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:ae}},htmlBuilder:vu,mathmlBuilder:cc}),qn({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:function(U,q){return{type:"op",mode:U.parser.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ks(q[0])}},htmlBuilder:vu,mathmlBuilder:cc});var $n={"\u222b":"\\int","\u222c":"\\iint","\u222d":"\\iiint","\u222e":"\\oint","\u222f":"\\oiint","\u2230":"\\oiiint"};qn({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler:function(U){return{type:"op",mode:U.parser.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:U.funcName}},htmlBuilder:vu,mathmlBuilder:cc}),qn({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler:function(U){return{type:"op",mode:U.parser.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:U.funcName}},htmlBuilder:vu,mathmlBuilder:cc}),qn({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","\u222b","\u222c","\u222d","\u222e","\u222f","\u2230"],props:{numArgs:0},handler:function(U){var J=U.funcName;return 1===J.length&&(J=$n[J]),{type:"op",mode:U.parser.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:J}},htmlBuilder:vu,mathmlBuilder:cc});var $i={},Xr=$i;function He(me,U){$i[me]=U}He("\\noexpand",function(me){var U=me.popToken();return me.isExpandable(U.text)&&(U.noexpand=!0,U.treatAsRelax=!0),{tokens:[U],numArgs:0}}),He("\\expandafter",function(me){var U=me.popToken();return me.expandOnce(!0),{tokens:[U],numArgs:0}}),He("\\@firstoftwo",function(me){return{tokens:me.consumeArgs(2)[0],numArgs:0}}),He("\\@secondoftwo",function(me){return{tokens:me.consumeArgs(2)[1],numArgs:0}}),He("\\@ifnextchar",function(me){var U=me.consumeArgs(3);me.consumeSpaces();var q=me.future();return 1===U[0].length&&U[0][0].text===q.text?{tokens:U[1],numArgs:0}:{tokens:U[2],numArgs:0}}),He("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),He("\\TextOrMath",function(me){var U=me.consumeArgs(2);return"text"===me.mode?{tokens:U[0],numArgs:0}:{tokens:U[1],numArgs:0}});var Hs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};He("\\char",function(me){var q,U=me.popToken(),j="";if("'"===U.text)q=8,U=me.popToken();else if('"'===U.text)q=16,U=me.popToken();else if("`"===U.text)if("\\"===(U=me.popToken()).text[0])j=U.text.charCodeAt(1);else{if("EOF"===U.text)throw new le("\\char` missing argument");j=U.text.charCodeAt(0)}else q=10;if(q){if(null==(j=Hs[U.text])||j>=q)throw new le("Invalid base-"+q+" digit "+U.text);for(var J;null!=(J=Hs[me.future().text])&&J<q;)j*=q,j+=J,me.popToken()}return"\\@char{"+j+"}"});var xr=function(U,q,j){var J=U.consumeArg().tokens;if(1!==J.length)throw new le("\\newcommand's first argument must be a macro name");var ae=J[0].text,ue=U.isDefined(ae);if(ue&&!q)throw new le("\\newcommand{"+ae+"} attempting to redefine "+ae+"; use \\renewcommand");if(!ue&&!j)throw new le("\\renewcommand{"+ae+"} when command "+ae+" does not yet exist; use \\newcommand");var xe=0;if(1===(J=U.consumeArg().tokens).length&&"["===J[0].text){for(var We="",ot=U.expandNextToken();"]"!==ot.text&&"EOF"!==ot.text;)We+=ot.text,ot=U.expandNextToken();if(!We.match(/^\s*[0-9]+\s*$/))throw new le("Invalid number of arguments: "+We);xe=parseInt(We),J=U.consumeArg().tokens}return U.macros.set(ae,{tokens:J,numArgs:xe}),""};He("\\newcommand",function(me){return xr(me,!1,!0)}),He("\\renewcommand",function(me){return xr(me,!0,!1)}),He("\\providecommand",function(me){return xr(me,!0,!0)}),He("\\message",function(me){var U=me.consumeArgs(1)[0];return console.log(U.reverse().map(function(q){return q.text}).join("")),""}),He("\\errmessage",function(me){var U=me.consumeArgs(1)[0];return console.error(U.reverse().map(function(q){return q.text}).join("")),""}),He("\\show",function(me){var U=me.popToken(),q=U.text;return console.log(U,me.macros.get(q),Zo[q],dt.math[q],dt.text[q]),""}),He("\\bgroup","{"),He("\\egroup","}"),He("~","\\nobreakspace"),He("\\lq","`"),He("\\rq","'"),He("\\aa","\\r a"),He("\\AA","\\r A"),He("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`\xa9}"),He("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),He("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`\xae}"),He("\u212c","\\mathscr{B}"),He("\u2130","\\mathscr{E}"),He("\u2131","\\mathscr{F}"),He("\u210b","\\mathscr{H}"),He("\u2110","\\mathscr{I}"),He("\u2112","\\mathscr{L}"),He("\u2133","\\mathscr{M}"),He("\u211b","\\mathscr{R}"),He("\u212d","\\mathfrak{C}"),He("\u210c","\\mathfrak{H}"),He("\u2128","\\mathfrak{Z}"),He("\\Bbbk","\\Bbb{k}"),He("\xb7","\\cdotp"),He("\\llap","\\mathllap{\\textrm{#1}}"),He("\\rlap","\\mathrlap{\\textrm{#1}}"),He("\\clap","\\mathclap{\\textrm{#1}}"),He("\\mathstrut","\\vphantom{(}"),He("\\underbar","\\underline{\\text{#1}}"),He("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),He("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`\u2260}}"),He("\\ne","\\neq"),He("\u2260","\\neq"),He("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`\u2209}}"),He("\u2209","\\notin"),He("\u2258","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`\u2258}}"),He("\u2259","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`\u2258}}"),He("\u225a","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`\u225a}}"),He("\u225b","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`\u225b}}"),He("\u225d","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`\u225d}}"),He("\u225e","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`\u225e}}"),He("\u225f","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`\u225f}}"),He("\u27c2","\\perp"),He("\u203c","\\mathclose{!\\mkern-0.8mu!}"),He("\u220c","\\notni"),He("\u231c","\\ulcorner"),He("\u231d","\\urcorner"),He("\u231e","\\llcorner"),He("\u231f","\\lrcorner"),He("\xa9","\\copyright"),He("\xae","\\textregistered"),He("\ufe0f","\\textregistered"),He("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),He("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),He("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),He("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),He("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),He("\u22ee","\\vdots"),He("\\varGamma","\\mathit{\\Gamma}"),He("\\varDelta","\\mathit{\\Delta}"),He("\\varTheta","\\mathit{\\Theta}"),He("\\varLambda","\\mathit{\\Lambda}"),He("\\varXi","\\mathit{\\Xi}"),He("\\varPi","\\mathit{\\Pi}"),He("\\varSigma","\\mathit{\\Sigma}"),He("\\varUpsilon","\\mathit{\\Upsilon}"),He("\\varPhi","\\mathit{\\Phi}"),He("\\varPsi","\\mathit{\\Psi}"),He("\\varOmega","\\mathit{\\Omega}"),He("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),He("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu"),He("\\boxed","\\fbox{$\\displaystyle{#1}$}"),He("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),He("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),He("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var Af={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};He("\\dots",function(me){var U="\\dotso",q=me.expandAfterFuture().text;return q in Af?U=Af[q]:("\\not"===q.substr(0,4)||q in dt.math&&Be.contains(["bin","rel"],dt.math[q].group))&&(U="\\dotsb"),U});var If={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};He("\\dotso",function(me){return me.future().text in If?"\\ldots\\,":"\\ldots"}),He("\\dotsc",function(me){var U=me.future().text;return U in If&&","!==U?"\\ldots\\,":"\\ldots"}),He("\\cdots",function(me){return me.future().text in If?"\\@cdots\\,":"\\@cdots"}),He("\\dotsb","\\cdots"),He("\\dotsm","\\cdots"),He("\\dotsi","\\!\\cdots"),He("\\dotsx","\\ldots\\,"),He("\\DOTSI","\\relax"),He("\\DOTSB","\\relax"),He("\\DOTSX","\\relax"),He("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),He("\\,","\\tmspace+{3mu}{.1667em}"),He("\\thinspace","\\,"),He("\\>","\\mskip{4mu}"),He("\\:","\\tmspace+{4mu}{.2222em}"),He("\\medspace","\\:"),He("\\;","\\tmspace+{5mu}{.2777em}"),He("\\thickspace","\\;"),He("\\!","\\tmspace-{3mu}{.1667em}"),He("\\negthinspace","\\!"),He("\\negmedspace","\\tmspace-{4mu}{.2222em}"),He("\\negthickspace","\\tmspace-{5mu}{.277em}"),He("\\enspace","\\kern.5em "),He("\\enskip","\\hskip.5em\\relax"),He("\\quad","\\hskip1em\\relax"),He("\\qquad","\\hskip2em\\relax"),He("\\tag","\\@ifstar\\tag@literal\\tag@paren"),He("\\tag@paren","\\tag@literal{({#1})}"),He("\\tag@literal",function(me){if(me.macros.get("\\df@tag"))throw new le("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),He("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),He("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),He("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),He("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),He("\\pmb","\\html@mathml{\\@binrel{#1}{\\mathrlap{#1}\\kern0.5px#1}}{\\mathbf{#1}}"),He("\\newline","\\\\\\relax"),He("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var rr=gn["Main-Regular"]["T".charCodeAt(0)][1]-.7*gn["Main-Regular"]["A".charCodeAt(0)][1]+"em";He("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+rr+"}{\\scriptstyle A}\\kern-.15em\\TeX}{LaTeX}}"),He("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+rr+"}{\\scriptstyle A}\\kern-.15em\\TeX}{KaTeX}}"),He("\\hspace","\\@ifstar\\@hspacer\\@hspace"),He("\\@hspace","\\hskip #1\\relax"),He("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),He("\\ordinarycolon",":"),He("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),He("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),He("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),He("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),He("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),He("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),He("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),He("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),He("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),He("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),He("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),He("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),He("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),He("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),He("\u2237","\\dblcolon"),He("\u2239","\\eqcolon"),He("\u2254","\\coloneqq"),He("\u2255","\\eqqcolon"),He("\u2a74","\\Coloneqq"),He("\\ratio","\\vcentcolon"),He("\\coloncolon","\\dblcolon"),He("\\colonequals","\\coloneqq"),He("\\coloncolonequals","\\Coloneqq"),He("\\equalscolon","\\eqqcolon"),He("\\equalscoloncolon","\\Eqqcolon"),He("\\colonminus","\\coloneq"),He("\\coloncolonminus","\\Coloneq"),He("\\minuscolon","\\eqcolon"),He("\\minuscoloncolon","\\Eqcolon"),He("\\coloncolonapprox","\\Colonapprox"),He("\\coloncolonsim","\\Colonsim"),He("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),He("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),He("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),He("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),He("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`\u220c}}"),He("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),He("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),He("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),He("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),He("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),He("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),He("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),He("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),He("\\gvertneqq","\\html@mathml{\\@gvertneqq}{\u2269}"),He("\\lvertneqq","\\html@mathml{\\@lvertneqq}{\u2268}"),He("\\ngeqq","\\html@mathml{\\@ngeqq}{\u2271}"),He("\\ngeqslant","\\html@mathml{\\@ngeqslant}{\u2271}"),He("\\nleqq","\\html@mathml{\\@nleqq}{\u2270}"),He("\\nleqslant","\\html@mathml{\\@nleqslant}{\u2270}"),He("\\nshortmid","\\html@mathml{\\@nshortmid}{\u2224}"),He("\\nshortparallel","\\html@mathml{\\@nshortparallel}{\u2226}"),He("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{\u2288}"),He("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{\u2289}"),He("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{\u228a}"),He("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{\u2acb}"),He("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{\u228b}"),He("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{\u2acc}"),He("\\imath","\\html@mathml{\\@imath}{\u0131}"),He("\\jmath","\\html@mathml{\\@jmath}{\u0237}"),He("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`\u27e6}}"),He("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`\u27e7}}"),He("\u27e6","\\llbracket"),He("\u27e7","\\rrbracket"),He("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`\u2983}}"),He("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`\u2984}}"),He("\u2983","\\lBrace"),He("\u2984","\\rBrace"),He("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`\u29b5}}"),He("\u29b5","\\minuso"),He("\\darr","\\downarrow"),He("\\dArr","\\Downarrow"),He("\\Darr","\\Downarrow"),He("\\lang","\\langle"),He("\\rang","\\rangle"),He("\\uarr","\\uparrow"),He("\\uArr","\\Uparrow"),He("\\Uarr","\\Uparrow"),He("\\N","\\mathbb{N}"),He("\\R","\\mathbb{R}"),He("\\Z","\\mathbb{Z}"),He("\\alef","\\aleph"),He("\\alefsym","\\aleph"),He("\\Alpha","\\mathrm{A}"),He("\\Beta","\\mathrm{B}"),He("\\bull","\\bullet"),He("\\Chi","\\mathrm{X}"),He("\\clubs","\\clubsuit"),He("\\cnums","\\mathbb{C}"),He("\\Complex","\\mathbb{C}"),He("\\Dagger","\\ddagger"),He("\\diamonds","\\diamondsuit"),He("\\empty","\\emptyset"),He("\\Epsilon","\\mathrm{E}"),He("\\Eta","\\mathrm{H}"),He("\\exist","\\exists"),He("\\harr","\\leftrightarrow"),He("\\hArr","\\Leftrightarrow"),He("\\Harr","\\Leftrightarrow"),He("\\hearts","\\heartsuit"),He("\\image","\\Im"),He("\\infin","\\infty"),He("\\Iota","\\mathrm{I}"),He("\\isin","\\in"),He("\\Kappa","\\mathrm{K}"),He("\\larr","\\leftarrow"),He("\\lArr","\\Leftarrow"),He("\\Larr","\\Leftarrow"),He("\\lrarr","\\leftrightarrow"),He("\\lrArr","\\Leftrightarrow"),He("\\Lrarr","\\Leftrightarrow"),He("\\Mu","\\mathrm{M}"),He("\\natnums","\\mathbb{N}"),He("\\Nu","\\mathrm{N}"),He("\\Omicron","\\mathrm{O}"),He("\\plusmn","\\pm"),He("\\rarr","\\rightarrow"),He("\\rArr","\\Rightarrow"),He("\\Rarr","\\Rightarrow"),He("\\real","\\Re"),He("\\reals","\\mathbb{R}"),He("\\Reals","\\mathbb{R}"),He("\\Rho","\\mathrm{P}"),He("\\sdot","\\cdot"),He("\\sect","\\S"),He("\\spades","\\spadesuit"),He("\\sub","\\subset"),He("\\sube","\\subseteq"),He("\\supe","\\supseteq"),He("\\Tau","\\mathrm{T}"),He("\\thetasym","\\vartheta"),He("\\weierp","\\wp"),He("\\Zeta","\\mathrm{Z}"),He("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),He("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),He("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),He("\\bra","\\mathinner{\\langle{#1}|}"),He("\\ket","\\mathinner{|{#1}\\rangle}"),He("\\braket","\\mathinner{\\langle{#1}\\rangle}"),He("\\Bra","\\left\\langle#1\\right|"),He("\\Ket","\\left|#1\\right\\rangle"),He("\\angln","{\\angl n}"),He("\\blue","\\textcolor{##6495ed}{#1}"),He("\\orange","\\textcolor{##ffa500}{#1}"),He("\\pink","\\textcolor{##ff00af}{#1}"),He("\\red","\\textcolor{##df0030}{#1}"),He("\\green","\\textcolor{##28ae7b}{#1}"),He("\\gray","\\textcolor{gray}{#1}"),He("\\purple","\\textcolor{##9d38bd}{#1}"),He("\\blueA","\\textcolor{##ccfaff}{#1}"),He("\\blueB","\\textcolor{##80f6ff}{#1}"),He("\\blueC","\\textcolor{##63d9ea}{#1}"),He("\\blueD","\\textcolor{##11accd}{#1}"),He("\\blueE","\\textcolor{##0c7f99}{#1}"),He("\\tealA","\\textcolor{##94fff5}{#1}"),He("\\tealB","\\textcolor{##26edd5}{#1}"),He("\\tealC","\\textcolor{##01d1c1}{#1}"),He("\\tealD","\\textcolor{##01a995}{#1}"),He("\\tealE","\\textcolor{##208170}{#1}"),He("\\greenA","\\textcolor{##b6ffb0}{#1}"),He("\\greenB","\\textcolor{##8af281}{#1}"),He("\\greenC","\\textcolor{##74cf70}{#1}"),He("\\greenD","\\textcolor{##1fab54}{#1}"),He("\\greenE","\\textcolor{##0d923f}{#1}"),He("\\goldA","\\textcolor{##ffd0a9}{#1}"),He("\\goldB","\\textcolor{##ffbb71}{#1}"),He("\\goldC","\\textcolor{##ff9c39}{#1}"),He("\\goldD","\\textcolor{##e07d10}{#1}"),He("\\goldE","\\textcolor{##a75a05}{#1}"),He("\\redA","\\textcolor{##fca9a9}{#1}"),He("\\redB","\\textcolor{##ff8482}{#1}"),He("\\redC","\\textcolor{##f9685d}{#1}"),He("\\redD","\\textcolor{##e84d39}{#1}"),He("\\redE","\\textcolor{##bc2612}{#1}"),He("\\maroonA","\\textcolor{##ffbde0}{#1}"),He("\\maroonB","\\textcolor{##ff92c6}{#1}"),He("\\maroonC","\\textcolor{##ed5fa6}{#1}"),He("\\maroonD","\\textcolor{##ca337c}{#1}"),He("\\maroonE","\\textcolor{##9e034e}{#1}"),He("\\purpleA","\\textcolor{##ddd7ff}{#1}"),He("\\purpleB","\\textcolor{##c6b9fc}{#1}"),He("\\purpleC","\\textcolor{##aa87ff}{#1}"),He("\\purpleD","\\textcolor{##7854ab}{#1}"),He("\\purpleE","\\textcolor{##543b78}{#1}"),He("\\mintA","\\textcolor{##f5f9e8}{#1}"),He("\\mintB","\\textcolor{##edf2df}{#1}"),He("\\mintC","\\textcolor{##e0e5cc}{#1}"),He("\\grayA","\\textcolor{##f6f7f7}{#1}"),He("\\grayB","\\textcolor{##f0f1f2}{#1}"),He("\\grayC","\\textcolor{##e3e5e6}{#1}"),He("\\grayD","\\textcolor{##d6d8da}{#1}"),He("\\grayE","\\textcolor{##babec2}{#1}"),He("\\grayF","\\textcolor{##888d93}{#1}"),He("\\grayG","\\textcolor{##626569}{#1}"),He("\\grayH","\\textcolor{##3b3e40}{#1}"),He("\\grayI","\\textcolor{##21242c}{#1}"),He("\\kaBlue","\\textcolor{##314453}{#1}"),He("\\kaGreen","\\textcolor{##71B307}{#1}");var yu=function(U,q){var j,J,ue,xe,ae=!1;if("supsub"===U.type?(j=U.sup,J=U.sub,ue=Tr(U.base,"operatorname"),ae=!0):ue=Tr(U,"operatorname"),ue.body.length>0){for(var We=ue.body.map(function(rn){var mn=rn.text;return"string"==typeof mn?{type:"textord",mode:rn.mode,text:mn}:rn}),ot=As(We,q.withFont("mathrm"),!0),Dt=0;Dt<ot.length;Dt++){var jt=ot[Dt];jt instanceof Xe&&(jt.text=jt.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}xe=$t.makeSpan(["mop"],ot,q)}else xe=$t.makeSpan(["mop"],[],q);return ae?wh(xe,j,J,q,q.style,0,0):xe};function Ss(me,U,q){for(var j=As(me,U,!1),J=U.sizeMultiplier/q.sizeMultiplier,ae=0;ae<j.length;ae++){var ue=j[ae].classes.indexOf("sizing");ue<0?Array.prototype.push.apply(j[ae].classes,U.sizingClasses(q)):j[ae].classes[ue+1]==="reset-size"+U.size&&(j[ae].classes[ue+1]="reset-size"+q.size),j[ae].height*=J,j[ae].depth*=J}return $t.makeFragment(j)}qn({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:function(U,q){var J=U.funcName;return{type:"operatorname",mode:U.parser.mode,body:ks(q[0]),alwaysHandleSupSub:"\\operatornamewithlimits"===J,limits:!1,parentIsSupSub:!1}},htmlBuilder:yu,mathmlBuilder:function(U,q){for(var j=Rs(U.body,q.withFont("mathrm")),J=!0,ae=0;ae<j.length;ae++){var ue=j[ae];if(!(ue instanceof Cn.SpaceNode))if(ue instanceof Cn.MathNode)switch(ue.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":var xe=ue.children[0];1===ue.children.length&&xe instanceof Cn.TextNode?xe.text=xe.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):J=!1;break;default:J=!1}else J=!1}if(J){var We=j.map(function(jt){return jt.toText()}).join("");j=[new Cn.TextNode(We)]}var ot=new Cn.MathNode("mi",j);ot.setAttribute("mathvariant","normal");var Dt=new Cn.MathNode("mo",[ga("\u2061","text")]);return U.parentIsSupSub?new Cn.MathNode("mrow",[ot,Dt]):Cn.newDocumentFragment([ot,Dt])}}),He("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),xc({type:"ordgroup",htmlBuilder:function(U,q){return U.semisimple?$t.makeFragment(As(U.body,q,!1)):$t.makeSpan(["mord"],As(U.body,q,!0),q)},mathmlBuilder:function(U,q){return sc(U.body,q,!0)}}),qn({type:"overline",names:["\\overline"],props:{numArgs:1},handler:function(U,q){return{type:"overline",mode:U.parser.mode,body:q[0]}},htmlBuilder:function(U,q){var j=ii(U.body,q.havingCrampedStyle()),J=$t.makeLineSpan("overline-line",q),ae=q.fontMetrics().defaultRuleThickness,ue=$t.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:j},{type:"kern",size:3*ae},{type:"elem",elem:J},{type:"kern",size:ae}]},q);return $t.makeSpan(["mord","overline"],[ue],q)},mathmlBuilder:function(U,q){var j=new Cn.MathNode("mo",[new Cn.TextNode("\u203e")]);j.setAttribute("stretchy","true");var J=new Cn.MathNode("mover",[Qn(U.body,q),j]);return J.setAttribute("accent","true"),J}}),qn({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:function(U,q){return{type:"phantom",mode:U.parser.mode,body:ks(q[0])}},htmlBuilder:function(U,q){var j=As(U.body,q.withPhantom(),!1);return $t.makeFragment(j)},mathmlBuilder:function(U,q){var j=Rs(U.body,q);return new Cn.MathNode("mphantom",j)}}),qn({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:function(U,q){return{type:"hphantom",mode:U.parser.mode,body:q[0]}},htmlBuilder:function(U,q){var j=$t.makeSpan([],[ii(U.body,q.withPhantom())]);if(j.height=0,j.depth=0,j.children)for(var J=0;J<j.children.length;J++)j.children[J].height=0,j.children[J].depth=0;return j=$t.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:j}]},q),$t.makeSpan(["mord"],[j],q)},mathmlBuilder:function(U,q){var j=Rs(ks(U.body),q),J=new Cn.MathNode("mphantom",j),ae=new Cn.MathNode("mpadded",[J]);return ae.setAttribute("height","0px"),ae.setAttribute("depth","0px"),ae}}),qn({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:function(U,q){return{type:"vphantom",mode:U.parser.mode,body:q[0]}},htmlBuilder:function(U,q){var j=$t.makeSpan(["inner"],[ii(U.body,q.withPhantom())]),J=$t.makeSpan(["fix"],[]);return $t.makeSpan(["mord","rlap"],[j,J],q)},mathmlBuilder:function(U,q){var j=Rs(ks(U.body),q),J=new Cn.MathNode("mphantom",j),ae=new Cn.MathNode("mpadded",[J]);return ae.setAttribute("width","0px"),ae}}),qn({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler:function(U,q){var j=U.parser,J=Tr(q[0],"size").value;return{type:"raisebox",mode:j.mode,dy:J,body:q[1]}},htmlBuilder:function(U,q){var j=ii(U.body,q),J=ts(U.dy,q);return $t.makeVList({positionType:"shift",positionData:-J,children:[{type:"elem",elem:j}]},q)},mathmlBuilder:function(U,q){var j=new Cn.MathNode("mpadded",[Qn(U.body,q)]);return j.setAttribute("voffset",U.dy.number+U.dy.unit),j}}),qn({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler:function(U,q,j){var J=U.parser,ae=j[0],ue=Tr(q[0],"size"),xe=Tr(q[1],"size");return{type:"rule",mode:J.mode,shift:ae&&Tr(ae,"size").value,width:ue.value,height:xe.value}},htmlBuilder:function(U,q){var j=$t.makeSpan(["mord","rule"],[],q),J=ts(U.width,q),ae=ts(U.height,q),ue=U.shift?ts(U.shift,q):0;return j.style.borderRightWidth=J+"em",j.style.borderTopWidth=ae+"em",j.style.bottom=ue+"em",j.width=J,j.height=ae+ue,j.depth=-ue,j.maxFontSize=1.125*ae*q.sizeMultiplier,j},mathmlBuilder:function(U,q){var j=ts(U.width,q),J=ts(U.height,q),ae=U.shift?ts(U.shift,q):0,ue=q.color&&q.getColor()||"black",xe=new Cn.MathNode("mspace");xe.setAttribute("mathbackground",ue),xe.setAttribute("width",j+"em"),xe.setAttribute("height",J+"em");var We=new Cn.MathNode("mpadded",[xe]);return ae>=0?We.setAttribute("height","+"+ae+"em"):(We.setAttribute("height",ae+"em"),We.setAttribute("depth","+"+-ae+"em")),We.setAttribute("voffset",ae+"em"),We}});var fd=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];qn({type:"sizing",names:fd,props:{numArgs:0,allowedInText:!0},handler:function(U,q){var J=U.funcName,ae=U.parser,ue=ae.parseExpression(!1,U.breakOnTokenText);return{type:"sizing",mode:ae.mode,size:fd.indexOf(J)+1,body:ue}},htmlBuilder:function(U,q){var j=q.havingSize(U.size);return Ss(U.body,j,q)},mathmlBuilder:function(U,q){var j=q.havingSize(U.size),J=Rs(U.body,j),ae=new Cn.MathNode("mstyle",J);return ae.setAttribute("mathsize",j.sizeMultiplier+"em"),ae}}),qn({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:function(U,q,j){var J=U.parser,ae=!1,ue=!1,xe=j[0]&&Tr(j[0],"ordgroup");if(xe)for(var We="",ot=0;ot<xe.body.length;++ot)if("t"===(We=xe.body[ot].text))ae=!0;else{if("b"!==We){ae=!1,ue=!1;break}ue=!0}else ae=!0,ue=!0;return{type:"smash",mode:J.mode,body:q[0],smashHeight:ae,smashDepth:ue}},htmlBuilder:function(U,q){var j=$t.makeSpan([],[ii(U.body,q)]);if(!U.smashHeight&&!U.smashDepth)return j;if(U.smashHeight&&(j.height=0,j.children))for(var J=0;J<j.children.length;J++)j.children[J].height=0;if(U.smashDepth&&(j.depth=0,j.children))for(var ae=0;ae<j.children.length;ae++)j.children[ae].depth=0;var ue=$t.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:j}]},q);return $t.makeSpan(["mord"],[ue],q)},mathmlBuilder:function(U,q){var j=new Cn.MathNode("mpadded",[Qn(U.body,q)]);return U.smashHeight&&j.setAttribute("height","0px"),U.smashDepth&&j.setAttribute("depth","0px"),j}}),qn({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler:function(U,q,j){return{type:"sqrt",mode:U.parser.mode,body:q[0],index:j[0]}},htmlBuilder:function(U,q){var j=ii(U.body,q.havingCrampedStyle());0===j.height&&(j.height=q.fontMetrics().xHeight),j=$t.wrapFragment(j,q);var ae=q.fontMetrics().defaultRuleThickness,ue=ae;q.style.id<Se.TEXT.id&&(ue=q.fontMetrics().xHeight);var xe=ae+ue/4,ot=Bn_sqrtImage(j.height+j.depth+xe+ae,q),Dt=ot.span,jt=ot.ruleWidth,mn=Dt.height-jt;mn>j.height+j.depth+xe&&(xe=(xe+mn-j.height-j.depth)/2);var yn=Dt.height-j.height-xe-jt;j.style.paddingLeft=ot.advanceWidth+"em";var Tn=$t.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:j,wrapperClasses:["svg-align"]},{type:"kern",size:-(j.height+yn)},{type:"elem",elem:Dt},{type:"kern",size:jt}]},q);if(U.index){var On=q.havingStyle(Se.SCRIPTSCRIPT),jn=ii(U.index,On,q),ur=$t.makeVList({positionType:"shift",positionData:-.6*(Tn.height-Tn.depth),children:[{type:"elem",elem:jn}]},q),jr=$t.makeSpan(["root"],[ur]);return $t.makeSpan(["mord","sqrt"],[jr,Tn],q)}return $t.makeSpan(["mord","sqrt"],[Tn],q)},mathmlBuilder:function(U,q){var j=U.body,J=U.index;return J?new Cn.MathNode("mroot",[Qn(j,q),Qn(J,q)]):new Cn.MathNode("msqrt",[Qn(j,q)])}});var md={display:Se.DISPLAY,text:Se.TEXT,script:Se.SCRIPT,scriptscript:Se.SCRIPTSCRIPT};qn({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(U,q){var J=U.funcName,ae=U.parser,ue=ae.parseExpression(!0,U.breakOnTokenText),xe=J.slice(1,J.length-5);return{type:"styling",mode:ae.mode,style:xe,body:ue}},htmlBuilder:function(U,q){var J=q.havingStyle(md[U.style]).withFont("");return Ss(U.body,J,q)},mathmlBuilder:function(U,q){var J=q.havingStyle(md[U.style]),ae=Rs(U.body,J),ue=new Cn.MathNode("mstyle",ae),We={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[U.style];return ue.setAttribute("scriptlevel",We[0]),ue.setAttribute("displaystyle",We[1]),ue}});xc({type:"supsub",htmlBuilder:function(U,q){var j=function(U,q){var j=U.base;return j?"op"===j.type?j.limits&&(q.style.size===Se.DISPLAY.size||j.alwaysHandleSupSub)?vu:null:"operatorname"===j.type?j.alwaysHandleSupSub&&(q.style.size===Se.DISPLAY.size||j.limits)?yu:null:"accent"===j.type?Be.isCharacterBox(j.base)?od:null:"horizBrace"===j.type&&!U.sub===j.isOver?hd:null:null}(U,q);if(j)return j(U,q);var We,ot,On,J=U.base,ae=U.sup,ue=U.sub,xe=ii(J,q),Dt=q.fontMetrics(),jt=0,rn=0,mn=J&&Be.isCharacterBox(J);if(ae){var yn=q.havingStyle(q.style.sup());We=ii(ae,yn,q),mn||(jt=xe.height-yn.fontMetrics().supDrop*yn.sizeMultiplier/q.sizeMultiplier)}if(ue){var Tn=q.havingStyle(q.style.sub());ot=ii(ue,Tn,q),mn||(rn=xe.depth+Tn.fontMetrics().subDrop*Tn.sizeMultiplier/q.sizeMultiplier)}On=q.style===Se.DISPLAY?Dt.sup1:q.style.cramped?Dt.sup3:Dt.sup2;var bi,Kn=.5/Dt.ptPerEm/q.sizeMultiplier+"em",ur=null;if(ot&&(xe instanceof Xe||U.base&&"op"===U.base.type&&U.base.name&&("\\oiint"===U.base.name||"\\oiiint"===U.base.name))&&(ur=-xe.italic+"em"),We&&ot){jt=Math.max(jt,On,We.depth+.25*Dt.xHeight),rn=Math.max(rn,Dt.sub2);var ei=4*Dt.defaultRuleThickness;if(jt-We.depth-(ot.height-rn)<ei){rn=ei-(jt-We.depth)+ot.height;var wi=.8*Dt.xHeight-(jt-We.depth);wi>0&&(jt+=wi,rn-=wi)}bi=$t.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ot,shift:rn,marginRight:Kn,marginLeft:ur},{type:"elem",elem:We,shift:-jt,marginRight:Kn}]},q)}else if(ot)rn=Math.max(rn,Dt.sub1,ot.height-.8*Dt.xHeight),bi=$t.makeVList({positionType:"shift",positionData:rn,children:[{type:"elem",elem:ot,marginLeft:ur,marginRight:Kn}]},q);else{if(!We)throw new Error("supsub must have either sup or sub.");jt=Math.max(jt,On,We.depth+.25*Dt.xHeight),bi=$t.makeVList({positionType:"shift",positionData:-jt,children:[{type:"elem",elem:We,marginRight:Kn}]},q)}var ms=sd(xe,"right")||"mord";return $t.makeSpan([ms],[xe,$t.makeSpan(["msupsub"],[bi])],q)},mathmlBuilder:function(U,q){var J,j=!1;U.base&&"horizBrace"===U.base.type&&!!U.sup===U.base.isOver&&(j=!0,J=U.base.isOver),U.base&&("op"===U.base.type||"operatorname"===U.base.type)&&(U.base.parentIsSupSub=!0);var xe,ue=[Qn(U.base,q)];if(U.sub&&ue.push(Qn(U.sub,q)),U.sup&&ue.push(Qn(U.sup,q)),j)xe=J?"mover":"munder";else if(U.sub)if(U.sup){var Dt=U.base;xe=Dt&&"op"===Dt.type&&Dt.limits&&q.style===Se.DISPLAY||Dt&&"operatorname"===Dt.type&&Dt.alwaysHandleSupSub&&(q.style===Se.DISPLAY||Dt.limits)?"munderover":"msubsup"}else{var ot=U.base;xe=ot&&"op"===ot.type&&ot.limits&&(q.style===Se.DISPLAY||ot.alwaysHandleSupSub)||ot&&"operatorname"===ot.type&&ot.alwaysHandleSupSub&&(ot.limits||q.style===Se.DISPLAY)?"munder":"msub"}else{var We=U.base;xe=We&&"op"===We.type&&We.limits&&(q.style===Se.DISPLAY||We.alwaysHandleSupSub)||We&&"operatorname"===We.type&&We.alwaysHandleSupSub&&(We.limits||q.style===Se.DISPLAY)?"mover":"msup"}return new Cn.MathNode(xe,ue)}}),xc({type:"atom",htmlBuilder:function(U,q){return $t.mathsym(U.text,U.mode,q,["m"+U.family])},mathmlBuilder:function(U,q){var j=new Cn.MathNode("mo",[ga(U.text,U.mode)]);if("bin"===U.family){var J=uh(U,q);"bold-italic"===J&&j.setAttribute("mathvariant",J)}else"punct"===U.family?j.setAttribute("separator","true"):("open"===U.family||"close"===U.family)&&j.setAttribute("stretchy","false");return j}});var Rf={mi:"italic",mn:"normal",mtext:"normal"};xc({type:"mathord",htmlBuilder:function(U,q){return $t.makeOrd(U,q,"mathord")},mathmlBuilder:function(U,q){var j=new Cn.MathNode("mi",[ga(U.text,U.mode,q)]),J=uh(U,q)||"italic";return J!==Rf[j.type]&&j.setAttribute("mathvariant",J),j}}),xc({type:"textord",htmlBuilder:function(U,q){return $t.makeOrd(U,q,"textord")},mathmlBuilder:function(U,q){var ae,j=ga(U.text,U.mode,q),J=uh(U,q)||"normal";return ae="text"===U.mode?new Cn.MathNode("mtext",[j]):/[0-9]/.test(U.text)?new Cn.MathNode("mn",[j]):new Cn.MathNode("\\prime"===U.text?"mo":"mi",[j]),J!==Rf[ae.type]&&ae.setAttribute("mathvariant",J),ae}});var gd={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},ba={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};xc({type:"spacing",htmlBuilder:function(U,q){if(ba.hasOwnProperty(U.text)){var j=ba[U.text].className||"";if("text"===U.mode){var J=$t.makeOrd(U,q,"textord");return J.classes.push(j),J}return $t.makeSpan(["mspace",j],[$t.mathsym(U.text,U.mode,q)],q)}if(gd.hasOwnProperty(U.text))return $t.makeSpan(["mspace",gd[U.text]],[],q);throw new le('Unknown type of space "'+U.text+'"')},mathmlBuilder:function(U,q){if(!ba.hasOwnProperty(U.text)){if(gd.hasOwnProperty(U.text))return new Cn.MathNode("mspace");throw new le('Unknown type of space "'+U.text+'"')}return new Cn.MathNode("mtext",[new Cn.TextNode("\xa0")])}});var _d=function(){var U=new Cn.MathNode("mtd",[]);return U.setAttribute("width","50%"),U};xc({type:"tag",mathmlBuilder:function(U,q){var j=new Cn.MathNode("mtable",[new Cn.MathNode("mtr",[_d(),new Cn.MathNode("mtd",[sc(U.body,q)]),_d(),new Cn.MathNode("mtd",[sc(U.tag,q)])])]);return j.setAttribute("width","100%"),j}});var wu={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Ol={"\\textbf":"textbf","\\textmd":"textmd"},Nl={"\\textit":"textit","\\textup":"textup"},vd=function(U,q){var j=U.font;return j?wu[j]?q.withTextFontFamily(wu[j]):Ol[j]?q.withTextFontWeight(Ol[j]):q.withTextFontShape(Nl[j]):q};qn({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler:function(U,q){var J=U.funcName;return{type:"text",mode:U.parser.mode,body:ks(q[0]),font:J}},htmlBuilder:function(U,q){var j=vd(U,q),J=As(U.body,j,!0);return $t.makeSpan(["mord","text"],J,j)},mathmlBuilder:function(U,q){var j=vd(U,q);return sc(U.body,j)}}),qn({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler:function(U,q){return{type:"underline",mode:U.parser.mode,body:q[0]}},htmlBuilder:function(U,q){var j=ii(U.body,q),J=$t.makeLineSpan("underline-line",q),ae=q.fontMetrics().defaultRuleThickness,ue=$t.makeVList({positionType:"top",positionData:j.height,children:[{type:"kern",size:ae},{type:"elem",elem:J},{type:"kern",size:3*ae},{type:"elem",elem:j}]},q);return $t.makeSpan(["mord","underline"],[ue],q)},mathmlBuilder:function(U,q){var j=new Cn.MathNode("mo",[new Cn.TextNode("\u203e")]);j.setAttribute("stretchy","true");var J=new Cn.MathNode("munder",[Qn(U.body,q),j]);return J.setAttribute("accentunder","true"),J}}),qn({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler:function(U,q){return{type:"vcenter",mode:U.parser.mode,body:q[0]}},htmlBuilder:function(U,q){var j=ii(U.body,q),J=q.fontMetrics().axisHeight;return $t.makeVList({positionType:"shift",positionData:.5*(j.height-J-(j.depth+J)),children:[{type:"elem",elem:j}]},q)},mathmlBuilder:function(U,q){return new Cn.MathNode("mpadded",[Qn(U.body,q)],["vcenter"])}}),qn({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler:function(U,q,j){throw new le("\\verb ended by end of line instead of matching delimiter")},htmlBuilder:function(U,q){for(var j=qe(U),J=[],ae=q.havingStyle(q.style.text()),ue=0;ue<j.length;ue++){var xe=j[ue];"~"===xe&&(xe="\\textasciitilde"),J.push($t.makeSymbol(xe,"Typewriter-Regular",U.mode,ae,["mord","texttt"]))}return $t.makeSpan(["mord","text"].concat(ae.sizingClasses(q)),$t.tryCombineChars(J),ae)},mathmlBuilder:function(U,q){var j=new Cn.TextNode(qe(U)),J=new Cn.MathNode("mtext",[j]);return J.setAttribute("mathvariant","monospace"),J}});var qe=function(U){return U.body.replace(/ /g,U.star?"\u2423":"\xa0")},Zo=Nv,Or=function(){function me(U,q,j){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=U,this.start=q,this.end=j}return me.range=function(q,j){return j?q&&q.loc&&j.loc&&q.loc.lexer===j.loc.lexer?new me(q.loc.lexer,q.loc.start,j.loc.end):null:q&&q.loc},me}(),kr=function(){function me(q,j){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=q,this.loc=j}return me.prototype.range=function(j,J){return new me(J,Or.range(this,j))},me}(),am="[\u0300-\u036f]",Bv=new RegExp(am+"+$"),pw=function(){function me(q,j){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=q,this.settings=j,this.tokenRegex=new RegExp("([ \r\n\t]+)|\\\\(\n|[ \r\t]+\n?)[ \r\t]*|([!-\\[\\]-\u2027\u202a-\ud7ff\uf900-\uffff][\u0300-\u036f]*|[\ud800-\udbff][\udc00-\udfff][\u0300-\u036f]*|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5|(\\\\[a-zA-Z@]+)[ \r\n\t]*|\\\\[^\ud800-\udfff])","g"),this.catcodes={"%":14,"~":13}}var U=me.prototype;return U.setCatcode=function(j,J){this.catcodes[j]=J},U.lex=function(){var j=this.input,J=this.tokenRegex.lastIndex;if(J===j.length)return new kr("EOF",new Or(this,J,J));var ae=this.tokenRegex.exec(j);if(null===ae||ae.index!==J)throw new le("Unexpected character: '"+j[J]+"'",new kr(j[J],new Or(this,J,J+1)));var ue=ae[6]||ae[3]||(ae[2]?"\\ ":" ");if(14===this.catcodes[ue]){var xe=j.indexOf("\n",this.tokenRegex.lastIndex);return-1===xe?(this.tokenRegex.lastIndex=j.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=xe+1,this.lex()}return new kr(ue,new Or(this,J,this.tokenRegex.lastIndex))},me}(),Cu=function(){function me(q,j){void 0===q&&(q={}),void 0===j&&(j={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=j,this.builtins=q,this.undefStack=[]}var U=me.prototype;return U.beginGroup=function(){this.undefStack.push({})},U.endGroup=function(){if(0===this.undefStack.length)throw new le("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var j=this.undefStack.pop();for(var J in j)j.hasOwnProperty(J)&&(void 0===j[J]?delete this.current[J]:this.current[J]=j[J])},U.has=function(j){return this.current.hasOwnProperty(j)||this.builtins.hasOwnProperty(j)},U.get=function(j){return this.current.hasOwnProperty(j)?this.current[j]:this.builtins[j]},U.set=function(j,J,ae){if(void 0===ae&&(ae=!1),ae){for(var ue=0;ue<this.undefStack.length;ue++)delete this.undefStack[ue][j];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][j]=J)}else{var xe=this.undefStack[this.undefStack.length-1];xe&&!xe.hasOwnProperty(j)&&(xe[j]=this.current[j])}this.current[j]=J},me}(),mw={"\\relax":!0,"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0},TE=function(){function me(q,j,J){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=j,this.expansionCount=0,this.feed(q),this.macros=new Cu(Xr,j.macros),this.mode=J,this.stack=[]}var U=me.prototype;return U.feed=function(j){this.lexer=new pw(j,this.settings)},U.switchMode=function(j){this.mode=j},U.beginGroup=function(){this.macros.beginGroup()},U.endGroup=function(){this.macros.endGroup()},U.future=function(){return 0===this.stack.length&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]},U.popToken=function(){return this.future(),this.stack.pop()},U.pushToken=function(j){this.stack.push(j)},U.pushTokens=function(j){var J;(J=this.stack).push.apply(J,j)},U.scanArgument=function(j){var J,ae,ue;if(j){if(this.consumeSpaces(),"["!==this.future().text)return null;J=this.popToken();var xe=this.consumeArg(["]"]);ue=xe.tokens,ae=xe.end}else{var We=this.consumeArg();ue=We.tokens,J=We.start,ae=We.end}return this.pushToken(new kr("EOF",ae.loc)),this.pushTokens(ue),J.range(ae,"")},U.consumeSpaces=function(){for(;" "===this.future().text;)this.stack.pop()},U.consumeArg=function(j){var J=[],ae=j&&j.length>0;ae||this.consumeSpaces();var xe,ue=this.future(),We=0,ot=0;do{if(xe=this.popToken(),J.push(xe),"{"===xe.text)++We;else if("}"===xe.text){if(-1==--We)throw new le("Extra }",xe)}else if("EOF"===xe.text)throw new le("Unexpected end of input in a macro argument, expected '"+(j&&ae?j[ot]:"}")+"'",xe);if(j&&ae)if((0===We||1===We&&"{"===j[ot])&&xe.text===j[ot]){if(++ot===j.length){J.splice(-ot,ot);break}}else ot=0}while(0!==We||ae);return"{"===ue.text&&"}"===J[J.length-1].text&&(J.pop(),J.shift()),J.reverse(),{tokens:J,start:ue,end:xe}},U.consumeArgs=function(j,J){if(J){if(J.length!==j+1)throw new le("The length of delimiters doesn't match the number of args!");for(var ae=J[0],ue=0;ue<ae.length;ue++){var xe=this.popToken();if(ae[ue]!==xe.text)throw new le("Use of the macro doesn't match its definition",xe)}}for(var We=[],ot=0;ot<j;ot++)We.push(this.consumeArg(J&&J[ot+1]).tokens);return We},U.expandOnce=function(j){var J=this.popToken(),ae=J.text,ue=J.noexpand?null:this._getExpansion(ae);if(null==ue||j&&ue.unexpandable){if(j&&null==ue&&"\\"===ae[0]&&!this.isDefined(ae))throw new le("Undefined control sequence: "+ae);return this.pushToken(J),J}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new le("Too many expansions: infinite loop or need to increase maxExpand setting");var xe=ue.tokens,We=this.consumeArgs(ue.numArgs,ue.delimiters);if(ue.numArgs)for(var ot=(xe=xe.slice()).length-1;ot>=0;--ot){var Dt=xe[ot];if("#"===Dt.text){if(0===ot)throw new le("Incomplete placeholder at end of macro body",Dt);if("#"===(Dt=xe[--ot]).text)xe.splice(ot+1,1);else{if(!/^[1-9]$/.test(Dt.text))throw new le("Not a valid argument number",Dt);var jt;(jt=xe).splice.apply(jt,[ot,2].concat(We[+Dt.text-1]))}}}return this.pushTokens(xe),xe},U.expandAfterFuture=function(){return this.expandOnce(),this.future()},U.expandNextToken=function(){for(;;){var j=this.expandOnce();if(j instanceof kr){if("\\relax"!==j.text&&!j.treatAsRelax)return this.stack.pop();this.stack.pop()}}throw new Error},U.expandMacro=function(j){return this.macros.has(j)?this.expandTokens([new kr(j)]):void 0},U.expandTokens=function(j){var J=[],ae=this.stack.length;for(this.pushTokens(j);this.stack.length>ae;){var ue=this.expandOnce(!0);ue instanceof kr&&(ue.treatAsRelax&&(ue.noexpand=!1,ue.treatAsRelax=!1),J.push(this.stack.pop()))}return J},U.expandMacroAsText=function(j){var J=this.expandMacro(j);return J&&J.map(function(ae){return ae.text}).join("")},U._getExpansion=function(j){var J=this.macros.get(j);if(null==J)return J;if(1===j.length){var ae=this.lexer.catcodes[j];if(null!=ae&&13!==ae)return}var ue="function"==typeof J?J(this):J;if("string"==typeof ue){var xe=0;if(-1!==ue.indexOf("#"))for(var We=ue.replace(/##/g,"");-1!==We.indexOf("#"+(xe+1));)++xe;for(var ot=new pw(ue,this.settings),Dt=[],jt=ot.lex();"EOF"!==jt.text;)Dt.push(jt),jt=ot.lex();return Dt.reverse(),{tokens:Dt,numArgs:xe}}return ue},U.isDefined=function(j){return this.macros.has(j)||Zo.hasOwnProperty(j)||dt.math.hasOwnProperty(j)||dt.text.hasOwnProperty(j)||mw.hasOwnProperty(j)},U.isExpandable=function(j){var J=this.macros.get(j);return null!=J?"string"==typeof J||"function"==typeof J||!J.unexpandable:Zo.hasOwnProperty(j)&&!Zo[j].primitive},me}(),gw={"\u0301":{text:"\\'",math:"\\acute"},"\u0300":{text:"\\`",math:"\\grave"},"\u0308":{text:'\\"',math:"\\ddot"},"\u0303":{text:"\\~",math:"\\tilde"},"\u0304":{text:"\\=",math:"\\bar"},"\u0306":{text:"\\u",math:"\\breve"},"\u030c":{text:"\\v",math:"\\check"},"\u0302":{text:"\\^",math:"\\hat"},"\u0307":{text:"\\.",math:"\\dot"},"\u030a":{text:"\\r",math:"\\mathring"},"\u030b":{text:"\\H"}},Sh={\u00e1:"a\u0301",\u00e0:"a\u0300",\u00e4:"a\u0308",\u01df:"a\u0308\u0304",\u00e3:"a\u0303",\u0101:"a\u0304",\u0103:"a\u0306",\u1eaf:"a\u0306\u0301",\u1eb1:"a\u0306\u0300",\u1eb5:"a\u0306\u0303",\u01ce:"a\u030c",\u00e2:"a\u0302",\u1ea5:"a\u0302\u0301",\u1ea7:"a\u0302\u0300",\u1eab:"a\u0302\u0303",\u0227:"a\u0307",\u01e1:"a\u0307\u0304",\u00e5:"a\u030a",\u01fb:"a\u030a\u0301",\u1e03:"b\u0307",\u0107:"c\u0301",\u010d:"c\u030c",\u0109:"c\u0302",\u010b:"c\u0307",\u010f:"d\u030c",\u1e0b:"d\u0307",\u00e9:"e\u0301",\u00e8:"e\u0300",\u00eb:"e\u0308",\u1ebd:"e\u0303",\u0113:"e\u0304",\u1e17:"e\u0304\u0301",\u1e15:"e\u0304\u0300",\u0115:"e\u0306",\u011b:"e\u030c",\u00ea:"e\u0302",\u1ebf:"e\u0302\u0301",\u1ec1:"e\u0302\u0300",\u1ec5:"e\u0302\u0303",\u0117:"e\u0307",\u1e1f:"f\u0307",\u01f5:"g\u0301",\u1e21:"g\u0304",\u011f:"g\u0306",\u01e7:"g\u030c",\u011d:"g\u0302",\u0121:"g\u0307",\u1e27:"h\u0308",\u021f:"h\u030c",\u0125:"h\u0302",\u1e23:"h\u0307",\u00ed:"i\u0301",\u00ec:"i\u0300",\u00ef:"i\u0308",\u1e2f:"i\u0308\u0301",\u0129:"i\u0303",\u012b:"i\u0304",\u012d:"i\u0306",\u01d0:"i\u030c",\u00ee:"i\u0302",\u01f0:"j\u030c",\u0135:"j\u0302",\u1e31:"k\u0301",\u01e9:"k\u030c",\u013a:"l\u0301",\u013e:"l\u030c",\u1e3f:"m\u0301",\u1e41:"m\u0307",\u0144:"n\u0301",\u01f9:"n\u0300",\u00f1:"n\u0303",\u0148:"n\u030c",\u1e45:"n\u0307",\u00f3:"o\u0301",\u00f2:"o\u0300",\u00f6:"o\u0308",\u022b:"o\u0308\u0304",\u00f5:"o\u0303",\u1e4d:"o\u0303\u0301",\u1e4f:"o\u0303\u0308",\u022d:"o\u0303\u0304",\u014d:"o\u0304",\u1e53:"o\u0304\u0301",\u1e51:"o\u0304\u0300",\u014f:"o\u0306",\u01d2:"o\u030c",\u00f4:"o\u0302",\u1ed1:"o\u0302\u0301",\u1ed3:"o\u0302\u0300",\u1ed7:"o\u0302\u0303",\u022f:"o\u0307",\u0231:"o\u0307\u0304",\u0151:"o\u030b",\u1e55:"p\u0301",\u1e57:"p\u0307",\u0155:"r\u0301",\u0159:"r\u030c",\u1e59:"r\u0307",\u015b:"s\u0301",\u1e65:"s\u0301\u0307",\u0161:"s\u030c",\u1e67:"s\u030c\u0307",\u015d:"s\u0302",\u1e61:"s\u0307",\u1e97:"t\u0308",\u0165:"t\u030c",\u1e6b:"t\u0307",\u00fa:"u\u0301",\u00f9:"u\u0300",\u00fc:"u\u0308",\u01d8:"u\u0308\u0301",\u01dc:"u\u0308\u0300",\u01d6:"u\u0308\u0304",\u01da:"u\u0308\u030c",\u0169:"u\u0303",\u1e79:"u\u0303\u0301",\u016b:"u\u0304",\u1e7b:"u\u0304\u0308",\u016d:"u\u0306",\u01d4:"u\u030c",\u00fb:"u\u0302",\u016f:"u\u030a",\u0171:"u\u030b",\u1e7d:"v\u0303",\u1e83:"w\u0301",\u1e81:"w\u0300",\u1e85:"w\u0308",\u0175:"w\u0302",\u1e87:"w\u0307",\u1e98:"w\u030a",\u1e8d:"x\u0308",\u1e8b:"x\u0307",\u00fd:"y\u0301",\u1ef3:"y\u0300",\u00ff:"y\u0308",\u1ef9:"y\u0303",\u0233:"y\u0304",\u0177:"y\u0302",\u1e8f:"y\u0307",\u1e99:"y\u030a",\u017a:"z\u0301",\u017e:"z\u030c",\u1e91:"z\u0302",\u017c:"z\u0307",\u00c1:"A\u0301",\u00c0:"A\u0300",\u00c4:"A\u0308",\u01de:"A\u0308\u0304",\u00c3:"A\u0303",\u0100:"A\u0304",\u0102:"A\u0306",\u1eae:"A\u0306\u0301",\u1eb0:"A\u0306\u0300",\u1eb4:"A\u0306\u0303",\u01cd:"A\u030c",\u00c2:"A\u0302",\u1ea4:"A\u0302\u0301",\u1ea6:"A\u0302\u0300",\u1eaa:"A\u0302\u0303",\u0226:"A\u0307",\u01e0:"A\u0307\u0304",\u00c5:"A\u030a",\u01fa:"A\u030a\u0301",\u1e02:"B\u0307",\u0106:"C\u0301",\u010c:"C\u030c",\u0108:"C\u0302",\u010a:"C\u0307",\u010e:"D\u030c",\u1e0a:"D\u0307",\u00c9:"E\u0301",\u00c8:"E\u0300",\u00cb:"E\u0308",\u1ebc:"E\u0303",\u0112:"E\u0304",\u1e16:"E\u0304\u0301",\u1e14:"E\u0304\u0300",\u0114:"E\u0306",\u011a:"E\u030c",\u00ca:"E\u0302",\u1ebe:"E\u0302\u0301",\u1ec0:"E\u0302\u0300",\u1ec4:"E\u0302\u0303",\u0116:"E\u0307",\u1e1e:"F\u0307",\u01f4:"G\u0301",\u1e20:"G\u0304",\u011e:"G\u0306",\u01e6:"G\u030c",\u011c:"G\u0302",\u0120:"G\u0307",\u1e26:"H\u0308",\u021e:"H\u030c",\u0124:"H\u0302",\u1e22:"H\u0307",\u00cd:"I\u0301",\u00cc:"I\u0300",\u00cf:"I\u0308",\u1e2e:"I\u0308\u0301",\u0128:"I\u0303",\u012a:"I\u0304",\u012c:"I\u0306",\u01cf:"I\u030c",\u00ce:"I\u0302",\u0130:"I\u0307",\u0134:"J\u0302",\u1e30:"K\u0301",\u01e8:"K\u030c",\u0139:"L\u0301",\u013d:"L\u030c",\u1e3e:"M\u0301",\u1e40:"M\u0307",\u0143:"N\u0301",\u01f8:"N\u0300",\u00d1:"N\u0303",\u0147:"N\u030c",\u1e44:"N\u0307",\u00d3:"O\u0301",\u00d2:"O\u0300",\u00d6:"O\u0308",\u022a:"O\u0308\u0304",\u00d5:"O\u0303",\u1e4c:"O\u0303\u0301",\u1e4e:"O\u0303\u0308",\u022c:"O\u0303\u0304",\u014c:"O\u0304",\u1e52:"O\u0304\u0301",\u1e50:"O\u0304\u0300",\u014e:"O\u0306",\u01d1:"O\u030c",\u00d4:"O\u0302",\u1ed0:"O\u0302\u0301",\u1ed2:"O\u0302\u0300",\u1ed6:"O\u0302\u0303",\u022e:"O\u0307",\u0230:"O\u0307\u0304",\u0150:"O\u030b",\u1e54:"P\u0301",\u1e56:"P\u0307",\u0154:"R\u0301",\u0158:"R\u030c",\u1e58:"R\u0307",\u015a:"S\u0301",\u1e64:"S\u0301\u0307",\u0160:"S\u030c",\u1e66:"S\u030c\u0307",\u015c:"S\u0302",\u1e60:"S\u0307",\u0164:"T\u030c",\u1e6a:"T\u0307",\u00da:"U\u0301",\u00d9:"U\u0300",\u00dc:"U\u0308",\u01d7:"U\u0308\u0301",\u01db:"U\u0308\u0300",\u01d5:"U\u0308\u0304",\u01d9:"U\u0308\u030c",\u0168:"U\u0303",\u1e78:"U\u0303\u0301",\u016a:"U\u0304",\u1e7a:"U\u0304\u0308",\u016c:"U\u0306",\u01d3:"U\u030c",\u00db:"U\u0302",\u016e:"U\u030a",\u0170:"U\u030b",\u1e7c:"V\u0303",\u1e82:"W\u0301",\u1e80:"W\u0300",\u1e84:"W\u0308",\u0174:"W\u0302",\u1e86:"W\u0307",\u1e8c:"X\u0308",\u1e8a:"X\u0307",\u00dd:"Y\u0301",\u1ef2:"Y\u0300",\u0178:"Y\u0308",\u1ef8:"Y\u0303",\u0232:"Y\u0304",\u0176:"Y\u0302",\u1e8e:"Y\u0307",\u0179:"Z\u0301",\u017d:"Z\u030c",\u1e90:"Z\u0302",\u017b:"Z\u0307",\u03ac:"\u03b1\u0301",\u1f70:"\u03b1\u0300",\u1fb1:"\u03b1\u0304",\u1fb0:"\u03b1\u0306",\u03ad:"\u03b5\u0301",\u1f72:"\u03b5\u0300",\u03ae:"\u03b7\u0301",\u1f74:"\u03b7\u0300",\u03af:"\u03b9\u0301",\u1f76:"\u03b9\u0300",\u03ca:"\u03b9\u0308",\u0390:"\u03b9\u0308\u0301",\u1fd2:"\u03b9\u0308\u0300",\u1fd1:"\u03b9\u0304",\u1fd0:"\u03b9\u0306",\u03cc:"\u03bf\u0301",\u1f78:"\u03bf\u0300",\u03cd:"\u03c5\u0301",\u1f7a:"\u03c5\u0300",\u03cb:"\u03c5\u0308",\u03b0:"\u03c5\u0308\u0301",\u1fe2:"\u03c5\u0308\u0300",\u1fe1:"\u03c5\u0304",\u1fe0:"\u03c5\u0306",\u03ce:"\u03c9\u0301",\u1f7c:"\u03c9\u0300",\u038e:"\u03a5\u0301",\u1fea:"\u03a5\u0300",\u03ab:"\u03a5\u0308",\u1fe9:"\u03a5\u0304",\u1fe8:"\u03a5\u0306",\u038f:"\u03a9\u0301",\u1ffa:"\u03a9\u0300"},_w=function(){function me(q,j){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new TE(q,j,this.mode),this.settings=j,this.leftrightDepth=0}var U=me.prototype;return U.expect=function(j,J){if(void 0===J&&(J=!0),this.fetch().text!==j)throw new le("Expected '"+j+"', got '"+this.fetch().text+"'",this.fetch());J&&this.consume()},U.consume=function(){this.nextToken=null},U.fetch=function(){return null==this.nextToken&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken},U.switchMode=function(j){this.mode=j,this.gullet.switchMode(j)},U.parse=function(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");var j=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),j},U.parseExpression=function(j,J){for(var ae=[];;){"math"===this.mode&&this.consumeSpaces();var ue=this.fetch();if(-1!==me.endOfExpression.indexOf(ue.text)||J&&ue.text===J||j&&Zo[ue.text]&&Zo[ue.text].infix)break;var xe=this.parseAtom(J);if(!xe)break;"internal"!==xe.type&&ae.push(xe)}return"text"===this.mode&&this.formLigatures(ae),this.handleInfixNodes(ae)},U.handleInfixNodes=function(j){for(var ae,J=-1,ue=0;ue<j.length;ue++)if("infix"===j[ue].type){if(-1!==J)throw new le("only one infix operator per group",j[ue].token);J=ue,ae=j[ue].replaceWith}if(-1!==J&&ae){var xe,We,ot=j.slice(0,J),Dt=j.slice(J+1);return xe=1===ot.length&&"ordgroup"===ot[0].type?ot[0]:{type:"ordgroup",mode:this.mode,body:ot},We=1===Dt.length&&"ordgroup"===Dt[0].type?Dt[0]:{type:"ordgroup",mode:this.mode,body:Dt},[this.callFunction(ae,"\\\\abovefrac"===ae?[xe,j[J],We]:[xe,We],[])]}return j},U.handleSupSubscript=function(j){var J=this.fetch(),ae=J.text;this.consume(),this.consumeSpaces();var ue=this.parseGroup(j);if(!ue)throw new le("Expected group after '"+ae+"'",J);return ue},U.formatUnsupportedCmd=function(j){for(var J=[],ae=0;ae<j.length;ae++)J.push({type:"textord",mode:"text",text:j[ae]});return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[{type:"text",mode:this.mode,body:J}]}},U.parseAtom=function(j){var ae,ue,J=this.parseGroup("atom",j);if("text"===this.mode)return J;for(;;){this.consumeSpaces();var xe=this.fetch();if("\\limits"===xe.text||"\\nolimits"===xe.text){if(J&&"op"===J.type)J.limits="\\limits"===xe.text,J.alwaysHandleSupSub=!0;else{if(!J||"operatorname"!==J.type)throw new le("Limit controls must follow a math operator",xe);J.alwaysHandleSupSub&&(J.limits="\\limits"===xe.text)}this.consume()}else if("^"===xe.text){if(ae)throw new le("Double superscript",xe);ae=this.handleSupSubscript("superscript")}else if("_"===xe.text){if(ue)throw new le("Double subscript",xe);ue=this.handleSupSubscript("subscript")}else{if("'"!==xe.text)break;if(ae)throw new le("Double superscript",xe);var ot={type:"textord",mode:this.mode,text:"\\prime"},Dt=[ot];for(this.consume();"'"===this.fetch().text;)Dt.push(ot),this.consume();"^"===this.fetch().text&&Dt.push(this.handleSupSubscript("superscript")),ae={type:"ordgroup",mode:this.mode,body:Dt}}}return ae||ue?{type:"supsub",mode:this.mode,base:J,sup:ae,sub:ue}:J},U.parseFunction=function(j,J){var ae=this.fetch(),ue=ae.text,xe=Zo[ue];if(!xe)return null;if(this.consume(),J&&"atom"!==J&&!xe.allowedInArgument)throw new le("Got function '"+ue+"' with no arguments"+(J?" as "+J:""),ae);if("text"===this.mode&&!xe.allowedInText)throw new le("Can't use function '"+ue+"' in text mode",ae);if("math"===this.mode&&!1===xe.allowedInMath)throw new le("Can't use function '"+ue+"' in math mode",ae);var We=this.parseArguments(ue,xe);return this.callFunction(ue,We.args,We.optArgs,ae,j)},U.callFunction=function(j,J,ae,ue,xe){var ot=Zo[j];if(ot&&ot.handler)return ot.handler({funcName:j,parser:this,token:ue,breakOnTokenText:xe},J,ae);throw new le("No function handler for "+j)},U.parseArguments=function(j,J){var ae=J.numArgs+J.numOptionalArgs;if(0===ae)return{args:[],optArgs:[]};for(var ue=[],xe=[],We=0;We<ae;We++){var ot=J.argTypes&&J.argTypes[We],Dt=We<J.numOptionalArgs;(J.primitive&&null==ot||"sqrt"===J.type&&1===We&&null==xe[0])&&(ot="primitive");var jt=this.parseGroupOfType("argument to '"+j+"'",ot,Dt);if(Dt)xe.push(jt);else{if(null==jt)throw new le("Null argument, please report this as a bug");ue.push(jt)}}return{args:ue,optArgs:xe}},U.parseGroupOfType=function(j,J,ae){switch(J){case"color":return this.parseColorGroup(ae);case"size":return this.parseSizeGroup(ae);case"url":return this.parseUrlGroup(ae);case"math":case"text":return this.parseArgumentGroup(ae,J);case"hbox":var ue=this.parseArgumentGroup(ae,"text");return null!=ue?{type:"styling",mode:ue.mode,body:[ue],style:"text"}:null;case"raw":var xe=this.parseStringGroup("raw",ae);return null!=xe?{type:"raw",mode:"text",string:xe.text}:null;case"primitive":if(ae)throw new le("A primitive argument cannot be optional");var We=this.parseGroup(j);if(null==We)throw new le("Expected group as "+j,this.fetch());return We;case"original":case null:case void 0:return this.parseArgumentGroup(ae);default:throw new le("Unknown group type as "+j,this.fetch())}},U.consumeSpaces=function(){for(;" "===this.fetch().text;)this.consume()},U.parseStringGroup=function(j,J){var ae=this.gullet.scanArgument(J);if(null==ae)return null;for(var xe,ue="";"EOF"!==(xe=this.fetch()).text;)ue+=xe.text,this.consume();return this.consume(),ae.text=ue,ae},U.parseRegexGroup=function(j,J){for(var We,ae=this.fetch(),ue=ae,xe="";"EOF"!==(We=this.fetch()).text&&j.test(xe+We.text);)xe+=(ue=We).text,this.consume();if(""===xe)throw new le("Invalid "+J+": '"+ae.text+"'",ae);return ae.range(ue,xe)},U.parseColorGroup=function(j){var J=this.parseStringGroup("color",j);if(null==J)return null;var ae=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(J.text);if(!ae)throw new le("Invalid color: '"+J.text+"'",J);var ue=ae[0];return/^[0-9a-f]{6}$/i.test(ue)&&(ue="#"+ue),{type:"color-token",mode:this.mode,color:ue}},U.parseSizeGroup=function(j){var J,ae=!1;if(this.gullet.consumeSpaces(),!(J=j||"{"===this.gullet.future().text?this.parseStringGroup("size",j):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")))return null;!j&&0===J.text.length&&(J.text="0pt",ae=!0);var ue=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(J.text);if(!ue)throw new le("Invalid size: '"+J.text+"'",J);var xe={number:+(ue[1]+ue[2]),unit:ue[3]};if(!gf(xe))throw new le("Invalid unit: '"+xe.unit+"'",J);return{type:"size",mode:this.mode,value:xe,isBlank:ae}},U.parseUrlGroup=function(j){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var J=this.parseStringGroup("url",j);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),null==J)return null;var ae=J.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:ae}},U.parseArgumentGroup=function(j,J){var ae=this.gullet.scanArgument(j);if(null==ae)return null;var ue=this.mode;J&&this.switchMode(J),this.gullet.beginGroup();var xe=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var We={type:"ordgroup",mode:this.mode,loc:ae.loc,body:xe};return J&&this.switchMode(ue),We},U.parseGroup=function(j,J){var xe,ae=this.fetch(),ue=ae.text;if("{"===ue||"\\begingroup"===ue){this.consume();var We="{"===ue?"}":"\\endgroup";this.gullet.beginGroup();var ot=this.parseExpression(!1,We),Dt=this.fetch();this.expect(We),this.gullet.endGroup(),xe={type:"ordgroup",mode:this.mode,loc:Or.range(ae,Dt),body:ot,semisimple:"\\begingroup"===ue||void 0}}else if(null==(xe=this.parseFunction(J,j)||this.parseSymbol())&&"\\"===ue[0]&&!mw.hasOwnProperty(ue)){if(this.settings.throwOnError)throw new le("Undefined control sequence: "+ue,ae);xe=this.formatUnsupportedCmd(ue),this.consume()}return xe},U.formLigatures=function(j){for(var J=j.length-1,ae=0;ae<J;++ae){var ue=j[ae],xe=ue.text;"-"===xe&&"-"===j[ae+1].text&&(ae+1<J&&"-"===j[ae+2].text?(j.splice(ae,3,{type:"textord",mode:"text",loc:Or.range(ue,j[ae+2]),text:"---"}),J-=2):(j.splice(ae,2,{type:"textord",mode:"text",loc:Or.range(ue,j[ae+1]),text:"--"}),J-=1)),("'"===xe||"`"===xe)&&j[ae+1].text===xe&&(j.splice(ae,2,{type:"textord",mode:"text",loc:Or.range(ue,j[ae+1]),text:xe+xe}),J-=1)}},U.parseSymbol=function(){var j=this.fetch(),J=j.text;if(/^\\verb[^a-zA-Z]/.test(J)){this.consume();var ae=J.slice(5),ue="*"===ae.charAt(0);if(ue&&(ae=ae.slice(1)),ae.length<2||ae.charAt(0)!==ae.slice(-1))throw new le("\\verb assertion failed --\n                    please report what input caused this bug");return{type:"verb",mode:"text",body:ae=ae.slice(1,-1),star:ue}}Sh.hasOwnProperty(J[0])&&!dt[this.mode][J[0]]&&(this.settings.strict&&"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+J[0]+'" used in math mode',j),J=Sh[J[0]]+J.substr(1));var We,xe=Bv.exec(J);if(xe&&("i"===(J=J.substring(0,xe.index))?J="\u0131":"j"===J&&(J="\u0237")),dt[this.mode][J]){this.settings.strict&&"math"===this.mode&&ji.indexOf(J)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+J[0]+'" used in math mode',j);var ot=dt[this.mode][J].group,Dt=Or.range(j);We=Ti.hasOwnProperty(ot)?{type:"atom",mode:this.mode,family:ot,loc:Dt,text:J}:{type:ot,mode:this.mode,loc:Dt,text:J}}else{if(!(J.charCodeAt(0)>=128))return null;this.settings.strict&&(tt(J.charCodeAt(0))?"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+J[0]+'" used in math mode',j):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+J[0]+'" ('+J.charCodeAt(0)+")",j)),We={type:"textord",mode:"text",loc:Or.range(j),text:J}}if(this.consume(),xe)for(var mn=0;mn<xe[0].length;mn++){var yn=xe[0][mn];if(!gw[yn])throw new le("Unknown accent ' "+yn+"'",j);var Tn=gw[yn][this.mode];if(!Tn)throw new le("Accent "+yn+" unsupported in "+this.mode+" mode",j);We={type:"accent",mode:this.mode,loc:Or.range(j),label:Tn,isStretchy:!1,isShifty:!0,base:We}}return We},me}();_w.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var yd=function(U,q){if(!("string"==typeof U||U instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var j=new _w(U,q);delete j.gullet.macros.current["\\df@tag"];var J=j.parse();if(delete j.gullet.macros.current["\\current@color"],delete j.gullet.macros.current["\\color"],j.gullet.macros.get("\\df@tag")){if(!q.displayMode)throw new le("\\tag works only in display equations");j.gullet.feed("\\df@tag"),J=[{type:"tag",mode:"text",body:J,tag:j.parse()}]}return J},bd=function(U,q,j){q.textContent="";var J=Us(U,j).toNode();q.appendChild(J)};"undefined"!=typeof document&&"CSS1Compat"!==document.compatMode&&("undefined"!=typeof console&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),bd=function(){throw new le("KaTeX doesn't work in quirks mode.")});var Jo=function(U,q,j){if(j.throwOnError||!(U instanceof le))throw U;var J=$t.makeSpan(["katex-error"],[new Xe(q)]);return J.setAttribute("title",U.toString()),J.setAttribute("style","color:"+j.errorColor),J},Us=function(U,q){var j=new pt(q);try{return function(U,q,j){var ae,J=_a(j);if("mathml"===j.output)return s0(U,q,J,j.displayMode,!0);if("html"===j.output){var ue=Yo(U,J);ae=$t.makeSpan(["katex"],[ue])}else{var xe=s0(U,q,J,j.displayMode,!1),We=Yo(U,J);ae=$t.makeSpan(["katex"],[xe,We])}return dh(ae,j)}(yd(U,j),U,j)}catch(ae){return Jo(ae,U,j)}},Js={version:"0.13.13",render:bd,renderToString:function(U,q){return Us(U,q).toMarkup()},ParseError:le,__parse:function(U,q){var j=new pt(q);return yd(U,j)},__renderToDomTree:Us,__renderToHTMLTree:function(U,q){var j=new pt(q);try{return function(U,q,j){var ae=Yo(U,_a(j)),ue=$t.makeSpan(["katex"],[ae]);return dh(ue,j)}(yd(U,j),0,j)}catch(ae){return Jo(ae,U,j)}},__setFontMetrics:function(me,U){gn[me]=U},__defineSymbol:ee,__defineMacro:He,__domTree:{Span:K,Anchor:te,SymbolNode:Xe,SvgNode:lt,PathNode:Rt,LineNode:on}};return $e.default}()},3815:function(An,zt,$e){var C;An=$e.nmd(An),function(){var le,Pe="Expected a function",ve="__lodash_hash_undefined__",Ce="__lodash_placeholder__",Tt=1/0,vt=9007199254740991,Ue=4294967295,rt=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],at="[object Arguments]",Ke="[object Array]",ct="[object Boolean]",gt="[object Date]",Qt="[object Error]",be="[object Function]",fe="[object GeneratorFunction]",we="[object Map]",Ae="[object Number]",K="[object Object]",te="[object Promise]",Le="[object RegExp]",Xe="[object Set]",lt="[object String]",Rt="[object Symbol]",Dn="[object WeakMap]",gn="[object ArrayBuffer]",en="[object DataView]",Un="[object Float32Array]",es="[object Float64Array]",Gi="[object Int8Array]",li="[object Int16Array]",wr="[object Int32Array]",Ti="[object Uint8Array]",Ls="[object Uint8ClampedArray]",Wr="[object Uint16Array]",dt="[object Uint32Array]",ee=/\b__p \+= '';/g,se=/\b(__p \+=) '' \+/g,_t=/(__e\(.*?\)|\b__t\)) \+\n'';/g,pe=/&(?:amp|lt|gt|quot|#39);/g,Je=/[&<>"']/g,Pn=RegExp(pe.source),pn=RegExp(Je.source),Cr=/<%-([\s\S]+?)%>/g,lr=/<%([\s\S]+?)%>/g,Wn=/<%=([\s\S]+?)%>/g,$r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,De=/^\w*$/,ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,X=/[\\^$.*+?()[\]{}|]/g,Me=RegExp(X.source),he=/^\s+/,et=/\s/,wt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Vt=/\{\n\/\* \[wrapped with (.+)\] \*/,an=/,? & /,wn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,In=/[()=,{}\[\]\/\s]/,qr=/\\(\\)?/g,mr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Sn=/\w*$/,or=/^[-+]0x[0-9a-f]+$/i,zn=/^0b[01]+$/i,ci=/^\[object .+?Constructor\]$/,Ai=/^0o[0-7]+$/i,qi=/^(?:0|[1-9]\d*)$/,po=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ji=/($^)/,cu=/['\n\r\u2028\u2029\\]/g,Na="\\ud800-\\udfff",mf="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",du="\\u2700-\\u27bf",Ks="a-z\\xdf-\\xf6\\xf8-\\xff",gf="A-Z\\xc0-\\xd6\\xd8-\\xde",ts="\\ufe0e\\ufe0f",Ii="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ed="["+Na+"]",hu="["+Ii+"]",xs="["+mf+"]",ns="\\d+",Qp="["+du+"]",Fa="["+Ks+"]",Yi="[^"+Na+Ii+ns+du+Ks+gf+"]",td="\\ud83c[\\udffb-\\udfff]",fu="[^"+Na+"]",pa="(?:\\ud83c[\\udde6-\\uddff]){2}",ma="[\\ud800-\\udbff][\\udc00-\\udfff]",lh="["+gf+"]",Qg="(?:"+Fa+"|"+Yi+")",Xp="(?:"+lh+"|"+Yi+")",em="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Xg="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Rv="(?:"+xs+"|"+td+")?",$t="["+ts+"]?",Ov=$t+Rv+"(?:\\u200d(?:"+[fu,pa,ma].join("|")+")"+$t+Rv+")*",uw="(?:"+[Qp,pa,ma].join("|")+")"+Ov,Nv="(?:"+[fu+xs+"?",xs,pa,ma,ed].join("|")+")",tm=RegExp("['\u2019]","g"),nm=RegExp(xs,"g"),qn=RegExp(td+"(?="+td+")|"+Nv+Ov,"g"),xc=RegExp([lh+"?"+Fa+"+"+em+"(?="+[hu,lh,"$"].join("|")+")",Xp+"+"+Xg+"(?="+[hu,lh+Qg,"$"].join("|")+")",lh+"?"+Qg+"+"+em,lh+"+"+Xg,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ns,uw].join("|"),"g"),id=RegExp("[\\u200d"+Na+mf+ts+"]"),ks=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Tl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],e0=-1,yi={};yi[Un]=yi[es]=yi[Gi]=yi[li]=yi[wr]=yi[Ti]=yi[Ls]=yi[Wr]=yi[dt]=!0,yi[at]=yi[Ke]=yi[gn]=yi[ct]=yi[en]=yi[gt]=yi[Qt]=yi[be]=yi[we]=yi[Ae]=yi[K]=yi[Le]=yi[Xe]=yi[lt]=yi[Dn]=!1;var Wi={};Wi[at]=Wi[Ke]=Wi[gn]=Wi[en]=Wi[ct]=Wi[gt]=Wi[Un]=Wi[es]=Wi[Gi]=Wi[li]=Wi[wr]=Wi[we]=Wi[Ae]=Wi[K]=Wi[Le]=Wi[Xe]=Wi[lt]=Wi[Rt]=Wi[Ti]=Wi[Ls]=Wi[Wr]=Wi[dt]=!0,Wi[Qt]=Wi[be]=Wi[Dn]=!1;var n0={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},r0=parseFloat,sd=parseInt,ch="object"==typeof global&&global&&global.Object===Object&&global,ii="object"==typeof self&&self&&self.Object===Object&&self,Is=ch||ii||Function("return this")(),Yo=zt&&!zt.nodeType&&zt,kc=Yo&&An&&!An.nodeType&&An,Wo=kc&&kc.exports===Yo,xl=Wo&&ch.process,La=function(){try{return kc&&kc.require&&kc.require("util").types||xl&&xl.binding&&xl.binding("util")}catch(nn){}}(),Cn=La&&La.isArrayBuffer,ga=La&&La.isDate,Zi=La&&La.isMap,uh=La&&La.isRegExp,Rs=La&&La.isSet,sc=La&&La.isTypedArray;function Qn(At,nn,Yt){switch(Yt.length){case 0:return At.call(nn);case 1:return At.call(nn,Yt[0]);case 2:return At.call(nn,Yt[0],Yt[1]);case 3:return At.call(nn,Yt[0],Yt[1],Yt[2])}return At.apply(nn,Yt)}function s0(At,nn,Yt,Bn){for(var Mr=-1,hi=null==At?0:At.length;++Mr<hi;){var ds=At[Mr];nn(Bn,ds,Yt(ds),At)}return Bn}function _a(At,nn){for(var Yt=-1,Bn=null==At?0:At.length;++Yt<Bn&&!1!==nn(At[Yt],Yt,At););return At}function dh(At,nn){for(var Yt=null==At?0:At.length;Yt--&&!1!==nn(At[Yt],Yt,At););return At}function va(At,nn){for(var Yt=-1,Bn=null==At?0:At.length;++Yt<Bn;)if(!nn(At[Yt],Yt,At))return!1;return!0}function kl(At,nn){for(var Yt=-1,Bn=null==At?0:At.length,Mr=0,hi=[];++Yt<Bn;){var ds=At[Yt];nn(ds,Yt,At)&&(hi[Mr++]=ds)}return hi}function hh(At,nn){return!(null==At||!At.length)&&pu(At,nn,0)>-1}function Ac(At,nn,Yt){for(var Bn=-1,Mr=null==At?0:At.length;++Bn<Mr;)if(Yt(nn,At[Bn]))return!0;return!1}function Qr(At,nn){for(var Yt=-1,Bn=null==At?0:At.length,Mr=Array(Bn);++Yt<Bn;)Mr[Yt]=nn(At[Yt],Yt,At);return Mr}function Ic(At,nn){for(var Yt=-1,Bn=nn.length,Mr=At.length;++Yt<Bn;)At[Mr+Yt]=nn[Yt];return At}function _f(At,nn,Yt,Bn){var Mr=-1,hi=null==At?0:At.length;for(Bn&&hi&&(Yt=At[++Mr]);++Mr<hi;)Yt=nn(Yt,At[Mr],Mr,At);return Yt}function vf(At,nn,Yt,Bn){var Mr=null==At?0:At.length;for(Bn&&Mr&&(Yt=At[--Mr]);Mr--;)Yt=nn(Yt,At[Mr],Mr,At);return Yt}function oc(At,nn){for(var Yt=-1,Bn=null==At?0:At.length;++Yt<Bn;)if(nn(At[Yt],Yt,At))return!0;return!1}var Al=Rc("length");function fh(At,nn,Yt){var Bn;return Yt(At,function(Mr,hi,ds){if(nn(Mr,hi,ds))return Bn=hi,!1}),Bn}function od(At,nn,Yt,Bn){for(var Mr=At.length,hi=Yt+(Bn?1:-1);Bn?hi--:++hi<Mr;)if(nn(At[hi],hi,At))return hi;return-1}function pu(At,nn,Yt){return nn==nn?function(At,nn,Yt){for(var Bn=Yt-1,Mr=At.length;++Bn<Mr;)if(At[Bn]===nn)return Bn;return-1}(At,nn,Yt):od(At,ph,Yt)}function Pv(At,nn,Yt,Bn){for(var Mr=Yt-1,hi=At.length;++Mr<hi;)if(Bn(At[Mr],nn))return Mr;return-1}function ph(At){return At!=At}function o0(At,nn){var Yt=null==At?0:At.length;return Yt?Ji(At,nn)/Yt:NaN}function Rc(At){return function(nn){return null==nn?le:nn[At]}}function hn(At){return function(nn){return null==At?le:At[nn]}}function Kr(At,nn,Yt,Bn,Mr){return Mr(At,function(hi,ds,Ri){Yt=Bn?(Bn=!1,hi):nn(Yt,hi,ds,Ri)}),Yt}function Ji(At,nn){for(var Yt,Bn=-1,Mr=At.length;++Bn<Mr;){var hi=nn(At[Bn]);hi!==le&&(Yt=Yt===le?hi:Yt+hi)}return Yt}function ad(At,nn){for(var Yt=-1,Bn=Array(At);++Yt<At;)Bn[Yt]=nn(Yt);return Bn}function xo(At){return At&&At.slice(0,wf(At)+1).replace(he,"")}function Zs(At){return function(nn){return At(nn)}}function ld(At,nn){return Qr(nn,function(Yt){return At[Yt]})}function mh(At,nn){return At.has(nn)}function cd(At,nn){for(var Yt=-1,Bn=At.length;++Yt<Bn&&pu(nn,At[Yt],0)>-1;);return Yt}function mu(At,nn){for(var Yt=At.length;Yt--&&pu(nn,At[Yt],0)>-1;);return Yt}function gh(At,nn){for(var Yt=At.length,Bn=0;Yt--;)At[Yt]===nn&&++Bn;return Bn}var Bs=hn({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),el=hn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function a0(At){return"\\"+n0[At]}function Vs(At){return id.test(At)}function yf(At){var nn=-1,Yt=Array(At.size);return At.forEach(function(Bn,Mr){Yt[++nn]=[Mr,Bn]}),Yt}function c0(At,nn){return function(Yt){return At(nn(Yt))}}function nl(At,nn){for(var Yt=-1,Bn=At.length,Mr=0,hi=[];++Yt<Bn;){var ds=At[Yt];(ds===nn||ds===Ce)&&(At[Yt]=Ce,hi[Mr++]=Yt)}return hi}function Nc(At){var nn=-1,Yt=Array(At.size);return At.forEach(function(Bn){Yt[++nn]=Bn}),Yt}function Pc(At){return Vs(At)?function(At){for(var nn=qn.lastIndex=0;qn.test(At);)++nn;return nn}(At):Al(At)}function $o(At){return Vs(At)?function(At){return At.match(qn)||[]}(At):function(At){return At.split("")}(At)}function wf(At){for(var nn=At.length;nn--&&et.test(At.charAt(nn)););return nn}var vh=hn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Cf=function At(nn){var L,Yt=(nn=null==nn?Is:Cf.defaults(Is.Object(),nn,Cf.pick(Is,Tl))).Array,Bn=nn.Date,Mr=nn.Error,hi=nn.Function,ds=nn.Math,Ri=nn.Object,rl=nn.RegExp,ud=nn.String,zs=nn.TypeError,mo=Yt.prototype,Il=Ri.prototype,il=nn["__core-js_shared__"],ya=hi.prototype.toString,Rr=Il.hasOwnProperty,dw=0,sl=(L=/[^.]+$/.exec(il&&il.keys&&il.keys.IE_PROTO||""))?"Symbol(src)_1."+L:"",ac=Il.toString,im=ya.call(Ri),Mf=Is._,hw=rl("^"+ya.call(Rr).replace(X,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ef=Wo?nn.Buffer:le,_u=nn.Symbol,Fc=nn.Uint8Array,Df=Ef?Ef.allocUnsafe:le,Ko=c0(Ri.getPrototypeOf,Ri),dd=Ri.create,Tf=Il.propertyIsEnumerable,lc=mo.splice,Rl=_u?_u.isConcatSpreadable:le,bh=_u?_u.iterator:le,Ba=_u?_u.toStringTag:le,hd=function(){try{var L=ql(Ri,"defineProperty");return L({},"",{}),L}catch(H){}}(),xf=nn.clearTimeout!==Is.clearTimeout&&nn.clearTimeout,Lv=Bn&&Bn.now!==Is.Date.now&&Bn.now,sm=nn.setTimeout!==Is.setTimeout&&nn.setTimeout,wh=ds.ceil,kf=ds.floor,vu=Ri.getOwnPropertySymbols,cc=Ef?Ef.isBuffer:le,om=nn.isFinite,$n=mo.join,$i=c0(Ri.keys,Ri),Xr=ds.max,He=ds.min,Hs=Bn.now,xr=nn.parseInt,Af=ds.random,If=mo.reverse,rr=ql(nn,"DataView"),yu=ql(nn,"Map"),bu=ql(nn,"Promise"),Ss=ql(nn,"Set"),fd=ql(nn,"WeakMap"),pd=ql(Ri,"create"),md=fd&&new fd,ol={},Rf=pc(rr),gd=pc(yu),ba=pc(bu),_d=pc(Ss),wu=pc(fd),Ol=_u?_u.prototype:le,Nl=Ol?Ol.valueOf:le,vd=Ol?Ol.toString:le;function qe(L){if(Ms(L)&&!Nr(L)&&!(L instanceof kr)){if(L instanceof Or)return L;if(Rr.call(L,"__wrapped__"))return O0(L)}return new Or(L)}var Ch=function(){function L(){}return function(H){if(!rs(H))return{};if(dd)return dd(H);L.prototype=H;var Q=new L;return L.prototype=le,Q}}();function Zo(){}function Or(L,H){this.__wrapped__=L,this.__actions__=[],this.__chain__=!!H,this.__index__=0,this.__values__=le}function kr(L){this.__wrapped__=L,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ue,this.__views__=[]}function Pl(L){var H=-1,Q=null==L?0:L.length;for(this.clear();++H<Q;){var ce=L[H];this.set(ce[0],ce[1])}}function Cu(L){var H=-1,Q=null==L?0:L.length;for(this.clear();++H<Q;){var ce=L[H];this.set(ce[0],ce[1])}}function Bi(L){var H=-1,Q=null==L?0:L.length;for(this.clear();++H<Q;){var ce=L[H];this.set(ce[0],ce[1])}}function Us(L){var H=-1,Q=null==L?0:L.length;for(this.__data__=new Bi;++H<Q;)this.add(L[H])}function Js(L){var H=this.__data__=new Cu(L);this.size=H.size}function ae(L,H){var Q=Nr(L),ce=!Q&&Od(L),Oe=!Q&&!ce&&Au(L),nt=!Q&&!ce&&!Oe&&rp(L),yt=Q||ce||Oe||nt,kt=yt?ad(L.length,ud):[],Bt=kt.length;for(var Lt in L)(H||Rr.call(L,Lt))&&(!yt||!("length"==Lt||Oe&&("offset"==Lt||"parent"==Lt)||nt&&("buffer"==Lt||"byteLength"==Lt||"byteOffset"==Lt)||Tu(Lt,Bt)))&&kt.push(Lt);return kt}function ue(L){var H=L.length;return H?L[b0(0,H-1)]:le}function xe(L,H){return Wf(Ma(L),jn(H,0,L.length))}function We(L){return Wf(Ma(L))}function ot(L,H,Q){(Q!==le&&!Yl(L[H],Q)||Q===le&&!(H in L))&&Tn(L,H,Q)}function Dt(L,H,Q){var ce=L[H];(!Rr.call(L,H)||!Yl(ce,Q)||Q===le&&!(H in L))&&Tn(L,H,Q)}function jt(L,H){for(var Q=L.length;Q--;)if(Yl(L[Q][0],H))return Q;return-1}function rn(L,H,Q,ce){return ei(L,function(Oe,nt,yt){H(ce,Oe,Q(Oe),yt)}),ce}function mn(L,H){return L&&hc(H,qs(H),L)}function Tn(L,H,Q){"__proto__"==H&&hd?hd(L,H,{configurable:!0,enumerable:!0,value:Q,writable:!0}):L[H]=Q}function On(L,H){for(var Q=-1,ce=H.length,Oe=Yt(ce),nt=null==L;++Q<ce;)Oe[Q]=nt?le:Fy(L,H[Q]);return Oe}function jn(L,H,Q){return L==L&&(Q!==le&&(L=L<=Q?L:Q),H!==le&&(L=L>=H?L:H)),L}function Kn(L,H,Q,ce,Oe,nt){var yt,kt=1&H,Bt=2&H,Lt=4&H;if(Q&&(yt=Oe?Q(L,ce,Oe,nt):Q(L)),yt!==le)return yt;if(!rs(L))return L;var un=Nr(L);if(un){if(yt=function(L){var H=L.length,Q=new L.constructor(H);return H&&"string"==typeof L[0]&&Rr.call(L,"index")&&(Q.index=L.index,Q.input=L.input),Q}(L),!kt)return Ma(L,yt)}else{var Kt=go(L),Vn=Kt==be||Kt==fe;if(Au(L))return Ah(L,kt);if(Kt==K||Kt==at||Vn&&!Oe){if(yt=Bt||Vn?{}:vm(L),!kt)return Bt?function(L,H){return hc(L,Ph(L),H)}(L,function(L,H){return L&&hc(H,ro(H),L)}(yt,L)):function(L,H){return hc(L,Nh(L),H)}(L,mn(yt,L))}else{if(!Wi[Kt])return Oe?L:{};yt=function(L,H,Q){var ce=L.constructor;switch(H){case gn:return IE(L);case ct:case gt:return new ce(+L);case en:return function(L,H){var Q=H?IE(L.buffer):L.buffer;return new L.constructor(Q,L.byteOffset,L.byteLength)}(L,Q);case Un:case es:case Gi:case li:case wr:case Ti:case Ls:case Wr:case dt:return bw(L,Q);case we:return new ce;case Ae:case lt:return new ce(L);case Le:return function(L){var H=new L.constructor(L.source,Sn.exec(L));return H.lastIndex=L.lastIndex,H}(L);case Xe:return new ce;case Rt:return function(L){return Nl?Ri(Nl.call(L)):{}}(L)}}(L,Kt,kt)}}nt||(nt=new Js);var tr=nt.get(L);if(tr)return tr;nt.set(L,yt),Q0(L)?L.forEach(function(pr){yt.add(Kn(pr,H,Q,pr,L,nt))}):eC(L)&&L.forEach(function(pr,oi){yt.set(oi,Kn(pr,H,Q,oi,L,nt))});var zr=un?le:(Lt?Bt?gm:iy:Bt?ro:qs)(L);return _a(zr||L,function(pr,oi){zr&&(pr=L[oi=pr]),Dt(yt,oi,Kn(pr,H,Q,oi,L,nt))}),yt}function jr(L,H,Q){var ce=Q.length;if(null==L)return!ce;for(L=Ri(L);ce--;){var Oe=Q[ce],yt=L[Oe];if(yt===le&&!(Oe in L)||!(0,H[Oe])(yt))return!1}return!0}function bi(L,H,Q){if("function"!=typeof L)throw new zs(Pe);return Lh(function(){L.apply(le,Q)},H)}function fi(L,H,Q,ce){var Oe=-1,nt=hh,yt=!0,kt=L.length,Bt=[],Lt=H.length;if(!kt)return Bt;Q&&(H=Qr(H,Zs(Q))),ce?(nt=Ac,yt=!1):H.length>=200&&(nt=mh,yt=!1,H=new Us(H));e:for(;++Oe<kt;){var un=L[Oe],Kt=null==Q?un:Q(un);if(un=ce||0!==un?un:0,yt&&Kt==Kt){for(var Vn=Lt;Vn--;)if(H[Vn]===Kt)continue e;Bt.push(un)}else nt(H,Kt,ce)||Bt.push(un)}return Bt}qe.templateSettings={escape:Cr,evaluate:lr,interpolate:Wn,variable:"",imports:{_:qe}},(qe.prototype=Zo.prototype).constructor=qe,(Or.prototype=Ch(Zo.prototype)).constructor=Or,(kr.prototype=Ch(Zo.prototype)).constructor=kr,Pl.prototype.clear=function(){this.__data__=pd?pd(null):{},this.size=0},Pl.prototype.delete=function(L){var H=this.has(L)&&delete this.__data__[L];return this.size-=H?1:0,H},Pl.prototype.get=function(L){var H=this.__data__;if(pd){var Q=H[L];return Q===ve?le:Q}return Rr.call(H,L)?H[L]:le},Pl.prototype.has=function(L){var H=this.__data__;return pd?H[L]!==le:Rr.call(H,L)},Pl.prototype.set=function(L,H){var Q=this.__data__;return this.size+=this.has(L)?0:1,Q[L]=pd&&H===le?ve:H,this},Cu.prototype.clear=function(){this.__data__=[],this.size=0},Cu.prototype.delete=function(L){var H=this.__data__,Q=jt(H,L);return!(Q<0||(Q==H.length-1?H.pop():lc.call(H,Q,1),--this.size,0))},Cu.prototype.get=function(L){var H=this.__data__,Q=jt(H,L);return Q<0?le:H[Q][1]},Cu.prototype.has=function(L){return jt(this.__data__,L)>-1},Cu.prototype.set=function(L,H){var Q=this.__data__,ce=jt(Q,L);return ce<0?(++this.size,Q.push([L,H])):Q[ce][1]=H,this},Bi.prototype.clear=function(){this.size=0,this.__data__={hash:new Pl,map:new(yu||Cu),string:new Pl}},Bi.prototype.delete=function(L){var H=_m(this,L).delete(L);return this.size-=H?1:0,H},Bi.prototype.get=function(L){return _m(this,L).get(L)},Bi.prototype.has=function(L){return _m(this,L).has(L)},Bi.prototype.set=function(L,H){var Q=_m(this,L),ce=Q.size;return Q.set(L,H),this.size+=Q.size==ce?0:1,this},Us.prototype.add=Us.prototype.push=function(L){return this.__data__.set(L,ve),this},Us.prototype.has=function(L){return this.__data__.has(L)},Js.prototype.clear=function(){this.__data__=new Cu,this.size=0},Js.prototype.delete=function(L){var H=this.__data__,Q=H.delete(L);return this.size=H.size,Q},Js.prototype.get=function(L){return this.__data__.get(L)},Js.prototype.has=function(L){return this.__data__.has(L)},Js.prototype.set=function(L,H){var Q=this.__data__;if(Q instanceof Cu){var ce=Q.__data__;if(!yu||ce.length<199)return ce.push([L,H]),this.size=++Q.size,this;Q=this.__data__=new Bi(ce)}return Q.set(L,H),this.size=Q.size,this};var ei=RE(si),wi=RE(Pf,!0);function Yn(L,H){var Q=!0;return ei(L,function(ce,Oe,nt){return Q=!!H(ce,Oe,nt)}),Q}function ir(L,H,Q){for(var ce=-1,Oe=L.length;++ce<Oe;){var nt=L[ce],yt=H(nt);if(null!=yt&&(kt===le?yt==yt&&!Io(yt):Q(yt,kt)))var kt=yt,Bt=nt}return Bt}function Qs(L,H){var Q=[];return ei(L,function(ce,Oe,nt){H(ce,Oe,nt)&&Q.push(ce)}),Q}function pi(L,H,Q,ce,Oe){var nt=-1,yt=L.length;for(Q||(Q=ym),Oe||(Oe=[]);++nt<yt;){var kt=L[nt];H>0&&Q(kt)?H>1?pi(kt,H-1,Q,ce,Oe):Ic(Oe,kt):ce||(Oe[Oe.length]=kt)}return Oe}var Os=gs(),wa=gs(!0);function si(L,H){return L&&Os(L,H,qs)}function Pf(L,H){return L&&wa(L,H,qs)}function Mh(L,H){return kl(H,function(Q){return mc(L[Q])})}function Va(L,H){for(var Q=0,ce=(H=Eu(H,L)).length;null!=L&&Q<ce;)L=L[za(H[Q++])];return Q&&Q==ce?L:le}function Mu(L,H,Q){var ce=H(L);return Nr(L)?ce:Ic(ce,Q(L))}function as(L){return null==L?L===le?"[object Undefined]":"[object Null]":Ba&&Ba in Ri(L)?function(L){var H=Rr.call(L,Ba),Q=L[Ba];try{L[Ba]=le;var ce=!0}catch(nt){}var Oe=ac.call(L);return ce&&(H?L[Ba]=Q:delete L[Ba]),Oe}(L):function(L){return ac.call(L)}(L)}function Ff(L,H){return L>H}function Vv(L,H){return null!=L&&Rr.call(L,H)}function Cd(L,H){return null!=L&&H in Ri(L)}function Xs(L,H,Q){for(var ce=Q?Ac:hh,Oe=L[0].length,nt=L.length,yt=nt,kt=Yt(nt),Bt=1/0,Lt=[];yt--;){var un=L[yt];yt&&H&&(un=Qr(un,Zs(H))),Bt=He(un.length,Bt),kt[yt]=!Q&&(H||Oe>=120&&un.length>=120)?new Us(yt&&un):le}un=L[0];var Kt=-1,Vn=kt[0];e:for(;++Kt<Oe&&Lt.length<Bt;){var tr=un[Kt],cr=H?H(tr):tr;if(tr=Q||0!==tr?tr:0,!(Vn?mh(Vn,cr):ce(Lt,cr,Q))){for(yt=nt;--yt;){var zr=kt[yt];if(!(zr?mh(zr,cr):ce(L[yt],cr,Q)))continue e}Vn&&Vn.push(cr),Lt.push(tr)}}return Lt}function Vi(L,H,Q){var ce=null==(L=ay(L,H=Eu(H,L)))?L:L[za(Xo(H))];return null==ce?le:Qn(ce,L,Q)}function al(L){return Ms(L)&&as(L)==at}function Ns(L,H,Q,ce,Oe){return L===H||(null==L||null==H||!Ms(L)&&!Ms(H)?L!=L&&H!=H:function(L,H,Q,ce,Oe,nt){var yt=Nr(L),kt=Nr(H),Bt=yt?Ke:go(L),Lt=kt?Ke:go(H),un=(Bt=Bt==at?K:Bt)==K,Kt=(Lt=Lt==at?K:Lt)==K,Vn=Bt==Lt;if(Vn&&Au(L)){if(!Au(H))return!1;yt=!0,un=!1}if(Vn&&!un)return nt||(nt=new Js),yt||rp(L)?ny(L,H,Q,ce,Oe,nt):function(L,H,Q,ce,Oe,nt,yt){switch(Q){case en:if(L.byteLength!=H.byteLength||L.byteOffset!=H.byteOffset)return!1;L=L.buffer,H=H.buffer;case gn:return!(L.byteLength!=H.byteLength||!nt(new Fc(L),new Fc(H)));case ct:case gt:case Ae:return Yl(+L,+H);case Qt:return L.name==H.name&&L.message==H.message;case Le:case lt:return L==H+"";case we:var kt=yf;case Xe:if(kt||(kt=Nc),L.size!=H.size&&!(1&ce))return!1;var Lt=yt.get(L);if(Lt)return Lt==H;ce|=2,yt.set(L,H);var un=ny(kt(L),kt(H),ce,Oe,nt,yt);return yt.delete(L),un;case Rt:if(Nl)return Nl.call(L)==Nl.call(H)}return!1}(L,H,Bt,Q,ce,Oe,nt);if(!(1&Q)){var tr=un&&Rr.call(L,"__wrapped__"),cr=Kt&&Rr.call(H,"__wrapped__");if(tr||cr){var zr=tr?L.value():L,pr=cr?H.value():H;return nt||(nt=new Js),Oe(zr,pr,Q,ce,nt)}}return!!Vn&&(nt||(nt=new Js),function(L,H,Q,ce,Oe,nt){var yt=1&Q,kt=iy(L),Bt=kt.length;if(Bt!=iy(H).length&&!yt)return!1;for(var Kt=Bt;Kt--;){var Vn=kt[Kt];if(!(yt?Vn in H:Rr.call(H,Vn)))return!1}var tr=nt.get(L),cr=nt.get(H);if(tr&&cr)return tr==H&&cr==L;var zr=!0;nt.set(L,H),nt.set(H,L);for(var pr=yt;++Kt<Bt;){var oi=L[Vn=kt[Kt]],mi=H[Vn];if(ce)var dl=yt?ce(mi,oi,Vn,H,L,nt):ce(oi,mi,Vn,L,H,nt);if(!(dl===le?oi===mi||Oe(oi,mi,Q,ce,nt):dl)){zr=!1;break}pr||(pr="constructor"==Vn)}if(zr&&!pr){var Ni=L.constructor,ta=H.constructor;Ni!=ta&&"constructor"in L&&"constructor"in H&&!("function"==typeof Ni&&Ni instanceof Ni&&"function"==typeof ta&&ta instanceof ta)&&(zr=!1)}return nt.delete(L),nt.delete(H),zr}(L,H,Q,ce,Oe,nt))}(L,H,Q,ce,Ns,Oe))}function Ca(L,H,Q,ce){var Oe=Q.length,nt=Oe,yt=!ce;if(null==L)return!nt;for(L=Ri(L);Oe--;){var kt=Q[Oe];if(yt&&kt[2]?kt[1]!==L[kt[0]]:!(kt[0]in L))return!1}for(;++Oe<nt;){var Bt=(kt=Q[Oe])[0],Lt=L[Bt],un=kt[1];if(yt&&kt[2]){if(Lt===le&&!(Bt in L))return!1}else{var Kt=new Js;if(ce)var Vn=ce(Lt,un,Bt,L,H,Kt);if(!(Vn===le?Ns(un,Lt,3,ce,Kt):Vn))return!1}}return!0}function Lc(L){return!(!rs(L)||function(L){return!!sl&&sl in L}(L))&&(mc(L)?hw:ci).test(pc(L))}function m0(L){return"function"==typeof L?L:null==L?Ea:"object"==typeof L?Nr(L)?dm(L[0],L[1]):_0(L):ID(L)}function zv(L){if(!cl(L))return $i(L);var H=[];for(var Q in Ri(L))Rr.call(L,Q)&&"constructor"!=Q&&H.push(Q);return H}function Eh(L,H){return L<H}function g0(L,H){var Q=-1,ce=Ha(L)?Yt(L.length):[];return ei(L,function(Oe,nt,yt){ce[++Q]=H(Oe,nt,yt)}),ce}function _0(L){var H=Gl(L);return 1==H.length&&H[0][2]?t2(H[0][0],H[0][1]):function(Q){return Q===L||Ca(Q,L,H)}}function dm(L,H){return bm(L)&&Hc(H)?t2(za(L),H):function(Q){var ce=Fy(Q,L);return ce===le&&ce===H?Ly(Q,L):Ns(H,ce,3)}}function Bf(L,H,Q,ce,Oe){L!==H&&Os(H,function(nt,yt){if(Oe||(Oe=new Js),rs(nt))!function(L,H,Q,ce,Oe,nt,yt){var kt=jf(L,Q),Bt=jf(H,Q),Lt=yt.get(Bt);if(Lt)ot(L,Q,Lt);else{var un=nt?nt(kt,Bt,Q+"",L,H,yt):le,Kt=un===le;if(Kt){var Vn=Nr(Bt),tr=!Vn&&Au(Bt),cr=!Vn&&!tr&&rp(Bt);un=Bt,Vn||tr||cr?Nr(kt)?un=kt:_s(kt)?un=Ma(kt):tr?(Kt=!1,un=Ah(Bt,!0)):cr?(Kt=!1,un=bw(Bt,!0)):un=[]:np(Bt)||Od(Bt)?(un=kt,Od(kt)?un=v2(kt):(!rs(kt)||mc(kt))&&(un=vm(Bt))):Kt=!1}Kt&&(yt.set(Bt,un),Oe(un,Bt,ce,nt,yt),yt.delete(Bt)),ot(L,Q,un)}}(L,H,yt,Q,Bf,ce,Oe);else{var kt=ce?ce(jf(L,yt),nt,yt+"",L,H,Oe):le;kt===le&&(kt=nt),ot(L,yt,kt)}},ro)}function to(L,H){var Q=L.length;if(Q)return Tu(H+=H<0?Q:0,Q)?L[H]:le}function v0(L,H,Q){H=H.length?Qr(H,function(nt){return Nr(nt)?function(yt){return Va(yt,1===nt.length?nt[0]:nt)}:nt}):[Ea];var ce=-1;return H=Qr(H,Zs(dr())),function(At,nn){var Yt=At.length;for(At.sort(function(nt,yt){return function(L,H,Q){for(var ce=-1,Oe=L.criteria,nt=H.criteria,yt=Oe.length,kt=Q.length;++ce<yt;){var Bt=ww(Oe[ce],nt[ce]);if(Bt)return ce>=kt?Bt:Bt*("desc"==Q[ce]?-1:1)}return L.index-H.index}(nt,yt,Q)});Yt--;)At[Yt]=At[Yt].value;return At}(g0(L,function(nt,yt,kt){return{criteria:Qr(H,function(Lt){return Lt(nt)}),index:++ce,value:nt}}))}function Dh(L,H,Q){for(var ce=-1,Oe=H.length,nt={};++ce<Oe;){var yt=H[ce],kt=Va(L,yt);Q(kt,yt)&&hm(nt,Eu(yt,L),kt)}return nt}function Vf(L,H,Q,ce){var Oe=ce?Pv:pu,nt=-1,yt=H.length,kt=L;for(L===H&&(H=Ma(H)),Q&&(kt=Qr(L,Zs(Q)));++nt<yt;)for(var Bt=0,Lt=H[nt],un=Q?Q(Lt):Lt;(Bt=Oe(kt,un,Bt,ce))>-1;)kt!==L&&lc.call(kt,Bt,1),lc.call(L,Bt,1);return L}function y0(L,H){for(var Q=L?H.length:0,ce=Q-1;Q--;){var Oe=H[Q];if(Q==ce||Oe!==nt){var nt=Oe;Tu(Oe)?lc.call(L,Oe,1):qv(L,Oe)}}return L}function b0(L,H){return L+kf(Af()*(H-L+1))}function Hv(L,H){var Q="";if(!L||H<1||H>vt)return Q;do{H%2&&(Q+=L),(H=kf(H/2))&&(L+=L)}while(H);return Q}function Vr(L,H){return ly(qf(L,H,Ea),L+"")}function kE(L){return ue(Vm(L))}function Uv(L,H){var Q=Vm(L);return Wf(Q,jn(H,0,Q.length))}function hm(L,H,Q,ce){if(!rs(L))return L;for(var Oe=-1,nt=(H=Eu(H,L)).length,yt=nt-1,kt=L;null!=kt&&++Oe<nt;){var Bt=za(H[Oe]),Lt=Q;if("__proto__"===Bt||"constructor"===Bt||"prototype"===Bt)return L;if(Oe!=yt){var un=kt[Bt];(Lt=ce?ce(un,Bt,kt):le)===le&&(Lt=rs(un)?un:Tu(H[Oe+1])?[]:{})}Dt(kt,Bt,Lt),kt=kt[Bt]}return L}var Vl=md?function(L,H){return md.set(L,H),L}:Ea,zc=hd?function(L,H){return hd(L,"toString",{configurable:!0,enumerable:!1,value:xD(H),writable:!0})}:Ea;function AE(L){return Wf(Vm(L))}function zl(L,H,Q){var ce=-1,Oe=L.length;H<0&&(H=-H>Oe?0:Oe+H),(Q=Q>Oe?Oe:Q)<0&&(Q+=Oe),Oe=H>Q?0:Q-H>>>0,H>>>=0;for(var nt=Yt(Oe);++ce<Oe;)nt[ce]=L[ce+H];return nt}function Gv(L,H){var Q;return ei(L,function(ce,Oe,nt){return!(Q=H(ce,Oe,nt))}),!!Q}function zf(L,H,Q){var ce=0,Oe=null==L?ce:L.length;if("number"==typeof H&&H==H&&Oe<=2147483647){for(;ce<Oe;){var nt=ce+Oe>>>1,yt=L[nt];null!==yt&&!Io(yt)&&(Q?yt<=H:yt<H)?ce=nt+1:Oe=nt}return Oe}return Hf(L,H,Ea,Q)}function Hf(L,H,Q,ce){var Oe=0,nt=null==L?0:L.length;if(0===nt)return 0;for(var yt=(H=Q(H))!=H,kt=null===H,Bt=Io(H),Lt=H===le;Oe<nt;){var un=kf((Oe+nt)/2),Kt=Q(L[un]),Vn=Kt!==le,tr=null===Kt,cr=Kt==Kt,zr=Io(Kt);if(yt)var pr=ce||cr;else pr=Lt?cr&&(ce||Vn):kt?cr&&Vn&&(ce||!tr):Bt?cr&&Vn&&!tr&&(ce||!zr):!tr&&!zr&&(ce?Kt<=H:Kt<H);pr?Oe=un+1:nt=un}return He(nt,4294967294)}function yw(L,H){for(var Q=-1,ce=L.length,Oe=0,nt=[];++Q<ce;){var yt=L[Q],kt=H?H(yt):yt;if(!Q||!Yl(kt,Bt)){var Bt=kt;nt[Oe++]=0===yt?0:yt}}return nt}function dc(L){return"number"==typeof L?L:Io(L)?NaN:+L}function Sa(L){if("string"==typeof L)return L;if(Nr(L))return Qr(L,Sa)+"";if(Io(L))return vd?vd.call(L):"";var H=L+"";return"0"==H&&1/L==-Tt?"-0":H}function Sd(L,H,Q){var ce=-1,Oe=hh,nt=L.length,yt=!0,kt=[],Bt=kt;if(Q)yt=!1,Oe=Ac;else if(nt>=200){var Lt=H?null:mm(L);if(Lt)return Nc(Lt);yt=!1,Oe=mh,Bt=new Us}else Bt=H?[]:kt;e:for(;++ce<nt;){var un=L[ce],Kt=H?H(un):un;if(un=Q||0!==un?un:0,yt&&Kt==Kt){for(var Vn=Bt.length;Vn--;)if(Bt[Vn]===Kt)continue e;H&&Bt.push(Kt),kt.push(un)}else Oe(Bt,Kt,Q)||(Bt!==kt&&Bt.push(Kt),kt.push(un))}return kt}function qv(L,H){return null==(L=ay(L,H=Eu(H,L)))||delete L[za(Xo(H))]}function jv(L,H,Q,ce){return hm(L,H,Q(Va(L,H)),ce)}function Th(L,H,Q,ce){for(var Oe=L.length,nt=ce?Oe:-1;(ce?nt--:++nt<Oe)&&H(L[nt],nt,L););return Q?zl(L,ce?0:nt,ce?nt+1:Oe):zl(L,ce?nt+1:0,ce?Oe:nt)}function w0(L,H){var Q=L;return Q instanceof kr&&(Q=Q.value()),_f(H,function(ce,Oe){return Oe.func.apply(Oe.thisArg,Ic([ce],Oe.args))},Q)}function xh(L,H,Q){var ce=L.length;if(ce<2)return ce?Sd(L[0]):[];for(var Oe=-1,nt=Yt(ce);++Oe<ce;)for(var yt=L[Oe],kt=-1;++kt<ce;)kt!=Oe&&(nt[Oe]=fi(nt[Oe]||yt,L[kt],H,Q));return Sd(pi(nt,1),H,Q)}function fm(L,H,Q){for(var ce=-1,Oe=L.length,nt=H.length,yt={};++ce<Oe;)Q(yt,L[ce],ce<nt?H[ce]:le);return yt}function Hl(L){return _s(L)?L:[]}function kh(L){return"function"==typeof L?L:Ea}function Eu(L,H){return Nr(L)?L:bm(L,H)?[L]:Tw(Ci(L))}var C0=Vr;function ll(L,H,Q){var ce=L.length;return Q=Q===le?ce:Q,!H&&Q>=ce?L:zl(L,H,Q)}var Md=xf||function(L){return Is.clearTimeout(L)};function Ah(L,H){if(H)return L.slice();var Q=L.length,ce=Df?Df(Q):new L.constructor(Q);return L.copy(ce),ce}function IE(L){var H=new L.constructor(L.byteLength);return new Fc(H).set(new Fc(L)),H}function bw(L,H){var Q=H?IE(L.buffer):L.buffer;return new L.constructor(Q,L.byteOffset,L.length)}function ww(L,H){if(L!==H){var Q=L!==le,ce=null===L,Oe=L==L,nt=Io(L),yt=H!==le,kt=null===H,Bt=H==H,Lt=Io(H);if(!kt&&!Lt&&!nt&&L>H||nt&&yt&&Bt&&!kt&&!Lt||ce&&yt&&Bt||!Q&&Bt||!Oe)return 1;if(!ce&&!nt&&!Lt&&L<H||Lt&&Q&&Oe&&!ce&&!nt||kt&&Q&&Oe||!yt&&Oe||!Bt)return-1}return 0}function Yv(L,H,Q,ce){for(var Oe=-1,nt=L.length,yt=Q.length,kt=-1,Bt=H.length,Lt=Xr(nt-yt,0),un=Yt(Bt+Lt),Kt=!ce;++kt<Bt;)un[kt]=H[kt];for(;++Oe<yt;)(Kt||Oe<nt)&&(un[Q[Oe]]=L[Oe]);for(;Lt--;)un[kt++]=L[Oe++];return un}function Wv(L,H,Q,ce){for(var Oe=-1,nt=L.length,yt=-1,kt=Q.length,Bt=-1,Lt=H.length,un=Xr(nt-kt,0),Kt=Yt(un+Lt),Vn=!ce;++Oe<un;)Kt[Oe]=L[Oe];for(var tr=Oe;++Bt<Lt;)Kt[tr+Bt]=H[Bt];for(;++yt<kt;)(Vn||Oe<nt)&&(Kt[tr+Q[yt]]=L[Oe++]);return Kt}function Ma(L,H){var Q=-1,ce=L.length;for(H||(H=Yt(ce));++Q<ce;)H[Q]=L[Q];return H}function hc(L,H,Q,ce){var Oe=!Q;Q||(Q={});for(var nt=-1,yt=H.length;++nt<yt;){var kt=H[nt],Bt=ce?ce(Q[kt],L[kt],kt,Q,L):le;Bt===le&&(Bt=L[kt]),Oe?Tn(Q,kt,Bt):Dt(Q,kt,Bt)}return Q}function E0(L,H){return function(Q,ce){var Oe=Nr(Q)?s0:rn,nt=H?H():{};return Oe(Q,L,dr(ce,2),nt)}}function Dd(L){return Vr(function(H,Q){var ce=-1,Oe=Q.length,nt=Oe>1?Q[Oe-1]:le,yt=Oe>2?Q[2]:le;for(nt=L.length>3&&"function"==typeof nt?(Oe--,nt):le,yt&&Qo(Q[0],Q[1],yt)&&(nt=Oe<3?le:nt,Oe=1),H=Ri(H);++ce<Oe;){var kt=Q[ce];kt&&L(H,kt,ce,nt)}return H})}function RE(L,H){return function(Q,ce){if(null==Q)return Q;if(!Ha(Q))return L(Q,ce);for(var Oe=Q.length,nt=H?Oe:-1,yt=Ri(Q);(H?nt--:++nt<Oe)&&!1!==ce(yt[nt],nt,yt););return Q}}function gs(L){return function(H,Q,ce){for(var Oe=-1,nt=Ri(H),yt=ce(H),kt=yt.length;kt--;){var Bt=yt[L?kt:++Oe];if(!1===Q(nt[Bt],Bt,nt))break}return H}}function Kv(L){return function(H){var Q=Vs(H=Ci(H))?$o(H):le,ce=Q?Q[0]:H.charAt(0),Oe=Q?ll(Q,1).join(""):H.slice(1);return ce[L]()+Oe}}function Td(L){return function(H){return _f(M2(fC(H).replace(tm,"")),L,"")}}function no(L){return function(){var H=arguments;switch(H.length){case 0:return new L;case 1:return new L(H[0]);case 2:return new L(H[0],H[1]);case 3:return new L(H[0],H[1],H[2]);case 4:return new L(H[0],H[1],H[2],H[3]);case 5:return new L(H[0],H[1],H[2],H[3],H[4]);case 6:return new L(H[0],H[1],H[2],H[3],H[4],H[5]);case 7:return new L(H[0],H[1],H[2],H[3],H[4],H[5],H[6])}var Q=Ch(L.prototype),ce=L.apply(Q,H);return rs(ce)?ce:Q}}function OE(L){return function(H,Q,ce){var Oe=Ri(H);if(!Ha(H)){var nt=dr(Q,3);H=qs(H),Q=function(kt){return nt(Oe[kt],kt,Oe)}}var yt=L(H,Q,ce);return yt>-1?Oe[nt?H[yt]:yt]:le}}function Zv(L){return fc(function(H){var Q=H.length,ce=Q,Oe=Or.prototype.thru;for(L&&H.reverse();ce--;){var nt=H[ce];if("function"!=typeof nt)throw new zs(Pe);if(Oe&&!yt&&"wrapper"==xd(nt))var yt=new Or([],!0)}for(ce=yt?ce:Q;++ce<Q;){var kt=xd(nt=H[ce]),Bt="wrapper"==kt?x0(nt):le;yt=Bt&&A0(Bt[0])&&424==Bt[1]&&!Bt[4].length&&1==Bt[9]?yt[xd(Bt[0])].apply(yt,Bt[3]):1==nt.length&&A0(nt)?yt[kt]():yt.thru(nt)}return function(){var Lt=arguments,un=Lt[0];if(yt&&1==Lt.length&&Nr(un))return yt.plant(un).value();for(var Kt=0,Vn=Q?H[Kt].apply(this,Lt):un;++Kt<Q;)Vn=H[Kt].call(this,Vn);return Vn}})}function D0(L,H,Q,ce,Oe,nt,yt,kt,Bt,Lt){var un=128&H,Kt=1&H,Vn=2&H,tr=24&H,cr=512&H,zr=Vn?le:no(L);return function pr(){for(var oi=arguments.length,mi=Yt(oi),dl=oi;dl--;)mi[dl]=arguments[dl];if(tr)var Ni=Oh(pr),ta=gh(mi,Ni);if(ce&&(mi=Yv(mi,ce,Oe,tr)),nt&&(mi=Wv(mi,nt,yt,tr)),oi-=ta,tr&&oi<Lt){var ri=nl(mi,Ni);return Xv(L,H,D0,pr.placeholder,Q,mi,ri,kt,Bt,Lt-oi)}var js=Kt?Q:this,yc=Vn?js[L]:L;return oi=mi.length,kt?mi=Dw(mi,kt):cr&&oi>1&&mi.reverse(),un&&Bt<oi&&(mi.length=Bt),this&&this!==Is&&this instanceof pr&&(yc=zr||no(yc)),yc.apply(js,mi)}}function Jv(L,H){return function(Q,ce){return function(L,H,Q,ce){return si(L,function(Oe,nt,yt){H(ce,Q(Oe),nt,yt)}),ce}(Q,L,H(ce),{})}}function Qv(L,H){return function(Q,ce){var Oe;if(Q===le&&ce===le)return H;if(Q!==le&&(Oe=Q),ce!==le){if(Oe===le)return ce;"string"==typeof Q||"string"==typeof ce?(Q=Sa(Q),ce=Sa(ce)):(Q=dc(Q),ce=dc(ce)),Oe=L(Q,ce)}return Oe}}function NE(L){return fc(function(H){return H=Qr(H,Zs(dr())),Vr(function(Q){var ce=this;return L(H,function(Oe){return Qn(Oe,ce,Q)})})})}function Du(L,H){var Q=(H=H===le?" ":Sa(H)).length;if(Q<2)return Q?Hv(H,L):H;var ce=Hv(H,wh(L/Pc(H)));return Vs(H)?ll($o(ce),0,L).join(""):ce.slice(0,L)}function pm(L){return function(H,Q,ce){return ce&&"number"!=typeof ce&&Qo(H,Q,ce)&&(Q=ce=le),H=gc(H),Q===le?(Q=H,H=0):Q=gc(Q),function(L,H,Q,ce){for(var Oe=-1,nt=Xr(wh((H-L)/(Q||1)),0),yt=Yt(nt);nt--;)yt[ce?nt:++Oe]=L,L+=Q;return yt}(H,Q,ce=ce===le?H<Q?1:-1:gc(ce),L)}}function Rh(L){return function(H,Q){return"string"==typeof H&&"string"==typeof Q||(H=ea(H),Q=ea(Q)),L(H,Q)}}function Xv(L,H,Q,ce,Oe,nt,yt,kt,Bt,Lt){var un=8&H;H|=un?32:64,4&(H&=~(un?64:32))||(H&=-4);var zr=[L,H,Oe,un?nt:le,un?yt:le,un?le:nt,un?le:yt,kt,Bt,Lt],pr=Q.apply(le,zr);return A0(L)&&Ao(pr,zr),pr.placeholder=ce,Yf(pr,L,H)}function Gs(L){var H=ds[L];return function(Q,ce){if(Q=ea(Q),(ce=null==ce?0:He(Yr(ce),292))&&om(Q)){var Oe=(Ci(Q)+"e").split("e");return+((Oe=(Ci(H(Oe[0]+"e"+(+Oe[1]+ce)))+"e").split("e"))[0]+"e"+(+Oe[1]-ce))}return H(Q)}}var mm=Ss&&1/Nc(new Ss([,-0]))[1]==Tt?function(L){return new Ss(L)}:qh;function Gf(L){return function(H){var Q=go(H);return Q==we?yf(H):Q==Xe?function(At){var nn=-1,Yt=Array(At.size);return At.forEach(function(Bn){Yt[++nn]=[Bn,Bn]}),Yt}(H):function(At,nn){return Qr(nn,function(Yt){return[Yt,At[Yt]]})}(H,L(H))}}function Ul(L,H,Q,ce,Oe,nt,yt,kt){var Bt=2&H;if(!Bt&&"function"!=typeof L)throw new zs(Pe);var Lt=ce?ce.length:0;if(Lt||(H&=-97,ce=Oe=le),yt=yt===le?yt:Xr(Yr(yt),0),kt=kt===le?kt:Yr(kt),Lt-=Oe?Oe.length:0,64&H){var un=ce,Kt=Oe;ce=Oe=le}var Vn=Bt?le:x0(L),tr=[L,H,Q,ce,Oe,un,Kt,nt,yt,kt];if(Vn&&function(L,H){var Q=L[1],ce=H[1],Oe=Q|ce;if(!(Oe<131||(128==ce&&8==Q||128==ce&&256==Q&&L[7].length<=H[8]||384==ce&&H[7].length<=H[8]&&8==Q)))return L;1&ce&&(L[2]=H[2],Oe|=1&Q?0:4);var kt=H[3];if(kt){var Bt=L[3];L[3]=Bt?Yv(Bt,kt,H[4]):kt,L[4]=Bt?nl(L[3],Ce):H[4]}(kt=H[5])&&(L[5]=(Bt=L[5])?Wv(Bt,kt,H[6]):kt,L[6]=Bt?nl(L[5],Ce):H[6]),(kt=H[7])&&(L[7]=kt),128&ce&&(L[8]=null==L[8]?H[8]:He(L[8],H[8])),null==L[9]&&(L[9]=H[9]),L[0]=H[0],L[1]=Oe}(tr,Vn),L=tr[0],H=tr[1],Q=tr[2],ce=tr[3],Oe=tr[4],!(kt=tr[9]=tr[9]===le?Bt?0:L.length:Xr(tr[9]-Lt,0))&&24&H&&(H&=-25),H&&1!=H)cr=8==H||16==H?function(L,H,Q){var ce=no(L);return function Oe(){for(var nt=arguments.length,yt=Yt(nt),kt=nt,Bt=Oh(Oe);kt--;)yt[kt]=arguments[kt];var Lt=nt<3&&yt[0]!==Bt&&yt[nt-1]!==Bt?[]:nl(yt,Bt);return(nt-=Lt.length)<Q?Xv(L,H,D0,Oe.placeholder,le,yt,Lt,le,le,Q-nt):Qn(this&&this!==Is&&this instanceof Oe?ce:L,this,yt)}}(L,H,kt):32!=H&&33!=H||Oe.length?D0.apply(le,tr):function(L,H,Q,ce){var Oe=1&H,nt=no(L);return function yt(){for(var kt=-1,Bt=arguments.length,Lt=-1,un=ce.length,Kt=Yt(un+Bt),Vn=this&&this!==Is&&this instanceof yt?nt:L;++Lt<un;)Kt[Lt]=ce[Lt];for(;Bt--;)Kt[Lt++]=arguments[++kt];return Qn(Vn,Oe?Q:this,Kt)}}(L,H,Q,ce);else var cr=function(L,H,Q){var ce=1&H,Oe=no(L);return function nt(){return(this&&this!==Is&&this instanceof nt?Oe:L).apply(ce?Q:this,arguments)}}(L,H,Q);return Yf((Vn?Vl:Ao)(cr,tr),L,H)}function T0(L,H,Q,ce){return L===le||Yl(L,Il[Q])&&!Rr.call(ce,Q)?H:L}function ey(L,H,Q,ce,Oe,nt){return rs(L)&&rs(H)&&(nt.set(H,L),Bf(L,H,le,ey,nt),nt.delete(H)),L}function ty(L){return np(L)?le:L}function ny(L,H,Q,ce,Oe,nt){var yt=1&Q,kt=L.length,Bt=H.length;if(kt!=Bt&&!(yt&&Bt>kt))return!1;var Lt=nt.get(L),un=nt.get(H);if(Lt&&un)return Lt==H&&un==L;var Kt=-1,Vn=!0,tr=2&Q?new Us:le;for(nt.set(L,H),nt.set(H,L);++Kt<kt;){var cr=L[Kt],zr=H[Kt];if(ce)var pr=yt?ce(zr,cr,Kt,H,L,nt):ce(cr,zr,Kt,L,H,nt);if(pr!==le){if(pr)continue;Vn=!1;break}if(tr){if(!oc(H,function(oi,mi){if(!mh(tr,mi)&&(cr===oi||Oe(cr,oi,Q,ce,nt)))return tr.push(mi)})){Vn=!1;break}}else if(cr!==zr&&!Oe(cr,zr,Q,ce,nt)){Vn=!1;break}}return nt.delete(L),nt.delete(H),Vn}function fc(L){return ly(qf(L,le,wm),L+"")}function iy(L){return Mu(L,qs,Nh)}function gm(L){return Mu(L,ro,Ph)}var x0=md?function(L){return md.get(L)}:qh;function xd(L){for(var H=L.name+"",Q=ol[H],ce=Rr.call(ol,H)?Q.length:0;ce--;){var Oe=Q[ce],nt=Oe.func;if(null==nt||nt==L)return Oe.name}return H}function Oh(L){return(Rr.call(qe,"placeholder")?qe:L).placeholder}function dr(){var L=qe.iteratee||CC;return L=L===CC?m0:L,arguments.length?L(arguments[0],arguments[1]):L}function _m(L,H){var Q=L.__data__;return function(L){var H=typeof L;return"string"==H||"number"==H||"symbol"==H||"boolean"==H?"__proto__"!==L:null===L}(H)?Q["string"==typeof H?"string":"hash"]:Q.map}function Gl(L){for(var H=qs(L),Q=H.length;Q--;){var ce=H[Q],Oe=L[ce];H[Q]=[ce,Oe,Hc(Oe)]}return H}function ql(L,H){var Q=function(At,nn){return null==At?le:At[nn]}(L,H);return Lc(Q)?Q:le}var Nh=vu?function(L){return null==L?[]:(L=Ri(L),kl(vu(L),function(H){return Tf.call(L,H)}))}:Ro,Ph=vu?function(L){for(var H=[];L;)Ic(H,Nh(L)),L=Ko(L);return H}:Ro,go=as;function Mw(L,H,Q){for(var ce=-1,Oe=(H=Eu(H,L)).length,nt=!1;++ce<Oe;){var yt=za(H[ce]);if(!(nt=null!=L&&Q(L,yt)))break;L=L[yt]}return nt||++ce!=Oe?nt:!!(Oe=null==L?0:L.length)&&jc(Oe)&&Tu(yt,Oe)&&(Nr(L)||Od(L))}function vm(L){return"function"!=typeof L.constructor||cl(L)?{}:Ch(Ko(L))}function ym(L){return Nr(L)||Od(L)||!!(Rl&&L&&L[Rl])}function Tu(L,H){var Q=typeof L;return!!(H=null==H?vt:H)&&("number"==Q||"symbol"!=Q&&qi.test(L))&&L>-1&&L%1==0&&L<H}function Qo(L,H,Q){if(!rs(Q))return!1;var ce=typeof H;return!!("number"==ce?Ha(Q)&&Tu(H,Q.length):"string"==ce&&H in Q)&&Yl(Q[H],L)}function bm(L,H){if(Nr(L))return!1;var Q=typeof L;return!("number"!=Q&&"symbol"!=Q&&"boolean"!=Q&&null!=L&&!Io(L))||De.test(L)||!$r.test(L)||null!=H&&L in Ri(H)}function A0(L){var H=xd(L),Q=qe[H];if("function"!=typeof Q||!(H in kr.prototype))return!1;if(L===Q)return!0;var ce=x0(Q);return!!ce&&L===ce[0]}(rr&&go(new rr(new ArrayBuffer(1)))!=en||yu&&go(new yu)!=we||bu&&go(bu.resolve())!=te||Ss&&go(new Ss)!=Xe||fd&&go(new fd)!=Dn)&&(go=function(L){var H=as(L),Q=H==K?L.constructor:le,ce=Q?pc(Q):"";if(ce)switch(ce){case Rf:return en;case gd:return we;case ba:return te;case _d:return Xe;case wu:return Dn}return H});var BE=il?mc:Nd;function cl(L){var H=L&&L.constructor;return L===("function"==typeof H&&H.prototype||Il)}function Hc(L){return L==L&&!rs(L)}function t2(L,H){return function(Q){return null!=Q&&Q[L]===H&&(H!==le||L in Ri(Q))}}function qf(L,H,Q){return H=Xr(H===le?L.length-1:H,0),function(){for(var ce=arguments,Oe=-1,nt=Xr(ce.length-H,0),yt=Yt(nt);++Oe<nt;)yt[Oe]=ce[H+Oe];Oe=-1;for(var kt=Yt(H+1);++Oe<H;)kt[Oe]=ce[Oe];return kt[H]=Q(yt),Qn(L,this,kt)}}function ay(L,H){return H.length<2?L:Va(L,zl(H,0,-1))}function Dw(L,H){for(var Q=L.length,ce=He(H.length,Q),Oe=Ma(L);ce--;){var nt=H[ce];L[ce]=Tu(nt,Q)?Oe[nt]:le}return L}function jf(L,H){if(("constructor"!==H||"function"!=typeof L[H])&&"__proto__"!=H)return L[H]}var Ao=Bh(Vl),Lh=sm||function(L,H){return Is.setTimeout(L,H)},ly=Bh(zc);function Yf(L,H,Q){var ce=H+"";return ly(L,function(L,H){var Q=H.length;if(!Q)return L;var ce=Q-1;return H[ce]=(Q>1?"& ":"")+H[ce],H=H.join(Q>2?", ":" "),L.replace(wt,"{\n/* [wrapped with "+H+"] */\n")}(ce,function(L,H){return _a(rt,function(Q){var ce="_."+Q[0];H&Q[1]&&!hh(L,ce)&&L.push(ce)}),L.sort()}(function(L){var H=L.match(Vt);return H?H[1].split(an):[]}(ce),Q)))}function Bh(L){var H=0,Q=0;return function(){var ce=Hs(),Oe=16-(ce-Q);if(Q=ce,Oe>0){if(++H>=800)return arguments[0]}else H=0;return L.apply(le,arguments)}}function Wf(L,H){var Q=-1,ce=L.length,Oe=ce-1;for(H=H===le?ce:H;++Q<H;){var nt=b0(Q,Oe),yt=L[nt];L[nt]=L[Q],L[Q]=yt}return L.length=H,L}var H,Q,Tw=(H=Ey(function(L){var H=[];return 46===L.charCodeAt(0)&&H.push(""),L.replace(ne,function(Q,ce,Oe,nt){H.push(Oe?nt.replace(qr,"$1"):ce||Q)}),H},function(ce){return 500===Q.size&&Q.clear(),ce}),Q=H.cache,H);function za(L){if("string"==typeof L||Io(L))return L;var H=L+"";return"0"==H&&1/L==-Tt?"-0":H}function pc(L){if(null!=L){try{return ya.call(L)}catch(H){}try{return L+""}catch(H){}}return""}function O0(L){if(L instanceof kr)return L.clone();var H=new Or(L.__wrapped__,L.__chain__);return H.__actions__=Ma(L.__actions__),H.__index__=L.__index__,H.__values__=L.__values__,H}var uy=Vr(function(L,H){return _s(L)?fi(L,pi(H,1,_s,!0)):[]}),kw=Vr(function(L,H){var Q=Xo(H);return _s(Q)&&(Q=le),_s(L)?fi(L,pi(H,1,_s,!0),dr(Q,2)):[]}),dy=Vr(function(L,H){var Q=Xo(H);return _s(Q)&&(Q=le),_s(L)?fi(L,pi(H,1,_s,!0),le,Q):[]});function F0(L,H,Q){var ce=null==L?0:L.length;if(!ce)return-1;var Oe=null==Q?0:Yr(Q);return Oe<0&&(Oe=Xr(ce+Oe,0)),od(L,dr(H,3),Oe)}function Aw(L,H,Q){var ce=null==L?0:L.length;if(!ce)return-1;var Oe=ce-1;return Q!==le&&(Oe=Yr(Q),Oe=Q<0?Xr(ce+Oe,0):He(Oe,ce-1)),od(L,dr(H,3),Oe,!0)}function wm(L){return null!=L&&L.length?pi(L,1):[]}function Cm(L){return L&&L.length?L[0]:le}var gy=Vr(function(L){var H=Qr(L,Hl);return H.length&&H[0]===L[0]?Xs(H):[]}),zE=Vr(function(L){var H=Xo(L),Q=Qr(L,Hl);return H===Xo(Q)?H=le:Q.pop(),Q.length&&Q[0]===L[0]?Xs(Q,dr(H,2)):[]}),V0=Vr(function(L){var H=Xo(L),Q=Qr(L,Hl);return(H="function"==typeof H?H:le)&&Q.pop(),Q.length&&Q[0]===L[0]?Xs(Q,le,H):[]});function Xo(L){var H=null==L?0:L.length;return H?L[H-1]:le}var _y=Vr(Sm);function Sm(L,H){return L&&L.length&&H&&H.length?Vf(L,H):L}var Ow=fc(function(L,H){var Q=null==L?0:L.length,ce=On(L,H);return y0(L,Qr(H,function(Oe){return Tu(Oe,Q)?+Oe:Oe}).sort(ww)),ce});function Mm(L){return null==L?L:If.call(L)}var U0=Vr(function(L){return Sd(pi(L,1,_s,!0))}),s2=Vr(function(L){var H=Xo(L);return _s(H)&&(H=le),Sd(pi(L,1,_s,!0),dr(H,2))}),o2=Vr(function(L){var H=Xo(L);return H="function"==typeof H?H:le,Sd(pi(L,1,_s,!0),le,H)});function Dm(L){if(!L||!L.length)return[];var H=0;return L=kl(L,function(Q){if(_s(Q))return H=Xr(Q.length,H),!0}),ad(H,function(Q){return Qr(L,Rc(Q))})}function WE(L,H){if(!L||!L.length)return[];var Q=Dm(L);return null==H?Q:Qr(Q,function(ce){return Qn(H,le,ce)})}var $E=Vr(function(L,H){return _s(L)?fi(L,H):[]}),Ar=Vr(function(L){return xh(kl(L,_s))}),Bw=Vr(function(L){var H=Xo(L);return _s(H)&&(H=le),xh(kl(L,_s),dr(H,2))}),Vw=Vr(function(L){var H=Xo(L);return H="function"==typeof H?H:le,xh(kl(L,_s),le,H)}),Cy=Vr(Dm),a2=Vr(function(L){var H=L.length,Q=H>1?L[H-1]:le;return Q="function"==typeof Q?(L.pop(),Q):le,WE(L,Q)});function Sy(L){var H=qe(L);return H.__chain__=!0,H}function Tm(L,H){return H(L)}var ZE=fc(function(L){var H=L.length,Q=H?L[0]:0,ce=this.__wrapped__,Oe=function(nt){return On(nt,L)};return!(H>1||this.__actions__.length)&&ce instanceof kr&&Tu(Q)?((ce=ce.slice(Q,+Q+(H?1:0))).__actions__.push({func:Tm,args:[Oe],thisArg:le}),new Or(ce,this.__chain__).thru(function(nt){return H&&!nt.length&&nt.push(le),nt})):this.thru(Oe)}),km=E0(function(L,H,Q){Rr.call(L,Q)?++L[Q]:Tn(L,Q,1)}),My=OE(F0),m5=OE(Aw);function Hw(L,H){return(Nr(L)?_a:ei)(L,dr(H,3))}function Uw(L,H){return(Nr(L)?dh:wi)(L,dr(H,3))}var Gw=E0(function(L,H,Q){Rr.call(L,Q)?L[Q].push(H):Tn(L,Q,[H])}),_5=Vr(function(L,H,Q){var ce=-1,Oe="function"==typeof H,nt=Ha(L)?Yt(L.length):[];return ei(L,function(yt){nt[++ce]=Oe?Qn(H,yt,Q):Vi(yt,H,Q)}),nt}),v5=E0(function(L,H,Q){Tn(L,Q,H)});function Am(L,H){return(Nr(L)?Qr:g0)(L,dr(H,3))}var _o=E0(function(L,H,Q){L[Q?0:1].push(H)},function(){return[[],[]]}),Im=Vr(function(L,H){if(null==L)return[];var Q=H.length;return Q>1&&Qo(L,H[0],H[1])?H=[]:Q>2&&Qo(H[0],H[1],H[2])&&(H=[H[0]]),v0(L,pi(H,1),[])}),zh=Lv||function(){return Is.Date.now()};function Jf(L,H,Q){return H=Q?le:H,Ul(L,128,le,le,le,le,H=L&&null==H?L.length:H)}function jw(L,H){var Q;if("function"!=typeof H)throw new zs(Pe);return L=Yr(L),function(){return--L>0&&(Q=H.apply(this,arguments)),L<=1&&(H=le),Q}}var qc=Vr(function(L,H,Q){var ce=1;if(Q.length){var Oe=nl(Q,Oh(qc));ce|=32}return Ul(L,ce,H,Q,Oe)}),Yw=Vr(function(L,H,Q){var ce=3;if(Q.length){var Oe=nl(Q,Oh(Yw));ce|=32}return Ul(H,ce,L,Q,Oe)});function Qf(L,H,Q){var ce,Oe,nt,yt,kt,Bt,Lt=0,un=!1,Kt=!1,Vn=!0;if("function"!=typeof L)throw new zs(Pe);function tr(ri){var js=ce,yc=Oe;return ce=Oe=le,Lt=ri,yt=L.apply(yc,js)}function cr(ri){return Lt=ri,kt=Lh(oi,H),un?tr(ri):yt}function pr(ri){var js=ri-Bt;return Bt===le||js>=H||js<0||Kt&&ri-Lt>=nt}function oi(){var ri=zh();if(pr(ri))return mi(ri);kt=Lh(oi,function(ri){var DC=H-(ri-Bt);return Kt?He(DC,nt-(ri-Lt)):DC}(ri))}function mi(ri){return kt=le,Vn&&ce?tr(ri):(ce=Oe=le,yt)}function ta(){var ri=zh(),js=pr(ri);if(ce=arguments,Oe=this,Bt=ri,js){if(kt===le)return cr(Bt);if(Kt)return Md(kt),kt=Lh(oi,H),tr(Bt)}return kt===le&&(kt=Lh(oi,H)),yt}return H=ea(H)||0,rs(Q)&&(un=!!Q.leading,nt=(Kt="maxWait"in Q)?Xr(ea(Q.maxWait)||0,H):nt,Vn="trailing"in Q?!!Q.trailing:Vn),ta.cancel=function(){kt!==le&&Md(kt),Lt=0,ce=Bt=Oe=kt=le},ta.flush=function(){return kt===le?yt:mi(zh())},ta}var h2=Vr(function(L,H){return bi(L,1,H)}),tD=Vr(function(L,H,Q){return bi(L,ea(H)||0,Q)});function Ey(L,H){if("function"!=typeof L||null!=H&&"function"!=typeof H)throw new zs(Pe);var Q=function(){var ce=arguments,Oe=H?H.apply(this,ce):ce[0],nt=Q.cache;if(nt.has(Oe))return nt.get(Oe);var yt=L.apply(this,ce);return Q.cache=nt.set(Oe,yt)||nt,yt};return Q.cache=new(Ey.Cache||Bi),Q}function Ad(L){if("function"!=typeof L)throw new zs(Pe);return function(){var H=arguments;switch(H.length){case 0:return!L.call(this);case 1:return!L.call(this,H[0]);case 2:return!L.call(this,H[0],H[1]);case 3:return!L.call(this,H[0],H[1],H[2])}return!L.apply(this,H)}}Ey.Cache=Bi;var Dy=C0(function(L,H){var Q=(H=1==H.length&&Nr(H[0])?Qr(H[0],Zs(dr())):Qr(pi(H,1),Zs(dr()))).length;return Vr(function(ce){for(var Oe=-1,nt=He(ce.length,Q);++Oe<nt;)ce[Oe]=H[Oe].call(this,ce[Oe]);return Qn(L,this,ce)})}),Id=Vr(function(L,H){var Q=nl(H,Oh(Id));return Ul(L,32,le,H,Q)}),Rd=Vr(function(L,H){var Q=nl(H,Oh(Rd));return Ul(L,64,le,H,Q)}),ep=fc(function(L,H){return Ul(L,256,le,le,le,H)});function Yl(L,H){return L===H||L!=L&&H!=H}var rD=Rh(Ff),Jw=Rh(function(L,H){return L>=H}),Od=al(function(){return arguments}())?al:function(L){return Ms(L)&&Rr.call(L,"callee")&&!Tf.call(L,"callee")},Nr=Yt.isArray,Wl=Cn?Zs(Cn):function(L){return Ms(L)&&as(L)==gn};function Ha(L){return null!=L&&jc(L.length)&&!mc(L)}function _s(L){return Ms(L)&&Ha(L)}var Au=cc||Nd,iD=ga?Zs(ga):function(L){return Ms(L)&&as(L)==gt};function Nm(L){if(!Ms(L))return!1;var H=as(L);return H==Qt||"[object DOMException]"==H||"string"==typeof L.message&&"string"==typeof L.name&&!np(L)}function mc(L){if(!rs(L))return!1;var H=as(L);return H==be||H==fe||"[object AsyncFunction]"==H||"[object Proxy]"==H}function Xw(L){return"number"==typeof L&&L==Yr(L)}function jc(L){return"number"==typeof L&&L>-1&&L%1==0&&L<=vt}function rs(L){var H=typeof L;return null!=L&&("object"==H||"function"==H)}function Ms(L){return null!=L&&"object"==typeof L}var eC=Zi?Zs(Zi):function(L){return Ms(L)&&go(L)==we};function sD(L){return"number"==typeof L||Ms(L)&&as(L)==Ae}function np(L){if(!Ms(L)||as(L)!=K)return!1;var H=Ko(L);if(null===H)return!0;var Q=Rr.call(H,"constructor")&&H.constructor;return"function"==typeof Q&&Q instanceof Q&&ya.call(Q)==im}var Ay=uh?Zs(uh):function(L){return Ms(L)&&as(L)==Le},Q0=Rs?Zs(Rs):function(L){return Ms(L)&&go(L)==Xe};function X0(L){return"string"==typeof L||!Nr(L)&&Ms(L)&&as(L)==lt}function Io(L){return"symbol"==typeof L||Ms(L)&&as(L)==Rt}var rp=sc?Zs(sc):function(L){return Ms(L)&&jc(L.length)&&!!yi[as(L)]},Ry=Rh(Eh),rC=Rh(function(L,H){return L<=H});function sp(L){if(!L)return[];if(Ha(L))return X0(L)?$o(L):Ma(L);if(bh&&L[bh])return function(At){for(var nn,Yt=[];!(nn=At.next()).done;)Yt.push(nn.value);return Yt}(L[bh]());var H=go(L);return(H==we?yf:H==Xe?Nc:Vm)(L)}function gc(L){return L?(L=ea(L))===Tt||L===-Tt?17976931348623157e292*(L<0?-1:1):L==L?L:0:0===L?L:0}function Yr(L){var H=gc(L),Q=H%1;return H==H?Q?H-Q:H:0}function iC(L){return L?jn(Yr(L),0,Ue):0}function ea(L){if("number"==typeof L)return L;if(Io(L))return NaN;if(rs(L)){var H="function"==typeof L.valueOf?L.valueOf():L;L=rs(H)?H+"":H}if("string"!=typeof L)return 0===L?L:+L;L=xo(L);var Q=zn.test(L);return Q||Ai.test(L)?sd(L.slice(2),Q?2:8):or.test(L)?NaN:+L}function v2(L){return hc(L,ro(L))}function Ci(L){return null==L?"":Sa(L)}var lD=Dd(function(L,H){if(cl(H)||Ha(H))hc(H,qs(H),L);else for(var Q in H)Rr.call(H,Q)&&Dt(L,Q,H[Q])}),Oy=Dd(function(L,H){hc(H,ro(H),L)}),Hh=Dd(function(L,H,Q,ce){hc(H,ro(H),L,ce)}),cD=Dd(function(L,H,Q,ce){hc(H,qs(H),L,ce)}),_c=fc(On),Ny=Vr(function(L,H){L=Ri(L);var Q=-1,ce=H.length,Oe=ce>2?H[2]:le;for(Oe&&Qo(H[0],H[1],Oe)&&(ce=1);++Q<ce;)for(var nt=H[Q],yt=ro(nt),kt=-1,Bt=yt.length;++kt<Bt;){var Lt=yt[kt],un=L[Lt];(un===le||Yl(un,Il[Lt])&&!Rr.call(L,Lt))&&(L[Lt]=nt[Lt])}return L}),sC=Vr(function(L){return L.push(le,ey),Qn(Uh,le,L)});function Fy(L,H,Q){var ce=null==L?le:Va(L,H);return ce===le?Q:ce}function Ly(L,H){return null!=L&&Mw(L,H,Cd)}var Lm=Jv(function(L,H,Q){null!=H&&"function"!=typeof H.toString&&(H=ac.call(H)),L[H]=Q},xD(Ea)),dD=Jv(function(L,H,Q){null!=H&&"function"!=typeof H.toString&&(H=ac.call(H)),Rr.call(L,H)?L[H].push(Q):L[H]=[Q]},dr),hD=Vr(Vi);function qs(L){return Ha(L)?ae(L):zv(L)}function ro(L){return Ha(L)?ae(L,!0):function(L){if(!rs(L))return function(L){var H=[];if(null!=L)for(var Q in Ri(L))H.push(Q);return H}(L);var H=cl(L),Q=[];for(var ce in L)"constructor"==ce&&(H||!Rr.call(L,ce))||Q.push(ce);return Q}(L)}var pD=Dd(function(L,H,Q){Bf(L,H,Q)}),Uh=Dd(function(L,H,Q,ce){Bf(L,H,Q,ce)}),mD=fc(function(L,H){var Q={};if(null==L)return Q;var ce=!1;H=Qr(H,function(nt){return nt=Eu(nt,L),ce||(ce=nt.length>1),nt}),hc(L,gm(L),Q),ce&&(Q=Kn(Q,7,ty));for(var Oe=H.length;Oe--;)qv(Q,H[Oe]);return Q}),_D=fc(function(L,H){return null==L?{}:function(L,H){return Dh(L,H,function(Q,ce){return Ly(L,ce)})}(L,H)});function cC(L,H){if(null==L)return{};var Q=Qr(gm(L),function(ce){return[ce]});return H=dr(H),Dh(L,Q,function(ce,Oe){return H(ce,Oe[0])})}var Oi=Gf(qs),t_=Gf(ro);function Vm(L){return null==L?[]:ld(L,qs(L))}var r_=Td(function(L,H,Q){return H=H.toLowerCase(),L+(Q?hC(H):H)});function hC(L){return ED(Ci(L).toLowerCase())}function fC(L){return(L=Ci(L))&&L.replace(po,Bs).replace(nm,"")}var mC=Td(function(L,H,Q){return L+(Q?"-":"")+H.toLowerCase()}),gC=Td(function(L,H,Q){return L+(Q?" ":"")+H.toLowerCase()}),_C=Kv("toLowerCase"),S5=Td(function(L,H,Q){return L+(Q?"_":"")+H.toLowerCase()}),wD=Td(function(L,H,Q){return L+(Q?" ":"")+ED(H)}),T5=Td(function(L,H,Q){return L+(Q?" ":"")+H.toUpperCase()}),ED=Kv("toUpperCase");function M2(L,H,Q){return L=Ci(L),(H=Q?le:H)===le?function(At){return ks.test(At)}(L)?function(At){return At.match(xc)||[]}(L):function(At){return At.match(wn)||[]}(L):L.match(H)||[]}var bC=Vr(function(L,H){try{return Qn(L,le,H)}catch(Q){return Nm(Q)?Q:new Mr(Q)}}),DD=fc(function(L,H){return _a(H,function(Q){Q=za(Q),Tn(L,Q,qc(L[Q],L))}),L});function xD(L){return function(){return L}}var wC=Zv(),D2=Zv(!0);function Ea(L){return L}function CC(L){return m0("function"==typeof L?L:Kn(L,1))}var k2=Vr(function(L,H){return function(Q){return Vi(Q,L,H)}}),A2=Vr(function(L,H){return function(Q){return Vi(L,Q,H)}});function SC(L,H,Q){var ce=qs(H),Oe=Mh(H,ce);null==Q&&(!rs(H)||!Oe.length&&ce.length)&&(Q=H,H=L,L=this,Oe=Mh(H,qs(H)));var nt=!(rs(Q)&&"chain"in Q&&!Q.chain),yt=mc(L);return _a(Oe,function(kt){var Bt=H[kt];L[kt]=Bt,yt&&(L.prototype[kt]=function(){var Lt=this.__chain__;if(nt||Lt){var un=L(this.__wrapped__),Kt=un.__actions__=Ma(this.__actions__);return Kt.push({func:Bt,args:arguments,thisArg:L}),un.__chain__=Lt,un}return Bt.apply(L,Ic([this.value()],arguments))})}),L}function qh(){}var Wc=NE(Qr),s_=NE(va),I2=NE(oc);function ID(L){return bm(L)?Rc(za(L)):function(L){return function(H){return Va(H,L)}}(L)}var Ou=pm(),o_=pm(!0);function Ro(){return[]}function Nd(){return!1}var Gm=Qv(function(L,H){return L+H},0),qm=Gs("ceil"),jm=Qv(function(L,H){return L/H},1),Ym=Gs("floor"),FD=Qv(function(L,H){return L*H},1),LD=Gs("round"),BD=Qv(function(L,H){return L-H},0);return qe.after=function(L,H){if("function"!=typeof H)throw new zs(Pe);return L=Yr(L),function(){if(--L<1)return H.apply(this,arguments)}},qe.ary=Jf,qe.assign=lD,qe.assignIn=Oy,qe.assignInWith=Hh,qe.assignWith=cD,qe.at=_c,qe.before=jw,qe.bind=qc,qe.bindAll=DD,qe.bindKey=Yw,qe.castArray=function(){if(!arguments.length)return[];var L=arguments[0];return Nr(L)?L:[L]},qe.chain=Sy,qe.chunk=function(L,H,Q){H=(Q?Qo(L,H,Q):H===le)?1:Xr(Yr(H),0);var ce=null==L?0:L.length;if(!ce||H<1)return[];for(var Oe=0,nt=0,yt=Yt(wh(ce/H));Oe<ce;)yt[nt++]=zl(L,Oe,Oe+=H);return yt},qe.compact=function(L){for(var H=-1,Q=null==L?0:L.length,ce=0,Oe=[];++H<Q;){var nt=L[H];nt&&(Oe[ce++]=nt)}return Oe},qe.concat=function(){var L=arguments.length;if(!L)return[];for(var H=Yt(L-1),Q=arguments[0],ce=L;ce--;)H[ce-1]=arguments[ce];return Ic(Nr(Q)?Ma(Q):[Q],pi(H,1))},qe.cond=function(L){var H=null==L?0:L.length,Q=dr();return L=H?Qr(L,function(ce){if("function"!=typeof ce[1])throw new zs(Pe);return[Q(ce[0]),ce[1]]}):[],Vr(function(ce){for(var Oe=-1;++Oe<H;){var nt=L[Oe];if(Qn(nt[0],this,ce))return Qn(nt[1],this,ce)}})},qe.conforms=function(L){return function(L){var H=qs(L);return function(Q){return jr(Q,L,H)}}(Kn(L,1))},qe.constant=xD,qe.countBy=km,qe.create=function(L,H){var Q=Ch(L);return null==H?Q:mn(Q,H)},qe.curry=function W0(L,H,Q){var ce=Ul(L,8,le,le,le,le,le,H=Q?le:H);return ce.placeholder=W0.placeholder,ce},qe.curryRight=function d2(L,H,Q){var ce=Ul(L,16,le,le,le,le,le,H=Q?le:H);return ce.placeholder=d2.placeholder,ce},qe.debounce=Qf,qe.defaults=Ny,qe.defaultsDeep=sC,qe.defer=h2,qe.delay=tD,qe.difference=uy,qe.differenceBy=kw,qe.differenceWith=dy,qe.drop=function(L,H,Q){var ce=null==L?0:L.length;return ce?zl(L,(H=Q||H===le?1:Yr(H))<0?0:H,ce):[]},qe.dropRight=function(L,H,Q){var ce=null==L?0:L.length;return ce?zl(L,0,(H=ce-(H=Q||H===le?1:Yr(H)))<0?0:H):[]},qe.dropRightWhile=function(L,H){return L&&L.length?Th(L,dr(H,3),!0,!0):[]},qe.dropWhile=function(L,H){return L&&L.length?Th(L,dr(H,3),!0):[]},qe.fill=function(L,H,Q,ce){var Oe=null==L?0:L.length;return Oe?(Q&&"number"!=typeof Q&&Qo(L,H,Q)&&(Q=0,ce=Oe),function(L,H,Q,ce){var Oe=L.length;for((Q=Yr(Q))<0&&(Q=-Q>Oe?0:Oe+Q),(ce=ce===le||ce>Oe?Oe:Yr(ce))<0&&(ce+=Oe),ce=Q>ce?0:iC(ce);Q<ce;)L[Q++]=H;return L}(L,H,Q,ce)):[]},qe.filter=function(L,H){return(Nr(L)?kl:Qs)(L,dr(H,3))},qe.flatMap=function(L,H){return pi(Am(L,H),1)},qe.flatMapDeep=function(L,H){return pi(Am(L,H),Tt)},qe.flatMapDepth=function(L,H,Q){return Q=Q===le?1:Yr(Q),pi(Am(L,H),Q)},qe.flatten=wm,qe.flattenDeep=function(L){return null!=L&&L.length?pi(L,Tt):[]},qe.flattenDepth=function(L,H){return null!=L&&L.length?pi(L,H=H===le?1:Yr(H)):[]},qe.flip=function(L){return Ul(L,512)},qe.flow=wC,qe.flowRight=D2,qe.fromPairs=function(L){for(var H=-1,Q=null==L?0:L.length,ce={};++H<Q;){var Oe=L[H];ce[Oe[0]]=Oe[1]}return ce},qe.functions=function(L){return null==L?[]:Mh(L,qs(L))},qe.functionsIn=function(L){return null==L?[]:Mh(L,ro(L))},qe.groupBy=Gw,qe.initial=function(L){return null!=L&&L.length?zl(L,0,-1):[]},qe.intersection=gy,qe.intersectionBy=zE,qe.intersectionWith=V0,qe.invert=Lm,qe.invertBy=dD,qe.invokeMap=_5,qe.iteratee=CC,qe.keyBy=v5,qe.keys=qs,qe.keysIn=ro,qe.map=Am,qe.mapKeys=function(L,H){var Q={};return H=dr(H,3),si(L,function(ce,Oe,nt){Tn(Q,H(ce,Oe,nt),ce)}),Q},qe.mapValues=function(L,H){var Q={};return H=dr(H,3),si(L,function(ce,Oe,nt){Tn(Q,Oe,H(ce,Oe,nt))}),Q},qe.matches=function(L){return _0(Kn(L,1))},qe.matchesProperty=function(L,H){return dm(L,Kn(H,1))},qe.memoize=Ey,qe.merge=pD,qe.mergeWith=Uh,qe.method=k2,qe.methodOf=A2,qe.mixin=SC,qe.negate=Ad,qe.nthArg=function(L){return L=Yr(L),Vr(function(H){return to(H,L)})},qe.omit=mD,qe.omitBy=function(L,H){return cC(L,Ad(dr(H)))},qe.once=function(L){return jw(2,L)},qe.orderBy=function(L,H,Q,ce){return null==L?[]:(Nr(H)||(H=null==H?[]:[H]),Nr(Q=ce?le:Q)||(Q=null==Q?[]:[Q]),v0(L,H,Q))},qe.over=Wc,qe.overArgs=Dy,qe.overEvery=s_,qe.overSome=I2,qe.partial=Id,qe.partialRight=Rd,qe.partition=_o,qe.pick=_D,qe.pickBy=cC,qe.property=ID,qe.propertyOf=function(L){return function(H){return null==L?le:Va(L,H)}},qe.pull=_y,qe.pullAll=Sm,qe.pullAllBy=function(L,H,Q){return L&&L.length&&H&&H.length?Vf(L,H,dr(Q,2)):L},qe.pullAllWith=function(L,H,Q){return L&&L.length&&H&&H.length?Vf(L,H,le,Q):L},qe.pullAt=Ow,qe.range=Ou,qe.rangeRight=o_,qe.rearg=ep,qe.reject=function(L,H){return(Nr(L)?kl:Qs)(L,Ad(dr(H,3)))},qe.remove=function(L,H){var Q=[];if(!L||!L.length)return Q;var ce=-1,Oe=[],nt=L.length;for(H=dr(H,3);++ce<nt;){var yt=L[ce];H(yt,ce,L)&&(Q.push(yt),Oe.push(ce))}return y0(L,Oe),Q},qe.rest=function(L,H){if("function"!=typeof L)throw new zs(Pe);return Vr(L,H=H===le?H:Yr(H))},qe.reverse=Mm,qe.sampleSize=function(L,H,Q){return H=(Q?Qo(L,H,Q):H===le)?1:Yr(H),(Nr(L)?xe:Uv)(L,H)},qe.set=function(L,H,Q){return null==L?L:hm(L,H,Q)},qe.setWith=function(L,H,Q,ce){return ce="function"==typeof ce?ce:le,null==L?L:hm(L,H,Q,ce)},qe.shuffle=function(L){return(Nr(L)?We:AE)(L)},qe.slice=function(L,H,Q){var ce=null==L?0:L.length;return ce?(Q&&"number"!=typeof Q&&Qo(L,H,Q)?(H=0,Q=ce):(H=null==H?0:Yr(H),Q=Q===le?ce:Yr(Q)),zl(L,H,Q)):[]},qe.sortBy=Im,qe.sortedUniq=function(L){return L&&L.length?yw(L):[]},qe.sortedUniqBy=function(L,H){return L&&L.length?yw(L,dr(H,2)):[]},qe.split=function(L,H,Q){return Q&&"number"!=typeof Q&&Qo(L,H,Q)&&(H=Q=le),(Q=Q===le?Ue:Q>>>0)?(L=Ci(L))&&("string"==typeof H||null!=H&&!Ay(H))&&!(H=Sa(H))&&Vs(L)?ll($o(L),0,Q):L.split(H,Q):[]},qe.spread=function(L,H){if("function"!=typeof L)throw new zs(Pe);return H=null==H?0:Xr(Yr(H),0),Vr(function(Q){var ce=Q[H],Oe=ll(Q,0,H);return ce&&Ic(Oe,ce),Qn(L,this,Oe)})},qe.tail=function(L){var H=null==L?0:L.length;return H?zl(L,1,H):[]},qe.take=function(L,H,Q){return L&&L.length?zl(L,0,(H=Q||H===le?1:Yr(H))<0?0:H):[]},qe.takeRight=function(L,H,Q){var ce=null==L?0:L.length;return ce?zl(L,(H=ce-(H=Q||H===le?1:Yr(H)))<0?0:H,ce):[]},qe.takeRightWhile=function(L,H){return L&&L.length?Th(L,dr(H,3),!1,!0):[]},qe.takeWhile=function(L,H){return L&&L.length?Th(L,dr(H,3)):[]},qe.tap=function(L,H){return H(L),L},qe.throttle=function(L,H,Q){var ce=!0,Oe=!0;if("function"!=typeof L)throw new zs(Pe);return rs(Q)&&(ce="leading"in Q?!!Q.leading:ce,Oe="trailing"in Q?!!Q.trailing:Oe),Qf(L,H,{leading:ce,maxWait:H,trailing:Oe})},qe.thru=Tm,qe.toArray=sp,qe.toPairs=Oi,qe.toPairsIn=t_,qe.toPath=function(L){return Nr(L)?Qr(L,za):Io(L)?[L]:Ma(Tw(Ci(L)))},qe.toPlainObject=v2,qe.transform=function(L,H,Q){var ce=Nr(L),Oe=ce||Au(L)||rp(L);if(H=dr(H,4),null==Q){var nt=L&&L.constructor;Q=Oe?ce?new nt:[]:rs(L)&&mc(nt)?Ch(Ko(L)):{}}return(Oe?_a:si)(L,function(yt,kt,Bt){return H(Q,yt,kt,Bt)}),Q},qe.unary=function(L){return Jf(L,1)},qe.union=U0,qe.unionBy=s2,qe.unionWith=o2,qe.uniq=function(L){return L&&L.length?Sd(L):[]},qe.uniqBy=function(L,H){return L&&L.length?Sd(L,dr(H,2)):[]},qe.uniqWith=function(L,H){return H="function"==typeof H?H:le,L&&L.length?Sd(L,le,H):[]},qe.unset=function(L,H){return null==L||qv(L,H)},qe.unzip=Dm,qe.unzipWith=WE,qe.update=function(L,H,Q){return null==L?L:jv(L,H,kh(Q))},qe.updateWith=function(L,H,Q,ce){return ce="function"==typeof ce?ce:le,null==L?L:jv(L,H,kh(Q),ce)},qe.values=Vm,qe.valuesIn=function(L){return null==L?[]:ld(L,ro(L))},qe.without=$E,qe.words=M2,qe.wrap=function(L,H){return Id(kh(H),L)},qe.xor=Ar,qe.xorBy=Bw,qe.xorWith=Vw,qe.zip=Cy,qe.zipObject=function(L,H){return fm(L||[],H||[],Dt)},qe.zipObjectDeep=function(L,H){return fm(L||[],H||[],hm)},qe.zipWith=a2,qe.entries=Oi,qe.entriesIn=t_,qe.extend=Oy,qe.extendWith=Hh,SC(qe,qe),qe.add=Gm,qe.attempt=bC,qe.camelCase=r_,qe.capitalize=hC,qe.ceil=qm,qe.clamp=function(L,H,Q){return Q===le&&(Q=H,H=le),Q!==le&&(Q=(Q=ea(Q))==Q?Q:0),H!==le&&(H=(H=ea(H))==H?H:0),jn(ea(L),H,Q)},qe.clone=function(L){return Kn(L,4)},qe.cloneDeep=function(L){return Kn(L,5)},qe.cloneDeepWith=function(L,H){return Kn(L,5,H="function"==typeof H?H:le)},qe.cloneWith=function(L,H){return Kn(L,4,H="function"==typeof H?H:le)},qe.conformsTo=function(L,H){return null==H||jr(L,H,qs(H))},qe.deburr=fC,qe.defaultTo=function(L,H){return null==L||L!=L?H:L},qe.divide=jm,qe.endsWith=function(L,H,Q){L=Ci(L),H=Sa(H);var ce=L.length,Oe=Q=Q===le?ce:jn(Yr(Q),0,ce);return(Q-=H.length)>=0&&L.slice(Q,Oe)==H},qe.eq=Yl,qe.escape=function(L){return(L=Ci(L))&&pn.test(L)?L.replace(Je,el):L},qe.escapeRegExp=function(L){return(L=Ci(L))&&Me.test(L)?L.replace(X,"\\$&"):L},qe.every=function(L,H,Q){var ce=Nr(L)?va:Yn;return Q&&Qo(L,H,Q)&&(H=le),ce(L,dr(H,3))},qe.find=My,qe.findIndex=F0,qe.findKey=function(L,H){return fh(L,dr(H,3),si)},qe.findLast=m5,qe.findLastIndex=Aw,qe.findLastKey=function(L,H){return fh(L,dr(H,3),Pf)},qe.floor=Ym,qe.forEach=Hw,qe.forEachRight=Uw,qe.forIn=function(L,H){return null==L?L:Os(L,dr(H,3),ro)},qe.forInRight=function(L,H){return null==L?L:wa(L,dr(H,3),ro)},qe.forOwn=function(L,H){return L&&si(L,dr(H,3))},qe.forOwnRight=function(L,H){return L&&Pf(L,dr(H,3))},qe.get=Fy,qe.gt=rD,qe.gte=Jw,qe.has=function(L,H){return null!=L&&Mw(L,H,Vv)},qe.hasIn=Ly,qe.head=Cm,qe.identity=Ea,qe.includes=function(L,H,Q,ce){L=Ha(L)?L:Vm(L),Q=Q&&!ce?Yr(Q):0;var Oe=L.length;return Q<0&&(Q=Xr(Oe+Q,0)),X0(L)?Q<=Oe&&L.indexOf(H,Q)>-1:!!Oe&&pu(L,H,Q)>-1},qe.indexOf=function(L,H,Q){var ce=null==L?0:L.length;if(!ce)return-1;var Oe=null==Q?0:Yr(Q);return Oe<0&&(Oe=Xr(ce+Oe,0)),pu(L,H,Oe)},qe.inRange=function(L,H,Q){return H=gc(H),Q===le?(Q=H,H=0):Q=gc(Q),function(L,H,Q){return L>=He(H,Q)&&L<Xr(H,Q)}(L=ea(L),H,Q)},qe.invoke=hD,qe.isArguments=Od,qe.isArray=Nr,qe.isArrayBuffer=Wl,qe.isArrayLike=Ha,qe.isArrayLikeObject=_s,qe.isBoolean=function(L){return!0===L||!1===L||Ms(L)&&as(L)==ct},qe.isBuffer=Au,qe.isDate=iD,qe.isElement=function(L){return Ms(L)&&1===L.nodeType&&!np(L)},qe.isEmpty=function(L){if(null==L)return!0;if(Ha(L)&&(Nr(L)||"string"==typeof L||"function"==typeof L.splice||Au(L)||rp(L)||Od(L)))return!L.length;var H=go(L);if(H==we||H==Xe)return!L.size;if(cl(L))return!zv(L).length;for(var Q in L)if(Rr.call(L,Q))return!1;return!0},qe.isEqual=function(L,H){return Ns(L,H)},qe.isEqualWith=function(L,H,Q){var ce=(Q="function"==typeof Q?Q:le)?Q(L,H):le;return ce===le?Ns(L,H,le,Q):!!ce},qe.isError=Nm,qe.isFinite=function(L){return"number"==typeof L&&om(L)},qe.isFunction=mc,qe.isInteger=Xw,qe.isLength=jc,qe.isMap=eC,qe.isMatch=function(L,H){return L===H||Ca(L,H,Gl(H))},qe.isMatchWith=function(L,H,Q){return Q="function"==typeof Q?Q:le,Ca(L,H,Gl(H),Q)},qe.isNaN=function(L){return sD(L)&&L!=+L},qe.isNative=function(L){if(BE(L))throw new Mr("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Lc(L)},qe.isNil=function(L){return null==L},qe.isNull=function(L){return null===L},qe.isNumber=sD,qe.isObject=rs,qe.isObjectLike=Ms,qe.isPlainObject=np,qe.isRegExp=Ay,qe.isSafeInteger=function(L){return Xw(L)&&L>=-vt&&L<=vt},qe.isSet=Q0,qe.isString=X0,qe.isSymbol=Io,qe.isTypedArray=rp,qe.isUndefined=function(L){return L===le},qe.isWeakMap=function(L){return Ms(L)&&go(L)==Dn},qe.isWeakSet=function(L){return Ms(L)&&"[object WeakSet]"==as(L)},qe.join=function(L,H){return null==L?"":$n.call(L,H)},qe.kebabCase=mC,qe.last=Xo,qe.lastIndexOf=function(L,H,Q){var ce=null==L?0:L.length;if(!ce)return-1;var Oe=ce;return Q!==le&&(Oe=(Oe=Yr(Q))<0?Xr(ce+Oe,0):He(Oe,ce-1)),H==H?function(At,nn,Yt){for(var Bn=Yt+1;Bn--;)if(At[Bn]===nn)return Bn;return Bn}(L,H,Oe):od(L,ph,Oe,!0)},qe.lowerCase=gC,qe.lowerFirst=_C,qe.lt=Ry,qe.lte=rC,qe.max=function(L){return L&&L.length?ir(L,Ea,Ff):le},qe.maxBy=function(L,H){return L&&L.length?ir(L,dr(H,2),Ff):le},qe.mean=function(L){return o0(L,Ea)},qe.meanBy=function(L,H){return o0(L,dr(H,2))},qe.min=function(L){return L&&L.length?ir(L,Ea,Eh):le},qe.minBy=function(L,H){return L&&L.length?ir(L,dr(H,2),Eh):le},qe.stubArray=Ro,qe.stubFalse=Nd,qe.stubObject=function(){return{}},qe.stubString=function(){return""},qe.stubTrue=function(){return!0},qe.multiply=FD,qe.nth=function(L,H){return L&&L.length?to(L,Yr(H)):le},qe.noConflict=function(){return Is._===this&&(Is._=Mf),this},qe.noop=qh,qe.now=zh,qe.pad=function(L,H,Q){L=Ci(L);var ce=(H=Yr(H))?Pc(L):0;if(!H||ce>=H)return L;var Oe=(H-ce)/2;return Du(kf(Oe),Q)+L+Du(wh(Oe),Q)},qe.padEnd=function(L,H,Q){L=Ci(L);var ce=(H=Yr(H))?Pc(L):0;return H&&ce<H?L+Du(H-ce,Q):L},qe.padStart=function(L,H,Q){L=Ci(L);var ce=(H=Yr(H))?Pc(L):0;return H&&ce<H?Du(H-ce,Q)+L:L},qe.parseInt=function(L,H,Q){return Q||null==H?H=0:H&&(H=+H),xr(Ci(L).replace(he,""),H||0)},qe.random=function(L,H,Q){if(Q&&"boolean"!=typeof Q&&Qo(L,H,Q)&&(H=Q=le),Q===le&&("boolean"==typeof H?(Q=H,H=le):"boolean"==typeof L&&(Q=L,L=le)),L===le&&H===le?(L=0,H=1):(L=gc(L),H===le?(H=L,L=0):H=gc(H)),L>H){var ce=L;L=H,H=ce}if(Q||L%1||H%1){var Oe=Af();return He(L+Oe*(H-L+r0("1e-"+((Oe+"").length-1))),H)}return b0(L,H)},qe.reduce=function(L,H,Q){var ce=Nr(L)?_f:Kr,Oe=arguments.length<3;return ce(L,dr(H,4),Q,Oe,ei)},qe.reduceRight=function(L,H,Q){var ce=Nr(L)?vf:Kr,Oe=arguments.length<3;return ce(L,dr(H,4),Q,Oe,wi)},qe.repeat=function(L,H,Q){return H=(Q?Qo(L,H,Q):H===le)?1:Yr(H),Hv(Ci(L),H)},qe.replace=function(){var L=arguments,H=Ci(L[0]);return L.length<3?H:H.replace(L[1],L[2])},qe.result=function(L,H,Q){var ce=-1,Oe=(H=Eu(H,L)).length;for(Oe||(Oe=1,L=le);++ce<Oe;){var nt=null==L?le:L[za(H[ce])];nt===le&&(ce=Oe,nt=Q),L=mc(nt)?nt.call(L):nt}return L},qe.round=LD,qe.runInContext=At,qe.sample=function(L){return(Nr(L)?ue:kE)(L)},qe.size=function(L){if(null==L)return 0;if(Ha(L))return X0(L)?Pc(L):L.length;var H=go(L);return H==we||H==Xe?L.size:zv(L).length},qe.snakeCase=S5,qe.some=function(L,H,Q){var ce=Nr(L)?oc:Gv;return Q&&Qo(L,H,Q)&&(H=le),ce(L,dr(H,3))},qe.sortedIndex=function(L,H){return zf(L,H)},qe.sortedIndexBy=function(L,H,Q){return Hf(L,H,dr(Q,2))},qe.sortedIndexOf=function(L,H){var Q=null==L?0:L.length;if(Q){var ce=zf(L,H);if(ce<Q&&Yl(L[ce],H))return ce}return-1},qe.sortedLastIndex=function(L,H){return zf(L,H,!0)},qe.sortedLastIndexBy=function(L,H,Q){return Hf(L,H,dr(Q,2),!0)},qe.sortedLastIndexOf=function(L,H){if(null!=L&&L.length){var ce=zf(L,H,!0)-1;if(Yl(L[ce],H))return ce}return-1},qe.startCase=wD,qe.startsWith=function(L,H,Q){return L=Ci(L),Q=null==Q?0:jn(Yr(Q),0,L.length),H=Sa(H),L.slice(Q,Q+H.length)==H},qe.subtract=BD,qe.sum=function(L){return L&&L.length?Ji(L,Ea):0},qe.sumBy=function(L,H){return L&&L.length?Ji(L,dr(H,2)):0},qe.template=function(L,H,Q){var ce=qe.templateSettings;Q&&Qo(L,H,Q)&&(H=le),L=Ci(L),H=Hh({},H,ce,T0);var kt,Bt,Oe=Hh({},H.imports,ce.imports,T0),nt=qs(Oe),yt=ld(Oe,nt),Lt=0,un=H.interpolate||ji,Kt="__p += '",Vn=rl((H.escape||ji).source+"|"+un.source+"|"+(un===Wn?mr:ji).source+"|"+(H.evaluate||ji).source+"|$","g"),tr="//# sourceURL="+(Rr.call(H,"sourceURL")?(H.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++e0+"]")+"\n";L.replace(Vn,function(pr,oi,mi,dl,Ni,ta){return mi||(mi=dl),Kt+=L.slice(Lt,ta).replace(cu,a0),oi&&(kt=!0,Kt+="' +\n__e("+oi+") +\n'"),Ni&&(Bt=!0,Kt+="';\n"+Ni+";\n__p += '"),mi&&(Kt+="' +\n((__t = ("+mi+")) == null ? '' : __t) +\n'"),Lt=ta+pr.length,pr}),Kt+="';\n";var cr=Rr.call(H,"variable")&&H.variable;if(cr){if(In.test(cr))throw new Mr("Invalid `variable` option passed into `_.template`")}else Kt="with (obj) {\n"+Kt+"\n}\n";Kt=(Bt?Kt.replace(ee,""):Kt).replace(se,"$1").replace(_t,"$1;"),Kt="function("+(cr||"obj")+") {\n"+(cr?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(kt?", __e = _.escape":"")+(Bt?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Kt+"return __p\n}";var zr=bC(function(){return hi(nt,tr+"return "+Kt).apply(le,yt)});if(zr.source=Kt,Nm(zr))throw zr;return zr},qe.times=function(L,H){if((L=Yr(L))<1||L>vt)return[];var Q=Ue,ce=He(L,Ue);H=dr(H),L-=Ue;for(var Oe=ad(ce,H);++Q<L;)H(Q);return Oe},qe.toFinite=gc,qe.toInteger=Yr,qe.toLength=iC,qe.toLower=function(L){return Ci(L).toLowerCase()},qe.toNumber=ea,qe.toSafeInteger=function(L){return L?jn(Yr(L),-vt,vt):0===L?L:0},qe.toString=Ci,qe.toUpper=function(L){return Ci(L).toUpperCase()},qe.trim=function(L,H,Q){if((L=Ci(L))&&(Q||H===le))return xo(L);if(!L||!(H=Sa(H)))return L;var ce=$o(L),Oe=$o(H);return ll(ce,cd(ce,Oe),mu(ce,Oe)+1).join("")},qe.trimEnd=function(L,H,Q){if((L=Ci(L))&&(Q||H===le))return L.slice(0,wf(L)+1);if(!L||!(H=Sa(H)))return L;var ce=$o(L);return ll(ce,0,mu(ce,$o(H))+1).join("")},qe.trimStart=function(L,H,Q){if((L=Ci(L))&&(Q||H===le))return L.replace(he,"");if(!L||!(H=Sa(H)))return L;var ce=$o(L);return ll(ce,cd(ce,$o(H))).join("")},qe.truncate=function(L,H){var Q=30,ce="...";if(rs(H)){var Oe="separator"in H?H.separator:Oe;Q="length"in H?Yr(H.length):Q,ce="omission"in H?Sa(H.omission):ce}var nt=(L=Ci(L)).length;if(Vs(L)){var yt=$o(L);nt=yt.length}if(Q>=nt)return L;var kt=Q-Pc(ce);if(kt<1)return ce;var Bt=yt?ll(yt,0,kt).join(""):L.slice(0,kt);if(Oe===le)return Bt+ce;if(yt&&(kt+=Bt.length-kt),Ay(Oe)){if(L.slice(kt).search(Oe)){var Lt,un=Bt;for(Oe.global||(Oe=rl(Oe.source,Ci(Sn.exec(Oe))+"g")),Oe.lastIndex=0;Lt=Oe.exec(un);)var Kt=Lt.index;Bt=Bt.slice(0,Kt===le?kt:Kt)}}else if(L.indexOf(Sa(Oe),kt)!=kt){var Vn=Bt.lastIndexOf(Oe);Vn>-1&&(Bt=Bt.slice(0,Vn))}return Bt+ce},qe.unescape=function(L){return(L=Ci(L))&&Pn.test(L)?L.replace(pe,vh):L},qe.uniqueId=function(L){var H=++dw;return Ci(L)+H},qe.upperCase=T5,qe.upperFirst=ED,qe.each=Hw,qe.eachRight=Uw,qe.first=Cm,SC(qe,function(){var L={};return si(qe,function(H,Q){Rr.call(qe.prototype,Q)||(L[Q]=H)}),L}(),{chain:!1}),qe.VERSION="4.17.21",_a(["bind","bindKey","curry","curryRight","partial","partialRight"],function(L){qe[L].placeholder=qe}),_a(["drop","take"],function(L,H){kr.prototype[L]=function(Q){Q=Q===le?1:Xr(Yr(Q),0);var ce=this.__filtered__&&!H?new kr(this):this.clone();return ce.__filtered__?ce.__takeCount__=He(Q,ce.__takeCount__):ce.__views__.push({size:He(Q,Ue),type:L+(ce.__dir__<0?"Right":"")}),ce},kr.prototype[L+"Right"]=function(Q){return this.reverse()[L](Q).reverse()}}),_a(["filter","map","takeWhile"],function(L,H){var Q=H+1,ce=1==Q||3==Q;kr.prototype[L]=function(Oe){var nt=this.clone();return nt.__iteratees__.push({iteratee:dr(Oe,3),type:Q}),nt.__filtered__=nt.__filtered__||ce,nt}}),_a(["head","last"],function(L,H){var Q="take"+(H?"Right":"");kr.prototype[L]=function(){return this[Q](1).value()[0]}}),_a(["initial","tail"],function(L,H){var Q="drop"+(H?"":"Right");kr.prototype[L]=function(){return this.__filtered__?new kr(this):this[Q](1)}}),kr.prototype.compact=function(){return this.filter(Ea)},kr.prototype.find=function(L){return this.filter(L).head()},kr.prototype.findLast=function(L){return this.reverse().find(L)},kr.prototype.invokeMap=Vr(function(L,H){return"function"==typeof L?new kr(this):this.map(function(Q){return Vi(Q,L,H)})}),kr.prototype.reject=function(L){return this.filter(Ad(dr(L)))},kr.prototype.slice=function(L,H){L=Yr(L);var Q=this;return Q.__filtered__&&(L>0||H<0)?new kr(Q):(L<0?Q=Q.takeRight(-L):L&&(Q=Q.drop(L)),H!==le&&(Q=(H=Yr(H))<0?Q.dropRight(-H):Q.take(H-L)),Q)},kr.prototype.takeRightWhile=function(L){return this.reverse().takeWhile(L).reverse()},kr.prototype.toArray=function(){return this.take(Ue)},si(kr.prototype,function(L,H){var Q=/^(?:filter|find|map|reject)|While$/.test(H),ce=/^(?:head|last)$/.test(H),Oe=qe[ce?"take"+("last"==H?"Right":""):H],nt=ce||/^find/.test(H);!Oe||(qe.prototype[H]=function(){var yt=this.__wrapped__,kt=ce?[1]:arguments,Bt=yt instanceof kr,Lt=kt[0],un=Bt||Nr(yt),Kt=function(oi){var mi=Oe.apply(qe,Ic([oi],kt));return ce&&Vn?mi[0]:mi};un&&Q&&"function"==typeof Lt&&1!=Lt.length&&(Bt=un=!1);var Vn=this.__chain__,tr=!!this.__actions__.length,cr=nt&&!Vn,zr=Bt&&!tr;if(!nt&&un){yt=zr?yt:new kr(this);var pr=L.apply(yt,kt);return pr.__actions__.push({func:Tm,args:[Kt],thisArg:le}),new Or(pr,Vn)}return cr&&zr?L.apply(this,kt):(pr=this.thru(Kt),cr?ce?pr.value()[0]:pr.value():pr)})}),_a(["pop","push","shift","sort","splice","unshift"],function(L){var H=mo[L],Q=/^(?:push|sort|unshift)$/.test(L)?"tap":"thru",ce=/^(?:pop|shift)$/.test(L);qe.prototype[L]=function(){var Oe=arguments;if(ce&&!this.__chain__){var nt=this.value();return H.apply(Nr(nt)?nt:[],Oe)}return this[Q](function(yt){return H.apply(Nr(yt)?yt:[],Oe)})}}),si(kr.prototype,function(L,H){var Q=qe[H];if(Q){var ce=Q.name+"";Rr.call(ol,ce)||(ol[ce]=[]),ol[ce].push({name:H,func:Q})}}),ol[D0(le,2).name]=[{name:"wrapper",func:le}],kr.prototype.clone=function(){var L=new kr(this.__wrapped__);return L.__actions__=Ma(this.__actions__),L.__dir__=this.__dir__,L.__filtered__=this.__filtered__,L.__iteratees__=Ma(this.__iteratees__),L.__takeCount__=this.__takeCount__,L.__views__=Ma(this.__views__),L},kr.prototype.reverse=function(){if(this.__filtered__){var L=new kr(this);L.__dir__=-1,L.__filtered__=!0}else(L=this.clone()).__dir__*=-1;return L},kr.prototype.value=function(){var L=this.__wrapped__.value(),H=this.__dir__,Q=Nr(L),ce=H<0,Oe=Q?L.length:0,nt=function(L,H,Q){for(var ce=-1,Oe=Q.length;++ce<Oe;){var nt=Q[ce],yt=nt.size;switch(nt.type){case"drop":L+=yt;break;case"dropRight":H-=yt;break;case"take":H=He(H,L+yt);break;case"takeRight":L=Xr(L,H-yt)}}return{start:L,end:H}}(0,Oe,this.__views__),yt=nt.start,kt=nt.end,Bt=kt-yt,Lt=ce?kt:yt-1,un=this.__iteratees__,Kt=un.length,Vn=0,tr=He(Bt,this.__takeCount__);if(!Q||!ce&&Oe==Bt&&tr==Bt)return w0(L,this.__actions__);var cr=[];e:for(;Bt--&&Vn<tr;){for(var zr=-1,pr=L[Lt+=H];++zr<Kt;){var oi=un[zr],dl=oi.type,Ni=(0,oi.iteratee)(pr);if(2==dl)pr=Ni;else if(!Ni){if(1==dl)continue e;break e}}cr[Vn++]=pr}return cr},qe.prototype.at=ZE,qe.prototype.chain=function(){return Sy(this)},qe.prototype.commit=function(){return new Or(this.value(),this.__chain__)},qe.prototype.next=function(){this.__values__===le&&(this.__values__=sp(this.value()));var L=this.__index__>=this.__values__.length;return{done:L,value:L?le:this.__values__[this.__index__++]}},qe.prototype.plant=function(L){for(var H,Q=this;Q instanceof Zo;){var ce=O0(Q);ce.__index__=0,ce.__values__=le,H?Oe.__wrapped__=ce:H=ce;var Oe=ce;Q=Q.__wrapped__}return Oe.__wrapped__=L,H},qe.prototype.reverse=function(){var L=this.__wrapped__;if(L instanceof kr){var H=L;return this.__actions__.length&&(H=new kr(this)),(H=H.reverse()).__actions__.push({func:Tm,args:[Mm],thisArg:le}),new Or(H,this.__chain__)}return this.thru(Mm)},qe.prototype.toJSON=qe.prototype.valueOf=qe.prototype.value=function(){return w0(this.__wrapped__,this.__actions__)},qe.prototype.first=qe.prototype.head,bh&&(qe.prototype[bh]=function(){return this}),qe}();Is._=Cf,(C=function(){return Cf}.call(zt,$e,zt,An))!==le&&(An.exports=C)}.call(this)},7358:(An,zt,$e)=>{"use strict";function C(De){this.content=De}$e.d(zt,{aw:()=>Un,PW:()=>lr,HY:()=>Pe,vc:()=>ye,ZU:()=>Ln,NB:()=>ke,Ts:()=>Se,e4:()=>Re,V_:()=>gn,p2:()=>Fe}),C.prototype={constructor:C,find:function(De){for(var ne=0;ne<this.content.length;ne+=2)if(this.content[ne]===De)return ne;return-1},get:function(De){var ne=this.find(De);return-1==ne?void 0:this.content[ne+1]},update:function(De,ne,X){var Me=X&&X!=De?this.remove(X):this,he=Me.find(De),et=Me.content.slice();return-1==he?et.push(X||De,ne):(et[he+1]=ne,X&&(et[he]=X)),new C(et)},remove:function(De){var ne=this.find(De);if(-1==ne)return this;var X=this.content.slice();return X.splice(ne,2),new C(X)},addToStart:function(De,ne){return new C([De,ne].concat(this.remove(De).content))},addToEnd:function(De,ne){var X=this.remove(De).content.slice();return X.push(De,ne),new C(X)},addBefore:function(De,ne,X){var Me=this.remove(ne),he=Me.content.slice(),et=Me.find(De);return he.splice(-1==et?he.length:et,0,ne,X),new C(he)},forEach:function(De){for(var ne=0;ne<this.content.length;ne+=2)De(this.content[ne],this.content[ne+1])},prepend:function(De){return(De=C.from(De)).size?new C(De.content.concat(this.subtract(De).content)):this},append:function(De){return(De=C.from(De)).size?new C(this.subtract(De).content.concat(De.content)):this},subtract:function(De){var ne=this;De=C.from(De);for(var X=0;X<De.content.length;X+=2)ne=ne.remove(De.content[X]);return ne},get size(){return this.content.length>>1}},C.from=function(De){if(De instanceof C)return De;var ne=[];if(De)for(var X in De)ne.push(X,De[X]);return new C(ne)};const Ct=C;function Ze(De,ne,X){for(var Me=0;;Me++){if(Me==De.childCount||Me==ne.childCount)return De.childCount==ne.childCount?null:X;var he=De.child(Me),et=ne.child(Me);if(he!=et){if(!he.sameMarkup(et))return X;if(he.isText&&he.text!=et.text){for(var wt=0;he.text[wt]==et.text[wt];wt++)X++;return X}if(he.content.size||et.content.size){var Vt=Ze(he.content,et.content,X+1);if(null!=Vt)return Vt}X+=he.nodeSize}else X+=he.nodeSize}}function Ne(De,ne,X,Me){for(var he=De.childCount,et=ne.childCount;;){if(0==he||0==et)return he==et?null:{a:X,b:Me};var wt=De.child(--he),Vt=ne.child(--et),an=wt.nodeSize;if(wt!=Vt){if(!wt.sameMarkup(Vt))return{a:X,b:Me};if(wt.isText&&wt.text!=Vt.text){for(var wn=0,In=Math.min(wt.text.length,Vt.text.length);wn<In&&wt.text[wt.text.length-wn-1]==Vt.text[Vt.text.length-wn-1];)wn++,X--,Me--;return{a:X,b:Me}}if(wt.content.size||Vt.content.size){var qr=Ne(wt.content,Vt.content,X-1,Me-1);if(qr)return qr}X-=an,Me-=an}else X-=an,Me-=an}}var Pe=function(ne,X){if(this.content=ne,this.size=X||0,null==X)for(var Me=0;Me<ne.length;Me++)this.size+=ne[Me].nodeSize},Ve={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};Pe.prototype.nodesBetween=function(ne,X,Me,he,et){void 0===he&&(he=0);for(var wt=0,Vt=0;Vt<X;wt++){var an=this.content[wt],wn=Vt+an.nodeSize;if(wn>ne&&!1!==Me(an,he+Vt,et,wt)&&an.content.size){var In=Vt+1;an.nodesBetween(Math.max(0,ne-In),Math.min(an.content.size,X-In),Me,he+In)}Vt=wn}},Pe.prototype.descendants=function(ne){this.nodesBetween(0,this.size,ne)},Pe.prototype.textBetween=function(ne,X,Me,he){var et="",wt=!0;return this.nodesBetween(ne,X,function(Vt,an){Vt.isText?(et+=Vt.text.slice(Math.max(ne,an)-an,X-an),wt=!Me):Vt.isLeaf&&he?(et+=he,wt=!Me):!wt&&Vt.isBlock&&(et+=Me,wt=!0)},0),et},Pe.prototype.append=function(ne){if(!ne.size)return this;if(!this.size)return ne;var X=this.lastChild,Me=ne.firstChild,he=this.content.slice(),et=0;for(X.isText&&X.sameMarkup(Me)&&(he[he.length-1]=X.withText(X.text+Me.text),et=1);et<ne.content.length;et++)he.push(ne.content[et]);return new Pe(he,this.size+ne.size)},Pe.prototype.cut=function(ne,X){if(null==X&&(X=this.size),0==ne&&X==this.size)return this;var Me=[],he=0;if(X>ne)for(var et=0,wt=0;wt<X;et++){var Vt=this.content[et],an=wt+Vt.nodeSize;an>ne&&((wt<ne||an>X)&&(Vt=Vt.isText?Vt.cut(Math.max(0,ne-wt),Math.min(Vt.text.length,X-wt)):Vt.cut(Math.max(0,ne-wt-1),Math.min(Vt.content.size,X-wt-1))),Me.push(Vt),he+=Vt.nodeSize),wt=an}return new Pe(Me,he)},Pe.prototype.cutByIndex=function(ne,X){return ne==X?Pe.empty:0==ne&&X==this.content.length?this:new Pe(this.content.slice(ne,X))},Pe.prototype.replaceChild=function(ne,X){var Me=this.content[ne];if(Me==X)return this;var he=this.content.slice(),et=this.size+X.nodeSize-Me.nodeSize;return he[ne]=X,new Pe(he,et)},Pe.prototype.addToStart=function(ne){return new Pe([ne].concat(this.content),this.size+ne.nodeSize)},Pe.prototype.addToEnd=function(ne){return new Pe(this.content.concat(ne),this.size+ne.nodeSize)},Pe.prototype.eq=function(ne){if(this.content.length!=ne.content.length)return!1;for(var X=0;X<this.content.length;X++)if(!this.content[X].eq(ne.content[X]))return!1;return!0},Ve.firstChild.get=function(){return this.content.length?this.content[0]:null},Ve.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},Ve.childCount.get=function(){return this.content.length},Pe.prototype.child=function(ne){var X=this.content[ne];if(!X)throw new RangeError("Index "+ne+" out of range for "+this);return X},Pe.prototype.maybeChild=function(ne){return this.content[ne]},Pe.prototype.forEach=function(ne){for(var X=0,Me=0;X<this.content.length;X++){var he=this.content[X];ne(he,Me,X),Me+=he.nodeSize}},Pe.prototype.findDiffStart=function(ne,X){return void 0===X&&(X=0),Ze(this,ne,X)},Pe.prototype.findDiffEnd=function(ne,X,Me){return void 0===X&&(X=this.size),void 0===Me&&(Me=ne.size),Ne(this,ne,X,Me)},Pe.prototype.findIndex=function(ne,X){if(void 0===X&&(X=-1),0==ne)return Ie(0,ne);if(ne==this.size)return Ie(this.content.length,ne);if(ne>this.size||ne<0)throw new RangeError("Position "+ne+" outside of fragment ("+this+")");for(var Me=0,he=0;;Me++){var wt=he+this.child(Me).nodeSize;if(wt>=ne)return wt==ne||X>0?Ie(Me+1,wt):Ie(Me,he);he=wt}},Pe.prototype.toString=function(){return"<"+this.toStringInner()+">"},Pe.prototype.toStringInner=function(){return this.content.join(", ")},Pe.prototype.toJSON=function(){return this.content.length?this.content.map(function(ne){return ne.toJSON()}):null},Pe.fromJSON=function(ne,X){if(!X)return Pe.empty;if(!Array.isArray(X))throw new RangeError("Invalid input for Fragment.fromJSON");return new Pe(X.map(ne.nodeFromJSON))},Pe.fromArray=function(ne){if(!ne.length)return Pe.empty;for(var X,Me=0,he=0;he<ne.length;he++){var et=ne[he];Me+=et.nodeSize,he&&et.isText&&ne[he-1].sameMarkup(et)?(X||(X=ne.slice(0,he)),X[X.length-1]=et.withText(X[X.length-1].text+et.text)):X&&X.push(et)}return new Pe(X||ne,Me)},Pe.from=function(ne){if(!ne)return Pe.empty;if(ne instanceof Pe)return ne;if(Array.isArray(ne))return this.fromArray(ne);if(ne.attrs)return new Pe([ne],ne.nodeSize);throw new RangeError("Can not convert "+ne+" to a Fragment"+(ne.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(Pe.prototype,Ve);var ve={index:0,offset:0};function Ie(De,ne){return ve.index=De,ve.offset=ne,ve}function Ce(De,ne){if(De===ne)return!0;if(!De||"object"!=typeof De||!ne||"object"!=typeof ne)return!1;var X=Array.isArray(De);if(Array.isArray(ne)!=X)return!1;if(X){if(De.length!=ne.length)return!1;for(var Me=0;Me<De.length;Me++)if(!Ce(De[Me],ne[Me]))return!1}else{for(var he in De)if(!(he in ne)||!Ce(De[he],ne[he]))return!1;for(var et in ne)if(!(et in De))return!1}return!0}Pe.empty=new Pe([],0);var ye=function(ne,X){this.type=ne,this.attrs=X};function Re(De){var ne=Error.call(this,De);return ne.__proto__=Re.prototype,ne}ye.prototype.addToSet=function(ne){for(var X,Me=!1,he=0;he<ne.length;he++){var et=ne[he];if(this.eq(et))return ne;if(this.type.excludes(et.type))X||(X=ne.slice(0,he));else{if(et.type.excludes(this.type))return ne;!Me&&et.type.rank>this.type.rank&&(X||(X=ne.slice(0,he)),X.push(this),Me=!0),X&&X.push(et)}}return X||(X=ne.slice()),Me||X.push(this),X},ye.prototype.removeFromSet=function(ne){for(var X=0;X<ne.length;X++)if(this.eq(ne[X]))return ne.slice(0,X).concat(ne.slice(X+1));return ne},ye.prototype.isInSet=function(ne){for(var X=0;X<ne.length;X++)if(this.eq(ne[X]))return!0;return!1},ye.prototype.eq=function(ne){return this==ne||this.type==ne.type&&Ce(this.attrs,ne.attrs)},ye.prototype.toJSON=function(){var ne={type:this.type.name};for(var X in this.attrs){ne.attrs=this.attrs;break}return ne},ye.fromJSON=function(ne,X){if(!X)throw new RangeError("Invalid input for Mark.fromJSON");var Me=ne.marks[X.type];if(!Me)throw new RangeError("There is no mark type "+X.type+" in this schema");return Me.create(X.attrs)},ye.sameSet=function(ne,X){if(ne==X)return!0;if(ne.length!=X.length)return!1;for(var Me=0;Me<ne.length;Me++)if(!ne[Me].eq(X[Me]))return!1;return!0},ye.setFrom=function(ne){if(!ne||0==ne.length)return ye.none;if(ne instanceof ye)return[ne];var X=ne.slice();return X.sort(function(Me,he){return Me.type.rank-he.type.rank}),X},ye.none=[],(Re.prototype=Object.create(Error.prototype)).constructor=Re,Re.prototype.name="ReplaceError";var Fe=function(ne,X,Me){this.content=ne,this.openStart=X,this.openEnd=Me},Be={size:{configurable:!0}};function pt(De,ne,X){var Me=De.findIndex(ne),he=Me.index,et=Me.offset,wt=De.maybeChild(he),Vt=De.findIndex(X),an=Vt.index;if(et==ne||wt.isText){if(Vt.offset!=X&&!De.child(an).isText)throw new RangeError("Removing non-flat range");return De.cut(0,ne).append(De.cut(X))}if(he!=an)throw new RangeError("Removing non-flat range");return De.replaceChild(he,wt.copy(pt(wt.content,ne-et-1,X-et-1)))}function Te(De,ne,X,Me){var he=De.findIndex(ne),et=he.index,wt=he.offset,Vt=De.maybeChild(et);if(wt==ne||Vt.isText)return Me&&!Me.canReplace(et,et,X)?null:De.cut(0,ne).append(X).append(De.cut(ne));var an=Te(Vt.content,ne-wt-1,X);return an&&De.replaceChild(et,Vt.copy(an))}function Qe(De,ne,X){if(X.openStart>De.depth)throw new Re("Inserted content deeper than insertion position");if(De.depth-X.openStart!=ne.depth-X.openEnd)throw new Re("Inconsistent open depths");return je(De,ne,X,0)}function je(De,ne,X,Me){var he=De.index(Me),et=De.node(Me);if(he==ne.index(Me)&&Me<De.depth-X.openStart){var wt=je(De,ne,X,Me+1);return et.copy(et.content.replaceChild(he,wt))}if(X.content.size){if(X.openStart||X.openEnd||De.depth!=Me||ne.depth!=Me){var wn=function(De,ne){for(var X=ne.depth-De.openStart,he=ne.node(X).copy(De.content),et=X-1;et>=0;et--)he=ne.node(et).copy(Pe.from(he));return{start:he.resolveNoCache(De.openStart+X),end:he.resolveNoCache(he.content.size-De.openEnd-X)}}(X,De);return ht(et,St(De,wn.start,wn.end,ne,Me))}var Vt=De.parent,an=Vt.content;return ht(Vt,an.cut(0,De.parentOffset).append(X.content).append(an.cut(ne.parentOffset)))}return ht(et,Wt(De,ne,Me))}function ut(De,ne){if(!ne.type.compatibleContent(De.type))throw new Re("Cannot join "+ne.type.name+" onto "+De.type.name)}function ft(De,ne,X){var Me=De.node(X);return ut(Me,ne.node(X)),Me}function Mt(De,ne){var X=ne.length-1;X>=0&&De.isText&&De.sameMarkup(ne[X])?ne[X]=De.withText(ne[X].text+De.text):ne.push(De)}function Nt(De,ne,X,Me){var he=(ne||De).node(X),et=0,wt=ne?ne.index(X):he.childCount;De&&(et=De.index(X),De.depth>X?et++:De.textOffset&&(Mt(De.nodeAfter,Me),et++));for(var Vt=et;Vt<wt;Vt++)Mt(he.child(Vt),Me);ne&&ne.depth==X&&ne.textOffset&&Mt(ne.nodeBefore,Me)}function ht(De,ne){if(!De.type.validContent(ne))throw new Re("Invalid content for node "+De.type.name);return De.copy(ne)}function St(De,ne,X,Me,he){var et=De.depth>he&&ft(De,ne,he+1),wt=Me.depth>he&&ft(X,Me,he+1),Vt=[];return Nt(null,De,he,Vt),et&&wt&&ne.index(he)==X.index(he)?(ut(et,wt),Mt(ht(et,St(De,ne,X,Me,he+1)),Vt)):(et&&Mt(ht(et,Wt(De,ne,he+1)),Vt),Nt(ne,X,he,Vt),wt&&Mt(ht(wt,Wt(X,Me,he+1)),Vt)),Nt(Me,null,he,Vt),new Pe(Vt)}function Wt(De,ne,X){var Me=[];return Nt(null,De,X,Me),De.depth>X&&Mt(ht(ft(De,ne,X+1),Wt(De,ne,X+1)),Me),Nt(ne,null,X,Me),new Pe(Me)}Be.size.get=function(){return this.content.size-this.openStart-this.openEnd},Fe.prototype.insertAt=function(ne,X){var Me=Te(this.content,ne+this.openStart,X,null);return Me&&new Fe(Me,this.openStart,this.openEnd)},Fe.prototype.removeBetween=function(ne,X){return new Fe(pt(this.content,ne+this.openStart,X+this.openStart),this.openStart,this.openEnd)},Fe.prototype.eq=function(ne){return this.content.eq(ne.content)&&this.openStart==ne.openStart&&this.openEnd==ne.openEnd},Fe.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},Fe.prototype.toJSON=function(){if(!this.content.size)return null;var ne={content:this.content.toJSON()};return this.openStart>0&&(ne.openStart=this.openStart),this.openEnd>0&&(ne.openEnd=this.openEnd),ne},Fe.fromJSON=function(ne,X){if(!X)return Fe.empty;var Me=X.openStart||0,he=X.openEnd||0;if("number"!=typeof Me||"number"!=typeof he)throw new RangeError("Invalid input for Slice.fromJSON");return new Fe(Pe.fromJSON(ne,X.content),Me,he)},Fe.maxOpen=function(ne,X){void 0===X&&(X=!0);for(var Me=0,he=0,et=ne.firstChild;et&&!et.isLeaf&&(X||!et.type.spec.isolating);et=et.firstChild)Me++;for(var wt=ne.lastChild;wt&&!wt.isLeaf&&(X||!wt.type.spec.isolating);wt=wt.lastChild)he++;return new Fe(ne,Me,he)},Object.defineProperties(Fe.prototype,Be),Fe.empty=new Fe(Pe.empty,0,0);var xt=function(ne,X,Me){this.pos=ne,this.path=X,this.depth=X.length/3-1,this.parentOffset=Me},Ot={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};xt.prototype.resolveDepth=function(ne){return null==ne?this.depth:ne<0?this.depth+ne:ne},Ot.parent.get=function(){return this.node(this.depth)},Ot.doc.get=function(){return this.node(0)},xt.prototype.node=function(ne){return this.path[3*this.resolveDepth(ne)]},xt.prototype.index=function(ne){return this.path[3*this.resolveDepth(ne)+1]},xt.prototype.indexAfter=function(ne){return ne=this.resolveDepth(ne),this.index(ne)+(ne!=this.depth||this.textOffset?1:0)},xt.prototype.start=function(ne){return 0==(ne=this.resolveDepth(ne))?0:this.path[3*ne-1]+1},xt.prototype.end=function(ne){return ne=this.resolveDepth(ne),this.start(ne)+this.node(ne).content.size},xt.prototype.before=function(ne){if(!(ne=this.resolveDepth(ne)))throw new RangeError("There is no position before the top-level node");return ne==this.depth+1?this.pos:this.path[3*ne-1]},xt.prototype.after=function(ne){if(!(ne=this.resolveDepth(ne)))throw new RangeError("There is no position after the top-level node");return ne==this.depth+1?this.pos:this.path[3*ne-1]+this.path[3*ne].nodeSize},Ot.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},Ot.nodeAfter.get=function(){var De=this.parent,ne=this.index(this.depth);if(ne==De.childCount)return null;var X=this.pos-this.path[this.path.length-1],Me=De.child(ne);return X?De.child(ne).cut(X):Me},Ot.nodeBefore.get=function(){var De=this.index(this.depth),ne=this.pos-this.path[this.path.length-1];return ne?this.parent.child(De).cut(0,ne):0==De?null:this.parent.child(De-1)},xt.prototype.posAtIndex=function(ne,X){X=this.resolveDepth(X);for(var Me=this.path[3*X],he=0==X?0:this.path[3*X-1]+1,et=0;et<ne;et++)he+=Me.child(et).nodeSize;return he},xt.prototype.marks=function(){var ne=this.parent,X=this.index();if(0==ne.content.size)return ye.none;if(this.textOffset)return ne.child(X).marks;var Me=ne.maybeChild(X-1),he=ne.maybeChild(X);if(!Me){var et=Me;Me=he,he=et}for(var wt=Me.marks,Vt=0;Vt<wt.length;Vt++)!1===wt[Vt].type.spec.inclusive&&(!he||!wt[Vt].isInSet(he.marks))&&(wt=wt[Vt--].removeFromSet(wt));return wt},xt.prototype.marksAcross=function(ne){var X=this.parent.maybeChild(this.index());if(!X||!X.isInline)return null;for(var Me=X.marks,he=ne.parent.maybeChild(ne.index()),et=0;et<Me.length;et++)!1===Me[et].type.spec.inclusive&&(!he||!Me[et].isInSet(he.marks))&&(Me=Me[et--].removeFromSet(Me));return Me},xt.prototype.sharedDepth=function(ne){for(var X=this.depth;X>0;X--)if(this.start(X)<=ne&&this.end(X)>=ne)return X;return 0},xt.prototype.blockRange=function(ne,X){if(void 0===ne&&(ne=this),ne.pos<this.pos)return ne.blockRange(this);for(var Me=this.depth-(this.parent.inlineContent||this.pos==ne.pos?1:0);Me>=0;Me--)if(ne.pos<=this.end(Me)&&(!X||X(this.node(Me))))return new Se(this,ne,Me)},xt.prototype.sameParent=function(ne){return this.pos-this.parentOffset==ne.pos-ne.parentOffset},xt.prototype.max=function(ne){return ne.pos>this.pos?ne:this},xt.prototype.min=function(ne){return ne.pos<this.pos?ne:this},xt.prototype.toString=function(){for(var ne="",X=1;X<=this.depth;X++)ne+=(ne?"/":"")+this.node(X).type.name+"_"+this.index(X-1);return ne+":"+this.parentOffset},xt.resolve=function(ne,X){if(!(X>=0&&X<=ne.content.size))throw new RangeError("Position "+X+" out of range");for(var Me=[],he=0,et=X,wt=ne;;){var Vt=wt.content.findIndex(et),an=Vt.index,wn=Vt.offset,In=et-wn;if(Me.push(wt,an,he+wn),!In||(wt=wt.child(an)).isText)break;et=In-1,he+=wn+1}return new xt(X,Me,et)},xt.resolveCached=function(ne,X){for(var Me=0;Me<Ht.length;Me++){var he=Ht[Me];if(he.pos==X&&he.doc==ne)return he}var et=Ht[Gt]=xt.resolve(ne,X);return Gt=(Gt+1)%Et,et},Object.defineProperties(xt.prototype,Ot);var Ht=[],Gt=0,Et=12,Se=function(ne,X,Me){this.$from=ne,this.$to=X,this.depth=Me},Tt={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};Tt.start.get=function(){return this.$from.before(this.depth+1)},Tt.end.get=function(){return this.$to.after(this.depth+1)},Tt.parent.get=function(){return this.$from.node(this.depth)},Tt.startIndex.get=function(){return this.$from.index(this.depth)},Tt.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(Se.prototype,Tt);var vt=Object.create(null),ke=function(ne,X,Me,he){this.type=ne,this.attrs=X,this.content=Me||Pe.empty,this.marks=he||ye.none},tt={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};tt.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},tt.childCount.get=function(){return this.content.childCount},ke.prototype.child=function(ne){return this.content.child(ne)},ke.prototype.maybeChild=function(ne){return this.content.maybeChild(ne)},ke.prototype.forEach=function(ne){this.content.forEach(ne)},ke.prototype.nodesBetween=function(ne,X,Me,he){void 0===he&&(he=0),this.content.nodesBetween(ne,X,Me,he,this)},ke.prototype.descendants=function(ne){this.nodesBetween(0,this.content.size,ne)},tt.textContent.get=function(){return this.textBetween(0,this.content.size,"")},ke.prototype.textBetween=function(ne,X,Me,he){return this.content.textBetween(ne,X,Me,he)},tt.firstChild.get=function(){return this.content.firstChild},tt.lastChild.get=function(){return this.content.lastChild},ke.prototype.eq=function(ne){return this==ne||this.sameMarkup(ne)&&this.content.eq(ne.content)},ke.prototype.sameMarkup=function(ne){return this.hasMarkup(ne.type,ne.attrs,ne.marks)},ke.prototype.hasMarkup=function(ne,X,Me){return this.type==ne&&Ce(this.attrs,X||ne.defaultAttrs||vt)&&ye.sameSet(this.marks,Me||ye.none)},ke.prototype.copy=function(ne){return void 0===ne&&(ne=null),ne==this.content?this:new this.constructor(this.type,this.attrs,ne,this.marks)},ke.prototype.mark=function(ne){return ne==this.marks?this:new this.constructor(this.type,this.attrs,this.content,ne)},ke.prototype.cut=function(ne,X){return 0==ne&&X==this.content.size?this:this.copy(this.content.cut(ne,X))},ke.prototype.slice=function(ne,X,Me){if(void 0===X&&(X=this.content.size),void 0===Me&&(Me=!1),ne==X)return Fe.empty;var he=this.resolve(ne),et=this.resolve(X),wt=Me?0:he.sharedDepth(X),Vt=he.start(wt),wn=he.node(wt).content.cut(he.pos-Vt,et.pos-Vt);return new Fe(wn,he.depth-wt,et.depth-wt)},ke.prototype.replace=function(ne,X,Me){return Qe(this.resolve(ne),this.resolve(X),Me)},ke.prototype.nodeAt=function(ne){for(var X=this;;){var Me=X.content.findIndex(ne),et=Me.offset;if(!(X=X.maybeChild(Me.index)))return null;if(et==ne||X.isText)return X;ne-=et+1}},ke.prototype.childAfter=function(ne){var X=this.content.findIndex(ne),Me=X.index,he=X.offset;return{node:this.content.maybeChild(Me),index:Me,offset:he}},ke.prototype.childBefore=function(ne){if(0==ne)return{node:null,index:0,offset:0};var X=this.content.findIndex(ne),Me=X.index,he=X.offset;if(he<ne)return{node:this.content.child(Me),index:Me,offset:he};var et=this.content.child(Me-1);return{node:et,index:Me-1,offset:he-et.nodeSize}},ke.prototype.resolve=function(ne){return xt.resolveCached(this,ne)},ke.prototype.resolveNoCache=function(ne){return xt.resolve(this,ne)},ke.prototype.rangeHasMark=function(ne,X,Me){var he=!1;return X>ne&&this.nodesBetween(ne,X,function(et){return Me.isInSet(et.marks)&&(he=!0),!he}),he},tt.isBlock.get=function(){return this.type.isBlock},tt.isTextblock.get=function(){return this.type.isTextblock},tt.inlineContent.get=function(){return this.type.inlineContent},tt.isInline.get=function(){return this.type.isInline},tt.isText.get=function(){return this.type.isText},tt.isLeaf.get=function(){return this.type.isLeaf},tt.isAtom.get=function(){return this.type.isAtom},ke.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var ne=this.type.name;return this.content.size&&(ne+="("+this.content.toStringInner()+")"),qt(this.marks,ne)},ke.prototype.contentMatchAt=function(ne){var X=this.type.contentMatch.matchFragment(this.content,0,ne);if(!X)throw new Error("Called contentMatchAt on a node with invalid content");return X},ke.prototype.canReplace=function(ne,X,Me,he,et){void 0===Me&&(Me=Pe.empty),void 0===he&&(he=0),void 0===et&&(et=Me.childCount);var wt=this.contentMatchAt(ne).matchFragment(Me,he,et),Vt=wt&&wt.matchFragment(this.content,X);if(!Vt||!Vt.validEnd)return!1;for(var an=he;an<et;an++)if(!this.type.allowsMarks(Me.child(an).marks))return!1;return!0},ke.prototype.canReplaceWith=function(ne,X,Me,he){if(he&&!this.type.allowsMarks(he))return!1;var et=this.contentMatchAt(ne).matchType(Me),wt=et&&et.matchFragment(this.content,X);return!!wt&&wt.validEnd},ke.prototype.canAppend=function(ne){return ne.content.size?this.canReplace(this.childCount,this.childCount,ne.content):this.type.compatibleContent(ne.type)},ke.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var ne=ye.none,X=0;X<this.marks.length;X++)ne=this.marks[X].addToSet(ne);if(!ye.sameSet(ne,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map(function(Me){return Me.type.name}));this.content.forEach(function(Me){return Me.check()})},ke.prototype.toJSON=function(){var ne={type:this.type.name};for(var X in this.attrs){ne.attrs=this.attrs;break}return this.content.size&&(ne.content=this.content.toJSON()),this.marks.length&&(ne.marks=this.marks.map(function(Me){return Me.toJSON()})),ne},ke.fromJSON=function(ne,X){if(!X)throw new RangeError("Invalid input for Node.fromJSON");var Me=null;if(X.marks){if(!Array.isArray(X.marks))throw new RangeError("Invalid mark data for Node.fromJSON");Me=X.marks.map(ne.markFromJSON)}if("text"==X.type){if("string"!=typeof X.text)throw new RangeError("Invalid text node in JSON");return ne.text(X.text,Me)}var he=Pe.fromJSON(ne,X.content);return ne.nodeType(X.type).create(X.attrs,he,Me)},Object.defineProperties(ke.prototype,tt);var Ue=function(De){function ne(Me,he,et,wt){if(De.call(this,Me,he,null,wt),!et)throw new RangeError("Empty text nodes are not allowed");this.text=et}De&&(ne.__proto__=De),(ne.prototype=Object.create(De&&De.prototype)).constructor=ne;var X={textContent:{configurable:!0},nodeSize:{configurable:!0}};return ne.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):qt(this.marks,JSON.stringify(this.text))},X.textContent.get=function(){return this.text},ne.prototype.textBetween=function(he,et){return this.text.slice(he,et)},X.nodeSize.get=function(){return this.text.length},ne.prototype.mark=function(he){return he==this.marks?this:new ne(this.type,this.attrs,this.text,he)},ne.prototype.withText=function(he){return he==this.text?this:new ne(this.type,this.attrs,he,this.marks)},ne.prototype.cut=function(he,et){return void 0===he&&(he=0),void 0===et&&(et=this.text.length),0==he&&et==this.text.length?this:this.withText(this.text.slice(he,et))},ne.prototype.eq=function(he){return this.sameMarkup(he)&&this.text==he.text},ne.prototype.toJSON=function(){var he=De.prototype.toJSON.call(this);return he.text=this.text,he},Object.defineProperties(ne.prototype,X),ne}(ke);function qt(De,ne){for(var X=De.length-1;X>=0;X--)ne=De[X].type.name+"("+ne+")";return ne}var Jt=function(ne){this.validEnd=ne,this.next=[],this.wrapCache=[]},rt={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};Jt.parse=function(ne,X){var Me=new at(ne,X);if(null==Me.next)return Jt.empty;var he=st(Me);Me.next&&Me.err("Unexpected trailing text");var et=function(De){var ne=Object.create(null);return function X(Me){var he=[];Me.forEach(function(an){De[an].forEach(function(wn){var In=wn.term,qr=wn.to;if(In){var mr=he.indexOf(In),Sn=mr>-1&&he[mr+1];Ge(De,qr).forEach(function(or){Sn||he.push(In,Sn=[]),-1==Sn.indexOf(or)&&Sn.push(or)})}})});for(var et=ne[Me.join(",")]=new Jt(Me.indexOf(De.length-1)>-1),wt=0;wt<he.length;wt+=2){var Vt=he[wt+1].sort(Ae);et.next.push(he[wt],ne[Vt.join(",")]||X(Vt))}return et}(Ge(De,0))}(function(De){var ne=[[]];return he(function et(wt,Vt){if("choice"==wt.type)return wt.exprs.reduce(function(Ai,qi){return Ai.concat(et(qi,Vt))},[]);if("seq"==wt.type)for(var an=0;;an++){var wn=et(wt.exprs[an],Vt);if(an==wt.exprs.length-1)return wn;he(wn,Vt=X())}else{if("star"==wt.type){var In=X();return Me(Vt,In),he(et(wt.expr,In),In),[Me(In)]}if("plus"==wt.type){var qr=X();return he(et(wt.expr,Vt),qr),he(et(wt.expr,qr),qr),[Me(qr)]}if("opt"==wt.type)return[Me(Vt)].concat(et(wt.expr,Vt));if("range"==wt.type){for(var mr=Vt,Sn=0;Sn<wt.min;Sn++){var or=X();he(et(wt.expr,mr),or),mr=or}if(-1==wt.max)he(et(wt.expr,mr),mr);else for(var zn=wt.min;zn<wt.max;zn++){var ci=X();Me(mr,ci),he(et(wt.expr,mr),ci),mr=ci}return[Me(mr)]}if("name"==wt.type)return[Me(Vt,null,wt.value)]}}(De,0),X()),ne;function X(){return ne.push([])-1}function Me(wt,Vt,an){var wn={term:an,to:Vt};return ne[wt].push(wn),wn}function he(wt,Vt){wt.forEach(function(an){return an.to=Vt})}}(he));return function(De,ne){for(var X=0,Me=[De];X<Me.length;X++){for(var he=Me[X],et=!he.validEnd,wt=[],Vt=0;Vt<he.next.length;Vt+=2){var an=he.next[Vt],wn=he.next[Vt+1];wt.push(an.name),et&&!(an.isText||an.hasRequiredAttrs())&&(et=!1),-1==Me.indexOf(wn)&&Me.push(wn)}et&&ne.err("Only non-generatable nodes ("+wt.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(et,Me),et},Jt.prototype.matchType=function(ne){for(var X=0;X<this.next.length;X+=2)if(this.next[X]==ne)return this.next[X+1];return null},Jt.prototype.matchFragment=function(ne,X,Me){void 0===X&&(X=0),void 0===Me&&(Me=ne.childCount);for(var he=this,et=X;he&&et<Me;et++)he=he.matchType(ne.child(et).type);return he},rt.inlineContent.get=function(){var De=this.next[0];return!!De&&De.isInline},rt.defaultType.get=function(){for(var De=0;De<this.next.length;De+=2){var ne=this.next[De];if(!ne.isText&&!ne.hasRequiredAttrs())return ne}},Jt.prototype.compatible=function(ne){for(var X=0;X<this.next.length;X+=2)for(var Me=0;Me<ne.next.length;Me+=2)if(this.next[X]==ne.next[Me])return!0;return!1},Jt.prototype.fillBefore=function(ne,X,Me){void 0===X&&(X=!1),void 0===Me&&(Me=0);var he=[this];return function et(wt,Vt){var an=wt.matchFragment(ne,Me);if(an&&(!X||an.validEnd))return Pe.from(Vt.map(function(Sn){return Sn.createAndFill()}));for(var wn=0;wn<wt.next.length;wn+=2){var In=wt.next[wn],qr=wt.next[wn+1];if(!In.isText&&!In.hasRequiredAttrs()&&-1==he.indexOf(qr)){he.push(qr);var mr=et(qr,Vt.concat(In));if(mr)return mr}}}(this,[])},Jt.prototype.findWrapping=function(ne){for(var X=0;X<this.wrapCache.length;X+=2)if(this.wrapCache[X]==ne)return this.wrapCache[X+1];var Me=this.computeWrapping(ne);return this.wrapCache.push(ne,Me),Me},Jt.prototype.computeWrapping=function(ne){for(var X=Object.create(null),Me=[{match:this,type:null,via:null}];Me.length;){var he=Me.shift(),et=he.match;if(et.matchType(ne)){for(var wt=[],Vt=he;Vt.type;Vt=Vt.via)wt.push(Vt.type);return wt.reverse()}for(var an=0;an<et.next.length;an+=2){var wn=et.next[an];!wn.isLeaf&&!wn.hasRequiredAttrs()&&!(wn.name in X)&&(!he.type||et.next[an+1].validEnd)&&(Me.push({match:wn.contentMatch,type:wn,via:he}),X[wn.name]=!0)}}},rt.edgeCount.get=function(){return this.next.length>>1},Jt.prototype.edge=function(ne){var X=ne<<1;if(X>=this.next.length)throw new RangeError("There's no "+ne+"th edge in this content match");return{type:this.next[X],next:this.next[X+1]}},Jt.prototype.toString=function(){var ne=[];return function X(Me){ne.push(Me);for(var he=1;he<Me.next.length;he+=2)-1==ne.indexOf(Me.next[he])&&X(Me.next[he])}(this),ne.map(function(Me,he){for(var et=he+(Me.validEnd?"*":" ")+" ",wt=0;wt<Me.next.length;wt+=2)et+=(wt?", ":"")+Me.next[wt].name+"->"+ne.indexOf(Me.next[wt+1]);return et}).join("\n")},Object.defineProperties(Jt.prototype,rt),Jt.empty=new Jt(!0);var at=function(ne,X){this.string=ne,this.nodeTypes=X,this.inline=null,this.pos=0,this.tokens=ne.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()},Ke={next:{configurable:!0}};function st(De){var ne=[];do{ne.push(ct(De))}while(De.eat("|"));return 1==ne.length?ne[0]:{type:"choice",exprs:ne}}function ct(De){var ne=[];do{ne.push(gt(De))}while(De.next&&")"!=De.next&&"|"!=De.next);return 1==ne.length?ne[0]:{type:"seq",exprs:ne}}function gt(De){for(var ne=function(De){if(De.eat("(")){var ne=st(De);return De.eat(")")||De.err("Missing closing paren"),ne}if(!/\W/.test(De.next)){var X=function(De,ne){var X=De.nodeTypes,Me=X[ne];if(Me)return[Me];var he=[];for(var et in X){var wt=X[et];wt.groups.indexOf(ne)>-1&&he.push(wt)}return 0==he.length&&De.err("No node type or group '"+ne+"' found"),he}(De,De.next).map(function(Me){return null==De.inline?De.inline=Me.isInline:De.inline!=Me.isInline&&De.err("Mixing inline and block content"),{type:"name",value:Me}});return De.pos++,1==X.length?X[0]:{type:"choice",exprs:X}}De.err("Unexpected token '"+De.next+"'")}(De);;)if(De.eat("+"))ne={type:"plus",expr:ne};else if(De.eat("*"))ne={type:"star",expr:ne};else if(De.eat("?"))ne={type:"opt",expr:ne};else{if(!De.eat("{"))break;ne=Qt(De,ne)}return ne}function Zt(De){/\D/.test(De.next)&&De.err("Expected number, got '"+De.next+"'");var ne=Number(De.next);return De.pos++,ne}function Qt(De,ne){var X=Zt(De),Me=X;return De.eat(",")&&(Me="}"!=De.next?Zt(De):-1),De.eat("}")||De.err("Unclosed braced range"),{type:"range",min:X,max:Me,expr:ne}}function Ae(De,ne){return ne-De}function Ge(De,ne){var X=[];return function Me(he){var et=De[he];if(1==et.length&&!et[0].term)return Me(et[0].to);X.push(he);for(var wt=0;wt<et.length;wt++){var Vt=et[wt],wn=Vt.to;!Vt.term&&-1==X.indexOf(wn)&&Me(wn)}}(ne),X.sort(Ae)}function ge(De){var ne=Object.create(null);for(var X in De){var Me=De[X];if(!Me.hasDefault)return null;ne[X]=Me.default}return ne}function Le(De,ne){var X=Object.create(null);for(var Me in De){var he=ne&&ne[Me];if(void 0===he){var et=De[Me];if(!et.hasDefault)throw new RangeError("No value supplied for attribute "+Me);he=et.default}X[Me]=he}return X}function Xe(De){var ne=Object.create(null);if(De)for(var X in De)ne[X]=new on(De[X]);return ne}Ke.next.get=function(){return this.tokens[this.pos]},at.prototype.eat=function(ne){return this.next==ne&&(this.pos++||!0)},at.prototype.err=function(ne){throw new SyntaxError(ne+" (in content expression '"+this.string+"')")},Object.defineProperties(at.prototype,Ke);var lt=function(ne,X,Me){this.name=ne,this.schema=X,this.spec=Me,this.groups=Me.group?Me.group.split(" "):[],this.attrs=Xe(Me.attrs),this.defaultAttrs=ge(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(Me.inline||"text"==ne),this.isText="text"==ne},Rt={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};Rt.isInline.get=function(){return!this.isBlock},Rt.isTextblock.get=function(){return this.isBlock&&this.inlineContent},Rt.isLeaf.get=function(){return this.contentMatch==Jt.empty},Rt.isAtom.get=function(){return this.isLeaf||this.spec.atom},lt.prototype.hasRequiredAttrs=function(){for(var ne in this.attrs)if(this.attrs[ne].isRequired)return!0;return!1},lt.prototype.compatibleContent=function(ne){return this==ne||this.contentMatch.compatible(ne.contentMatch)},lt.prototype.computeAttrs=function(ne){return!ne&&this.defaultAttrs?this.defaultAttrs:Le(this.attrs,ne)},lt.prototype.create=function(ne,X,Me){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ke(this,this.computeAttrs(ne),Pe.from(X),ye.setFrom(Me))},lt.prototype.createChecked=function(ne,X,Me){if(X=Pe.from(X),!this.validContent(X))throw new RangeError("Invalid content for node "+this.name);return new ke(this,this.computeAttrs(ne),X,ye.setFrom(Me))},lt.prototype.createAndFill=function(ne,X,Me){if(ne=this.computeAttrs(ne),(X=Pe.from(X)).size){var he=this.contentMatch.fillBefore(X);if(!he)return null;X=he.append(X)}var et=this.contentMatch.matchFragment(X).fillBefore(Pe.empty,!0);return et?new ke(this,ne,X.append(et),ye.setFrom(Me)):null},lt.prototype.validContent=function(ne){var X=this.contentMatch.matchFragment(ne);if(!X||!X.validEnd)return!1;for(var Me=0;Me<ne.childCount;Me++)if(!this.allowsMarks(ne.child(Me).marks))return!1;return!0},lt.prototype.allowsMarkType=function(ne){return null==this.markSet||this.markSet.indexOf(ne)>-1},lt.prototype.allowsMarks=function(ne){if(null==this.markSet)return!0;for(var X=0;X<ne.length;X++)if(!this.allowsMarkType(ne[X].type))return!1;return!0},lt.prototype.allowedMarks=function(ne){if(null==this.markSet)return ne;for(var X,Me=0;Me<ne.length;Me++)this.allowsMarkType(ne[Me].type)?X&&X.push(ne[Me]):X||(X=ne.slice(0,Me));return X?X.length?X:ye.empty:ne},lt.compile=function(ne,X){var Me=Object.create(null);ne.forEach(function(wt,Vt){return Me[wt]=new lt(wt,X,Vt)});var he=X.spec.topNode||"doc";if(!Me[he])throw new RangeError("Schema is missing its top node type ('"+he+"')");if(!Me.text)throw new RangeError("Every schema needs a 'text' type");for(var et in Me.text.attrs)throw new RangeError("The text node type should not have attributes");return Me},Object.defineProperties(lt.prototype,Rt);var on=function(ne){this.hasDefault=Object.prototype.hasOwnProperty.call(ne,"default"),this.default=ne.default},Dn={isRequired:{configurable:!0}};Dn.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(on.prototype,Dn);var Ln=function(ne,X,Me,he){this.name=ne,this.schema=Me,this.spec=he,this.attrs=Xe(he.attrs),this.rank=X,this.excluded=null;var et=ge(this.attrs);this.instance=et&&new ye(this,et)};Ln.prototype.create=function(ne){return!ne&&this.instance?this.instance:new ye(this,Le(this.attrs,ne))},Ln.compile=function(ne,X){var Me=Object.create(null),he=0;return ne.forEach(function(et,wt){return Me[et]=new Ln(et,he++,X,wt)}),Me},Ln.prototype.removeFromSet=function(ne){for(var X=0;X<ne.length;X++)ne[X].type==this&&(ne=ne.slice(0,X).concat(ne.slice(X+1)),X--);return ne},Ln.prototype.isInSet=function(ne){for(var X=0;X<ne.length;X++)if(ne[X].type==this)return ne[X]},Ln.prototype.excludes=function(ne){return this.excluded.indexOf(ne)>-1};var gn=function(ne){for(var X in this.spec={},ne)this.spec[X]=ne[X];this.spec.nodes=Ct.from(ne.nodes),this.spec.marks=Ct.from(ne.marks),this.nodes=lt.compile(this.spec.nodes,this),this.marks=Ln.compile(this.spec.marks,this);var Me=Object.create(null);for(var he in this.nodes){if(he in this.marks)throw new RangeError(he+" can not be both a node and a mark");var et=this.nodes[he],wt=et.spec.content||"",Vt=et.spec.marks;et.contentMatch=Me[wt]||(Me[wt]=Jt.parse(wt,this.nodes)),et.inlineContent=et.contentMatch.inlineContent,et.markSet="_"==Vt?null:Vt?en(this,Vt.split(" ")):""!=Vt&&et.inlineContent?null:[]}for(var an in this.marks){var wn=this.marks[an],In=wn.spec.excludes;wn.excluded=null==In?[wn]:""==In?[]:en(this,In.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function en(De,ne){for(var X=[],Me=0;Me<ne.length;Me++){var he=ne[Me],et=De.marks[he],wt=et;if(et)X.push(et);else for(var Vt in De.marks){var an=De.marks[Vt];("_"==he||an.spec.group&&an.spec.group.split(" ").indexOf(he)>-1)&&X.push(wt=an)}if(!wt)throw new SyntaxError("Unknown mark type: '"+ne[Me]+"'")}return X}gn.prototype.node=function(ne,X,Me,he){if("string"==typeof ne)ne=this.nodeType(ne);else{if(!(ne instanceof lt))throw new RangeError("Invalid node type: "+ne);if(ne.schema!=this)throw new RangeError("Node type from different schema used ("+ne.name+")")}return ne.createChecked(X,Me,he)},gn.prototype.text=function(ne,X){var Me=this.nodes.text;return new Ue(Me,Me.defaultAttrs,ne,ye.setFrom(X))},gn.prototype.mark=function(ne,X){return"string"==typeof ne&&(ne=this.marks[ne]),ne.create(X)},gn.prototype.nodeFromJSON=function(ne){return ke.fromJSON(this,ne)},gn.prototype.markFromJSON=function(ne){return ye.fromJSON(this,ne)},gn.prototype.nodeType=function(ne){var X=this.nodes[ne];if(!X)throw new RangeError("Unknown node type: "+ne);return X};var Un=function(ne,X){var Me=this;this.schema=ne,this.rules=X,this.tags=[],this.styles=[],X.forEach(function(he){he.tag?Me.tags.push(he):he.style&&Me.styles.push(he)}),this.normalizeLists=!this.tags.some(function(he){if(!/^(ul|ol)\b/.test(he.tag)||!he.node)return!1;var et=ne.nodes[he.node];return et.contentMatch.matchType(et)})};Un.prototype.parse=function(ne,X){void 0===X&&(X={});var Me=new ee(this,X,!1);return Me.addAll(ne,null,X.from,X.to),Me.finish()},Un.prototype.parseSlice=function(ne,X){void 0===X&&(X={});var Me=new ee(this,X,!0);return Me.addAll(ne,null,X.from,X.to),Fe.maxOpen(Me.finish())},Un.prototype.matchTag=function(ne,X,Me){for(var he=Me?this.tags.indexOf(Me)+1:0;he<this.tags.length;he++){var et=this.tags[he];if(pe(ne,et.tag)&&(void 0===et.namespace||ne.namespaceURI==et.namespace)&&(!et.context||X.matchesContext(et.context))){if(et.getAttrs){var wt=et.getAttrs(ne);if(!1===wt)continue;et.attrs=wt}return et}}},Un.prototype.matchStyle=function(ne,X,Me,he){for(var et=he?this.styles.indexOf(he)+1:0;et<this.styles.length;et++){var wt=this.styles[et];if(!(0!=wt.style.indexOf(ne)||wt.context&&!Me.matchesContext(wt.context)||wt.style.length>ne.length&&(61!=wt.style.charCodeAt(ne.length)||wt.style.slice(ne.length+1)!=X))){if(wt.getAttrs){var Vt=wt.getAttrs(X);if(!1===Vt)continue;wt.attrs=Vt}return wt}}},Un.schemaRules=function(ne){var X=[];function Me(an){for(var wn=null==an.priority?50:an.priority,In=0;In<X.length;In++){var qr=X[In];if((null==qr.priority?50:qr.priority)<wn)break}X.splice(In,0,an)}var wn,he=function(an){var wn=ne.marks[an].spec.parseDOM;wn&&wn.forEach(function(In){Me(In=Pn(In)),In.mark=an})};for(var et in ne.marks)he(et);for(var Vt in ne.nodes)wn=void 0,(wn=ne.nodes[Vt].spec.parseDOM)&&wn.forEach(function(In){Me(In=Pn(In)),In.node=Vt});return X},Un.fromSchema=function(ne){return ne.cached.domParser||(ne.cached.domParser=new Un(ne,Un.schemaRules(ne)))};var es={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Gi={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},li={ol:!0,ul:!0};function Wr(De){return(De?1:0)|("full"===De?2:0)}var dt=function(ne,X,Me,he,et,wt,Vt){this.type=ne,this.attrs=X,this.solid=et,this.match=wt||(4&Vt?null:ne.contentMatch),this.options=Vt,this.content=[],this.marks=Me,this.activeMarks=ye.none,this.pendingMarks=he,this.stashMarks=[]};dt.prototype.findWrapping=function(ne){if(!this.match){if(!this.type)return[];var X=this.type.contentMatch.fillBefore(Pe.from(ne));if(!X){var he,Me=this.type.contentMatch;return(he=Me.findWrapping(ne.type))?(this.match=Me,he):null}this.match=this.type.contentMatch.matchFragment(X)}return this.match.findWrapping(ne.type)},dt.prototype.finish=function(ne){if(!(1&this.options)){var Me,X=this.content[this.content.length-1];X&&X.isText&&(Me=/[ \t\r\n\u000c]+$/.exec(X.text))&&(X.text.length==Me[0].length?this.content.pop():this.content[this.content.length-1]=X.withText(X.text.slice(0,X.text.length-Me[0].length)))}var he=Pe.from(this.content);return!ne&&this.match&&(he=he.append(this.match.fillBefore(Pe.empty,!0))),this.type?this.type.create(this.attrs,he,this.marks):he},dt.prototype.popFromStashMark=function(ne){for(var X=this.stashMarks.length-1;X>=0;X--)if(ne.eq(this.stashMarks[X]))return this.stashMarks.splice(X,1)[0]},dt.prototype.applyPending=function(ne){for(var X=0,Me=this.pendingMarks;X<Me.length;X++){var he=Me[X];(this.type?this.type.allowsMarkType(he.type):pn(he.type,ne))&&!he.isInSet(this.activeMarks)&&(this.activeMarks=he.addToSet(this.activeMarks),this.pendingMarks=he.removeFromSet(this.pendingMarks))}},dt.prototype.inlineContext=function(ne){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:ne.parentNode&&!es.hasOwnProperty(ne.parentNode.nodeName.toLowerCase())};var ee=function(ne,X,Me){this.parser=ne,this.options=X,this.isOpen=Me;var et,he=X.topNode,wt=Wr(X.preserveWhitespace)|(Me?4:0);et=he?new dt(he.type,he.attrs,ye.none,ye.none,!0,X.topMatch||he.type.contentMatch,wt):new dt(Me?null:ne.schema.topNodeType,null,ye.none,ye.none,!0,null,wt),this.nodes=[et],this.open=0,this.find=X.findPositions,this.needsBlock=!1},se={top:{configurable:!0},currentPos:{configurable:!0}};function pe(De,ne){return(De.matches||De.msMatchesSelector||De.webkitMatchesSelector||De.mozMatchesSelector).call(De,ne)}function Pn(De){var ne={};for(var X in De)ne[X]=De[X];return ne}function pn(De,ne){var X=ne.schema.nodes,Me=function(wt){var Vt=X[wt];if(Vt.allowsMarkType(De)){var an=[],wn=function(In){an.push(In);for(var qr=0;qr<In.edgeCount;qr++){var mr=In.edge(qr),or=mr.next;if(mr.type==ne||an.indexOf(or)<0&&wn(or))return!0}};if(wn(Vt.contentMatch))return{v:!0}}};for(var he in X){var et=Me(he);if(et)return et.v}}se.top.get=function(){return this.nodes[this.open]},ee.prototype.addDOM=function(ne){if(3==ne.nodeType)this.addTextNode(ne);else if(1==ne.nodeType){var X=ne.getAttribute("style"),Me=X?this.readStyles(function(De){for(var X,ne=/\s*([\w-]+)\s*:\s*([^;]+)/g,Me=[];X=ne.exec(De);)Me.push(X[1],X[2].trim());return Me}(X)):null,he=this.top;if(null!=Me)for(var et=0;et<Me.length;et++)this.addPendingMark(Me[et]);if(this.addElement(ne),null!=Me)for(var wt=0;wt<Me.length;wt++)this.removePendingMark(Me[wt],he)}},ee.prototype.addTextNode=function(ne){var X=ne.nodeValue,Me=this.top;if(2&Me.options||Me.inlineContext(ne)||/[^ \t\r\n\u000c]/.test(X)){if(1&Me.options)X=2&Me.options?X.replace(/\r\n?/g,"\n"):X.replace(/\r?\n|\r/g," ");else if(X=X.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(X)&&this.open==this.nodes.length-1){var he=Me.content[Me.content.length-1],et=ne.previousSibling;(!he||et&&"BR"==et.nodeName||he.isText&&/[ \t\r\n\u000c]$/.test(he.text))&&(X=X.slice(1))}X&&this.insertNode(this.parser.schema.text(X)),this.findInText(ne)}else this.findInside(ne)},ee.prototype.addElement=function(ne,X){var he,Me=ne.nodeName.toLowerCase();li.hasOwnProperty(Me)&&this.parser.normalizeLists&&function(De){for(var ne=De.firstChild,X=null;ne;ne=ne.nextSibling){var Me=1==ne.nodeType?ne.nodeName.toLowerCase():null;Me&&li.hasOwnProperty(Me)&&X?(X.appendChild(ne),ne=X):"li"==Me?X=ne:Me&&(X=null)}}(ne);var et=this.options.ruleFromNode&&this.options.ruleFromNode(ne)||(he=this.parser.matchTag(ne,this,X));if(et?et.ignore:Gi.hasOwnProperty(Me))this.findInside(ne),this.ignoreFallback(ne);else if(!et||et.skip||et.closeParent){et&&et.closeParent?this.open=Math.max(0,this.open-1):et&&et.skip.nodeType&&(ne=et.skip);var wt,Vt=this.top,an=this.needsBlock;if(es.hasOwnProperty(Me))wt=!0,Vt.type||(this.needsBlock=!0);else if(!ne.firstChild)return void this.leafFallback(ne);this.addAll(ne),wt&&this.sync(Vt),this.needsBlock=an}else this.addElementByRule(ne,et,!1===et.consuming?he:null)},ee.prototype.leafFallback=function(ne){"BR"==ne.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(ne.ownerDocument.createTextNode("\n"))},ee.prototype.ignoreFallback=function(ne){"BR"==ne.nodeName&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))},ee.prototype.readStyles=function(ne){var X=ye.none;e:for(var Me=0;Me<ne.length;Me+=2)for(var he=null;;){var et=this.parser.matchStyle(ne[Me],ne[Me+1],this,he);if(!et)continue e;if(et.ignore)return null;if(X=this.parser.schema.marks[et.mark].create(et.attrs).addToSet(X),!1!==et.consuming)break;he=et}return X},ee.prototype.addElementByRule=function(ne,X,Me){var et,wt,an,he=this;X.node?(wt=this.parser.schema.nodes[X.node]).isLeaf?this.insertNode(wt.create(X.attrs))||this.leafFallback(ne):et=this.enter(wt,X.attrs,X.preserveWhitespace):(an=this.parser.schema.marks[X.mark].create(X.attrs),this.addPendingMark(an));var wn=this.top;if(wt&&wt.isLeaf)this.findInside(ne);else if(Me)this.addElement(ne,Me);else if(X.getContent)this.findInside(ne),X.getContent(ne,this.parser.schema).forEach(function(qr){return he.insertNode(qr)});else{var In=X.contentElement;"string"==typeof In?In=ne.querySelector(In):"function"==typeof In&&(In=In(ne)),In||(In=ne),this.findAround(ne,In,!0),this.addAll(In,et)}et&&(this.sync(wn),this.open--),an&&this.removePendingMark(an,wn)},ee.prototype.addAll=function(ne,X,Me,he){for(var et=Me||0,wt=Me?ne.childNodes[Me]:ne.firstChild,Vt=null==he?null:ne.childNodes[he];wt!=Vt;wt=wt.nextSibling,++et)this.findAtPoint(ne,et),this.addDOM(wt),X&&es.hasOwnProperty(wt.nodeName.toLowerCase())&&this.sync(X);this.findAtPoint(ne,et)},ee.prototype.findPlace=function(ne){for(var X,Me,he=this.open;he>=0;he--){var et=this.nodes[he],wt=et.findWrapping(ne);if(wt&&(!X||X.length>wt.length)&&(X=wt,Me=et,!wt.length)||et.solid)break}if(!X)return!1;this.sync(Me);for(var Vt=0;Vt<X.length;Vt++)this.enterInner(X[Vt],null,!1);return!0},ee.prototype.insertNode=function(ne){if(ne.isInline&&this.needsBlock&&!this.top.type){var X=this.textblockFromContext();X&&this.enterInner(X)}if(this.findPlace(ne)){this.closeExtra();var Me=this.top;Me.applyPending(ne.type),Me.match&&(Me.match=Me.match.matchType(ne.type));for(var he=Me.activeMarks,et=0;et<ne.marks.length;et++)(!Me.type||Me.type.allowsMarkType(ne.marks[et].type))&&(he=ne.marks[et].addToSet(he));return Me.content.push(ne.mark(he)),!0}return!1},ee.prototype.enter=function(ne,X,Me){var he=this.findPlace(ne.create(X));return he&&this.enterInner(ne,X,!0,Me),he},ee.prototype.enterInner=function(ne,X,Me,he){this.closeExtra();var et=this.top;et.applyPending(ne),et.match=et.match&&et.match.matchType(ne,X);var wt=null==he?-5&et.options:Wr(he);4&et.options&&0==et.content.length&&(wt|=4),this.nodes.push(new dt(ne,X,et.activeMarks,et.pendingMarks,Me,null,wt)),this.open++},ee.prototype.closeExtra=function(ne){var X=this.nodes.length-1;if(X>this.open){for(;X>this.open;X--)this.nodes[X-1].content.push(this.nodes[X].finish(ne));this.nodes.length=this.open+1}},ee.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},ee.prototype.sync=function(ne){for(var X=this.open;X>=0;X--)if(this.nodes[X]==ne)return void(this.open=X)},se.currentPos.get=function(){this.closeExtra();for(var De=0,ne=this.open;ne>=0;ne--){for(var X=this.nodes[ne].content,Me=X.length-1;Me>=0;Me--)De+=X[Me].nodeSize;ne&&De++}return De},ee.prototype.findAtPoint=function(ne,X){if(this.find)for(var Me=0;Me<this.find.length;Me++)this.find[Me].node==ne&&this.find[Me].offset==X&&(this.find[Me].pos=this.currentPos)},ee.prototype.findInside=function(ne){if(this.find)for(var X=0;X<this.find.length;X++)null==this.find[X].pos&&1==ne.nodeType&&ne.contains(this.find[X].node)&&(this.find[X].pos=this.currentPos)},ee.prototype.findAround=function(ne,X,Me){if(ne!=X&&this.find)for(var he=0;he<this.find.length;he++)null==this.find[he].pos&&1==ne.nodeType&&ne.contains(this.find[he].node)&&X.compareDocumentPosition(this.find[he].node)&(Me?2:4)&&(this.find[he].pos=this.currentPos)},ee.prototype.findInText=function(ne){if(this.find)for(var X=0;X<this.find.length;X++)this.find[X].node==ne&&(this.find[X].pos=this.currentPos-(ne.nodeValue.length-this.find[X].offset))},ee.prototype.matchesContext=function(ne){var X=this;if(ne.indexOf("|")>-1)return ne.split(/\s*\|\s*/).some(this.matchesContext,this);var Me=ne.split("/"),he=this.options.context,et=!(this.isOpen||he&&he.parent.type!=this.nodes[0].type),wt=(et?0:1)-(he?he.depth+1:0),Vt=function(an,wn){for(;an>=0;an--){var In=Me[an];if(""==In){if(an==Me.length-1||0==an)continue;for(;wn>=wt;wn--)if(Vt(an-1,wn))return!0;return!1}var qr=wn>0||0==wn&&et?X.nodes[wn].type:he&&wn>=wt?he.node(wn-wt).type:null;if(!qr||qr.name!=In&&-1==qr.groups.indexOf(In))return!1;wn--}return!0};return Vt(Me.length-1,this.open)},ee.prototype.textblockFromContext=function(){var ne=this.options.context;if(ne)for(var X=ne.depth;X>=0;X--){var Me=ne.node(X).contentMatchAt(ne.indexAfter(X)).defaultType;if(Me&&Me.isTextblock&&Me.defaultAttrs)return Me}for(var he in this.parser.schema.nodes){var et=this.parser.schema.nodes[he];if(et.isTextblock&&et.defaultAttrs)return et}},ee.prototype.addPendingMark=function(ne){var X=function(De,ne){for(var X=0;X<ne.length;X++)if(De.eq(ne[X]))return ne[X]}(ne,this.top.pendingMarks);X&&this.top.stashMarks.push(X),this.top.pendingMarks=ne.addToSet(this.top.pendingMarks)},ee.prototype.removePendingMark=function(ne,X){for(var Me=this.open;Me>=0;Me--){var he=this.nodes[Me];if(he.pendingMarks.lastIndexOf(ne)>-1)he.pendingMarks=ne.removeFromSet(he.pendingMarks);else{he.activeMarks=ne.removeFromSet(he.activeMarks);var wt=he.popFromStashMark(ne);wt&&he.type&&he.type.allowsMarkType(wt.type)&&(he.activeMarks=wt.addToSet(he.activeMarks))}if(he==X)break}},Object.defineProperties(ee.prototype,se);var lr=function(ne,X){this.nodes=ne||{},this.marks=X||{}};function Wn(De){var ne={};for(var X in De){var Me=De[X].spec.toDOM;Me&&(ne[X]=Me)}return ne}function $r(De){return De.document||window.document}lr.prototype.serializeFragment=function(ne,X,Me){var he=this;void 0===X&&(X={}),Me||(Me=$r(X).createDocumentFragment());var et=Me,wt=null;return ne.forEach(function(Vt){if(wt||Vt.marks.length){wt||(wt=[]);for(var an=0,wn=0;an<wt.length&&wn<Vt.marks.length;){var In=Vt.marks[wn];if(he.marks[In.type.name]){if(!In.eq(wt[an])||!1===In.type.spec.spanning)break;an+=2,wn++}else wn++}for(;an<wt.length;)et=wt.pop(),wt.pop();for(;wn<Vt.marks.length;){var qr=Vt.marks[wn++],mr=he.serializeMark(qr,Vt.isInline,X);mr&&(wt.push(qr,et),et.appendChild(mr.dom),et=mr.contentDOM||mr.dom)}}et.appendChild(he.serializeNodeInner(Vt,X))}),Me},lr.prototype.serializeNodeInner=function(ne,X){void 0===X&&(X={});var Me=lr.renderSpec($r(X),this.nodes[ne.type.name](ne)),he=Me.dom,et=Me.contentDOM;if(et){if(ne.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");X.onContent?X.onContent(ne,et,X):this.serializeFragment(ne.content,X,et)}return he},lr.prototype.serializeNode=function(ne,X){void 0===X&&(X={});for(var Me=this.serializeNodeInner(ne,X),he=ne.marks.length-1;he>=0;he--){var et=this.serializeMark(ne.marks[he],ne.isInline,X);et&&((et.contentDOM||et.dom).appendChild(Me),Me=et.dom)}return Me},lr.prototype.serializeMark=function(ne,X,Me){void 0===Me&&(Me={});var he=this.marks[ne.type.name];return he&&lr.renderSpec($r(Me),he(ne,X))},lr.renderSpec=function(ne,X,Me){if(void 0===Me&&(Me=null),"string"==typeof X)return{dom:ne.createTextNode(X)};if(null!=X.nodeType)return{dom:X};if(X.dom&&null!=X.dom.nodeType)return X;var he=X[0],et=he.indexOf(" ");et>0&&(Me=he.slice(0,et),he=he.slice(et+1));var wt=null,Vt=Me?ne.createElementNS(Me,he):ne.createElement(he),an=X[1],wn=1;if(an&&"object"==typeof an&&null==an.nodeType&&!Array.isArray(an))for(var In in wn=2,an)if(null!=an[In]){var qr=In.indexOf(" ");qr>0?Vt.setAttributeNS(In.slice(0,qr),In.slice(qr+1),an[In]):Vt.setAttribute(In,an[In])}for(var mr=wn;mr<X.length;mr++){var Sn=X[mr];if(0===Sn){if(mr<X.length-1||mr>wn)throw new RangeError("Content hole must be the only child of its parent node");return{dom:Vt,contentDOM:Vt}}var or=lr.renderSpec(ne,Sn,Me),ci=or.contentDOM;if(Vt.appendChild(or.dom),ci){if(wt)throw new RangeError("Multiple content holes");wt=ci}}return{dom:Vt,contentDOM:wt}},lr.fromSchema=function(ne){return ne.cached.domSerializer||(ne.cached.domSerializer=new lr(this.nodesFromSchema(ne),this.marksFromSchema(ne)))},lr.nodesFromSchema=function(ne){var X=Wn(ne.nodes);return X.text||(X.text=function(Me){return Me.text}),X},lr.marksFromSchema=function(ne){return Wn(ne.marks)}},3751:(An,zt,$e)=>{"use strict";$e.d(zt,{C1:()=>ye,yy:()=>ht,qv:()=>Ie,Sy:()=>xt,H$:()=>Gt,Y1:()=>Ze,xm:()=>Pe,Bs:()=>Ve});var C=$e(7358),le=$e(8364),Ct=Object.create(null),Ze=function(Se,Tt,vt){this.ranges=vt||[new Pe(Se.min(Tt),Se.max(Tt))],this.$anchor=Se,this.$head=Tt},Ne={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};Ne.anchor.get=function(){return this.$anchor.pos},Ne.head.get=function(){return this.$head.pos},Ne.from.get=function(){return this.$from.pos},Ne.to.get=function(){return this.$to.pos},Ne.$from.get=function(){return this.ranges[0].$from},Ne.$to.get=function(){return this.ranges[0].$to},Ne.empty.get=function(){for(var Et=this.ranges,Se=0;Se<Et.length;Se++)if(Et[Se].$from.pos!=Et[Se].$to.pos)return!1;return!0},Ze.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},Ze.prototype.replace=function(Se,Tt){void 0===Tt&&(Tt=C.p2.empty);for(var vt=Tt.content.lastChild,ke=null,tt=0;tt<Tt.openEnd;tt++)ke=vt,vt=vt.lastChild;for(var Ue=Se.steps.length,qt=this.ranges,Jt=0;Jt<qt.length;Jt++){var rt=qt[Jt],at=rt.$from,Ke=rt.$to,st=Se.mapping.slice(Ue);Se.replaceRange(st.map(at.pos),st.map(Ke.pos),Jt?C.p2.empty:Tt),0==Jt&&Be(Se,Ue,(vt?vt.isInline:ke&&ke.isTextblock)?-1:1)}},Ze.prototype.replaceWith=function(Se,Tt){for(var vt=Se.steps.length,ke=this.ranges,tt=0;tt<ke.length;tt++){var Ue=ke[tt],qt=Ue.$from,Jt=Ue.$to,rt=Se.mapping.slice(vt),at=rt.map(qt.pos),Ke=rt.map(Jt.pos);tt?Se.deleteRange(at,Ke):(Se.replaceRangeWith(at,Ke,Tt),Be(Se,vt,Tt.isInline?-1:1))}},Ze.findFrom=function(Se,Tt,vt){var ke=Se.parent.inlineContent?new Ve(Se):Fe(Se.node(0),Se.parent,Se.pos,Se.index(),Tt,vt);if(ke)return ke;for(var tt=Se.depth-1;tt>=0;tt--){var Ue=Tt<0?Fe(Se.node(0),Se.node(tt),Se.before(tt+1),Se.index(tt),Tt,vt):Fe(Se.node(0),Se.node(tt),Se.after(tt+1),Se.index(tt)+1,Tt,vt);if(Ue)return Ue}},Ze.near=function(Se,Tt){return void 0===Tt&&(Tt=1),this.findFrom(Se,Tt)||this.findFrom(Se,-Tt)||new ye(Se.node(0))},Ze.atStart=function(Se){return Fe(Se,Se,0,0,1)||new ye(Se)},Ze.atEnd=function(Se){return Fe(Se,Se,Se.content.size,Se.childCount,-1)||new ye(Se)},Ze.fromJSON=function(Se,Tt){if(!Tt||!Tt.type)throw new RangeError("Invalid input for Selection.fromJSON");var vt=Ct[Tt.type];if(!vt)throw new RangeError("No selection type "+Tt.type+" defined");return vt.fromJSON(Se,Tt)},Ze.jsonID=function(Se,Tt){if(Se in Ct)throw new RangeError("Duplicate use of selection JSON ID "+Se);return Ct[Se]=Tt,Tt.prototype.jsonID=Se,Tt},Ze.prototype.getBookmark=function(){return Ve.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(Ze.prototype,Ne),Ze.prototype.visible=!0;var Pe=function(Se,Tt){this.$from=Se,this.$to=Tt},Ve=function(Et){function Se(vt,ke){void 0===ke&&(ke=vt),Et.call(this,vt,ke)}Et&&(Se.__proto__=Et),(Se.prototype=Object.create(Et&&Et.prototype)).constructor=Se;var Tt={$cursor:{configurable:!0}};return Tt.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},Se.prototype.map=function(ke,tt){var Ue=ke.resolve(tt.map(this.head));if(!Ue.parent.inlineContent)return Et.near(Ue);var qt=ke.resolve(tt.map(this.anchor));return new Se(qt.parent.inlineContent?qt:Ue,Ue)},Se.prototype.replace=function(ke,tt){if(void 0===tt&&(tt=C.p2.empty),Et.prototype.replace.call(this,ke,tt),tt==C.p2.empty){var Ue=this.$from.marksAcross(this.$to);Ue&&ke.ensureMarks(Ue)}},Se.prototype.eq=function(ke){return ke instanceof Se&&ke.anchor==this.anchor&&ke.head==this.head},Se.prototype.getBookmark=function(){return new ve(this.anchor,this.head)},Se.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},Se.fromJSON=function(ke,tt){if("number"!=typeof tt.anchor||"number"!=typeof tt.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new Se(ke.resolve(tt.anchor),ke.resolve(tt.head))},Se.create=function(ke,tt,Ue){void 0===Ue&&(Ue=tt);var qt=ke.resolve(tt);return new this(qt,Ue==tt?qt:ke.resolve(Ue))},Se.between=function(ke,tt,Ue){var qt=ke.pos-tt.pos;if((!Ue||qt)&&(Ue=qt>=0?1:-1),!tt.parent.inlineContent){var Jt=Et.findFrom(tt,Ue,!0)||Et.findFrom(tt,-Ue,!0);if(!Jt)return Et.near(tt,Ue);tt=Jt.$head}return ke.parent.inlineContent||(0==qt||(ke=(Et.findFrom(ke,-Ue,!0)||Et.findFrom(ke,Ue,!0)).$anchor).pos<tt.pos!=qt<0)&&(ke=tt),new Se(ke,tt)},Object.defineProperties(Se.prototype,Tt),Se}(Ze);Ze.jsonID("text",Ve);var ve=function(Se,Tt){this.anchor=Se,this.head=Tt};ve.prototype.map=function(Se){return new ve(Se.map(this.anchor),Se.map(this.head))},ve.prototype.resolve=function(Se){return Ve.between(Se.resolve(this.anchor),Se.resolve(this.head))};var Ie=function(Et){function Se(Tt){var vt=Tt.nodeAfter,ke=Tt.node(0).resolve(Tt.pos+vt.nodeSize);Et.call(this,Tt,ke),this.node=vt}return Et&&(Se.__proto__=Et),(Se.prototype=Object.create(Et&&Et.prototype)).constructor=Se,Se.prototype.map=function(vt,ke){var tt=ke.mapResult(this.anchor),Ue=tt.deleted,Jt=vt.resolve(tt.pos);return Ue?Et.near(Jt):new Se(Jt)},Se.prototype.content=function(){return new C.p2(C.HY.from(this.node),0,0)},Se.prototype.eq=function(vt){return vt instanceof Se&&vt.anchor==this.anchor},Se.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},Se.prototype.getBookmark=function(){return new Ce(this.anchor)},Se.fromJSON=function(vt,ke){if("number"!=typeof ke.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Se(vt.resolve(ke.anchor))},Se.create=function(vt,ke){return new this(vt.resolve(ke))},Se.isSelectable=function(vt){return!vt.isText&&!1!==vt.type.spec.selectable},Se}(Ze);Ie.prototype.visible=!1,Ze.jsonID("node",Ie);var Ce=function(Se){this.anchor=Se};Ce.prototype.map=function(Se){var Tt=Se.mapResult(this.anchor),ke=Tt.pos;return Tt.deleted?new ve(ke,ke):new Ce(ke)},Ce.prototype.resolve=function(Se){var Tt=Se.resolve(this.anchor),vt=Tt.nodeAfter;return vt&&Ie.isSelectable(vt)?new Ie(Tt):Ze.near(Tt)};var ye=function(Et){function Se(Tt){Et.call(this,Tt.resolve(0),Tt.resolve(Tt.content.size))}return Et&&(Se.__proto__=Et),(Se.prototype=Object.create(Et&&Et.prototype)).constructor=Se,Se.prototype.replace=function(vt,ke){if(void 0===ke&&(ke=C.p2.empty),ke==C.p2.empty){vt.delete(0,vt.doc.content.size);var tt=Et.atStart(vt.doc);tt.eq(vt.selection)||vt.setSelection(tt)}else Et.prototype.replace.call(this,vt,ke)},Se.prototype.toJSON=function(){return{type:"all"}},Se.fromJSON=function(vt){return new Se(vt)},Se.prototype.map=function(vt){return new Se(vt)},Se.prototype.eq=function(vt){return vt instanceof Se},Se.prototype.getBookmark=function(){return Re},Se}(Ze);Ze.jsonID("all",ye);var Re={map:function(){return this},resolve:function(Se){return new ye(Se)}};function Fe(Et,Se,Tt,vt,ke,tt){if(Se.inlineContent)return Ve.create(Et,Tt);for(var Ue=vt-(ke>0?0:1);ke>0?Ue<Se.childCount:Ue>=0;Ue+=ke){var qt=Se.child(Ue);if(qt.isAtom){if(!tt&&Ie.isSelectable(qt))return Ie.create(Et,Tt-(ke<0?qt.nodeSize:0))}else{var Jt=Fe(Et,qt,Tt+ke,ke<0?qt.childCount:0,ke,tt);if(Jt)return Jt}Tt+=qt.nodeSize*ke}}function Be(Et,Se,Tt){var vt=Et.steps.length-1;if(!(vt<Se)){var Ue,ke=Et.steps[vt];(ke instanceof le.ReplaceStep||ke instanceof le.ReplaceAroundStep)&&(Et.mapping.maps[vt].forEach(function(qt,Jt,rt,at){null==Ue&&(Ue=at)}),Et.setSelection(Ze.near(Et.doc.resolve(Ue),Tt)))}}var je=function(Et){function Se(vt){Et.call(this,vt.doc),this.time=Date.now(),this.curSelection=vt.selection,this.curSelectionFor=0,this.storedMarks=vt.storedMarks,this.updated=0,this.meta=Object.create(null)}Et&&(Se.__proto__=Et),(Se.prototype=Object.create(Et&&Et.prototype)).constructor=Se;var Tt={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return Tt.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},Se.prototype.setSelection=function(ke){if(ke.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=ke,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this},Tt.selectionSet.get=function(){return(1&this.updated)>0},Se.prototype.setStoredMarks=function(ke){return this.storedMarks=ke,this.updated|=2,this},Se.prototype.ensureMarks=function(ke){return C.vc.sameSet(this.storedMarks||this.selection.$from.marks(),ke)||this.setStoredMarks(ke),this},Se.prototype.addStoredMark=function(ke){return this.ensureMarks(ke.addToSet(this.storedMarks||this.selection.$head.marks()))},Se.prototype.removeStoredMark=function(ke){return this.ensureMarks(ke.removeFromSet(this.storedMarks||this.selection.$head.marks()))},Tt.storedMarksSet.get=function(){return(2&this.updated)>0},Se.prototype.addStep=function(ke,tt){Et.prototype.addStep.call(this,ke,tt),this.updated=-3&this.updated,this.storedMarks=null},Se.prototype.setTime=function(ke){return this.time=ke,this},Se.prototype.replaceSelection=function(ke){return this.selection.replace(this,ke),this},Se.prototype.replaceSelectionWith=function(ke,tt){var Ue=this.selection;return!1!==tt&&(ke=ke.mark(this.storedMarks||(Ue.empty?Ue.$from.marks():Ue.$from.marksAcross(Ue.$to)||C.vc.none))),Ue.replaceWith(this,ke),this},Se.prototype.deleteSelection=function(){return this.selection.replace(this),this},Se.prototype.insertText=function(ke,tt,Ue){void 0===Ue&&(Ue=tt);var qt=this.doc.type.schema;if(null==tt)return ke?this.replaceSelectionWith(qt.text(ke),!0):this.deleteSelection();if(!ke)return this.deleteRange(tt,Ue);var Jt=this.storedMarks;if(!Jt){var rt=this.doc.resolve(tt);Jt=Ue==tt?rt.marks():rt.marksAcross(this.doc.resolve(Ue))}return this.replaceRangeWith(tt,Ue,qt.text(ke,Jt)),this.selection.empty||this.setSelection(Ze.near(this.selection.$to)),this},Se.prototype.setMeta=function(ke,tt){return this.meta["string"==typeof ke?ke:ke.key]=tt,this},Se.prototype.getMeta=function(ke){return this.meta["string"==typeof ke?ke:ke.key]},Tt.isGeneric.get=function(){for(var vt in this.meta)return!1;return!0},Se.prototype.scrollIntoView=function(){return this.updated|=4,this},Tt.scrolledIntoView.get=function(){return(4&this.updated)>0},Object.defineProperties(Se.prototype,Tt),Se}(le.Transform);function ut(Et,Se){return Se&&Et?Et.bind(Se):Et}var ft=function(Se,Tt,vt){this.name=Se,this.init=ut(Tt.init,vt),this.apply=ut(Tt.apply,vt)},Mt=[new ft("doc",{init:function(Se){return Se.doc||Se.schema.topNodeType.createAndFill()},apply:function(Se){return Se.doc}}),new ft("selection",{init:function(Se,Tt){return Se.selection||Ze.atStart(Tt.doc)},apply:function(Se){return Se.selection}}),new ft("storedMarks",{init:function(Se){return Se.storedMarks||null},apply:function(Se,Tt,vt,ke){return ke.selection.$cursor?Se.storedMarks:null}}),new ft("scrollToSelection",{init:function(){return 0},apply:function(Se,Tt){return Se.scrolledIntoView?Tt+1:Tt}})],Nt=function(Se,Tt){var vt=this;this.schema=Se,this.fields=Mt.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),Tt&&Tt.forEach(function(ke){if(vt.pluginsByKey[ke.key])throw new RangeError("Adding different instances of a keyed plugin ("+ke.key+")");vt.plugins.push(ke),vt.pluginsByKey[ke.key]=ke,ke.spec.state&&vt.fields.push(new ft(ke.key,ke.spec.state,ke))})},ht=function(Se){this.config=Se},St={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};St.schema.get=function(){return this.config.schema},St.plugins.get=function(){return this.config.plugins},ht.prototype.apply=function(Se){return this.applyTransaction(Se).state},ht.prototype.filterTransaction=function(Se,Tt){void 0===Tt&&(Tt=-1);for(var vt=0;vt<this.config.plugins.length;vt++)if(vt!=Tt){var ke=this.config.plugins[vt];if(ke.spec.filterTransaction&&!ke.spec.filterTransaction.call(ke,Se,this))return!1}return!0},ht.prototype.applyTransaction=function(Se){if(!this.filterTransaction(Se))return{state:this,transactions:[]};for(var Tt=[Se],vt=this.applyInner(Se),ke=null;;){for(var tt=!1,Ue=0;Ue<this.config.plugins.length;Ue++){var qt=this.config.plugins[Ue];if(qt.spec.appendTransaction){var Jt=ke?ke[Ue].n:0,rt=ke?ke[Ue].state:this,at=Jt<Tt.length&&qt.spec.appendTransaction.call(qt,Jt?Tt.slice(Jt):Tt,rt,vt);if(at&&vt.filterTransaction(at,Ue)){if(at.setMeta("appendedTransaction",Se),!ke){ke=[];for(var Ke=0;Ke<this.config.plugins.length;Ke++)ke.push(Ke<Ue?{state:vt,n:Tt.length}:{state:this,n:0})}Tt.push(at),vt=vt.applyInner(at),tt=!0}ke&&(ke[Ue]={state:vt,n:Tt.length})}}if(!tt)return{state:vt,transactions:Tt}}},ht.prototype.applyInner=function(Se){if(!Se.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var Tt=new ht(this.config),vt=this.config.fields,ke=0;ke<vt.length;ke++){var tt=vt[ke];Tt[tt.name]=tt.apply(Se,this[tt.name],this,Tt)}for(var Ue=0;Ue<Wt.length;Ue++)Wt[Ue](this,Se,Tt);return Tt},St.tr.get=function(){return new je(this)},ht.create=function(Se){for(var Tt=new Nt(Se.doc?Se.doc.type.schema:Se.schema,Se.plugins),vt=new ht(Tt),ke=0;ke<Tt.fields.length;ke++)vt[Tt.fields[ke].name]=Tt.fields[ke].init(Se,vt);return vt},ht.prototype.reconfigure=function(Se){for(var Tt=new Nt(this.schema,Se.plugins),vt=Tt.fields,ke=new ht(Tt),tt=0;tt<vt.length;tt++){var Ue=vt[tt].name;ke[Ue]=this.hasOwnProperty(Ue)?this[Ue]:vt[tt].init(Se,ke)}return ke},ht.prototype.toJSON=function(Se){var Tt={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(Tt.storedMarks=this.storedMarks.map(function(Ue){return Ue.toJSON()})),Se&&"object"==typeof Se)for(var vt in Se){if("doc"==vt||"selection"==vt)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var ke=Se[vt],tt=ke.spec.state;tt&&tt.toJSON&&(Tt[vt]=tt.toJSON.call(ke,this[ke.key]))}return Tt},ht.fromJSON=function(Se,Tt,vt){if(!Tt)throw new RangeError("Invalid input for EditorState.fromJSON");if(!Se.schema)throw new RangeError("Required config field 'schema' missing");var ke=new Nt(Se.schema,Se.plugins),tt=new ht(ke);return ke.fields.forEach(function(Ue){if("doc"==Ue.name)tt.doc=C.NB.fromJSON(Se.schema,Tt.doc);else if("selection"==Ue.name)tt.selection=Ze.fromJSON(tt.doc,Tt.selection);else if("storedMarks"==Ue.name)Tt.storedMarks&&(tt.storedMarks=Tt.storedMarks.map(Se.schema.markFromJSON));else{if(vt)for(var qt in vt){var Jt=vt[qt],rt=Jt.spec.state;if(Jt.key==Ue.name&&rt&&rt.fromJSON&&Object.prototype.hasOwnProperty.call(Tt,qt))return void(tt[Ue.name]=rt.fromJSON.call(Jt,Se,Tt[qt],tt))}tt[Ue.name]=Ue.init(Se,tt)}}),tt},ht.addApplyListener=function(Se){Wt.push(Se)},ht.removeApplyListener=function(Se){var Tt=Wt.indexOf(Se);Tt>-1&&Wt.splice(Tt,1)},Object.defineProperties(ht.prototype,St);var Wt=[];function bn(Et,Se,Tt){for(var vt in Et){var ke=Et[vt];ke instanceof Function?ke=ke.bind(Se):"handleDOMEvents"==vt&&(ke=bn(ke,Se,{})),Tt[vt]=ke}return Tt}var xt=function(Se){this.props={},Se.props&&bn(Se.props,this,this.props),this.spec=Se,this.key=Se.key?Se.key.key:Ht("plugin")};xt.prototype.getState=function(Se){return Se[this.key]};var Ot=Object.create(null);function Ht(Et){return Et in Ot?Et+"$"+ ++Ot[Et]:(Ot[Et]=0,Et+"$")}var Gt=function(Se){void 0===Se&&(Se="key"),this.key=Ht(Se)};Gt.prototype.get=function(Se){return Se.config.pluginsByKey[this.key]},Gt.prototype.getState=function(Se){return Se[this.key]}},8364:(An,zt,$e)=>{"use strict";$e.r(zt),$e.d(zt,{AddMarkStep:()=>vt,MapResult:()=>Ve,Mapping:()=>Ie,RemoveMarkStep:()=>ke,ReplaceAroundStep:()=>je,ReplaceStep:()=>Qe,Step:()=>pt,StepMap:()=>ve,StepResult:()=>Te,Transform:()=>ye,TransformError:()=>Ce,canJoin:()=>Ot,canSplit:()=>xt,dropPoint:()=>Se,findWrapping:()=>Nt,insertPoint:()=>Et,joinPoint:()=>Gt,liftTarget:()=>Mt,replaceStep:()=>tt});var C=$e(7358),Ct=Math.pow(2,16);function Ze(be,fe){return be+fe*Ct}function Ne(be){return 65535&be}var Ve=function(fe,we,Ae){void 0===we&&(we=!1),void 0===Ae&&(Ae=null),this.pos=fe,this.deleted=we,this.recover=Ae},ve=function(fe,we){void 0===we&&(we=!1),this.ranges=fe,this.inverted=we};ve.prototype.recover=function(fe){var be,we=0,Ae=Ne(fe);if(!this.inverted)for(var Ge=0;Ge<Ae;Ge++)we+=this.ranges[3*Ge+2]-this.ranges[3*Ge+1];return this.ranges[3*Ae]+we+((be=fe)-(65535&be))/Ct},ve.prototype.mapResult=function(fe,we){return void 0===we&&(we=1),this._map(fe,we,!1)},ve.prototype.map=function(fe,we){return void 0===we&&(we=1),this._map(fe,we,!0)},ve.prototype._map=function(fe,we,Ae){for(var Ge=0,K=this.inverted?2:1,te=this.inverted?1:2,ge=0;ge<this.ranges.length;ge+=3){var Le=this.ranges[ge]-(this.inverted?Ge:0);if(Le>fe)break;var Xe=this.ranges[ge+K],lt=this.ranges[ge+te],Rt=Le+Xe;if(fe<=Rt){var Dn=Le+Ge+((Xe?fe==Le?-1:fe==Rt?1:we:we)<0?0:lt);if(Ae)return Dn;var Ln=fe==(we<0?Le:Rt)?null:Ze(ge/3,fe-Le);return new Ve(Dn,we<0?fe!=Le:fe!=Rt,Ln)}Ge+=lt-Xe}return Ae?fe+Ge:new Ve(fe+Ge)},ve.prototype.touches=function(fe,we){for(var Ae=0,Ge=Ne(we),K=this.inverted?2:1,te=this.inverted?1:2,ge=0;ge<this.ranges.length;ge+=3){var Le=this.ranges[ge]-(this.inverted?Ae:0);if(Le>fe)break;var Xe=this.ranges[ge+K];if(fe<=Le+Xe&&ge==3*Ge)return!0;Ae+=this.ranges[ge+te]-Xe}return!1},ve.prototype.forEach=function(fe){for(var we=this.inverted?2:1,Ae=this.inverted?1:2,Ge=0,K=0;Ge<this.ranges.length;Ge+=3){var te=this.ranges[Ge],ge=te-(this.inverted?K:0),Le=te+(this.inverted?0:K),Xe=this.ranges[Ge+we],lt=this.ranges[Ge+Ae];fe(ge,ge+Xe,Le,Le+lt),K+=lt-Xe}},ve.prototype.invert=function(){return new ve(this.ranges,!this.inverted)},ve.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},ve.offset=function(fe){return 0==fe?ve.empty:new ve(fe<0?[0,-fe,0]:[0,0,fe])},ve.empty=new ve([]);var Ie=function(fe,we,Ae,Ge){this.maps=fe||[],this.from=Ae||0,this.to=null==Ge?this.maps.length:Ge,this.mirror=we};function Ce(be){var fe=Error.call(this,be);return fe.__proto__=Ce.prototype,fe}Ie.prototype.slice=function(fe,we){return void 0===fe&&(fe=0),void 0===we&&(we=this.maps.length),new Ie(this.maps,this.mirror,fe,we)},Ie.prototype.copy=function(){return new Ie(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},Ie.prototype.appendMap=function(fe,we){this.to=this.maps.push(fe),null!=we&&this.setMirror(this.maps.length-1,we)},Ie.prototype.appendMapping=function(fe){for(var we=0,Ae=this.maps.length;we<fe.maps.length;we++){var Ge=fe.getMirror(we);this.appendMap(fe.maps[we],null!=Ge&&Ge<we?Ae+Ge:null)}},Ie.prototype.getMirror=function(fe){if(this.mirror)for(var we=0;we<this.mirror.length;we++)if(this.mirror[we]==fe)return this.mirror[we+(we%2?-1:1)]},Ie.prototype.setMirror=function(fe,we){this.mirror||(this.mirror=[]),this.mirror.push(fe,we)},Ie.prototype.appendMappingInverted=function(fe){for(var we=fe.maps.length-1,Ae=this.maps.length+fe.maps.length;we>=0;we--){var Ge=fe.getMirror(we);this.appendMap(fe.maps[we].invert(),null!=Ge&&Ge>we?Ae-Ge-1:null)}},Ie.prototype.invert=function(){var fe=new Ie;return fe.appendMappingInverted(this),fe},Ie.prototype.map=function(fe,we){if(void 0===we&&(we=1),this.mirror)return this._map(fe,we,!0);for(var Ae=this.from;Ae<this.to;Ae++)fe=this.maps[Ae].map(fe,we);return fe},Ie.prototype.mapResult=function(fe,we){return void 0===we&&(we=1),this._map(fe,we,!1)},Ie.prototype._map=function(fe,we,Ae){for(var Ge=!1,K=this.from;K<this.to;K++){var ge=this.maps[K].mapResult(fe,we);if(null!=ge.recover){var Le=this.getMirror(K);if(null!=Le&&Le>K&&Le<this.to){K=Le,fe=this.maps[Le].recover(ge.recover);continue}}ge.deleted&&(Ge=!0),fe=ge.pos}return Ae?fe:new Ve(fe,Ge)},(Ce.prototype=Object.create(Error.prototype)).constructor=Ce,Ce.prototype.name="TransformError";var ye=function(fe){this.doc=fe,this.steps=[],this.docs=[],this.mapping=new Ie},Re={before:{configurable:!0},docChanged:{configurable:!0}};function Fe(){throw new Error("Override me")}Re.before.get=function(){return this.docs.length?this.docs[0]:this.doc},ye.prototype.step=function(fe){var we=this.maybeStep(fe);if(we.failed)throw new Ce(we.failed);return this},ye.prototype.maybeStep=function(fe){var we=fe.apply(this.doc);return we.failed||this.addStep(fe,we.doc),we},Re.docChanged.get=function(){return this.steps.length>0},ye.prototype.addStep=function(fe,we){this.docs.push(this.doc),this.steps.push(fe),this.mapping.appendMap(fe.getMap()),this.doc=we},Object.defineProperties(ye.prototype,Re);var Be=Object.create(null),pt=function(){};pt.prototype.apply=function(fe){return Fe()},pt.prototype.getMap=function(){return ve.empty},pt.prototype.invert=function(fe){return Fe()},pt.prototype.map=function(fe){return Fe()},pt.prototype.merge=function(fe){return null},pt.prototype.toJSON=function(){return Fe()},pt.fromJSON=function(fe,we){if(!we||!we.stepType)throw new RangeError("Invalid input for Step.fromJSON");var Ae=Be[we.stepType];if(!Ae)throw new RangeError("No step type "+we.stepType+" defined");return Ae.fromJSON(fe,we)},pt.jsonID=function(fe,we){if(fe in Be)throw new RangeError("Duplicate use of step JSON ID "+fe);return Be[fe]=we,we.prototype.jsonID=fe,we};var Te=function(fe,we){this.doc=fe,this.failed=we};Te.ok=function(fe){return new Te(fe,null)},Te.fail=function(fe){return new Te(null,fe)},Te.fromReplace=function(fe,we,Ae,Ge){try{return Te.ok(fe.replace(we,Ae,Ge))}catch(K){if(K instanceof C.e4)return Te.fail(K.message);throw K}};var Qe=function(be){function fe(we,Ae,Ge,K){be.call(this),this.from=we,this.to=Ae,this.slice=Ge,this.structure=!!K}return be&&(fe.__proto__=be),(fe.prototype=Object.create(be&&be.prototype)).constructor=fe,fe.prototype.apply=function(Ae){return this.structure&&ut(Ae,this.from,this.to)?Te.fail("Structure replace would overwrite content"):Te.fromReplace(Ae,this.from,this.to,this.slice)},fe.prototype.getMap=function(){return new ve([this.from,this.to-this.from,this.slice.size])},fe.prototype.invert=function(Ae){return new fe(this.from,this.from+this.slice.size,Ae.slice(this.from,this.to))},fe.prototype.map=function(Ae){var Ge=Ae.mapResult(this.from,1),K=Ae.mapResult(this.to,-1);return Ge.deleted&&K.deleted?null:new fe(Ge.pos,Math.max(Ge.pos,K.pos),this.slice)},fe.prototype.merge=function(Ae){if(!(Ae instanceof fe)||Ae.structure||this.structure)return null;if(this.from+this.slice.size!=Ae.from||this.slice.openEnd||Ae.slice.openStart){if(Ae.to!=this.from||this.slice.openStart||Ae.slice.openEnd)return null;var K=this.slice.size+Ae.slice.size==0?C.p2.empty:new C.p2(Ae.slice.content.append(this.slice.content),Ae.slice.openStart,this.slice.openEnd);return new fe(Ae.from,this.to,K,this.structure)}var Ge=this.slice.size+Ae.slice.size==0?C.p2.empty:new C.p2(this.slice.content.append(Ae.slice.content),this.slice.openStart,Ae.slice.openEnd);return new fe(this.from,this.to+(Ae.to-Ae.from),Ge,this.structure)},fe.prototype.toJSON=function(){var Ae={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(Ae.slice=this.slice.toJSON()),this.structure&&(Ae.structure=!0),Ae},fe.fromJSON=function(Ae,Ge){if("number"!=typeof Ge.from||"number"!=typeof Ge.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new fe(Ge.from,Ge.to,C.p2.fromJSON(Ae,Ge.slice),!!Ge.structure)},fe}(pt);pt.jsonID("replace",Qe);var je=function(be){function fe(we,Ae,Ge,K,te,ge,Le){be.call(this),this.from=we,this.to=Ae,this.gapFrom=Ge,this.gapTo=K,this.slice=te,this.insert=ge,this.structure=!!Le}return be&&(fe.__proto__=be),(fe.prototype=Object.create(be&&be.prototype)).constructor=fe,fe.prototype.apply=function(Ae){if(this.structure&&(ut(Ae,this.from,this.gapFrom)||ut(Ae,this.gapTo,this.to)))return Te.fail("Structure gap-replace would overwrite content");var Ge=Ae.slice(this.gapFrom,this.gapTo);if(Ge.openStart||Ge.openEnd)return Te.fail("Gap is not a flat range");var K=this.slice.insertAt(this.insert,Ge.content);return K?Te.fromReplace(Ae,this.from,this.to,K):Te.fail("Content does not fit in gap")},fe.prototype.getMap=function(){return new ve([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},fe.prototype.invert=function(Ae){var Ge=this.gapTo-this.gapFrom;return new fe(this.from,this.from+this.slice.size+Ge,this.from+this.insert,this.from+this.insert+Ge,Ae.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},fe.prototype.map=function(Ae){var Ge=Ae.mapResult(this.from,1),K=Ae.mapResult(this.to,-1),te=Ae.map(this.gapFrom,-1),ge=Ae.map(this.gapTo,1);return Ge.deleted&&K.deleted||te<Ge.pos||ge>K.pos?null:new fe(Ge.pos,K.pos,te,ge,this.slice,this.insert,this.structure)},fe.prototype.toJSON=function(){var Ae={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(Ae.slice=this.slice.toJSON()),this.structure&&(Ae.structure=!0),Ae},fe.fromJSON=function(Ae,Ge){if("number"!=typeof Ge.from||"number"!=typeof Ge.to||"number"!=typeof Ge.gapFrom||"number"!=typeof Ge.gapTo||"number"!=typeof Ge.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new fe(Ge.from,Ge.to,Ge.gapFrom,Ge.gapTo,C.p2.fromJSON(Ae,Ge.slice),Ge.insert,!!Ge.structure)},fe}(pt);function ut(be,fe,we){for(var Ae=be.resolve(fe),Ge=we-fe,K=Ae.depth;Ge>0&&K>0&&Ae.indexAfter(K)==Ae.node(K).childCount;)K--,Ge--;if(Ge>0)for(var te=Ae.node(K).maybeChild(Ae.indexAfter(K));Ge>0;){if(!te||te.isLeaf)return!0;te=te.firstChild,Ge--}return!1}function ft(be,fe,we){return(0==fe||be.canReplace(fe,be.childCount))&&(we==be.childCount||be.canReplace(0,we))}function Mt(be){for(var we=be.parent.content.cutByIndex(be.startIndex,be.endIndex),Ae=be.depth;;--Ae){var Ge=be.$from.node(Ae),K=be.$from.index(Ae),te=be.$to.indexAfter(Ae);if(Ae<be.depth&&Ge.canReplace(K,te,we))return Ae;if(0==Ae||Ge.type.spec.isolating||!ft(Ge,K,te))break}}function Nt(be,fe,we,Ae){void 0===Ae&&(Ae=be);var Ge=function(be,fe){var we=be.parent,Ae=be.startIndex,Ge=be.endIndex,K=we.contentMatchAt(Ae).findWrapping(fe);return K&&we.canReplaceWith(Ae,Ge,K.length?K[0]:fe)?K:null}(be,fe),K=Ge&&function(be,fe){var we=be.parent,Ae=be.startIndex,Ge=be.endIndex,K=we.child(Ae),te=fe.contentMatch.findWrapping(K.type);if(!te)return null;for(var Le=(te.length?te[te.length-1]:fe).contentMatch,Xe=Ae;Le&&Xe<Ge;Xe++)Le=Le.matchType(we.child(Xe).type);return Le&&Le.validEnd?te:null}(Ae,fe);return K?Ge.map(ht).concat({type:fe,attrs:we}).concat(K.map(ht)):null}function ht(be){return{type:be,attrs:null}}function xt(be,fe,we,Ae){void 0===we&&(we=1);var Ge=be.resolve(fe),K=Ge.depth-we,te=Ae&&Ae[Ae.length-1]||Ge.parent;if(K<0||Ge.parent.type.spec.isolating||!Ge.parent.canReplace(Ge.index(),Ge.parent.childCount)||!te.type.validContent(Ge.parent.content.cutByIndex(Ge.index(),Ge.parent.childCount)))return!1;for(var ge=Ge.depth-1,Le=we-2;ge>K;ge--,Le--){var Xe=Ge.node(ge),lt=Ge.index(ge);if(Xe.type.spec.isolating)return!1;var Rt=Xe.content.cutByIndex(lt,Xe.childCount),on=Ae&&Ae[Le]||Xe;if(on!=Xe&&(Rt=Rt.replaceChild(0,on.type.create(on.attrs))),!Xe.canReplace(lt+1,Xe.childCount)||!on.type.validContent(Rt))return!1}var Dn=Ge.indexAfter(K),Ln=Ae&&Ae[0];return Ge.node(K).canReplaceWith(Dn,Dn,Ln?Ln.type:Ge.node(K+1).type)}function Ot(be,fe){var we=be.resolve(fe),Ae=we.index();return Ht(we.nodeBefore,we.nodeAfter)&&we.parent.canReplace(Ae,Ae+1)}function Ht(be,fe){return be&&fe&&!be.isLeaf&&be.canAppend(fe)}function Gt(be,fe,we){void 0===we&&(we=-1);for(var Ae=be.resolve(fe),Ge=Ae.depth;;Ge--){var K=void 0,te=void 0,ge=Ae.index(Ge);if(Ge==Ae.depth?(K=Ae.nodeBefore,te=Ae.nodeAfter):we>0?(K=Ae.node(Ge+1),ge++,te=Ae.node(Ge).maybeChild(ge)):(K=Ae.node(Ge).maybeChild(ge-1),te=Ae.node(Ge+1)),K&&!K.isTextblock&&Ht(K,te)&&Ae.node(Ge).canReplace(ge,ge+1))return fe;if(0==Ge)break;fe=we<0?Ae.before(Ge):Ae.after(Ge)}}function Et(be,fe,we){var Ae=be.resolve(fe);if(Ae.parent.canReplaceWith(Ae.index(),Ae.index(),we))return fe;if(0==Ae.parentOffset)for(var Ge=Ae.depth-1;Ge>=0;Ge--){var K=Ae.index(Ge);if(Ae.node(Ge).canReplaceWith(K,K,we))return Ae.before(Ge+1);if(K>0)return null}if(Ae.parentOffset==Ae.parent.content.size)for(var te=Ae.depth-1;te>=0;te--){var ge=Ae.indexAfter(te);if(Ae.node(te).canReplaceWith(ge,ge,we))return Ae.after(te+1);if(ge<Ae.node(te).childCount)return null}}function Se(be,fe,we){var Ae=be.resolve(fe);if(!we.content.size)return fe;for(var Ge=we.content,K=0;K<we.openStart;K++)Ge=Ge.firstChild.content;for(var te=1;te<=(0==we.openStart&&we.size?2:1);te++)for(var ge=Ae.depth;ge>=0;ge--){var Le=ge==Ae.depth?0:Ae.pos<=(Ae.start(ge+1)+Ae.end(ge+1))/2?-1:1,Xe=Ae.index(ge)+(Le>0?1:0),lt=Ae.node(ge),Rt=!1;if(1==te)Rt=lt.canReplace(Xe,Xe,Ge);else{var on=lt.contentMatchAt(Xe).findWrapping(Ge.firstChild.type);Rt=on&&lt.canReplaceWith(Xe,Xe,on[0])}if(Rt)return 0==Le?Ae.pos:Le<0?Ae.before(ge+1):Ae.after(ge+1)}return null}function Tt(be,fe,we){for(var Ae=[],Ge=0;Ge<be.childCount;Ge++){var K=be.child(Ge);K.content.size&&(K=K.copy(Tt(K.content,fe,K))),K.isInline&&(K=fe(K,we,Ge)),Ae.push(K)}return C.HY.fromArray(Ae)}pt.jsonID("replaceAround",je),ye.prototype.lift=function(be,fe){for(var we=be.$from,Ae=be.$to,Ge=be.depth,K=we.before(Ge+1),te=Ae.after(Ge+1),ge=K,Le=te,Xe=C.HY.empty,lt=0,Rt=Ge,on=!1;Rt>fe;Rt--)on||we.index(Rt)>0?(on=!0,Xe=C.HY.from(we.node(Rt).copy(Xe)),lt++):ge--;for(var Dn=C.HY.empty,Ln=0,gn=Ge,en=!1;gn>fe;gn--)en||Ae.after(gn+1)<Ae.end(gn)?(en=!0,Dn=C.HY.from(Ae.node(gn).copy(Dn)),Ln++):Le++;return this.step(new je(ge,Le,K,te,new C.p2(Xe.append(Dn),lt,Ln),Xe.size-lt,!0))},ye.prototype.wrap=function(be,fe){for(var we=C.HY.empty,Ae=fe.length-1;Ae>=0;Ae--)we=C.HY.from(fe[Ae].type.create(fe[Ae].attrs,we));var Ge=be.start,K=be.end;return this.step(new je(Ge,K,Ge,K,new C.p2(we,0,0),fe.length,!0))},ye.prototype.setBlockType=function(be,fe,we,Ae){var Ge=this;if(void 0===fe&&(fe=be),!we.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var K=this.steps.length;return this.doc.nodesBetween(be,fe,function(te,ge){if(te.isTextblock&&!te.hasMarkup(we,Ae)&&function(be,fe,we){var Ae=be.resolve(fe),Ge=Ae.index();return Ae.parent.canReplaceWith(Ge,Ge+1,we)}(Ge.doc,Ge.mapping.slice(K).map(ge),we)){Ge.clearIncompatible(Ge.mapping.slice(K).map(ge,1),we);var Le=Ge.mapping.slice(K),Xe=Le.map(ge,1),lt=Le.map(ge+te.nodeSize,1);return Ge.step(new je(Xe,lt,Xe+1,lt-1,new C.p2(C.HY.from(we.create(Ae,null,te.marks)),0,0),1,!0)),!1}}),this},ye.prototype.setNodeMarkup=function(be,fe,we,Ae){var Ge=this.doc.nodeAt(be);if(!Ge)throw new RangeError("No node at given position");fe||(fe=Ge.type);var K=fe.create(we,null,Ae||Ge.marks);if(Ge.isLeaf)return this.replaceWith(be,be+Ge.nodeSize,K);if(!fe.validContent(Ge.content))throw new RangeError("Invalid content for node type "+fe.name);return this.step(new je(be,be+Ge.nodeSize,be+1,be+Ge.nodeSize-1,new C.p2(C.HY.from(K),0,0),1,!0))},ye.prototype.split=function(be,fe,we){void 0===fe&&(fe=1);for(var Ae=this.doc.resolve(be),Ge=C.HY.empty,K=C.HY.empty,te=Ae.depth,ge=Ae.depth-fe,Le=fe-1;te>ge;te--,Le--){Ge=C.HY.from(Ae.node(te).copy(Ge));var Xe=we&&we[Le];K=C.HY.from(Xe?Xe.type.create(Xe.attrs,K):Ae.node(te).copy(K))}return this.step(new Qe(be,be,new C.p2(Ge.append(K),fe,fe),!0))},ye.prototype.join=function(be,fe){void 0===fe&&(fe=1);var we=new Qe(be-fe,be+fe,C.p2.empty,!0);return this.step(we)};var vt=function(be){function fe(we,Ae,Ge){be.call(this),this.from=we,this.to=Ae,this.mark=Ge}return be&&(fe.__proto__=be),(fe.prototype=Object.create(be&&be.prototype)).constructor=fe,fe.prototype.apply=function(Ae){var Ge=this,K=Ae.slice(this.from,this.to),te=Ae.resolve(this.from),ge=te.node(te.sharedDepth(this.to)),Le=new C.p2(Tt(K.content,function(Xe,lt){return Xe.isAtom&&lt.type.allowsMarkType(Ge.mark.type)?Xe.mark(Ge.mark.addToSet(Xe.marks)):Xe},ge),K.openStart,K.openEnd);return Te.fromReplace(Ae,this.from,this.to,Le)},fe.prototype.invert=function(){return new ke(this.from,this.to,this.mark)},fe.prototype.map=function(Ae){var Ge=Ae.mapResult(this.from,1),K=Ae.mapResult(this.to,-1);return Ge.deleted&&K.deleted||Ge.pos>=K.pos?null:new fe(Ge.pos,K.pos,this.mark)},fe.prototype.merge=function(Ae){if(Ae instanceof fe&&Ae.mark.eq(this.mark)&&this.from<=Ae.to&&this.to>=Ae.from)return new fe(Math.min(this.from,Ae.from),Math.max(this.to,Ae.to),this.mark)},fe.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},fe.fromJSON=function(Ae,Ge){if("number"!=typeof Ge.from||"number"!=typeof Ge.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new fe(Ge.from,Ge.to,Ae.markFromJSON(Ge.mark))},fe}(pt);pt.jsonID("addMark",vt);var ke=function(be){function fe(we,Ae,Ge){be.call(this),this.from=we,this.to=Ae,this.mark=Ge}return be&&(fe.__proto__=be),(fe.prototype=Object.create(be&&be.prototype)).constructor=fe,fe.prototype.apply=function(Ae){var Ge=this,K=Ae.slice(this.from,this.to),te=new C.p2(Tt(K.content,function(ge){return ge.mark(Ge.mark.removeFromSet(ge.marks))}),K.openStart,K.openEnd);return Te.fromReplace(Ae,this.from,this.to,te)},fe.prototype.invert=function(){return new vt(this.from,this.to,this.mark)},fe.prototype.map=function(Ae){var Ge=Ae.mapResult(this.from,1),K=Ae.mapResult(this.to,-1);return Ge.deleted&&K.deleted||Ge.pos>=K.pos?null:new fe(Ge.pos,K.pos,this.mark)},fe.prototype.merge=function(Ae){if(Ae instanceof fe&&Ae.mark.eq(this.mark)&&this.from<=Ae.to&&this.to>=Ae.from)return new fe(Math.min(this.from,Ae.from),Math.max(this.to,Ae.to),this.mark)},fe.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},fe.fromJSON=function(Ae,Ge){if("number"!=typeof Ge.from||"number"!=typeof Ge.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new fe(Ge.from,Ge.to,Ae.markFromJSON(Ge.mark))},fe}(pt);function tt(be,fe,we,Ae){if(void 0===we&&(we=fe),void 0===Ae&&(Ae=C.p2.empty),fe==we&&!Ae.size)return null;var Ge=be.resolve(fe),K=be.resolve(we);return Ue(Ge,K,Ae)?new Qe(fe,we,Ae):new qt(Ge,K,Ae).fit()}function Ue(be,fe,we){return!we.openStart&&!we.openEnd&&be.start()==fe.start()&&be.parent.canReplace(be.index(),fe.index(),we.content)}pt.jsonID("removeMark",ke),ye.prototype.addMark=function(be,fe,we){var Ae=this,Ge=[],K=[],te=null,ge=null;return this.doc.nodesBetween(be,fe,function(Le,Xe,lt){if(Le.isInline){var Rt=Le.marks;if(!we.isInSet(Rt)&&lt.type.allowsMarkType(we.type)){for(var on=Math.max(Xe,be),Dn=Math.min(Xe+Le.nodeSize,fe),Ln=we.addToSet(Rt),gn=0;gn<Rt.length;gn++)Rt[gn].isInSet(Ln)||(te&&te.to==on&&te.mark.eq(Rt[gn])?te.to=Dn:Ge.push(te=new ke(on,Dn,Rt[gn])));ge&&ge.to==on?ge.to=Dn:K.push(ge=new vt(on,Dn,we))}}}),Ge.forEach(function(Le){return Ae.step(Le)}),K.forEach(function(Le){return Ae.step(Le)}),this},ye.prototype.removeMark=function(be,fe,we){var Ae=this;void 0===we&&(we=null);var Ge=[],K=0;return this.doc.nodesBetween(be,fe,function(te,ge){if(te.isInline){K++;var Le=null;if(we instanceof C.ZU)for(var lt,Xe=te.marks;lt=we.isInSet(Xe);)(Le||(Le=[])).push(lt),Xe=lt.removeFromSet(Xe);else we?we.isInSet(te.marks)&&(Le=[we]):Le=te.marks;if(Le&&Le.length)for(var Rt=Math.min(ge+te.nodeSize,fe),on=0;on<Le.length;on++){for(var Dn=Le[on],Ln=void 0,gn=0;gn<Ge.length;gn++){var en=Ge[gn];en.step==K-1&&Dn.eq(Ge[gn].style)&&(Ln=en)}Ln?(Ln.to=Rt,Ln.step=K):Ge.push({style:Dn,from:Math.max(ge,be),to:Rt,step:K})}}}),Ge.forEach(function(te){return Ae.step(new ke(te.from,te.to,te.style))}),this},ye.prototype.clearIncompatible=function(be,fe,we){void 0===we&&(we=fe.contentMatch);for(var Ae=this.doc.nodeAt(be),Ge=[],K=be+1,te=0;te<Ae.childCount;te++){var ge=Ae.child(te),Le=K+ge.nodeSize,Xe=we.matchType(ge.type,ge.attrs);if(Xe){we=Xe;for(var lt=0;lt<ge.marks.length;lt++)fe.allowsMarkType(ge.marks[lt].type)||this.step(new ke(K,Le,ge.marks[lt]))}else Ge.push(new Qe(K,Le,C.p2.empty));K=Le}if(!we.validEnd){var Rt=we.fillBefore(C.HY.empty,!0);this.replace(K,K,new C.p2(Rt,0,0))}for(var on=Ge.length-1;on>=0;on--)this.step(Ge[on]);return this},ye.prototype.replace=function(be,fe,we){void 0===fe&&(fe=be),void 0===we&&(we=C.p2.empty);var Ae=tt(this.doc,be,fe,we);return Ae&&this.step(Ae),this},ye.prototype.replaceWith=function(be,fe,we){return this.replace(be,fe,new C.p2(C.HY.from(we),0,0))},ye.prototype.delete=function(be,fe){return this.replace(be,fe,C.p2.empty)},ye.prototype.insert=function(be,fe){return this.replaceWith(be,be,fe)};var qt=function(fe,we,Ae){this.$to=we,this.$from=fe,this.unplaced=Ae,this.frontier=[];for(var Ge=0;Ge<=fe.depth;Ge++){var K=fe.node(Ge);this.frontier.push({type:K.type,match:K.contentMatchAt(fe.indexAfter(Ge))})}this.placed=C.HY.empty;for(var te=fe.depth;te>0;te--)this.placed=C.HY.from(fe.node(te).copy(this.placed))},Jt={depth:{configurable:!0}};function rt(be,fe,we){return 0==fe?be.cutByIndex(we):be.replaceChild(0,be.firstChild.copy(rt(be.firstChild.content,fe-1,we)))}function at(be,fe,we){return 0==fe?be.append(we):be.replaceChild(be.childCount-1,be.lastChild.copy(at(be.lastChild.content,fe-1,we)))}function Ke(be,fe){for(var we=0;we<fe;we++)be=be.firstChild.content;return be}function st(be,fe,we){if(fe<=0)return be;var Ae=be.content;return fe>1&&(Ae=Ae.replaceChild(0,st(Ae.firstChild,fe-1,1==Ae.childCount?we-1:0))),fe>0&&(Ae=be.type.contentMatch.fillBefore(Ae).append(Ae),we<=0&&(Ae=Ae.append(be.type.contentMatch.matchFragment(Ae).fillBefore(C.HY.empty,!0)))),be.copy(Ae)}function ct(be,fe,we,Ae,Ge){var K=be.node(fe),te=Ge?be.indexAfter(fe):be.index(fe);if(te==K.childCount&&!we.compatibleContent(K.type))return null;var ge=Ae.fillBefore(K.content,!0,te);return ge&&!function(be,fe,we){for(var Ae=we;Ae<fe.childCount;Ae++)if(!be.allowsMarks(fe.child(Ae).marks))return!0;return!1}(we,K.content,te)?ge:null}function Zt(be,fe,we,Ae,Ge){if(fe<we){var K=be.firstChild;be=be.replaceChild(0,K.copy(Zt(K.content,fe+1,we,Ae,K)))}if(fe>Ae){var te=Ge.contentMatchAt(0),ge=te.fillBefore(be).append(be);be=ge.append(te.matchFragment(ge).fillBefore(C.HY.empty,!0))}return be}function Qt(be,fe){for(var we=[],Ge=Math.min(be.depth,fe.depth);Ge>=0;Ge--){var K=be.start(Ge);if(K<be.pos-(be.depth-Ge)||fe.end(Ge)>fe.pos+(fe.depth-Ge)||be.node(Ge).type.spec.isolating||fe.node(Ge).type.spec.isolating)break;K==fe.start(Ge)&&we.push(Ge)}return we}Jt.depth.get=function(){return this.frontier.length-1},qt.prototype.fit=function(){for(;this.unplaced.size;){var fe=this.findFittable();fe?this.placeNodes(fe):this.openMore()||this.dropNode()}var we=this.mustMoveInline(),Ae=this.placed.size-this.depth-this.$from.depth,Ge=this.$from,K=this.close(we<0?this.$to:Ge.doc.resolve(we));if(!K)return null;for(var te=this.placed,ge=Ge.depth,Le=K.depth;ge&&Le&&1==te.childCount;)te=te.firstChild.content,ge--,Le--;var Xe=new C.p2(te,ge,Le);return we>-1?new je(Ge.pos,we,this.$to.pos,this.$to.end(),Xe,Ae):Xe.size||Ge.pos!=this.$to.pos?new Qe(Ge.pos,K.pos,Xe):void 0},qt.prototype.findFittable=function(){for(var fe=1;fe<=2;fe++)for(var we=this.unplaced.openStart;we>=0;we--)for(var Ge=void 0,K=(we?(Ge=Ke(this.unplaced.content,we-1).firstChild).content:this.unplaced.content).firstChild,te=this.depth;te>=0;te--){var ge=this.frontier[te],Le=ge.type,Xe=ge.match,lt=void 0,Rt=void 0;if(1==fe&&(K?Xe.matchType(K.type)||(Rt=Xe.fillBefore(C.HY.from(K),!1)):Le.compatibleContent(Ge.type)))return{sliceDepth:we,frontierDepth:te,parent:Ge,inject:Rt};if(2==fe&&K&&(lt=Xe.findWrapping(K.type)))return{sliceDepth:we,frontierDepth:te,parent:Ge,wrap:lt};if(Ge&&Xe.matchType(Ge.type))break}},qt.prototype.openMore=function(){var fe=this.unplaced,we=fe.content,Ae=fe.openStart,Ge=fe.openEnd,K=Ke(we,Ae);return!(!K.childCount||K.firstChild.isLeaf||(this.unplaced=new C.p2(we,Ae+1,Math.max(Ge,K.size+Ae>=we.size-Ge?Ae+1:0)),0))},qt.prototype.dropNode=function(){var fe=this.unplaced,we=fe.content,Ae=fe.openStart,Ge=fe.openEnd,K=Ke(we,Ae);if(K.childCount<=1&&Ae>0){var te=we.size-Ae<=Ae+K.size;this.unplaced=new C.p2(rt(we,Ae-1,1),Ae-1,te?Ae-1:Ge)}else this.unplaced=new C.p2(rt(we,Ae,1),Ae,Ge)},qt.prototype.placeNodes=function(fe){for(var we=fe.sliceDepth,Ae=fe.frontierDepth,Ge=fe.parent,K=fe.inject,te=fe.wrap;this.depth>Ae;)this.closeFrontierNode();if(te)for(var ge=0;ge<te.length;ge++)this.openFrontierNode(te[ge]);var Le=this.unplaced,Xe=Ge?Ge.content:Le.content,lt=Le.openStart-we,Rt=0,on=[],Dn=this.frontier[Ae],Ln=Dn.match,gn=Dn.type;if(K){for(var en=0;en<K.childCount;en++)on.push(K.child(en));Ln=Ln.matchFragment(K)}for(var Un=Xe.size+we-(Le.content.size-Le.openEnd);Rt<Xe.childCount;){var es=Xe.child(Rt),Gi=Ln.matchType(es.type);if(!Gi)break;(++Rt>1||0==lt||es.content.size)&&(Ln=Gi,on.push(st(es.mark(gn.allowedMarks(es.marks)),1==Rt?lt:0,Rt==Xe.childCount?Un:-1)))}var li=Rt==Xe.childCount;li||(Un=-1),this.placed=at(this.placed,Ae,C.HY.from(on)),this.frontier[Ae].match=Ln,li&&Un<0&&Ge&&Ge.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var wr=0,Ti=Xe;wr<Un;wr++){var Ls=Ti.lastChild;this.frontier.push({type:Ls.type,match:Ls.contentMatchAt(Ls.childCount)}),Ti=Ls.content}this.unplaced=li?0==we?C.p2.empty:new C.p2(rt(Le.content,we-1,1),we-1,Un<0?Le.openEnd:we-1):new C.p2(rt(Le.content,we,Rt),Le.openStart,Le.openEnd)},qt.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var we,fe=this.frontier[this.depth];if(!fe.type.isTextblock||!ct(this.$to,this.$to.depth,fe.type,fe.match,!1)||this.$to.depth==this.depth&&(we=this.findCloseLevel(this.$to))&&we.depth==this.depth)return-1;for(var Ge=this.$to.depth,K=this.$to.after(Ge);Ge>1&&K==this.$to.end(--Ge);)++K;return K},qt.prototype.findCloseLevel=function(fe){e:for(var we=Math.min(this.depth,fe.depth);we>=0;we--){var Ae=this.frontier[we],Ge=Ae.match,K=Ae.type,te=we<fe.depth&&fe.end(we+1)==fe.pos+(fe.depth-(we+1)),ge=ct(fe,we,K,Ge,te);if(ge){for(var Le=we-1;Le>=0;Le--){var Xe=this.frontier[Le],on=ct(fe,Le,Xe.type,Xe.match,!0);if(!on||on.childCount)continue e}return{depth:we,fit:ge,move:te?fe.doc.resolve(fe.after(we+1)):fe}}}},qt.prototype.close=function(fe){var we=this.findCloseLevel(fe);if(!we)return null;for(;this.depth>we.depth;)this.closeFrontierNode();we.fit.childCount&&(this.placed=at(this.placed,we.depth,we.fit)),fe=we.move;for(var Ae=we.depth+1;Ae<=fe.depth;Ae++){var Ge=fe.node(Ae),K=Ge.type.contentMatch.fillBefore(Ge.content,!0,fe.index(Ae));this.openFrontierNode(Ge.type,Ge.attrs,K)}return fe},qt.prototype.openFrontierNode=function(fe,we,Ae){var Ge=this.frontier[this.depth];Ge.match=Ge.match.matchType(fe),this.placed=at(this.placed,this.depth,C.HY.from(fe.create(we,Ae))),this.frontier.push({type:fe,match:fe.contentMatch})},qt.prototype.closeFrontierNode=function(){var we=this.frontier.pop().match.fillBefore(C.HY.empty,!0);we.childCount&&(this.placed=at(this.placed,this.frontier.length,we))},Object.defineProperties(qt.prototype,Jt),ye.prototype.replaceRange=function(be,fe,we){if(!we.size)return this.deleteRange(be,fe);var Ae=this.doc.resolve(be),Ge=this.doc.resolve(fe);if(Ue(Ae,Ge,we))return this.step(new Qe(be,fe,we));var K=Qt(Ae,this.doc.resolve(fe));0==K[K.length-1]&&K.pop();var te=-(Ae.depth+1);K.unshift(te);for(var ge=Ae.depth,Le=Ae.pos-1;ge>0;ge--,Le--){var Xe=Ae.node(ge).type.spec;if(Xe.defining||Xe.isolating)break;K.indexOf(ge)>-1?te=ge:Ae.before(ge)==Le&&K.splice(1,0,-ge)}for(var lt=K.indexOf(te),Rt=[],on=we.openStart,Dn=we.content,Ln=0;;Ln++){var gn=Dn.firstChild;if(Rt.push(gn),Ln==we.openStart)break;Dn=gn.content}on>0&&Rt[on-1].type.spec.defining&&Ae.node(lt).type!=Rt[on-1].type?on-=1:on>=2&&Rt[on-1].isTextblock&&Rt[on-2].type.spec.defining&&Ae.node(lt).type!=Rt[on-2].type&&(on-=2);for(var en=we.openStart;en>=0;en--){var Un=(en+on+1)%(we.openStart+1),es=Rt[Un];if(es)for(var Gi=0;Gi<K.length;Gi++){var li=K[(Gi+lt)%K.length],wr=!0;li<0&&(wr=!1,li=-li);var Ti=Ae.node(li-1),Ls=Ae.index(li-1);if(Ti.canReplaceWith(Ls,Ls,es.type,es.marks))return this.replace(Ae.before(li),wr?Ge.after(li):fe,new C.p2(Zt(we.content,0,we.openStart,Un),Un,we.openEnd))}}for(var Wr=this.steps.length,dt=K.length-1;dt>=0&&(this.replace(be,fe,we),!(this.steps.length>Wr));dt--){var ee=K[dt];ee<0||(be=Ae.before(ee),fe=Ge.after(ee))}return this},ye.prototype.replaceRangeWith=function(be,fe,we){if(!we.isInline&&be==fe&&this.doc.resolve(be).parent.content.size){var Ae=Et(this.doc,be,we.type);null!=Ae&&(be=fe=Ae)}return this.replaceRange(be,fe,new C.p2(C.HY.from(we),0,0))},ye.prototype.deleteRange=function(be,fe){for(var we=this.doc.resolve(be),Ae=this.doc.resolve(fe),Ge=Qt(we,Ae),K=0;K<Ge.length;K++){var te=Ge[K],ge=K==Ge.length-1;if(ge&&0==te||we.node(te).type.contentMatch.validEnd)return this.delete(we.start(te),Ae.end(te));if(te>0&&(ge||we.node(te-1).canReplace(we.index(te-1),Ae.indexAfter(te-1))))return this.delete(we.before(te),Ae.after(te))}for(var Le=1;Le<=we.depth&&Le<=Ae.depth;Le++)if(be-we.start(Le)==we.depth-Le&&fe>we.end(Le)&&Ae.end(Le)-fe!=Ae.depth-Le)return this.delete(we.before(Le),fe);return this.delete(be,fe)}},3098:(An,zt,$e)=>{"use strict";$e.d(zt,{P:()=>Ne});var C=$e(9193),le=$e(5917),Ct=$e(205);class Ne{constructor(Ve,ve,Ie){this.kind=Ve,this.value=ve,this.error=Ie,this.hasValue="N"===Ve}observe(Ve){switch(this.kind){case"N":return Ve.next&&Ve.next(this.value);case"E":return Ve.error&&Ve.error(this.error);case"C":return Ve.complete&&Ve.complete()}}do(Ve,ve,Ie){switch(this.kind){case"N":return Ve&&Ve(this.value);case"E":return ve&&ve(this.error);case"C":return Ie&&Ie()}}accept(Ve,ve,Ie){return Ve&&"function"==typeof Ve.next?this.observe(Ve):this.do(Ve,ve,Ie)}toObservable(){switch(this.kind){case"N":return(0,le.of)(this.value);case"E":return(0,Ct._)(this.error);case"C":return(0,C.c)()}throw new Error("unexpected notification kind value")}static createNext(Ve){return void 0!==Ve?new Ne("N",Ve):Ne.undefinedValueNotification}static createError(Ve){return new Ne("E",void 0,Ve)}static createComplete(){return Ne.completeNotification}}Ne.completeNotification=new Ne("C"),Ne.undefinedValueNotification=new Ne("N",void 0)},7574:(An,zt,$e)=>{"use strict";$e.d(zt,{y:()=>ye});var C=$e(7393),Ct=$e(9181),Ze=$e(6490),Pe=$e(6554),Ve=$e(4487);var Ce=$e(2494);let ye=(()=>{class Fe{constructor(pt){this._isScalar=!1,pt&&(this._subscribe=pt)}lift(pt){const Te=new Fe;return Te.source=this,Te.operator=pt,Te}subscribe(pt,Te,Qe){const{operator:je}=this,ut=function(Fe,Be,pt){if(Fe){if(Fe instanceof C.L)return Fe;if(Fe[Ct.b])return Fe[Ct.b]()}return Fe||Be||pt?new C.L(Fe,Be,pt):new C.L(Ze.c)}(pt,Te,Qe);if(ut.add(je?je.call(ut,this.source):this.source||Ce.v.useDeprecatedSynchronousErrorHandling&&!ut.syncErrorThrowable?this._subscribe(ut):this._trySubscribe(ut)),Ce.v.useDeprecatedSynchronousErrorHandling&&ut.syncErrorThrowable&&(ut.syncErrorThrowable=!1,ut.syncErrorThrown))throw ut.syncErrorValue;return ut}_trySubscribe(pt){try{return this._subscribe(pt)}catch(Te){Ce.v.useDeprecatedSynchronousErrorHandling&&(pt.syncErrorThrown=!0,pt.syncErrorValue=Te),function(Fe){for(;Fe;){const{closed:Be,destination:pt,isStopped:Te}=Fe;if(Be||Te)return!1;Fe=pt&&pt instanceof C.L?pt:null}return!0}(pt)?pt.error(Te):console.warn(Te)}}forEach(pt,Te){return new(Te=Re(Te))((Qe,je)=>{let ut;ut=this.subscribe(ft=>{try{pt(ft)}catch(Mt){je(Mt),ut&&ut.unsubscribe()}},je,Qe)})}_subscribe(pt){const{source:Te}=this;return Te&&Te.subscribe(pt)}[Pe.L](){return this}pipe(...pt){return 0===pt.length?this:function(Fe){return 0===Fe.length?Ve.y:1===Fe.length?Fe[0]:function(pt){return Fe.reduce((Te,Qe)=>Qe(Te),pt)}}(pt)(this)}toPromise(pt){return new(pt=Re(pt))((Te,Qe)=>{let je;this.subscribe(ut=>je=ut,ut=>Qe(ut),()=>Te(je))})}}return Fe.create=Be=>new Fe(Be),Fe})();function Re(Fe){if(Fe||(Fe=Ce.v.Promise||Promise),!Fe)throw new Error("no Promise impl found");return Fe}},6490:(An,zt,$e)=>{"use strict";$e.d(zt,{c:()=>Ct});var C=$e(2494),le=$e(4449);const Ct={closed:!0,next(Ze){},error(Ze){if(C.v.useDeprecatedSynchronousErrorHandling)throw Ze;(0,le.z)(Ze)},complete(){}}},9765:(An,zt,$e)=>{"use strict";$e.d(zt,{Yc:()=>Ve,xQ:()=>ve});var C=$e(7574),le=$e(7393),Ct=$e(5319),Ze=$e(7971),Ne=$e(8858),Pe=$e(9181);class Ve extends le.L{constructor(ye){super(ye),this.destination=ye}}let ve=(()=>{class Ce extends C.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Pe.b](){return new Ve(this)}lift(Re){const Fe=new Ie(this,this);return Fe.operator=Re,Fe}next(Re){if(this.closed)throw new Ze.N;if(!this.isStopped){const{observers:Fe}=this,Be=Fe.length,pt=Fe.slice();for(let Te=0;Te<Be;Te++)pt[Te].next(Re)}}error(Re){if(this.closed)throw new Ze.N;this.hasError=!0,this.thrownError=Re,this.isStopped=!0;const{observers:Fe}=this,Be=Fe.length,pt=Fe.slice();for(let Te=0;Te<Be;Te++)pt[Te].error(Re);this.observers.length=0}complete(){if(this.closed)throw new Ze.N;this.isStopped=!0;const{observers:Re}=this,Fe=Re.length,Be=Re.slice();for(let pt=0;pt<Fe;pt++)Be[pt].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(Re){if(this.closed)throw new Ze.N;return super._trySubscribe(Re)}_subscribe(Re){if(this.closed)throw new Ze.N;return this.hasError?(Re.error(this.thrownError),Ct.w.EMPTY):this.isStopped?(Re.complete(),Ct.w.EMPTY):(this.observers.push(Re),new Ne.W(this,Re))}asObservable(){const Re=new C.y;return Re.source=this,Re}}return Ce.create=(ye,Re)=>new Ie(ye,Re),Ce})();class Ie extends ve{constructor(ye,Re){super(),this.destination=ye,this.source=Re}next(ye){const{destination:Re}=this;Re&&Re.next&&Re.next(ye)}error(ye){const{destination:Re}=this;Re&&Re.error&&this.destination.error(ye)}complete(){const{destination:ye}=this;ye&&ye.complete&&this.destination.complete()}_subscribe(ye){const{source:Re}=this;return Re?this.source.subscribe(ye):Ct.w.EMPTY}}},8858:(An,zt,$e)=>{"use strict";$e.d(zt,{W:()=>le});var C=$e(5319);class le extends C.w{constructor(Ze,Ne){super(),this.subject=Ze,this.subscriber=Ne,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Ze=this.subject,Ne=Ze.observers;if(this.subject=null,!Ne||0===Ne.length||Ze.isStopped||Ze.closed)return;const Pe=Ne.indexOf(this.subscriber);-1!==Pe&&Ne.splice(Pe,1)}}},7393:(An,zt,$e)=>{"use strict";$e.d(zt,{L:()=>Ve});var C=$e(9105),le=$e(6490),Ct=$e(5319),Ze=$e(9181),Ne=$e(2494),Pe=$e(4449);class Ve extends Ct.w{constructor(Ce,ye,Re){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=le.c;break;case 1:if(!Ce){this.destination=le.c;break}if("object"==typeof Ce){Ce instanceof Ve?(this.syncErrorThrowable=Ce.syncErrorThrowable,this.destination=Ce,Ce.add(this)):(this.syncErrorThrowable=!0,this.destination=new ve(this,Ce));break}default:this.syncErrorThrowable=!0,this.destination=new ve(this,Ce,ye,Re)}}[Ze.b](){return this}static create(Ce,ye,Re){const Fe=new Ve(Ce,ye,Re);return Fe.syncErrorThrowable=!1,Fe}next(Ce){this.isStopped||this._next(Ce)}error(Ce){this.isStopped||(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(Ce){this.destination.next(Ce)}_error(Ce){this.destination.error(Ce),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:Ce}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=Ce,this}}class ve extends Ve{constructor(Ce,ye,Re,Fe){super(),this._parentSubscriber=Ce;let Be,pt=this;(0,C.m)(ye)?Be=ye:ye&&(Be=ye.next,Re=ye.error,Fe=ye.complete,ye!==le.c&&(pt=Object.create(ye),(0,C.m)(pt.unsubscribe)&&this.add(pt.unsubscribe.bind(pt)),pt.unsubscribe=this.unsubscribe.bind(this))),this._context=pt,this._next=Be,this._error=Re,this._complete=Fe}next(Ce){if(!this.isStopped&&this._next){const{_parentSubscriber:ye}=this;Ne.v.useDeprecatedSynchronousErrorHandling&&ye.syncErrorThrowable?this.__tryOrSetError(ye,this._next,Ce)&&this.unsubscribe():this.__tryOrUnsub(this._next,Ce)}}error(Ce){if(!this.isStopped){const{_parentSubscriber:ye}=this,{useDeprecatedSynchronousErrorHandling:Re}=Ne.v;if(this._error)Re&&ye.syncErrorThrowable?(this.__tryOrSetError(ye,this._error,Ce),this.unsubscribe()):(this.__tryOrUnsub(this._error,Ce),this.unsubscribe());else if(ye.syncErrorThrowable)Re?(ye.syncErrorValue=Ce,ye.syncErrorThrown=!0):(0,Pe.z)(Ce),this.unsubscribe();else{if(this.unsubscribe(),Re)throw Ce;(0,Pe.z)(Ce)}}}complete(){if(!this.isStopped){const{_parentSubscriber:Ce}=this;if(this._complete){const ye=()=>this._complete.call(this._context);Ne.v.useDeprecatedSynchronousErrorHandling&&Ce.syncErrorThrowable?(this.__tryOrSetError(Ce,ye),this.unsubscribe()):(this.__tryOrUnsub(ye),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(Ce,ye){try{Ce.call(this._context,ye)}catch(Re){if(this.unsubscribe(),Ne.v.useDeprecatedSynchronousErrorHandling)throw Re;(0,Pe.z)(Re)}}__tryOrSetError(Ce,ye,Re){if(!Ne.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{ye.call(this._context,Re)}catch(Fe){return Ne.v.useDeprecatedSynchronousErrorHandling?(Ce.syncErrorValue=Fe,Ce.syncErrorThrown=!0,!0):((0,Pe.z)(Fe),!0)}return!1}_unsubscribe(){const{_parentSubscriber:Ce}=this;this._context=null,this._parentSubscriber=null,Ce.unsubscribe()}}},5319:(An,zt,$e)=>{"use strict";$e.d(zt,{w:()=>Pe});var C=$e(9796),le=$e(1555),Ct=$e(9105);const Ne=(()=>{function ve(Ie){return Error.call(this),this.message=Ie?`${Ie.length} errors occurred during unsubscription:\n${Ie.map((Ce,ye)=>`${ye+1}) ${Ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Ie,this}return ve.prototype=Object.create(Error.prototype),ve})();class Pe{constructor(Ie){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Ie&&(this._ctorUnsubscribe=!0,this._unsubscribe=Ie)}unsubscribe(){let Ie;if(this.closed)return;let{_parentOrParents:Ce,_ctorUnsubscribe:ye,_unsubscribe:Re,_subscriptions:Fe}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,Ce instanceof Pe)Ce.remove(this);else if(null!==Ce)for(let Be=0;Be<Ce.length;++Be)Ce[Be].remove(this);if((0,Ct.m)(Re)){ye&&(this._unsubscribe=void 0);try{Re.call(this)}catch(Be){Ie=Be instanceof Ne?Ve(Be.errors):[Be]}}if((0,C.k)(Fe)){let Be=-1,pt=Fe.length;for(;++Be<pt;){const Te=Fe[Be];if((0,le.K)(Te))try{Te.unsubscribe()}catch(Qe){Ie=Ie||[],Qe instanceof Ne?Ie=Ie.concat(Ve(Qe.errors)):Ie.push(Qe)}}}if(Ie)throw new Ne(Ie)}add(Ie){let Ce=Ie;if(!Ie)return Pe.EMPTY;switch(typeof Ie){case"function":Ce=new Pe(Ie);case"object":if(Ce===this||Ce.closed||"function"!=typeof Ce.unsubscribe)return Ce;if(this.closed)return Ce.unsubscribe(),Ce;if(!(Ce instanceof Pe)){const Fe=Ce;Ce=new Pe,Ce._subscriptions=[Fe]}break;default:throw new Error("unrecognized teardown "+Ie+" added to Subscription.")}let{_parentOrParents:ye}=Ce;if(null===ye)Ce._parentOrParents=this;else if(ye instanceof Pe){if(ye===this)return Ce;Ce._parentOrParents=[ye,this]}else{if(-1!==ye.indexOf(this))return Ce;ye.push(this)}const Re=this._subscriptions;return null===Re?this._subscriptions=[Ce]:Re.push(Ce),Ce}remove(Ie){const Ce=this._subscriptions;if(Ce){const ye=Ce.indexOf(Ie);-1!==ye&&Ce.splice(ye,1)}}}var ve;function Ve(ve){return ve.reduce((Ie,Ce)=>Ie.concat(Ce instanceof Ne?Ce.errors:Ce),[])}Pe.EMPTY=((ve=new Pe).closed=!0,ve)},2494:(An,zt,$e)=>{"use strict";$e.d(zt,{v:()=>le});let C=!1;const le={Promise:void 0,set useDeprecatedSynchronousErrorHandling(Ct){if(Ct){const Ze=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Ze.stack)}else C&&console.log("RxJS: Back to a better error behavior. Thank you. <3");C=Ct},get useDeprecatedSynchronousErrorHandling(){return C}}},5345:(An,zt,$e)=>{"use strict";$e.d(zt,{IY:()=>Ze,Ds:()=>Pe,ft:()=>ve});var C=$e(7393),le=$e(7574),Ct=$e(7444);class Ze extends C.L{constructor(Ce){super(),this.parent=Ce}_next(Ce){this.parent.notifyNext(Ce)}_error(Ce){this.parent.notifyError(Ce),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Pe extends C.L{notifyNext(Ce){this.destination.next(Ce)}notifyError(Ce){this.destination.error(Ce)}notifyComplete(){this.destination.complete()}}function ve(Ie,Ce){if(Ce.closed)return;if(Ie instanceof le.y)return Ie.subscribe(Ce);let ye;try{ye=(0,Ct.s)(Ie)(Ce)}catch(Re){Ce.error(Re)}return ye}},2441:(An,zt,$e)=>{"use strict";$e.d(zt,{c:()=>Ne,N:()=>Pe});var C=$e(9765),le=$e(7574),Ct=$e(5319),Ze=$e(1307);class Ne extends le.y{constructor(ye,Re){super(),this.source=ye,this.subjectFactory=Re,this._refCount=0,this._isComplete=!1}_subscribe(ye){return this.getSubject().subscribe(ye)}getSubject(){const ye=this._subject;return(!ye||ye.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let ye=this._connection;return ye||(this._isComplete=!1,ye=this._connection=new Ct.w,ye.add(this.source.subscribe(new Ve(this.getSubject(),this))),ye.closed&&(this._connection=null,ye=Ct.w.EMPTY)),ye}refCount(){return(0,Ze.x)()(this)}}const Pe=(()=>{const Ce=Ne.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:Ce._subscribe},_isComplete:{value:Ce._isComplete,writable:!0},getSubject:{value:Ce.getSubject},connect:{value:Ce.connect},refCount:{value:Ce.refCount}}})();class Ve extends C.Yc{constructor(ye,Re){super(ye),this.connectable=Re}_error(ye){this._unsubscribe(),super._error(ye)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const ye=this.connectable;if(ye){this.connectable=null;const Re=ye._connection;ye._refCount=0,ye._subject=null,ye._connection=null,Re&&Re.unsubscribe()}}}},9193:(An,zt,$e)=>{"use strict";$e.d(zt,{E:()=>le,c:()=>Ct});var C=$e(7574);const le=new C.y(Ne=>Ne.complete());function Ct(Ne){return Ne?function(Ne){return new C.y(Pe=>Ne.schedule(()=>Pe.complete()))}(Ne):le}},4402:(An,zt,$e)=>{"use strict";$e.d(zt,{D:()=>pt});var C=$e(7574),le=$e(7444),Ct=$e(5319),Ze=$e(6554),Ve=$e(4087),ve=$e(377),ye=$e(4072),Re=$e(9489);function pt(Te,Qe){return Qe?function(Te,Qe){if(null!=Te){if(function(Te){return Te&&"function"==typeof Te[Ze.L]}(Te))return function(Te,Qe){return new C.y(je=>{const ut=new Ct.w;return ut.add(Qe.schedule(()=>{const ft=Te[Ze.L]();ut.add(ft.subscribe({next(Mt){ut.add(Qe.schedule(()=>je.next(Mt)))},error(Mt){ut.add(Qe.schedule(()=>je.error(Mt)))},complete(){ut.add(Qe.schedule(()=>je.complete()))}}))})),ut})}(Te,Qe);if((0,ye.t)(Te))return function(Te,Qe){return new C.y(je=>{const ut=new Ct.w;return ut.add(Qe.schedule(()=>Te.then(ft=>{ut.add(Qe.schedule(()=>{je.next(ft),ut.add(Qe.schedule(()=>je.complete()))}))},ft=>{ut.add(Qe.schedule(()=>je.error(ft)))}))),ut})}(Te,Qe);if((0,Re.z)(Te))return(0,Ve.r)(Te,Qe);if(function(Te){return Te&&"function"==typeof Te[ve.hZ]}(Te)||"string"==typeof Te)return function(Te,Qe){if(!Te)throw new Error("Iterable cannot be null");return new C.y(je=>{const ut=new Ct.w;let ft;return ut.add(()=>{ft&&"function"==typeof ft.return&&ft.return()}),ut.add(Qe.schedule(()=>{ft=Te[ve.hZ](),ut.add(Qe.schedule(function(){if(je.closed)return;let Mt,Nt;try{const ht=ft.next();Mt=ht.value,Nt=ht.done}catch(ht){return void je.error(ht)}Nt?je.complete():(je.next(Mt),this.schedule())}))})),ut})}(Te,Qe)}throw new TypeError((null!==Te&&typeof Te||Te)+" is not observable")}(Te,Qe):Te instanceof C.y?Te:new C.y((0,le.s)(Te))}},6693:(An,zt,$e)=>{"use strict";$e.d(zt,{n:()=>Ze});var C=$e(7574),le=$e(5015),Ct=$e(4087);function Ze(Ne,Pe){return Pe?(0,Ct.r)(Ne,Pe):new C.y((0,le.V)(Ne))}},6682:(An,zt,$e)=>{"use strict";$e.d(zt,{T:()=>Ne});var C=$e(7574),le=$e(4869),Ct=$e(3282),Ze=$e(6693);function Ne(...Pe){let Ve=Number.POSITIVE_INFINITY,ve=null,Ie=Pe[Pe.length-1];return(0,le.K)(Ie)?(ve=Pe.pop(),Pe.length>1&&"number"==typeof Pe[Pe.length-1]&&(Ve=Pe.pop())):"number"==typeof Ie&&(Ve=Pe.pop()),null===ve&&1===Pe.length&&Pe[0]instanceof C.y?Pe[0]:(0,Ct.J)(Ve)((0,Ze.n)(Pe,ve))}},5917:(An,zt,$e)=>{"use strict";$e.d(zt,{of:()=>Ze});var C=$e(4869),le=$e(6693),Ct=$e(4087);function Ze(...Ne){let Pe=Ne[Ne.length-1];return(0,C.K)(Pe)?(Ne.pop(),(0,Ct.r)(Ne,Pe)):(0,le.n)(Ne)}},205:(An,zt,$e)=>{"use strict";$e.d(zt,{_:()=>le});var C=$e(7574);function le(Ze,Ne){return new C.y(Ne?Pe=>Ne.schedule(Ct,0,{error:Ze,subscriber:Pe}):Pe=>Pe.error(Ze))}function Ct({error:Ze,subscriber:Ne}){Ne.error(Ze)}},8002:(An,zt,$e)=>{"use strict";$e.d(zt,{U:()=>le});var C=$e(7393);function le(Ne,Pe){return function(ve){if("function"!=typeof Ne)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ve.lift(new Ct(Ne,Pe))}}class Ct{constructor(Pe,Ve){this.project=Pe,this.thisArg=Ve}call(Pe,Ve){return Ve.subscribe(new Ze(Pe,this.project,this.thisArg))}}class Ze extends C.L{constructor(Pe,Ve,ve){super(Pe),this.project=Ve,this.count=0,this.thisArg=ve||this}_next(Pe){let Ve;try{Ve=this.project.call(this.thisArg,Pe,this.count++)}catch(ve){return void this.destination.error(ve)}this.destination.next(Ve)}}},3282:(An,zt,$e)=>{"use strict";$e.d(zt,{J:()=>Ct});var C=$e(9773),le=$e(4487);function Ct(Ze=Number.POSITIVE_INFINITY){return(0,C.zg)(le.y,Ze)}},9773:(An,zt,$e)=>{"use strict";$e.d(zt,{zg:()=>Ze});var C=$e(8002),le=$e(4402),Ct=$e(5345);function Ze(ve,Ie,Ce=Number.POSITIVE_INFINITY){return"function"==typeof Ie?ye=>ye.pipe(Ze((Re,Fe)=>(0,le.D)(ve(Re,Fe)).pipe((0,C.U)((Be,pt)=>Ie(Re,Be,Fe,pt))),Ce)):("number"==typeof Ie&&(Ce=Ie),ye=>ye.lift(new Ne(ve,Ce)))}class Ne{constructor(Ie,Ce=Number.POSITIVE_INFINITY){this.project=Ie,this.concurrent=Ce}call(Ie,Ce){return Ce.subscribe(new Pe(Ie,this.project,this.concurrent))}}class Pe extends Ct.Ds{constructor(Ie,Ce,ye=Number.POSITIVE_INFINITY){super(Ie),this.project=Ce,this.concurrent=ye,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Ie){this.active<this.concurrent?this._tryNext(Ie):this.buffer.push(Ie)}_tryNext(Ie){let Ce;const ye=this.index++;try{Ce=this.project(Ie,ye)}catch(Re){return void this.destination.error(Re)}this.active++,this._innerSub(Ce)}_innerSub(Ie){const Ce=new Ct.IY(this),ye=this.destination;ye.add(Ce);const Re=(0,Ct.ft)(Ie,Ce);Re!==Ce&&ye.add(Re)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Ie){this.destination.next(Ie)}notifyComplete(){const Ie=this.buffer;this.active--,Ie.length>0?this._next(Ie.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},4458:(An,zt,$e)=>{"use strict";$e.d(zt,{O:()=>le});var C=$e(2441);function le(Ze,Ne){return function(Ve){let ve;if(ve="function"==typeof Ze?Ze:function(){return Ze},"function"==typeof Ne)return Ve.lift(new Ct(ve,Ne));const Ie=Object.create(Ve,C.N);return Ie.source=Ve,Ie.subjectFactory=ve,Ie}}class Ct{constructor(Ne,Pe){this.subjectFactory=Ne,this.selector=Pe}call(Ne,Pe){const{selector:Ve}=this,ve=this.subjectFactory(),Ie=Ve(ve).subscribe(Ne);return Ie.add(Pe.subscribe(ve)),Ie}}},9746:(An,zt,$e)=>{"use strict";$e.d(zt,{QV:()=>Ct,ht:()=>Ne});var C=$e(7393),le=$e(3098);function Ct(Ve,ve=0){return function(Ce){return Ce.lift(new Ze(Ve,ve))}}class Ze{constructor(ve,Ie=0){this.scheduler=ve,this.delay=Ie}call(ve,Ie){return Ie.subscribe(new Ne(ve,this.scheduler,this.delay))}}class Ne extends C.L{constructor(ve,Ie,Ce=0){super(ve),this.scheduler=Ie,this.delay=Ce}static dispatch(ve){const{notification:Ie,destination:Ce}=ve;Ie.observe(Ce),this.unsubscribe()}scheduleMessage(ve){this.destination.add(this.scheduler.schedule(Ne.dispatch,this.delay,new Pe(ve,this.destination)))}_next(ve){this.scheduleMessage(le.P.createNext(ve))}_error(ve){this.scheduleMessage(le.P.createError(ve)),this.unsubscribe()}_complete(){this.scheduleMessage(le.P.createComplete()),this.unsubscribe()}}class Pe{constructor(ve,Ie){this.notification=ve,this.destination=Ie}}},1307:(An,zt,$e)=>{"use strict";$e.d(zt,{x:()=>le});var C=$e(7393);function le(){return function(Pe){return Pe.lift(new Ct(Pe))}}class Ct{constructor(Pe){this.connectable=Pe}call(Pe,Ve){const{connectable:ve}=this;ve._refCount++;const Ie=new Ze(Pe,ve),Ce=Ve.subscribe(Ie);return Ie.closed||(Ie.connection=ve.connect()),Ce}}class Ze extends C.L{constructor(Pe,Ve){super(Pe),this.connectable=Ve}_unsubscribe(){const{connectable:Pe}=this;if(!Pe)return void(this.connection=null);this.connectable=null;const Ve=Pe._refCount;if(Ve<=0)return void(this.connection=null);if(Pe._refCount=Ve-1,Ve>1)return void(this.connection=null);const{connection:ve}=this,Ie=Pe._connection;this.connection=null,Ie&&(!ve||Ie===ve)&&Ie.unsubscribe()}}},8345:(An,zt,$e)=>{"use strict";$e.d(zt,{B:()=>Ne});var C=$e(4458),le=$e(1307),Ct=$e(9765);function Ze(){return new Ct.xQ}function Ne(){return Pe=>(0,le.x)()((0,C.O)(Ze)(Pe))}},8307:(An,zt,$e)=>{"use strict";$e.d(zt,{b:()=>Ze});var C=$e(7393),le=$e(8640),Ct=$e(9105);function Ze(Ve,ve,Ie){return function(ye){return ye.lift(new Ne(Ve,ve,Ie))}}class Ne{constructor(ve,Ie,Ce){this.nextOrObserver=ve,this.error=Ie,this.complete=Ce}call(ve,Ie){return Ie.subscribe(new Pe(ve,this.nextOrObserver,this.error,this.complete))}}class Pe extends C.L{constructor(ve,Ie,Ce,ye){super(ve),this._tapNext=le.Z,this._tapError=le.Z,this._tapComplete=le.Z,this._tapError=Ce||le.Z,this._tapComplete=ye||le.Z,(0,Ct.m)(Ie)?(this._context=this,this._tapNext=Ie):Ie&&(this._context=Ie,this._tapNext=Ie.next||le.Z,this._tapError=Ie.error||le.Z,this._tapComplete=Ie.complete||le.Z)}_next(ve){try{this._tapNext.call(this._context,ve)}catch(Ie){return void this.destination.error(Ie)}this.destination.next(ve)}_error(ve){try{this._tapError.call(this._context,ve)}catch(Ie){return void this.destination.error(Ie)}this.destination.error(ve)}_complete(){try{this._tapComplete.call(this._context)}catch(ve){return void this.destination.error(ve)}return this.destination.complete()}}},4087:(An,zt,$e)=>{"use strict";$e.d(zt,{r:()=>Ct});var C=$e(7574),le=$e(5319);function Ct(Ze,Ne){return new C.y(Pe=>{const Ve=new le.w;let ve=0;return Ve.add(Ne.schedule(function(){ve!==Ze.length?(Pe.next(Ze[ve++]),Pe.closed||Ve.add(this.schedule())):Pe.complete()})),Ve})}},6465:(An,zt,$e)=>{"use strict";$e.d(zt,{o:()=>Ct});var C=$e(5319);class le extends C.w{constructor(Ne,Pe){super()}schedule(Ne,Pe=0){return this}}class Ct extends le{constructor(Ne,Pe){super(Ne,Pe),this.scheduler=Ne,this.work=Pe,this.pending=!1}schedule(Ne,Pe=0){if(this.closed)return this;this.state=Ne;const Ve=this.id,ve=this.scheduler;return null!=Ve&&(this.id=this.recycleAsyncId(ve,Ve,Pe)),this.pending=!0,this.delay=Pe,this.id=this.id||this.requestAsyncId(ve,this.id,Pe),this}requestAsyncId(Ne,Pe,Ve=0){return setInterval(Ne.flush.bind(Ne,this),Ve)}recycleAsyncId(Ne,Pe,Ve=0){if(null!==Ve&&this.delay===Ve&&!1===this.pending)return Pe;clearInterval(Pe)}execute(Ne,Pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ve=this._execute(Ne,Pe);if(Ve)return Ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ne,Pe){let ve,Ve=!1;try{this.work(Ne)}catch(Ie){Ve=!0,ve=!!Ie&&Ie||new Error(Ie)}if(Ve)return this.unsubscribe(),ve}_unsubscribe(){const Ne=this.id,Pe=this.scheduler,Ve=Pe.actions,ve=Ve.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ve&&Ve.splice(ve,1),null!=Ne&&(this.id=this.recycleAsyncId(Pe,Ne,null)),this.delay=null}}},6102:(An,zt,$e)=>{"use strict";$e.d(zt,{v:()=>le});let C=(()=>{class Ct{constructor(Ne,Pe=Ct.now){this.SchedulerAction=Ne,this.now=Pe}schedule(Ne,Pe=0,Ve){return new this.SchedulerAction(this,Ne).schedule(Ve,Pe)}}return Ct.now=()=>Date.now(),Ct})();class le extends C{constructor(Ze,Ne=C.now){super(Ze,()=>le.delegate&&le.delegate!==this?le.delegate.now():Ne()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Ze,Ne=0,Pe){return le.delegate&&le.delegate!==this?le.delegate.schedule(Ze,Ne,Pe):super.schedule(Ze,Ne,Pe)}flush(Ze){const{actions:Ne}=this;if(this.active)return void Ne.push(Ze);let Pe;this.active=!0;do{if(Pe=Ze.execute(Ze.state,Ze.delay))break}while(Ze=Ne.shift());if(this.active=!1,Pe){for(;Ze=Ne.shift();)Ze.unsubscribe();throw Pe}}}},4581:(An,zt,$e)=>{"use strict";$e.d(zt,{e:()=>Re,E:()=>ye});let C=1;const le=Promise.resolve(),Ct={};function Ze(Fe){return Fe in Ct&&(delete Ct[Fe],!0)}const Ne={setImmediate(Fe){const Be=C++;return Ct[Be]=!0,le.then(()=>Ze(Be)&&Fe()),Be},clearImmediate(Fe){Ze(Fe)}};var Ve=$e(6465),Ie=$e(6102);const ye=new class extends Ie.v{flush(Be){this.active=!0,this.scheduled=void 0;const{actions:pt}=this;let Te,Qe=-1,je=pt.length;Be=Be||pt.shift();do{if(Te=Be.execute(Be.state,Be.delay))break}while(++Qe<je&&(Be=pt.shift()));if(this.active=!1,Te){for(;++Qe<je&&(Be=pt.shift());)Be.unsubscribe();throw Te}}}(class extends Ve.o{constructor(Be,pt){super(Be,pt),this.scheduler=Be,this.work=pt}requestAsyncId(Be,pt,Te=0){return null!==Te&&Te>0?super.requestAsyncId(Be,pt,Te):(Be.actions.push(this),Be.scheduled||(Be.scheduled=Ne.setImmediate(Be.flush.bind(Be,null))))}recycleAsyncId(Be,pt,Te=0){if(null!==Te&&Te>0||null===Te&&this.delay>0)return super.recycleAsyncId(Be,pt,Te);0===Be.actions.length&&(Ne.clearImmediate(pt),Be.scheduled=void 0)}}),Re=ye},3637:(An,zt,$e)=>{"use strict";$e.d(zt,{z:()=>Ct,P:()=>Ze});var C=$e(6465);const Ct=new($e(6102).v)(C.o),Ze=Ct},7771:(An,zt,$e)=>{"use strict";$e.d(zt,{c:()=>Pe,N:()=>Ne});var C=$e(6465),Ct=$e(6102);const Ne=new class extends Ct.v{}(class extends C.o{constructor(ve,Ie){super(ve,Ie),this.scheduler=ve,this.work=Ie}schedule(ve,Ie=0){return Ie>0?super.schedule(ve,Ie):(this.delay=Ie,this.state=ve,this.scheduler.flush(this),this)}execute(ve,Ie){return Ie>0||this.closed?super.execute(ve,Ie):this._execute(ve,Ie)}requestAsyncId(ve,Ie,Ce=0){return null!==Ce&&Ce>0||null===Ce&&this.delay>0?super.requestAsyncId(ve,Ie,Ce):ve.flush(this)}}),Pe=Ne},377:(An,zt,$e)=>{"use strict";$e.d(zt,{hZ:()=>le});const le="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(An,zt,$e)=>{"use strict";$e.d(zt,{L:()=>C});const C="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(An,zt,$e)=>{"use strict";$e.d(zt,{b:()=>C});const C="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(An,zt,$e)=>{"use strict";$e.d(zt,{N:()=>le});const le=(()=>{function Ct(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return Ct.prototype=Object.create(Error.prototype),Ct})()},4449:(An,zt,$e)=>{"use strict";function C(le){setTimeout(()=>{throw le},0)}$e.d(zt,{z:()=>C})},4487:(An,zt,$e)=>{"use strict";function C(le){return le}$e.d(zt,{y:()=>C})},9796:(An,zt,$e)=>{"use strict";$e.d(zt,{k:()=>C});const C=Array.isArray||(le=>le&&"number"==typeof le.length)},9489:(An,zt,$e)=>{"use strict";$e.d(zt,{z:()=>C});const C=le=>le&&"number"==typeof le.length&&"function"!=typeof le},9105:(An,zt,$e)=>{"use strict";function C(le){return"function"==typeof le}$e.d(zt,{m:()=>C})},6561:(An,zt,$e)=>{"use strict";$e.d(zt,{k:()=>le});var C=$e(9796);function le(Ct){return!(0,C.k)(Ct)&&Ct-parseFloat(Ct)+1>=0}},1555:(An,zt,$e)=>{"use strict";function C(le){return null!==le&&"object"==typeof le}$e.d(zt,{K:()=>C})},4072:(An,zt,$e)=>{"use strict";function C(le){return!!le&&"function"!=typeof le.subscribe&&"function"==typeof le.then}$e.d(zt,{t:()=>C})},4869:(An,zt,$e)=>{"use strict";function C(le){return le&&"function"==typeof le.schedule}$e.d(zt,{K:()=>C})},8640:(An,zt,$e)=>{"use strict";function C(){}$e.d(zt,{Z:()=>C})},7444:(An,zt,$e)=>{"use strict";$e.d(zt,{s:()=>ye});var C=$e(5015),le=$e(4449),Ze=$e(377),Pe=$e(6554),ve=$e(9489),Ie=$e(4072),Ce=$e(1555);const ye=Re=>{if(Re&&"function"==typeof Re[Pe.L])return(Re=>Fe=>{const Be=Re[Pe.L]();if("function"!=typeof Be.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Be.subscribe(Fe)})(Re);if((0,ve.z)(Re))return(0,C.V)(Re);if((0,Ie.t)(Re))return(Re=>Fe=>(Re.then(Be=>{Fe.closed||(Fe.next(Be),Fe.complete())},Be=>Fe.error(Be)).then(null,le.z),Fe))(Re);if(Re&&"function"==typeof Re[Ze.hZ])return(Re=>Fe=>{const Be=Re[Ze.hZ]();for(;;){let pt;try{pt=Be.next()}catch(Te){return Fe.error(Te),Fe}if(pt.done){Fe.complete();break}if(Fe.next(pt.value),Fe.closed)break}return"function"==typeof Be.return&&Fe.add(()=>{Be.return&&Be.return()}),Fe})(Re);{const Be=`You provided ${(0,Ce.K)(Re)?"an invalid object":`'${Re}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Be)}}},5015:(An,zt,$e)=>{"use strict";$e.d(zt,{V:()=>C});const C=le=>Ct=>{for(let Ze=0,Ne=le.length;Ze<Ne&&!Ct.closed;Ze++)Ct.next(le[Ze]);Ct.complete()}},2222:An=>{var zt,$e,C;An.exports=(zt=Math.floor,$e=Math.abs,C=Math.pow,function le(Ct,Ze,Ne){function Pe(Ie,Ce){if(!Ze[Ie]){if(!Ct[Ie]){if(Ve)return Ve(Ie,!0);var Re=new Error("Cannot find module '"+Ie+"'");throw Re.code="MODULE_NOT_FOUND",Re}var Fe=Ze[Ie]={exports:{}};Ct[Ie][0].call(Fe.exports,function(Be){return Pe(Ct[Ie][1][Be]||Be)},Fe,Fe.exports,le,Ct,Ze,Ne)}return Ze[Ie].exports}for(var Ve=void 0,ve=0;ve<Ne.length;ve++)Pe(Ne[ve]);return Pe}({1:[function(le,Ct,Ze){"use strict";function Ne(Qe){var je=Qe.length;if(0<je%4)throw new Error("Invalid string. Length must be a multiple of 4");var ut=Qe.indexOf("=");return-1===ut&&(ut=je),[ut,ut===je?0:4-ut%4]}function ve(Qe){return ye[63&Qe>>18]+ye[63&Qe>>12]+ye[63&Qe>>6]+ye[63&Qe]}function Ie(Qe,je,ut){for(var Mt=[],Nt=je;Nt<ut;Nt+=3)Mt.push(ve((16711680&Qe[Nt]<<16)+(65280&Qe[Nt+1]<<8)+(255&Qe[Nt+2])));return Mt.join("")}Ze.byteLength=function(Qe){var je=Ne(Qe),ft=je[1];return 3*(je[0]+ft)/4-ft},Ze.toByteArray=function(Qe){var je,ut,ft=Ne(Qe),Mt=ft[0],Nt=ft[1],ht=new Fe(function(Qe,je,ut){return 3*(je+ut)/4-ut}(0,Mt,Nt)),St=0,Wt=0<Nt?Mt-4:Mt;for(ut=0;ut<Wt;ut+=4)je=Re[Qe.charCodeAt(ut)]<<18|Re[Qe.charCodeAt(ut+1)]<<12|Re[Qe.charCodeAt(ut+2)]<<6|Re[Qe.charCodeAt(ut+3)],ht[St++]=255&je>>16,ht[St++]=255&je>>8,ht[St++]=255&je;return 2===Nt&&(je=Re[Qe.charCodeAt(ut)]<<2|Re[Qe.charCodeAt(ut+1)]>>4,ht[St++]=255&je),1===Nt&&(je=Re[Qe.charCodeAt(ut)]<<10|Re[Qe.charCodeAt(ut+1)]<<4|Re[Qe.charCodeAt(ut+2)]>>2,ht[St++]=255&je>>8,ht[St++]=255&je),ht},Ze.fromByteArray=function(Qe){for(var je,ut=Qe.length,ft=ut%3,Mt=[],ht=0,St=ut-ft;ht<St;ht+=16383)Mt.push(Ie(Qe,ht,ht+16383>St?St:ht+16383));return 1===ft?Mt.push(ye[(je=Qe[ut-1])>>2]+ye[63&je<<4]+"=="):2===ft&&Mt.push(ye[(je=(Qe[ut-2]<<8)+Qe[ut-1])>>10]+ye[63&je>>4]+ye[63&je<<2]+"="),Mt.join("")};for(var ye=[],Re=[],Fe="undefined"==typeof Uint8Array?Array:Uint8Array,Be="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pt=0,Te=Be.length;pt<Te;++pt)ye[pt]=Be[pt],Re[Be.charCodeAt(pt)]=pt;Re[45]=62,Re[95]=63},{}],2:[function(){},{}],3:[function(le,Ct,Ze){(function(){(function(){"use strict";var Ne=String.fromCharCode,Pe=Math.min;function Ve(K){if(2147483647<K)throw new RangeError('The value "'+K+'" is invalid for option "size"');var te=new Uint8Array(K);return te.__proto__=ve.prototype,te}function ve(K,te,ge){if("number"==typeof K){if("string"==typeof te)throw new TypeError('The "string" argument must be of type string. Received type number');return Re(K)}return Ie(K,te,ge)}function Ie(K,te,ge){if("string"==typeof K)return function(K,te){if(("string"!=typeof te||""===te)&&(te="utf8"),!ve.isEncoding(te))throw new TypeError("Unknown encoding: "+te);var ge=0|je(K,te),Le=Ve(ge),Xe=Le.write(K,te);return Xe!==ge&&(Le=Le.slice(0,Xe)),Le}(K,te);if(ArrayBuffer.isView(K))return Be(K);if(null==K)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K);if(be(K,ArrayBuffer)||K&&be(K.buffer,ArrayBuffer))return function(K,te,ge){if(0>te||K.byteLength<te)throw new RangeError('"offset" is outside of buffer bounds');if(K.byteLength<te+(ge||0))throw new RangeError('"length" is outside of buffer bounds');var Le;return(Le=void 0===te&&void 0===ge?new Uint8Array(K):void 0===ge?new Uint8Array(K,te):new Uint8Array(K,te,ge)).__proto__=ve.prototype,Le}(K,te,ge);if("number"==typeof K)throw new TypeError('The "value" argument must not be of type number. Received type number');var Le=K.valueOf&&K.valueOf();if(null!=Le&&Le!==K)return ve.from(Le,te,ge);var Xe=function(K){if(ve.isBuffer(K)){var te=0|Qe(K.length),ge=Ve(te);return 0===ge.length||K.copy(ge,0,0,te),ge}return void 0===K.length?"Buffer"===K.type&&Array.isArray(K.data)?Be(K.data):void 0:"number"!=typeof K.length||fe(K.length)?Ve(0):Be(K)}(K);if(Xe)return Xe;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof K[Symbol.toPrimitive])return ve.from(K[Symbol.toPrimitive]("string"),te,ge);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}function Ce(K){if("number"!=typeof K)throw new TypeError('"size" argument must be of type number');if(0>K)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function Re(K){return Ce(K),Ve(0>K?0:0|Qe(K))}function Be(K){for(var te=0>K.length?0:0|Qe(K.length),ge=Ve(te),Le=0;Le<te;Le+=1)ge[Le]=255&K[Le];return ge}function Qe(K){if(K>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|K}function je(K,te){if(ve.isBuffer(K))return K.length;if(ArrayBuffer.isView(K)||be(K,ArrayBuffer))return K.byteLength;if("string"!=typeof K)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);var ge=K.length,Le=2<arguments.length&&!0===arguments[2];if(!Le&&0===ge)return 0;for(var Xe=!1;;)switch(te){case"ascii":case"latin1":case"binary":return ge;case"utf8":case"utf-8":return st(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ge;case"hex":return ge>>>1;case"base64":return Zt(K).length;default:if(Xe)return Le?-1:st(K).length;te=(""+te).toLowerCase(),Xe=!0}}function ut(K,te,ge){var Le=!1;if((void 0===te||0>te)&&(te=0),te>this.length||((void 0===ge||ge>this.length)&&(ge=this.length),0>=ge)||(ge>>>=0)<=(te>>>=0))return"";for(K||(K="utf8");;)switch(K){case"hex":return vt(this,te,ge);case"utf8":case"utf-8":return Gt(this,te,ge);case"ascii":return Se(this,te,ge);case"latin1":case"binary":return Tt(this,te,ge);case"base64":return Ht(this,te,ge);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ke(this,te,ge);default:if(Le)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),Le=!0}}function ft(K,te,ge){var Le=K[te];K[te]=K[ge],K[ge]=Le}function Mt(K,te,ge,Le,Xe){if(0===K.length)return-1;if("string"==typeof ge?(Le=ge,ge=0):2147483647<ge?ge=2147483647:-2147483648>ge&&(ge=-2147483648),fe(ge=+ge)&&(ge=Xe?0:K.length-1),0>ge&&(ge=K.length+ge),ge>=K.length){if(Xe)return-1;ge=K.length-1}else if(0>ge){if(!Xe)return-1;ge=0}if("string"==typeof te&&(te=ve.from(te,Le)),ve.isBuffer(te))return 0===te.length?-1:Nt(K,te,ge,Le,Xe);if("number"==typeof te)return te&=255,"function"==typeof Uint8Array.prototype.indexOf?Xe?Uint8Array.prototype.indexOf.call(K,te,ge):Uint8Array.prototype.lastIndexOf.call(K,te,ge):Nt(K,[te],ge,Le,Xe);throw new TypeError("val must be string, number or Buffer")}function Nt(K,te,ge,Le,Xe){function lt(es,Gi){return 1===Rt?es[Gi]:es.readUInt16BE(Gi*Rt)}var Ln,Rt=1,on=K.length,Dn=te.length;if(void 0!==Le&&("ucs2"===(Le=(Le+"").toLowerCase())||"ucs-2"===Le||"utf16le"===Le||"utf-16le"===Le)){if(2>K.length||2>te.length)return-1;Rt=2,on/=2,Dn/=2,ge/=2}if(Xe){var gn=-1;for(Ln=ge;Ln<on;Ln++)if(lt(K,Ln)!==lt(te,-1===gn?0:Ln-gn))-1!==gn&&(Ln-=Ln-gn),gn=-1;else if(-1===gn&&(gn=Ln),Ln-gn+1===Dn)return gn*Rt}else for(ge+Dn>on&&(ge=on-Dn),Ln=ge;0<=Ln;Ln--){for(var en=!0,Un=0;Un<Dn;Un++)if(lt(K,Ln+Un)!==lt(te,Un)){en=!1;break}if(en)return Ln}return-1}function ht(K,te,ge,Le){var Xe=K.length-(ge=+ge||0);Le?(Le=+Le)>Xe&&(Le=Xe):Le=Xe;var lt=te.length;Le>lt/2&&(Le=lt/2);for(var Rt,on=0;on<Le;++on){if(fe(Rt=parseInt(te.substr(2*on,2),16)))return on;K[ge+on]=Rt}return on}function St(K,te,ge,Le){return Qt(st(te,K.length-ge),K,ge,Le)}function Wt(K,te,ge,Le){return Qt(function(K){for(var te=[],ge=0;ge<K.length;++ge)te.push(255&K.charCodeAt(ge));return te}(te),K,ge,Le)}function bn(K,te,ge,Le){return Wt(K,te,ge,Le)}function xt(K,te,ge,Le){return Qt(Zt(te),K,ge,Le)}function Ot(K,te,ge,Le){return Qt(function(K,te){for(var ge,Le,lt=[],Rt=0;Rt<K.length&&!(0>(te-=2));++Rt)Le=(ge=K.charCodeAt(Rt))>>8,lt.push(ge%256),lt.push(Le);return lt}(te,K.length-ge),K,ge,Le)}function Ht(K,te,ge){return we.fromByteArray(0===te&&ge===K.length?K:K.slice(te,ge))}function Gt(K,te,ge){ge=Pe(K.length,ge);for(var Le=[],Xe=te;Xe<ge;){var Dn,Ln,gn,en,lt=K[Xe],Rt=null,on=239<lt?4:223<lt?3:191<lt?2:1;Xe+on<=ge&&(1===on?128>lt&&(Rt=lt):2===on?128==(192&(Dn=K[Xe+1]))&&127<(en=(31&lt)<<6|63&Dn)&&(Rt=en):3===on?(Ln=K[Xe+2],128==(192&(Dn=K[Xe+1]))&&128==(192&Ln)&&2047<(en=(15&lt)<<12|(63&Dn)<<6|63&Ln)&&(55296>en||57343<en)&&(Rt=en)):4===on&&(Ln=K[Xe+2],gn=K[Xe+3],128==(192&(Dn=K[Xe+1]))&&128==(192&Ln)&&128==(192&gn)&&65535<(en=(15&lt)<<18|(63&Dn)<<12|(63&Ln)<<6|63&gn)&&1114112>en&&(Rt=en))),null===Rt?(Rt=65533,on=1):65535<Rt&&(Le.push(55296|1023&(Rt-=65536)>>>10),Rt=56320|1023&Rt),Le.push(Rt),Xe+=on}return function(K){var te=K.length;if(te<=4096)return Ne.apply(String,K);for(var ge="",Le=0;Le<te;)ge+=Ne.apply(String,K.slice(Le,Le+=4096));return ge}(Le)}function Se(K,te,ge){var Le="";ge=Pe(K.length,ge);for(var Xe=te;Xe<ge;++Xe)Le+=Ne(127&K[Xe]);return Le}function Tt(K,te,ge){var Le="";ge=Pe(K.length,ge);for(var Xe=te;Xe<ge;++Xe)Le+=Ne(K[Xe]);return Le}function vt(K,te,ge){var Le=K.length;(!te||0>te)&&(te=0),(!ge||0>ge||ge>Le)&&(ge=Le);for(var Xe="",lt=te;lt<ge;++lt)Xe+=Ke(K[lt]);return Xe}function ke(K,te,ge){for(var Le=K.slice(te,ge),Xe="",lt=0;lt<Le.length;lt+=2)Xe+=Ne(Le[lt]+256*Le[lt+1]);return Xe}function tt(K,te,ge){if(K%1!=0||0>K)throw new RangeError("offset is not uint");if(K+te>ge)throw new RangeError("Trying to access beyond buffer length")}function Ue(K,te,ge,Le,Xe,lt){if(!ve.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(te>Xe||te<lt)throw new RangeError('"value" argument is out of bounds');if(ge+Le>K.length)throw new RangeError("Index out of range")}function qt(K,te,ge,Le){if(ge+Le>K.length)throw new RangeError("Index out of range");if(0>ge)throw new RangeError("Index out of range")}function Jt(K,te,ge,Le,Xe){return te=+te,ge>>>=0,Xe||qt(K,0,ge,4),Ae.write(K,te,ge,Le,23,4),ge+4}function rt(K,te,ge,Le,Xe){return te=+te,ge>>>=0,Xe||qt(K,0,ge,8),Ae.write(K,te,ge,Le,52,8),ge+8}function Ke(K){return 16>K?"0"+K.toString(16):K.toString(16)}function st(K,te){te=te||1/0;for(var ge,Le=K.length,Xe=null,lt=[],Rt=0;Rt<Le;++Rt){if(55295<(ge=K.charCodeAt(Rt))&&57344>ge){if(!Xe){if(56319<ge){-1<(te-=3)&&lt.push(239,191,189);continue}if(Rt+1===Le){-1<(te-=3)&&lt.push(239,191,189);continue}Xe=ge;continue}if(56320>ge){-1<(te-=3)&&lt.push(239,191,189),Xe=ge;continue}ge=65536+(Xe-55296<<10|ge-56320)}else Xe&&-1<(te-=3)&&lt.push(239,191,189);if(Xe=null,128>ge){if(0>(te-=1))break;lt.push(ge)}else if(2048>ge){if(0>(te-=2))break;lt.push(192|ge>>6,128|63&ge)}else if(65536>ge){if(0>(te-=3))break;lt.push(224|ge>>12,128|63&ge>>6,128|63&ge)}else{if(!(1114112>ge))throw new Error("Invalid code point");if(0>(te-=4))break;lt.push(240|ge>>18,128|63&ge>>12,128|63&ge>>6,128|63&ge)}}return lt}function Zt(K){return we.toByteArray(function(K){if(2>(K=(K=K.split("=")[0]).trim().replace(Ge,"")).length)return"";for(;K.length%4!=0;)K+="=";return K}(K))}function Qt(K,te,ge,Le){for(var Xe=0;Xe<Le&&!(Xe+ge>=te.length||Xe>=K.length);++Xe)te[Xe+ge]=K[Xe];return Xe}function be(K,te){return K instanceof te||null!=K&&null!=K.constructor&&null!=K.constructor.name&&K.constructor.name===te.name}function fe(K){return K!=K}var we=le("base64-js"),Ae=le("ieee754");Ze.Buffer=ve,Ze.SlowBuffer=function(K){return+K!=K&&(K=0),ve.alloc(+K)},Ze.INSPECT_MAX_BYTES=50,Ze.kMaxLength=2147483647,(ve.TYPED_ARRAY_SUPPORT=function(){try{var K=new Uint8Array(1);return K.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===K.foo()}catch(te){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(ve.prototype,"parent",{enumerable:!0,get:function(){return ve.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(ve.prototype,"offset",{enumerable:!0,get:function(){return ve.isBuffer(this)?this.byteOffset:void 0}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&ve[Symbol.species]===ve&&Object.defineProperty(ve,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),ve.poolSize=8192,ve.from=function(K,te,ge){return Ie(K,te,ge)},ve.prototype.__proto__=Uint8Array.prototype,ve.__proto__=Uint8Array,ve.alloc=function(K,te,ge){return function(K,te,ge){return Ce(K),0>=K||void 0===te?Ve(K):"string"==typeof ge?Ve(K).fill(te,ge):Ve(K).fill(te)}(K,te,ge)},ve.allocUnsafe=function(K){return Re(K)},ve.allocUnsafeSlow=function(K){return Re(K)},ve.isBuffer=function(K){return null!=K&&!0===K._isBuffer&&K!==ve.prototype},ve.compare=function(K,te){if(be(K,Uint8Array)&&(K=ve.from(K,K.offset,K.byteLength)),be(te,Uint8Array)&&(te=ve.from(te,te.offset,te.byteLength)),!ve.isBuffer(K)||!ve.isBuffer(te))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(K===te)return 0;for(var ge=K.length,Le=te.length,Xe=0,lt=Pe(ge,Le);Xe<lt;++Xe)if(K[Xe]!==te[Xe]){ge=K[Xe],Le=te[Xe];break}return ge<Le?-1:Le<ge?1:0},ve.isEncoding=function(K){switch((K+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ve.concat=function(K,te){if(!Array.isArray(K))throw new TypeError('"list" argument must be an Array of Buffers');if(0===K.length)return ve.alloc(0);var ge;if(void 0===te)for(te=0,ge=0;ge<K.length;++ge)te+=K[ge].length;var Le=ve.allocUnsafe(te),Xe=0;for(ge=0;ge<K.length;++ge){var lt=K[ge];if(be(lt,Uint8Array)&&(lt=ve.from(lt)),!ve.isBuffer(lt))throw new TypeError('"list" argument must be an Array of Buffers');lt.copy(Le,Xe),Xe+=lt.length}return Le},ve.byteLength=je,ve.prototype._isBuffer=!0,ve.prototype.swap16=function(){var K=this.length;if(K%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var te=0;te<K;te+=2)ft(this,te,te+1);return this},ve.prototype.swap32=function(){var K=this.length;if(K%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var te=0;te<K;te+=4)ft(this,te,te+3),ft(this,te+1,te+2);return this},ve.prototype.swap64=function(){var K=this.length;if(K%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var te=0;te<K;te+=8)ft(this,te,te+7),ft(this,te+1,te+6),ft(this,te+2,te+5),ft(this,te+3,te+4);return this},ve.prototype.toLocaleString=ve.prototype.toString=function(){var K=this.length;return 0===K?"":0===arguments.length?Gt(this,0,K):ut.apply(this,arguments)},ve.prototype.equals=function(K){if(!ve.isBuffer(K))throw new TypeError("Argument must be a Buffer");return this===K||0===ve.compare(this,K)},ve.prototype.inspect=function(){var K="",te=Ze.INSPECT_MAX_BYTES;return K=this.toString("hex",0,te).replace(/(.{2})/g,"$1 ").trim(),this.length>te&&(K+=" ... "),"<Buffer "+K+">"},ve.prototype.compare=function(K,te,ge,Le,Xe){if(be(K,Uint8Array)&&(K=ve.from(K,K.offset,K.byteLength)),!ve.isBuffer(K))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof K);if(void 0===te&&(te=0),void 0===ge&&(ge=K?K.length:0),void 0===Le&&(Le=0),void 0===Xe&&(Xe=this.length),0>te||ge>K.length||0>Le||Xe>this.length)throw new RangeError("out of range index");if(Le>=Xe&&te>=ge)return 0;if(Le>=Xe)return-1;if(te>=ge)return 1;if(this===K)return 0;for(var lt=(Xe>>>=0)-(Le>>>=0),Rt=(ge>>>=0)-(te>>>=0),on=Pe(lt,Rt),Dn=this.slice(Le,Xe),Ln=K.slice(te,ge),gn=0;gn<on;++gn)if(Dn[gn]!==Ln[gn]){lt=Dn[gn],Rt=Ln[gn];break}return lt<Rt?-1:Rt<lt?1:0},ve.prototype.includes=function(K,te,ge){return-1!==this.indexOf(K,te,ge)},ve.prototype.indexOf=function(K,te,ge){return Mt(this,K,te,ge,!0)},ve.prototype.lastIndexOf=function(K,te,ge){return Mt(this,K,te,ge,!1)},ve.prototype.write=function(K,te,ge,Le){if(void 0===te)Le="utf8",ge=this.length,te=0;else if(void 0===ge&&"string"==typeof te)Le=te,ge=this.length,te=0;else{if(!isFinite(te))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");te>>>=0,isFinite(ge)?(ge>>>=0,void 0===Le&&(Le="utf8")):(Le=ge,ge=void 0)}var Xe=this.length-te;if((void 0===ge||ge>Xe)&&(ge=Xe),0<K.length&&(0>ge||0>te)||te>this.length)throw new RangeError("Attempt to write outside buffer bounds");Le||(Le="utf8");for(var lt=!1;;)switch(Le){case"hex":return ht(this,K,te,ge);case"utf8":case"utf-8":return St(this,K,te,ge);case"ascii":return Wt(this,K,te,ge);case"latin1":case"binary":return bn(this,K,te,ge);case"base64":return xt(this,K,te,ge);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ot(this,K,te,ge);default:if(lt)throw new TypeError("Unknown encoding: "+Le);Le=(""+Le).toLowerCase(),lt=!0}},ve.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},ve.prototype.slice=function(K,te){var ge=this.length;0>(K=~~K)?0>(K+=ge)&&(K=0):K>ge&&(K=ge),0>(te=void 0===te?ge:~~te)?0>(te+=ge)&&(te=0):te>ge&&(te=ge),te<K&&(te=K);var Le=this.subarray(K,te);return Le.__proto__=ve.prototype,Le},ve.prototype.readUIntLE=function(K,te,ge){K>>>=0,te>>>=0,ge||tt(K,te,this.length);for(var Le=this[K],Xe=1,lt=0;++lt<te&&(Xe*=256);)Le+=this[K+lt]*Xe;return Le},ve.prototype.readUIntBE=function(K,te,ge){K>>>=0,te>>>=0,ge||tt(K,te,this.length);for(var Le=this[K+--te],Xe=1;0<te&&(Xe*=256);)Le+=this[K+--te]*Xe;return Le},ve.prototype.readUInt8=function(K,te){return K>>>=0,te||tt(K,1,this.length),this[K]},ve.prototype.readUInt16LE=function(K,te){return K>>>=0,te||tt(K,2,this.length),this[K]|this[K+1]<<8},ve.prototype.readUInt16BE=function(K,te){return K>>>=0,te||tt(K,2,this.length),this[K]<<8|this[K+1]},ve.prototype.readUInt32LE=function(K,te){return K>>>=0,te||tt(K,4,this.length),(this[K]|this[K+1]<<8|this[K+2]<<16)+16777216*this[K+3]},ve.prototype.readUInt32BE=function(K,te){return K>>>=0,te||tt(K,4,this.length),16777216*this[K]+(this[K+1]<<16|this[K+2]<<8|this[K+3])},ve.prototype.readIntLE=function(K,te,ge){K>>>=0,te>>>=0,ge||tt(K,te,this.length);for(var Le=this[K],Xe=1,lt=0;++lt<te&&(Xe*=256);)Le+=this[K+lt]*Xe;return Le>=(Xe*=128)&&(Le-=C(2,8*te)),Le},ve.prototype.readIntBE=function(K,te,ge){K>>>=0,te>>>=0,ge||tt(K,te,this.length);for(var Le=te,Xe=1,lt=this[K+--Le];0<Le&&(Xe*=256);)lt+=this[K+--Le]*Xe;return lt>=(Xe*=128)&&(lt-=C(2,8*te)),lt},ve.prototype.readInt8=function(K,te){return K>>>=0,te||tt(K,1,this.length),128&this[K]?-1*(255-this[K]+1):this[K]},ve.prototype.readInt16LE=function(K,te){K>>>=0,te||tt(K,2,this.length);var ge=this[K]|this[K+1]<<8;return 32768&ge?4294901760|ge:ge},ve.prototype.readInt16BE=function(K,te){K>>>=0,te||tt(K,2,this.length);var ge=this[K+1]|this[K]<<8;return 32768&ge?4294901760|ge:ge},ve.prototype.readInt32LE=function(K,te){return K>>>=0,te||tt(K,4,this.length),this[K]|this[K+1]<<8|this[K+2]<<16|this[K+3]<<24},ve.prototype.readInt32BE=function(K,te){return K>>>=0,te||tt(K,4,this.length),this[K]<<24|this[K+1]<<16|this[K+2]<<8|this[K+3]},ve.prototype.readFloatLE=function(K,te){return K>>>=0,te||tt(K,4,this.length),Ae.read(this,K,!0,23,4)},ve.prototype.readFloatBE=function(K,te){return K>>>=0,te||tt(K,4,this.length),Ae.read(this,K,!1,23,4)},ve.prototype.readDoubleLE=function(K,te){return K>>>=0,te||tt(K,8,this.length),Ae.read(this,K,!0,52,8)},ve.prototype.readDoubleBE=function(K,te){return K>>>=0,te||tt(K,8,this.length),Ae.read(this,K,!1,52,8)},ve.prototype.writeUIntLE=function(K,te,ge,Le){K=+K,te>>>=0,ge>>>=0,Le||Ue(this,K,te,ge,C(2,8*ge)-1,0);var lt=1,Rt=0;for(this[te]=255&K;++Rt<ge&&(lt*=256);)this[te+Rt]=255&K/lt;return te+ge},ve.prototype.writeUIntBE=function(K,te,ge,Le){K=+K,te>>>=0,ge>>>=0,Le||Ue(this,K,te,ge,C(2,8*ge)-1,0);var lt=ge-1,Rt=1;for(this[te+lt]=255&K;0<=--lt&&(Rt*=256);)this[te+lt]=255&K/Rt;return te+ge},ve.prototype.writeUInt8=function(K,te,ge){return K=+K,te>>>=0,ge||Ue(this,K,te,1,255,0),this[te]=255&K,te+1},ve.prototype.writeUInt16LE=function(K,te,ge){return K=+K,te>>>=0,ge||Ue(this,K,te,2,65535,0),this[te]=255&K,this[te+1]=K>>>8,te+2},ve.prototype.writeUInt16BE=function(K,te,ge){return K=+K,te>>>=0,ge||Ue(this,K,te,2,65535,0),this[te]=K>>>8,this[te+1]=255&K,te+2},ve.prototype.writeUInt32LE=function(K,te,ge){return K=+K,te>>>=0,ge||Ue(this,K,te,4,4294967295,0),this[te+3]=K>>>24,this[te+2]=K>>>16,this[te+1]=K>>>8,this[te]=255&K,te+4},ve.prototype.writeUInt32BE=function(K,te,ge){return K=+K,te>>>=0,ge||Ue(this,K,te,4,4294967295,0),this[te]=K>>>24,this[te+1]=K>>>16,this[te+2]=K>>>8,this[te+3]=255&K,te+4},ve.prototype.writeIntLE=function(K,te,ge,Le){if(K=+K,te>>>=0,!Le){var Xe=C(2,8*ge-1);Ue(this,K,te,ge,Xe-1,-Xe)}var lt=0,Rt=1,on=0;for(this[te]=255&K;++lt<ge&&(Rt*=256);)0>K&&0===on&&0!==this[te+lt-1]&&(on=1),this[te+lt]=255&(K/Rt>>0)-on;return te+ge},ve.prototype.writeIntBE=function(K,te,ge,Le){if(K=+K,te>>>=0,!Le){var Xe=C(2,8*ge-1);Ue(this,K,te,ge,Xe-1,-Xe)}var lt=ge-1,Rt=1,on=0;for(this[te+lt]=255&K;0<=--lt&&(Rt*=256);)0>K&&0===on&&0!==this[te+lt+1]&&(on=1),this[te+lt]=255&(K/Rt>>0)-on;return te+ge},ve.prototype.writeInt8=function(K,te,ge){return K=+K,te>>>=0,ge||Ue(this,K,te,1,127,-128),0>K&&(K=255+K+1),this[te]=255&K,te+1},ve.prototype.writeInt16LE=function(K,te,ge){return K=+K,te>>>=0,ge||Ue(this,K,te,2,32767,-32768),this[te]=255&K,this[te+1]=K>>>8,te+2},ve.prototype.writeInt16BE=function(K,te,ge){return K=+K,te>>>=0,ge||Ue(this,K,te,2,32767,-32768),this[te]=K>>>8,this[te+1]=255&K,te+2},ve.prototype.writeInt32LE=function(K,te,ge){return K=+K,te>>>=0,ge||Ue(this,K,te,4,2147483647,-2147483648),this[te]=255&K,this[te+1]=K>>>8,this[te+2]=K>>>16,this[te+3]=K>>>24,te+4},ve.prototype.writeInt32BE=function(K,te,ge){return K=+K,te>>>=0,ge||Ue(this,K,te,4,2147483647,-2147483648),0>K&&(K=4294967295+K+1),this[te]=K>>>24,this[te+1]=K>>>16,this[te+2]=K>>>8,this[te+3]=255&K,te+4},ve.prototype.writeFloatLE=function(K,te,ge){return Jt(this,K,te,!0,ge)},ve.prototype.writeFloatBE=function(K,te,ge){return Jt(this,K,te,!1,ge)},ve.prototype.writeDoubleLE=function(K,te,ge){return rt(this,K,te,!0,ge)},ve.prototype.writeDoubleBE=function(K,te,ge){return rt(this,K,te,!1,ge)},ve.prototype.copy=function(K,te,ge,Le){if(!ve.isBuffer(K))throw new TypeError("argument should be a Buffer");if(ge||(ge=0),Le||0===Le||(Le=this.length),te>=K.length&&(te=K.length),te||(te=0),0<Le&&Le<ge&&(Le=ge),Le===ge||0===K.length||0===this.length)return 0;if(0>te)throw new RangeError("targetStart out of bounds");if(0>ge||ge>=this.length)throw new RangeError("Index out of range");if(0>Le)throw new RangeError("sourceEnd out of bounds");Le>this.length&&(Le=this.length),K.length-te<Le-ge&&(Le=K.length-te+ge);var Xe=Le-ge;if(this===K&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(te,ge,Le);else if(this===K&&ge<te&&te<Le)for(var lt=Xe-1;0<=lt;--lt)K[lt+te]=this[lt+ge];else Uint8Array.prototype.set.call(K,this.subarray(ge,Le),te);return Xe},ve.prototype.fill=function(K,te,ge,Le){if("string"==typeof K){if("string"==typeof te?(Le=te,te=0,ge=this.length):"string"==typeof ge&&(Le=ge,ge=this.length),void 0!==Le&&"string"!=typeof Le)throw new TypeError("encoding must be a string");if("string"==typeof Le&&!ve.isEncoding(Le))throw new TypeError("Unknown encoding: "+Le);if(1===K.length){var Xe=K.charCodeAt(0);("utf8"===Le&&128>Xe||"latin1"===Le)&&(K=Xe)}}else"number"==typeof K&&(K&=255);if(0>te||this.length<te||this.length<ge)throw new RangeError("Out of range index");if(ge<=te)return this;var lt;if(te>>>=0,ge=void 0===ge?this.length:ge>>>0,K||(K=0),"number"==typeof K)for(lt=te;lt<ge;++lt)this[lt]=K;else{var Rt=ve.isBuffer(K)?K:ve.from(K,Le),on=Rt.length;if(0===on)throw new TypeError('The value "'+K+'" is invalid for argument "value"');for(lt=0;lt<ge-te;++lt)this[lt+te]=Rt[lt%on]}return this};var Ge=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,le("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:9}],4:[function(le,Ct,Ze){(function(Ne){(function(){Ze.formatArgs=function(ve){if(ve[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+ve[0]+(this.useColors?"%c ":" ")+"+"+Ct.exports.humanize(this.diff),!this.useColors)return;const Ie="color: "+this.color;ve.splice(1,0,Ie,"color: inherit");let Ce=0,ye=0;ve[0].replace(/%[a-zA-Z%]/g,Re=>{"%%"===Re||(Ce++,"%c"===Re&&(ye=Ce))}),ve.splice(ye,0,Ie)},Ze.save=function(ve){try{ve?Ze.storage.setItem("debug",ve):Ze.storage.removeItem("debug")}catch(Ie){}},Ze.load=function(){let ve;try{ve=Ze.storage.getItem("debug")}catch(Ie){}return!ve&&void 0!==Ne&&"env"in Ne&&(ve=Ne.env.DEBUG),ve},Ze.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},Ze.storage=function(){try{return localStorage}catch(ve){}}(),Ze.destroy=(()=>{let ve=!1;return()=>{ve||(ve=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),Ze.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],Ze.log=console.debug||console.log||(()=>{}),Ct.exports=le("./common")(Ze);const{formatters:Ve}=Ct.exports;Ve.j=function(ve){try{return JSON.stringify(ve)}catch(Ie){return"[UnexpectedJSONParseError]: "+Ie.message}}}).call(this)}).call(this,le("_process"))},{"./common":5,_process:12}],5:[function(le,Ct){Ct.exports=function(Ze){function Ne(ve){function Ie(...Re){if(!Ie.enabled)return;const Fe=Ie,Be=+new Date;Fe.diff=Be-(Ce||Be),Fe.prev=Ce,Fe.curr=Be,Ce=Be,Re[0]=Ne.coerce(Re[0]),"string"!=typeof Re[0]&&Re.unshift("%O");let Te=0;Re[0]=Re[0].replace(/%([a-zA-Z%])/g,(je,ut)=>{if("%%"===je)return"%";Te++;const ft=Ne.formatters[ut];return"function"==typeof ft&&(je=ft.call(Fe,Re[Te]),Re.splice(Te,1),Te--),je}),Ne.formatArgs.call(Fe,Re),(Fe.log||Ne.log).apply(Fe,Re)}let Ce,ye=null;return Ie.namespace=ve,Ie.useColors=Ne.useColors(),Ie.color=Ne.selectColor(ve),Ie.extend=Pe,Ie.destroy=Ne.destroy,Object.defineProperty(Ie,"enabled",{enumerable:!0,configurable:!1,get:()=>null===ye?Ne.enabled(ve):ye,set:Re=>{ye=Re}}),"function"==typeof Ne.init&&Ne.init(Ie),Ie}function Pe(ve,Ie){const Ce=Ne(this.namespace+(void 0===Ie?":":Ie)+ve);return Ce.log=this.log,Ce}function Ve(ve){return ve.toString().substring(2,ve.toString().length-2).replace(/\.\*\?$/,"*")}return Ne.debug=Ne,Ne.default=Ne,Ne.coerce=function(ve){return ve instanceof Error?ve.stack||ve.message:ve},Ne.disable=function(){const ve=[...Ne.names.map(Ve),...Ne.skips.map(Ve).map(Ie=>"-"+Ie)].join(",");return Ne.enable(""),ve},Ne.enable=function(ve){let Ie;Ne.save(ve),Ne.names=[],Ne.skips=[];const Ce=("string"==typeof ve?ve:"").split(/[\s,]+/),ye=Ce.length;for(Ie=0;Ie<ye;Ie++)Ce[Ie]&&("-"===(ve=Ce[Ie].replace(/\*/g,".*?"))[0]?Ne.skips.push(new RegExp("^"+ve.substr(1)+"$")):Ne.names.push(new RegExp("^"+ve+"$")))},Ne.enabled=function(ve){if("*"===ve[ve.length-1])return!0;let Ie,Ce;for(Ie=0,Ce=Ne.skips.length;Ie<Ce;Ie++)if(Ne.skips[Ie].test(ve))return!1;for(Ie=0,Ce=Ne.names.length;Ie<Ce;Ie++)if(Ne.names[Ie].test(ve))return!0;return!1},Ne.humanize=le("ms"),Ne.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(Ze).forEach(ve=>{Ne[ve]=Ze[ve]}),Ne.names=[],Ne.skips=[],Ne.formatters={},Ne.selectColor=function(ve){let Ie=0;for(let Ce=0;Ce<ve.length;Ce++)Ie=(Ie<<5)-Ie+ve.charCodeAt(Ce),Ie|=0;return Ne.colors[$e(Ie)%Ne.colors.length]},Ne.enable(Ne.load()),Ne}},{ms:11}],6:[function(le,Ct){"use strict";function Ze(Ne,Pe){for(const Ve in Pe)Object.defineProperty(Ne,Ve,{value:Pe[Ve],enumerable:!0,configurable:!0});return Ne}Ct.exports=function(Ne,Pe,Ve){if(!Ne||"string"==typeof Ne)throw new TypeError("Please pass an Error to err-code");Ve||(Ve={}),"object"==typeof Pe&&(Ve=Pe,Pe=""),Pe&&(Ve.code=Pe);try{return Ze(Ne,Ve)}catch(ve){Ve.message=Ne.message,Ve.stack=Ne.stack;const Ie=function(){};return Ie.prototype=Object.create(Object.getPrototypeOf(Ne)),Ze(new Ie,Ve)}}},{}],7:[function(le,Ct){"use strict";function Ne(){Ne.init.call(this)}function Pe(ht){if("function"!=typeof ht)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof ht)}function Ve(ht){return void 0===ht._maxListeners?Ne.defaultMaxListeners:ht._maxListeners}function ve(ht,St,Wt,bn){var xt,Ot,Ht;if(Pe(Wt),void 0===(Ot=ht._events)?(Ot=ht._events=Object.create(null),ht._eventsCount=0):(void 0!==Ot.newListener&&(ht.emit("newListener",St,Wt.listener?Wt.listener:Wt),Ot=ht._events),Ht=Ot[St]),void 0===Ht)Ht=Ot[St]=Wt,++ht._eventsCount;else if("function"==typeof Ht?Ht=Ot[St]=bn?[Wt,Ht]:[Ht,Wt]:bn?Ht.unshift(Wt):Ht.push(Wt),0<(xt=Ve(ht))&&Ht.length>xt&&!Ht.warned){Ht.warned=!0;var Gt=new Error("Possible EventEmitter memory leak detected. "+Ht.length+" "+St+" listeners added. Use emitter.setMaxListeners() to increase limit");Gt.name="MaxListenersExceededWarning",Gt.emitter=ht,Gt.type=St,Gt.count=Ht.length,function(ht){console&&console.warn&&console.warn(ht)}(Gt)}return ht}function Ie(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ce(ht,St,Wt){var bn={fired:!1,wrapFn:void 0,target:ht,type:St,listener:Wt},xt=Ie.bind(bn);return xt.listener=Wt,bn.wrapFn=xt,xt}function ye(ht,St,Wt){var bn=ht._events;if(void 0===bn)return[];var xt=bn[St];return void 0===xt?[]:"function"==typeof xt?Wt?[xt.listener||xt]:[xt]:Wt?function(ht){for(var St=Array(ht.length),Wt=0;Wt<St.length;++Wt)St[Wt]=ht[Wt].listener||ht[Wt];return St}(xt):Fe(xt,xt.length)}function Re(ht){var St=this._events;if(void 0!==St){var Wt=St[ht];if("function"==typeof Wt)return 1;if(void 0!==Wt)return Wt.length}return 0}function Fe(ht,St){for(var Wt=Array(St),bn=0;bn<St;++bn)Wt[bn]=ht[bn];return Wt}function Qe(ht,St,Wt,bn){if("function"==typeof ht.on)bn.once?ht.once(St,Wt):ht.on(St,Wt);else{if("function"!=typeof ht.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof ht);ht.addEventListener(St,function xt(Ot){bn.once&&ht.removeEventListener(St,xt),Wt(Ot)})}}var je,ut="object"==typeof Reflect?Reflect:null,ft=ut&&"function"==typeof ut.apply?ut.apply:function(ht,St,Wt){return Function.prototype.apply.call(ht,St,Wt)};je=ut&&"function"==typeof ut.ownKeys?ut.ownKeys:Object.getOwnPropertySymbols?function(ht){return Object.getOwnPropertyNames(ht).concat(Object.getOwnPropertySymbols(ht))}:function(ht){return Object.getOwnPropertyNames(ht)};var Mt=Number.isNaN||function(ht){return ht!=ht};Ct.exports=Ne,Ct.exports.once=function(ht,St){return new Promise(function(Wt,bn){function xt(Ht){ht.removeListener(St,Ot),bn(Ht)}function Ot(){"function"==typeof ht.removeListener&&ht.removeListener("error",xt),Wt([].slice.call(arguments))}Qe(ht,St,Ot,{once:!0}),"error"!==St&&function(ht,St,Wt){"function"==typeof ht.on&&Qe(ht,"error",St,Wt)}(ht,xt,{once:!0})})},Ne.EventEmitter=Ne,Ne.prototype._events=void 0,Ne.prototype._eventsCount=0,Ne.prototype._maxListeners=void 0;var Nt=10;Object.defineProperty(Ne,"defaultMaxListeners",{enumerable:!0,get:function(){return Nt},set:function(ht){if("number"!=typeof ht||0>ht||Mt(ht))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+ht+".");Nt=ht}}),Ne.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Ne.prototype.setMaxListeners=function(ht){if("number"!=typeof ht||0>ht||Mt(ht))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+ht+".");return this._maxListeners=ht,this},Ne.prototype.getMaxListeners=function(){return Ve(this)},Ne.prototype.emit=function(ht){for(var St=[],Wt=1;Wt<arguments.length;Wt++)St.push(arguments[Wt]);var bn="error"===ht,xt=this._events;if(void 0!==xt)bn=bn&&void 0===xt.error;else if(!bn)return!1;if(bn){var Ot;if(0<St.length&&(Ot=St[0]),Ot instanceof Error)throw Ot;var Ht=new Error("Unhandled error."+(Ot?" ("+Ot.message+")":""));throw Ht.context=Ot,Ht}var Gt=xt[ht];if(void 0===Gt)return!1;if("function"==typeof Gt)ft(Gt,this,St);else{var Et=Gt.length,Se=Fe(Gt,Et);for(Wt=0;Wt<Et;++Wt)ft(Se[Wt],this,St)}return!0},Ne.prototype.on=Ne.prototype.addListener=function(ht,St){return ve(this,ht,St,!1)},Ne.prototype.prependListener=function(ht,St){return ve(this,ht,St,!0)},Ne.prototype.once=function(ht,St){return Pe(St),this.on(ht,Ce(this,ht,St)),this},Ne.prototype.prependOnceListener=function(ht,St){return Pe(St),this.prependListener(ht,Ce(this,ht,St)),this},Ne.prototype.off=Ne.prototype.removeListener=function(ht,St){var Wt,bn,xt,Ot,Ht;if(Pe(St),void 0===(bn=this._events))return this;if(void 0===(Wt=bn[ht]))return this;if(Wt===St||Wt.listener===St)0==--this._eventsCount?this._events=Object.create(null):(delete bn[ht],bn.removeListener&&this.emit("removeListener",ht,Wt.listener||St));else if("function"!=typeof Wt){for(xt=-1,Ot=Wt.length-1;0<=Ot;Ot--)if(Wt[Ot]===St||Wt[Ot].listener===St){Ht=Wt[Ot].listener,xt=Ot;break}if(0>xt)return this;0===xt?Wt.shift():function(ht,St){for(;St+1<ht.length;St++)ht[St]=ht[St+1];ht.pop()}(Wt,xt),1===Wt.length&&(bn[ht]=Wt[0]),void 0!==bn.removeListener&&this.emit("removeListener",ht,Ht||St)}return this},Ne.prototype.removeAllListeners=function(ht){var St,Wt,bn;if(void 0===(Wt=this._events))return this;if(void 0===Wt.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==Wt[ht]&&(0==--this._eventsCount?this._events=Object.create(null):delete Wt[ht]),this;if(0===arguments.length){var xt,Ot=Object.keys(Wt);for(bn=0;bn<Ot.length;++bn)"removeListener"!==(xt=Ot[bn])&&this.removeAllListeners(xt);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(St=Wt[ht]))this.removeListener(ht,St);else if(void 0!==St)for(bn=St.length-1;0<=bn;bn--)this.removeListener(ht,St[bn]);return this},Ne.prototype.listeners=function(ht){return ye(this,ht,!0)},Ne.prototype.rawListeners=function(ht){return ye(this,ht,!1)},Ne.listenerCount=function(ht,St){return"function"==typeof ht.listenerCount?ht.listenerCount(St):Re.call(ht,St)},Ne.prototype.listenerCount=Re,Ne.prototype.eventNames=function(){return 0<this._eventsCount?je(this._events):[]}},{}],8:[function(le,Ct){Ct.exports=function(){if("undefined"==typeof globalThis)return null;var Ze={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return Ze.RTCPeerConnection?Ze:null}},{}],9:[function(le,Ct,Ze){Ze.read=function(Ne,Pe,Ve,ve,Ie){var Ce,ye,Re=8*Ie-ve-1,Fe=(1<<Re)-1,Be=Fe>>1,pt=-7,Te=Ve?Ie-1:0,Qe=Ve?-1:1,je=Ne[Pe+Te];for(Te+=Qe,Ce=je&(1<<-pt)-1,je>>=-pt,pt+=Re;0<pt;Ce=256*Ce+Ne[Pe+Te],Te+=Qe,pt-=8);for(ye=Ce&(1<<-pt)-1,Ce>>=-pt,pt+=ve;0<pt;ye=256*ye+Ne[Pe+Te],Te+=Qe,pt-=8);if(0===Ce)Ce=1-Be;else{if(Ce===Fe)return ye?NaN:1/0*(je?-1:1);ye+=C(2,ve),Ce-=Be}return(je?-1:1)*ye*C(2,Ce-ve)},Ze.write=function(Ne,Pe,Ve,ve,Ie,Ce){var ye,Re,Fe,Be=Math.LN2,pt=Math.log,Te=8*Ce-Ie-1,Qe=(1<<Te)-1,je=Qe>>1,ut=23===Ie?C(2,-24)-C(2,-77):0,ft=ve?0:Ce-1,Mt=ve?1:-1,Nt=0>Pe||0===Pe&&0>1/Pe?1:0;for(Pe=$e(Pe),isNaN(Pe)||Pe===1/0?(Re=isNaN(Pe)?1:0,ye=Qe):(ye=zt(pt(Pe)/Be),1>Pe*(Fe=C(2,-ye))&&(ye--,Fe*=2),2<=(Pe+=1<=ye+je?ut/Fe:ut*C(2,1-je))*Fe&&(ye++,Fe/=2),ye+je>=Qe?(Re=0,ye=Qe):1<=ye+je?(Re=(Pe*Fe-1)*C(2,Ie),ye+=je):(Re=Pe*C(2,je-1)*C(2,Ie),ye=0));8<=Ie;Ne[Ve+ft]=255&Re,ft+=Mt,Re/=256,Ie-=8);for(ye=ye<<Ie|Re,Te+=Ie;0<Te;Ne[Ve+ft]=255&ye,ft+=Mt,ye/=256,Te-=8);Ne[Ve+ft-Mt]|=128*Nt}},{}],10:[function(le,Ct){Ct.exports="function"==typeof Object.create?function(Ze,Ne){Ne&&(Ze.super_=Ne,Ze.prototype=Object.create(Ne.prototype,{constructor:{value:Ze,enumerable:!1,writable:!0,configurable:!0}}))}:function(Ze,Ne){if(Ne){Ze.super_=Ne;var Pe=function(){};Pe.prototype=Ne.prototype,Ze.prototype=new Pe,Ze.prototype.constructor=Ze}}},{}],11:[function(le,Ct){var Ze=Math.round;function ve(Ce,ye,Re,Fe){return Ze(Ce/Re)+" "+Fe+(ye>=1.5*Re?"s":"")}Ct.exports=function(Ce,ye){ye=ye||{};var Re=typeof Ce;if("string"==Re&&0<Ce.length)return function(Ce){if(!(100<(Ce+="").length)){var ye=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(Ce);if(ye){var Re=parseFloat(ye[1]),Fe=(ye[2]||"ms").toLowerCase();return"years"===Fe||"year"===Fe||"yrs"===Fe||"yr"===Fe||"y"===Fe?315576e5*Re:"weeks"===Fe||"week"===Fe||"w"===Fe?6048e5*Re:"days"===Fe||"day"===Fe||"d"===Fe?864e5*Re:"hours"===Fe||"hour"===Fe||"hrs"===Fe||"hr"===Fe||"h"===Fe?36e5*Re:"minutes"===Fe||"minute"===Fe||"mins"===Fe||"min"===Fe||"m"===Fe?6e4*Re:"seconds"===Fe||"second"===Fe||"secs"===Fe||"sec"===Fe||"s"===Fe?1e3*Re:"milliseconds"===Fe||"millisecond"===Fe||"msecs"===Fe||"msec"===Fe||"ms"===Fe?Re:void 0}}}(Ce);if("number"===Re&&isFinite(Ce))return ye.long?function(Ce){var ye=$e(Ce);return 864e5<=ye?ve(Ce,ye,864e5,"day"):36e5<=ye?ve(Ce,ye,36e5,"hour"):6e4<=ye?ve(Ce,ye,6e4,"minute"):1e3<=ye?ve(Ce,ye,1e3,"second"):Ce+" ms"}(Ce):function(Ce){var ye=$e(Ce);return 864e5<=ye?Ze(Ce/864e5)+"d":36e5<=ye?Ze(Ce/36e5)+"h":6e4<=ye?Ze(Ce/6e4)+"m":1e3<=ye?Ze(Ce/1e3)+"s":Ce+"ms"}(Ce);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(Ce))}},{}],12:[function(le,Ct){function Ze(){throw new Error("setTimeout has not been defined")}function Ne(){throw new Error("clearTimeout has not been defined")}function Pe(ut){if(Re===setTimeout)return setTimeout(ut,0);if((Re===Ze||!Re)&&setTimeout)return Re=setTimeout,setTimeout(ut,0);try{return Re(ut,0)}catch(ft){try{return Re.call(null,ut,0)}catch(Mt){return Re.call(this,ut,0)}}}function ve(){Qe&&pt&&(Qe=!1,pt.length?Te=pt.concat(Te):je=-1,Te.length&&Ie())}function Ie(){if(!Qe){var ut=Pe(ve);Qe=!0;for(var ft=Te.length;ft;){for(pt=Te,Te=[];++je<ft;)pt&&pt[je].run();je=-1,ft=Te.length}pt=null,Qe=!1,function(ut){if(Fe===clearTimeout)return clearTimeout(ut);if((Fe===Ne||!Fe)&&clearTimeout)return Fe=clearTimeout,clearTimeout(ut);try{Fe(ut)}catch(ft){try{return Fe.call(null,ut)}catch(Mt){return Fe.call(this,ut)}}}(ut)}}function Ce(ut,ft){this.fun=ut,this.array=ft}function ye(){}var Re,Fe,Be=Ct.exports={};!function(){try{Re="function"==typeof setTimeout?setTimeout:Ze}catch(ut){Re=Ze}try{Fe="function"==typeof clearTimeout?clearTimeout:Ne}catch(ut){Fe=Ne}}();var pt,Te=[],Qe=!1,je=-1;Be.nextTick=function(ut){var ft=Array(arguments.length-1);if(1<arguments.length)for(var Mt=1;Mt<arguments.length;Mt++)ft[Mt-1]=arguments[Mt];Te.push(new Ce(ut,ft)),1!==Te.length||Qe||Pe(Ie)},Ce.prototype.run=function(){this.fun.apply(null,this.array)},Be.title="browser",Be.browser=!0,Be.env={},Be.argv=[],Be.version="",Be.versions={},Be.on=ye,Be.addListener=ye,Be.once=ye,Be.off=ye,Be.removeListener=ye,Be.removeAllListeners=ye,Be.emit=ye,Be.prependListener=ye,Be.prependOnceListener=ye,Be.listeners=function(){return[]},Be.binding=function(){throw new Error("process.binding is not supported")},Be.cwd=function(){return"/"},Be.chdir=function(){throw new Error("process.chdir is not supported")},Be.umask=function(){return 0}},{}],13:[function(le,Ct){(function(Ze){(function(){let Ne;Ct.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"==typeof window?Ze:window):Pe=>(Ne||(Ne=Promise.resolve())).then(Pe).catch(Ve=>setTimeout(()=>{throw Ve},0))}).call(this)}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{}],14:[function(le,Ct){(function(Ze,Ne){(function(){"use strict";var Pe=le("safe-buffer").Buffer,Ve=Ne.crypto||Ne.msCrypto;Ct.exports=Ve&&Ve.getRandomValues?function(ve,Ie){if(ve>4294967295)throw new RangeError("requested too many random bytes");var Ce=Pe.allocUnsafe(ve);if(0<ve)if(65536<ve)for(var ye=0;ye<ve;ye+=65536)Ve.getRandomValues(Ce.slice(ye,ye+65536));else Ve.getRandomValues(Ce);return"function"==typeof Ie?Ze.nextTick(function(){Ie(null,Ce)}):Ce}:function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this)}).call(this,le("_process"),"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{_process:12,"safe-buffer":30}],15:[function(le,Ct){"use strict";function Ne(ye,Re,Fe){Fe||(Fe=Error);var pt=function(Te){function Qe(je,ut,ft){return Te.call(this,function(Te,Qe,je){return"string"==typeof Re?Re:Re(Te,Qe,je)}(je,ut,ft))||this}return function(ye,Re){ye.prototype=Object.create(Re.prototype),ye.prototype.constructor=ye,ye.__proto__=Re}(Qe,Te),Qe}(Fe);pt.prototype.name=Fe.name,pt.prototype.code=ye,Ce[ye]=pt}function Pe(ye,Re){if(Array.isArray(ye)){var Fe=ye.length;return ye=ye.map(function(Be){return Be+""}),2<Fe?"one of ".concat(Re," ").concat(ye.slice(0,Fe-1).join(", "),", or ")+ye[Fe-1]:2===Fe?"one of ".concat(Re," ").concat(ye[0]," or ").concat(ye[1]):"of ".concat(Re," ").concat(ye[0])}return"of ".concat(Re," ").concat(ye+"")}var Ce={};Ne("ERR_INVALID_OPT_VALUE",function(ye,Re){return'The value "'+Re+'" is invalid for option "'+ye+'"'},TypeError),Ne("ERR_INVALID_ARG_TYPE",function(ye,Re,Fe){var Be,pt;if("string"==typeof Re&&function(ye,Re,Fe){return ye.substr(!Fe||0>Fe?0:+Fe,Re.length)===Re}(Re,"not ")?(Be="must not be",Re=Re.replace(/^not /,"")):Be="must be",function(ye,Re,Fe){return(void 0===Fe||Fe>ye.length)&&(Fe=ye.length),ye.substring(Fe-Re.length,Fe)===Re}(ye," argument"))pt="The ".concat(ye," ").concat(Be," ").concat(Pe(Re,"type"));else{var Te=function(ye,Re,Fe){return"number"!=typeof Fe&&(Fe=0),!(Fe+Re.length>ye.length)&&-1!==ye.indexOf(Re,Fe)}(ye,".")?"property":"argument";pt='The "'.concat(ye,'" ').concat(Te," ").concat(Be," ").concat(Pe(Re,"type"))}return pt+". Received type ".concat(typeof Fe)},TypeError),Ne("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),Ne("ERR_METHOD_NOT_IMPLEMENTED",function(ye){return"The "+ye+" method is not implemented"}),Ne("ERR_STREAM_PREMATURE_CLOSE","Premature close"),Ne("ERR_STREAM_DESTROYED",function(ye){return"Cannot call "+ye+" after a stream was destroyed"}),Ne("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),Ne("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),Ne("ERR_STREAM_WRITE_AFTER_END","write after end"),Ne("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),Ne("ERR_UNKNOWN_ENCODING",function(ye){return"Unknown encoding: "+ye},TypeError),Ne("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Ct.exports.codes=Ce},{}],16:[function(le,Ct){(function(Ze){(function(){"use strict";function Ne(Be){return this instanceof Ne?(Ie.call(this,Be),Ce.call(this,Be),this.allowHalfOpen=!0,void(Be&&(!1===Be.readable&&(this.readable=!1),!1===Be.writable&&(this.writable=!1),!1===Be.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",Pe))))):new Ne(Be)}function Pe(){this._writableState.ended||Ze.nextTick(Ve,this)}function Ve(Be){Be.end()}var ve=Object.keys||function(Be){var pt=[];for(var Te in Be)pt.push(Te);return pt};Ct.exports=Ne;var Ie=le("./_stream_readable"),Ce=le("./_stream_writable");le("inherits")(Ne,Ie);for(var ye,Re=ve(Ce.prototype),Fe=0;Fe<Re.length;Fe++)Ne.prototype[ye=Re[Fe]]||(Ne.prototype[ye]=Ce.prototype[ye]);Object.defineProperty(Ne.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Ne.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Ne.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Ne.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(Be){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=Be,this._writableState.destroyed=Be)}})}).call(this)}).call(this,le("_process"))},{"./_stream_readable":18,"./_stream_writable":20,_process:12,inherits:10}],17:[function(le,Ct){"use strict";function Ze(Pe){return this instanceof Ze?void Ne.call(this,Pe):new Ze(Pe)}Ct.exports=Ze;var Ne=le("./_stream_transform");le("inherits")(Ze,Ne),Ze.prototype._transform=function(Pe,Ve,ve){ve(null,Pe)}},{"./_stream_transform":19,inherits:10}],18:[function(le,Ct){(function(Ze,Ne){(function(){"use strict";function Ie(K,te,ge){Et=Et||le("./_stream_duplex"),"boolean"!=typeof ge&&(ge=te instanceof Et),this.objectMode=!!(K=K||{}).objectMode,ge&&(this.objectMode=this.objectMode||!!K.readableObjectMode),this.highWaterMark=gt(this,K,"readableHighWaterMark",ge),this.buffer=new Ke,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==K.emitClose,this.autoDestroy=!!K.autoDestroy,this.destroyed=!1,this.defaultEncoding=K.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,K.encoding&&(!Jt&&(Jt=le("string_decoder/").StringDecoder),this.decoder=new Jt(K.encoding),this.encoding=K.encoding)}function Ce(K){if(Et=Et||le("./_stream_duplex"),!(this instanceof Ce))return new Ce(K);this._readableState=new Ie(K,this,this instanceof Et),this.readable=!0,K&&("function"==typeof K.read&&(this._read=K.read),"function"==typeof K.destroy&&(this._destroy=K.destroy)),ke.call(this)}function ye(K,te,ge,Le,Xe){Se("readableAddChunk",te);var Rt,lt=K._readableState;if(null===te)lt.reading=!1,function(K,te){if(Se("onEofChunk"),!te.ended){if(te.decoder){var ge=te.decoder.end();ge&&ge.length&&(te.buffer.push(ge),te.length+=te.objectMode?1:ge.length)}te.ended=!0,te.sync?Qe(K):(te.needReadable=!1,!te.emittedReadable&&(te.emittedReadable=!0,je(K)))}}(K,lt);else if(Xe||(Rt=function(K,te){var ge;return function(K){return tt.isBuffer(K)||K instanceof Ue}(te)||"string"==typeof te||void 0===te||K.objectMode||(ge=new Qt("chunk",["string","Buffer","Uint8Array"],te)),ge}(lt,te)),Rt)Ae(K,Rt);else if(lt.objectMode||te&&0<te.length)if("string"==typeof te||lt.objectMode||Object.getPrototypeOf(te)===tt.prototype||(te=function(K){return tt.from(K)}(te)),Le)lt.endEmitted?Ae(K,new we):Re(K,lt,te,!0);else if(lt.ended)Ae(K,new be);else{if(lt.destroyed)return!1;lt.reading=!1,lt.decoder&&!ge?(te=lt.decoder.write(te),lt.objectMode||0!==te.length?Re(K,lt,te,!1):ut(K,lt)):Re(K,lt,te,!1)}else Le||(lt.reading=!1,ut(K,lt));return!lt.ended&&(lt.length<lt.highWaterMark||0===lt.length)}function Re(K,te,ge,Le){te.flowing&&0===te.length&&!te.sync?(te.awaitDrain=0,K.emit("data",ge)):(te.length+=te.objectMode?1:ge.length,Le?te.buffer.unshift(ge):te.buffer.push(ge),te.needReadable&&Qe(K)),ut(K,te)}function pt(K,te){return 0>=K||0===te.length&&te.ended?0:te.objectMode?1:K==K?(K>te.highWaterMark&&(te.highWaterMark=function(K){return 1073741824<=K?K=1073741824:(K--,K|=K>>>1,K|=K>>>2,K|=K>>>4,K|=K>>>8,K|=K>>>16,K++),K}(K)),K<=te.length?K:te.ended?te.length:(te.needReadable=!0,0)):te.flowing&&te.length?te.buffer.head.data.length:te.length}function Qe(K){var te=K._readableState;Se("emitReadable",te.needReadable,te.emittedReadable),te.needReadable=!1,te.emittedReadable||(Se("emitReadable",te.flowing),te.emittedReadable=!0,Ze.nextTick(je,K))}function je(K){var te=K._readableState;Se("emitReadable_",te.destroyed,te.length,te.ended),!te.destroyed&&(te.length||te.ended)&&(K.emit("readable"),te.emittedReadable=!1),te.needReadable=!te.flowing&&!te.ended&&te.length<=te.highWaterMark,bn(K)}function ut(K,te){te.readingMore||(te.readingMore=!0,Ze.nextTick(ft,K,te))}function ft(K,te){for(;!te.reading&&!te.ended&&(te.length<te.highWaterMark||te.flowing&&0===te.length);){var ge=te.length;if(Se("maybeReadMore read 0"),K.read(0),ge===te.length)break}te.readingMore=!1}function Nt(K){var te=K._readableState;te.readableListening=0<K.listenerCount("readable"),te.resumeScheduled&&!te.paused?te.flowing=!0:0<K.listenerCount("data")&&K.resume()}function ht(K){Se("readable nexttick read 0"),K.read(0)}function Wt(K,te){Se("resume",te.reading),te.reading||K.read(0),te.resumeScheduled=!1,K.emit("resume"),bn(K),te.flowing&&!te.reading&&K.read(0)}function bn(K){var te=K._readableState;for(Se("flow",te.flowing);te.flowing&&null!==K.read(););}function xt(K,te){return 0===te.length?null:(te.objectMode?ge=te.buffer.shift():!K||K>=te.length?(ge=te.decoder?te.buffer.join(""):1===te.buffer.length?te.buffer.first():te.buffer.concat(te.length),te.buffer.clear()):ge=te.buffer.consume(K,te.decoder),ge);var ge}function Ot(K){var te=K._readableState;Se("endReadable",te.endEmitted),te.endEmitted||(te.ended=!0,Ze.nextTick(Ht,te,K))}function Ht(K,te){if(Se("endReadableNT",K.endEmitted,K.length),!K.endEmitted&&0===K.length&&(K.endEmitted=!0,te.readable=!1,te.emit("end"),K.autoDestroy)){var ge=te._writableState;(!ge||ge.autoDestroy&&ge.finished)&&te.destroy()}}function Gt(K,te){for(var ge=0,Le=K.length;ge<Le;ge++)if(K[ge]===te)return ge;return-1}var Et;Ct.exports=Ce,Ce.ReadableState=Ie,le("events");var Se,vt=function(K,te){return K.listeners(te).length},ke=le("./internal/streams/stream"),tt=le("buffer").Buffer,Ue=Ne.Uint8Array||function(){},qt=le("util");Se=qt&&qt.debuglog?qt.debuglog("stream"):function(){};var Jt,rt,at,Ke=le("./internal/streams/buffer_list"),st=le("./internal/streams/destroy"),gt=le("./internal/streams/state").getHighWaterMark,Zt=le("../errors").codes,Qt=Zt.ERR_INVALID_ARG_TYPE,be=Zt.ERR_STREAM_PUSH_AFTER_EOF,fe=Zt.ERR_METHOD_NOT_IMPLEMENTED,we=Zt.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;le("inherits")(Ce,ke);var Ae=st.errorOrDestroy,Ge=["error","close","destroy","pause","resume"];Object.defineProperty(Ce.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(K){this._readableState&&(this._readableState.destroyed=K)}}),Ce.prototype.destroy=st.destroy,Ce.prototype._undestroy=st.undestroy,Ce.prototype._destroy=function(K,te){te(K)},Ce.prototype.push=function(K,te){var ge,Le=this._readableState;return Le.objectMode?ge=!0:"string"==typeof K&&((te=te||Le.defaultEncoding)!==Le.encoding&&(K=tt.from(K,te),te=""),ge=!0),ye(this,K,te,!1,ge)},Ce.prototype.unshift=function(K){return ye(this,K,null,!0,!1)},Ce.prototype.isPaused=function(){return!1===this._readableState.flowing},Ce.prototype.setEncoding=function(K){Jt||(Jt=le("string_decoder/").StringDecoder);var te=new Jt(K);this._readableState.decoder=te,this._readableState.encoding=this._readableState.decoder.encoding;for(var ge=this._readableState.buffer.head,Le="";null!==ge;)Le+=te.write(ge.data),ge=ge.next;return this._readableState.buffer.clear(),""!==Le&&this._readableState.buffer.push(Le),this._readableState.length=Le.length,this},Ce.prototype.read=function(K){Se("read",K),K=parseInt(K,10);var te=this._readableState,ge=K;if(0!==K&&(te.emittedReadable=!1),0===K&&te.needReadable&&((0===te.highWaterMark?0<te.length:te.length>=te.highWaterMark)||te.ended))return Se("read: emitReadable",te.length,te.ended),0===te.length&&te.ended?Ot(this):Qe(this),null;if(0===(K=pt(K,te))&&te.ended)return 0===te.length&&Ot(this),null;var Xe,Le=te.needReadable;return Se("need readable",Le),(0===te.length||te.length-K<te.highWaterMark)&&Se("length less than watermark",Le=!0),te.ended||te.reading?Se("reading or ended",Le=!1):Le&&(Se("do read"),te.reading=!0,te.sync=!0,0===te.length&&(te.needReadable=!0),this._read(te.highWaterMark),te.sync=!1,!te.reading&&(K=pt(ge,te))),null===(Xe=0<K?xt(K,te):null)?(te.needReadable=te.length<=te.highWaterMark,K=0):(te.length-=K,te.awaitDrain=0),0===te.length&&(!te.ended&&(te.needReadable=!0),ge!==K&&te.ended&&Ot(this)),null!==Xe&&this.emit("data",Xe),Xe},Ce.prototype._read=function(){Ae(this,new fe("_read()"))},Ce.prototype.pipe=function(K,te){function ge(wr,Ti){Se("onunpipe"),wr===gn&&Ti&&!1===Ti.hasUnpiped&&(Ti.hasUnpiped=!0,Se("cleanup"),K.removeListener("close",on),K.removeListener("finish",Dn),K.removeListener("drain",Gi),K.removeListener("error",Rt),K.removeListener("unpipe",ge),gn.removeListener("end",Le),gn.removeListener("end",Ln),gn.removeListener("data",lt),li=!0,en.awaitDrain&&(!K._writableState||K._writableState.needDrain)&&Gi())}function Le(){Se("onend"),K.end()}function lt(wr){Se("ondata");var Ti=K.write(wr);Se("dest.write",Ti),!1===Ti&&((1===en.pipesCount&&en.pipes===K||1<en.pipesCount&&-1!==Gt(en.pipes,K))&&!li&&(Se("false write response, pause",en.awaitDrain),en.awaitDrain++),gn.pause())}function Rt(wr){Se("onerror",wr),Ln(),K.removeListener("error",Rt),0===vt(K,"error")&&Ae(K,wr)}function on(){K.removeListener("finish",Dn),Ln()}function Dn(){Se("onfinish"),K.removeListener("close",on),Ln()}function Ln(){Se("unpipe"),gn.unpipe(K)}var gn=this,en=this._readableState;switch(en.pipesCount){case 0:en.pipes=K;break;case 1:en.pipes=[en.pipes,K];break;default:en.pipes.push(K)}en.pipesCount+=1,Se("pipe count=%d opts=%j",en.pipesCount,te);var es=te&&!1===te.end||K===Ze.stdout||K===Ze.stderr?Ln:Le;en.endEmitted?Ze.nextTick(es):gn.once("end",es),K.on("unpipe",ge);var Gi=function(K){return function(){var te=K._readableState;Se("pipeOnDrain",te.awaitDrain),te.awaitDrain&&te.awaitDrain--,0===te.awaitDrain&&vt(K,"data")&&(te.flowing=!0,bn(K))}}(gn);K.on("drain",Gi);var li=!1;return gn.on("data",lt),function(K,te,ge){"function"==typeof K.prependListener?K.prependListener(te,ge):K._events&&K._events[te]?Array.isArray(K._events[te])?K._events[te].unshift(ge):K._events[te]=[ge,K._events[te]]:K.on(te,ge)}(K,"error",Rt),K.once("close",on),K.once("finish",Dn),K.emit("pipe",gn),en.flowing||(Se("pipe resume"),gn.resume()),K},Ce.prototype.unpipe=function(K){var te=this._readableState,ge={hasUnpiped:!1};if(0===te.pipesCount)return this;if(1===te.pipesCount)return K&&K!==te.pipes||(K||(K=te.pipes),te.pipes=null,te.pipesCount=0,te.flowing=!1,K&&K.emit("unpipe",this,ge)),this;if(!K){var Le=te.pipes,Xe=te.pipesCount;te.pipes=null,te.pipesCount=0,te.flowing=!1;for(var lt=0;lt<Xe;lt++)Le[lt].emit("unpipe",this,{hasUnpiped:!1});return this}var Rt=Gt(te.pipes,K);return-1===Rt||(te.pipes.splice(Rt,1),te.pipesCount-=1,1===te.pipesCount&&(te.pipes=te.pipes[0]),K.emit("unpipe",this,ge)),this},Ce.prototype.addListener=Ce.prototype.on=function(K,te){var ge=ke.prototype.on.call(this,K,te),Le=this._readableState;return"data"===K?(Le.readableListening=0<this.listenerCount("readable"),!1!==Le.flowing&&this.resume()):"readable"==K&&!Le.endEmitted&&!Le.readableListening&&(Le.readableListening=Le.needReadable=!0,Le.flowing=!1,Le.emittedReadable=!1,Se("on readable",Le.length,Le.reading),Le.length?Qe(this):!Le.reading&&Ze.nextTick(ht,this)),ge},Ce.prototype.removeListener=function(K,te){var ge=ke.prototype.removeListener.call(this,K,te);return"readable"===K&&Ze.nextTick(Nt,this),ge},Ce.prototype.removeAllListeners=function(K){var te=ke.prototype.removeAllListeners.apply(this,arguments);return("readable"===K||void 0===K)&&Ze.nextTick(Nt,this),te},Ce.prototype.resume=function(){var K=this._readableState;return K.flowing||(Se("resume"),K.flowing=!K.readableListening,function(K,te){te.resumeScheduled||(te.resumeScheduled=!0,Ze.nextTick(Wt,K,te))}(this,K)),K.paused=!1,this},Ce.prototype.pause=function(){return Se("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(Se("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},Ce.prototype.wrap=function(K){var te=this,ge=this._readableState,Le=!1;for(var Xe in K.on("end",function(){if(Se("wrapped end"),ge.decoder&&!ge.ended){var Rt=ge.decoder.end();Rt&&Rt.length&&te.push(Rt)}te.push(null)}),K.on("data",function(Rt){Se("wrapped data"),ge.decoder&&(Rt=ge.decoder.write(Rt)),ge.objectMode&&null==Rt||!(ge.objectMode||Rt&&Rt.length)||te.push(Rt)||(Le=!0,K.pause())}),K)void 0===this[Xe]&&"function"==typeof K[Xe]&&(this[Xe]=function(Rt){return function(){return K[Rt].apply(K,arguments)}}(Xe));for(var lt=0;lt<Ge.length;lt++)K.on(Ge[lt],this.emit.bind(this,Ge[lt]));return this._read=function(Rt){Se("wrapped _read",Rt),Le&&(Le=!1,K.resume())},this},"function"==typeof Symbol&&(Ce.prototype[Symbol.asyncIterator]=function(){return void 0===rt&&(rt=le("./internal/streams/async_iterator")),rt(this)}),Object.defineProperty(Ce.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Ce.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Ce.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(K){this._readableState&&(this._readableState.flowing=K)}}),Ce._fromList=xt,Object.defineProperty(Ce.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(Ce.from=function(K,te){return void 0===at&&(at=le("./internal/streams/from")),at(Ce,K,te)})}).call(this)}).call(this,le("_process"),"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/async_iterator":21,"./internal/streams/buffer_list":22,"./internal/streams/destroy":23,"./internal/streams/from":25,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,events:7,inherits:10,"string_decoder/":31,util:2}],19:[function(le,Ct){"use strict";function Ze(Be,pt){var Te=this._transformState;Te.transforming=!1;var Qe=Te.writecb;if(null===Qe)return this.emit("error",new Ce);Te.writechunk=null,Te.writecb=null,null!=pt&&this.push(pt),Qe(Be);var je=this._readableState;je.reading=!1,(je.needReadable||je.length<je.highWaterMark)&&this._read(je.highWaterMark)}function Ne(Be){return this instanceof Ne?(Fe.call(this,Be),this._transformState={afterTransform:Ze.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,Be&&("function"==typeof Be.transform&&(this._transform=Be.transform),"function"==typeof Be.flush&&(this._flush=Be.flush)),void this.on("prefinish",Pe)):new Ne(Be)}function Pe(){var Be=this;"function"!=typeof this._flush||this._readableState.destroyed?Ve(this,null,null):this._flush(function(pt,Te){Ve(Be,pt,Te)})}function Ve(Be,pt,Te){if(pt)return Be.emit("error",pt);if(null!=Te&&Be.push(Te),Be._writableState.length)throw new Re;if(Be._transformState.transforming)throw new ye;return Be.push(null)}Ct.exports=Ne;var ve=le("../errors").codes,Ie=ve.ERR_METHOD_NOT_IMPLEMENTED,Ce=ve.ERR_MULTIPLE_CALLBACK,ye=ve.ERR_TRANSFORM_ALREADY_TRANSFORMING,Re=ve.ERR_TRANSFORM_WITH_LENGTH_0,Fe=le("./_stream_duplex");le("inherits")(Ne,Fe),Ne.prototype.push=function(Be,pt){return this._transformState.needTransform=!1,Fe.prototype.push.call(this,Be,pt)},Ne.prototype._transform=function(Be,pt,Te){Te(new Ie("_transform()"))},Ne.prototype._write=function(Be,pt,Te){var Qe=this._transformState;if(Qe.writecb=Te,Qe.writechunk=Be,Qe.writeencoding=pt,!Qe.transforming){var je=this._readableState;(Qe.needTransform||je.needReadable||je.length<je.highWaterMark)&&this._read(je.highWaterMark)}},Ne.prototype._read=function(){var Be=this._transformState;null===Be.writechunk||Be.transforming?Be.needTransform=!0:(Be.transforming=!0,this._transform(Be.writechunk,Be.writeencoding,Be.afterTransform))},Ne.prototype._destroy=function(Be,pt){Fe.prototype._destroy.call(this,Be,function(Te){pt(Te)})}},{"../errors":15,"./_stream_duplex":16,inherits:10}],20:[function(le,Ct){(function(Ze,Ne){(function(){"use strict";function Pe(be){var fe=this;this.next=null,this.entry=null,this.finish=function(){!function(be,fe,we){var Ae=be.entry;for(be.entry=null;Ae;){var Ge=Ae.callback;fe.pendingcb--,Ge(we),Ae=Ae.next}fe.corkedRequestsFree.next=be}(fe,be)}}function Ie(){}function Ce(be,fe,we){Ht=Ht||le("./_stream_duplex"),"boolean"!=typeof we&&(we=fe instanceof Ht),this.objectMode=!!(be=be||{}).objectMode,we&&(this.objectMode=this.objectMode||!!be.writableObjectMode),this.highWaterMark=tt(this,be,"writableHighWaterMark",we),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===be.decodeStrings),this.defaultEncoding=be.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ge){!function(be,fe){var we=be._writableState,Ae=we.sync,Ge=we.writecb;if("function"!=typeof Ge)throw new rt;if(function(be){be.writing=!1,be.writecb=null,be.length-=be.writelen,be.writelen=0}(we),fe)!function(be,fe,we,Ae,Ge){--fe.pendingcb,we?(Ze.nextTick(Ge,Ae),Ze.nextTick(bn,be,fe),be._writableState.errorEmitted=!0,Zt(be,Ae)):(Ge(Ae),be._writableState.errorEmitted=!0,Zt(be,Ae),bn(be,fe))}(be,we,Ae,fe,Ge);else{var K=ht(we)||be.destroyed;K||we.corked||we.bufferProcessing||!we.bufferedRequest||Nt(be,we),Ae?Ze.nextTick(ft,be,we,K,Ge):ft(be,we,K,Ge)}}(fe,Ge)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==be.emitClose,this.autoDestroy=!!be.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Pe(this)}function ye(be){var fe=this instanceof(Ht=Ht||le("./_stream_duplex"));return fe||Qt.call(ye,this)?(this._writableState=new Ce(be,this,fe),this.writable=!0,be&&("function"==typeof be.write&&(this._write=be.write),"function"==typeof be.writev&&(this._writev=be.writev),"function"==typeof be.destroy&&(this._destroy=be.destroy),"function"==typeof be.final&&(this._final=be.final)),void Et.call(this)):new ye(be)}function pt(be,fe,we,Ae,Ge,K){if(!we){var te=function(be,fe,we){return be.objectMode||!1===be.decodeStrings||"string"!=typeof fe||(fe=Se.from(fe,we)),fe}(fe,Ae,Ge);Ae!==te&&(we=!0,Ge="buffer",Ae=te)}var ge=fe.objectMode?1:Ae.length;fe.length+=ge;var Le=fe.length<fe.highWaterMark;if(Le||(fe.needDrain=!0),fe.writing||fe.corked){var Xe=fe.lastBufferedRequest;fe.lastBufferedRequest={chunk:Ae,encoding:Ge,isBuf:we,callback:K,next:null},Xe?Xe.next=fe.lastBufferedRequest:fe.bufferedRequest=fe.lastBufferedRequest,fe.bufferedRequestCount+=1}else Te(be,fe,!1,ge,Ae,Ge,K);return Le}function Te(be,fe,we,Ae,Ge,K,te){fe.writelen=Ae,fe.writecb=te,fe.writing=!0,fe.sync=!0,fe.destroyed?fe.onwrite(new Ke("write")):we?be._writev(Ge,fe.onwrite):be._write(Ge,K,fe.onwrite),fe.sync=!1}function ft(be,fe,we,Ae){we||function(be,fe){0===fe.length&&fe.needDrain&&(fe.needDrain=!1,be.emit("drain"))}(be,fe),fe.pendingcb--,Ae(),bn(be,fe)}function Nt(be,fe){fe.bufferProcessing=!0;var we=fe.bufferedRequest;if(be._writev&&we&&we.next){var Ge=Array(fe.bufferedRequestCount),K=fe.corkedRequestsFree;K.entry=we;for(var te=0,ge=!0;we;)Ge[te]=we,we.isBuf||(ge=!1),we=we.next,te+=1;Ge.allBuffers=ge,Te(be,fe,!0,fe.length,Ge,"",K.finish),fe.pendingcb++,fe.lastBufferedRequest=null,K.next?(fe.corkedRequestsFree=K.next,K.next=null):fe.corkedRequestsFree=new Pe(fe),fe.bufferedRequestCount=0}else{for(;we;){var Le=we.chunk;if(Te(be,fe,!1,fe.objectMode?1:Le.length,Le,we.encoding,we.callback),we=we.next,fe.bufferedRequestCount--,fe.writing)break}null===we&&(fe.lastBufferedRequest=null)}fe.bufferedRequest=we,fe.bufferProcessing=!1}function ht(be){return be.ending&&0===be.length&&null===be.bufferedRequest&&!be.finished&&!be.writing}function St(be,fe){be._final(function(we){fe.pendingcb--,we&&Zt(be,we),fe.prefinished=!0,be.emit("prefinish"),bn(be,fe)})}function bn(be,fe){var we=ht(fe);if(we&&(function(be,fe){fe.prefinished||fe.finalCalled||("function"!=typeof be._final||fe.destroyed?(fe.prefinished=!0,be.emit("prefinish")):(fe.pendingcb++,fe.finalCalled=!0,Ze.nextTick(St,be,fe)))}(be,fe),0===fe.pendingcb&&(fe.finished=!0,be.emit("finish"),fe.autoDestroy))){var Ae=be._readableState;(!Ae||Ae.autoDestroy&&Ae.endEmitted)&&be.destroy()}return we}var Ht;Ct.exports=ye,ye.WritableState=Ce;var Qt,Gt={deprecate:le("util-deprecate")},Et=le("./internal/streams/stream"),Se=le("buffer").Buffer,Tt=Ne.Uint8Array||function(){},vt=le("./internal/streams/destroy"),tt=le("./internal/streams/state").getHighWaterMark,Ue=le("../errors").codes,qt=Ue.ERR_INVALID_ARG_TYPE,Jt=Ue.ERR_METHOD_NOT_IMPLEMENTED,rt=Ue.ERR_MULTIPLE_CALLBACK,at=Ue.ERR_STREAM_CANNOT_PIPE,Ke=Ue.ERR_STREAM_DESTROYED,st=Ue.ERR_STREAM_NULL_VALUES,ct=Ue.ERR_STREAM_WRITE_AFTER_END,gt=Ue.ERR_UNKNOWN_ENCODING,Zt=vt.errorOrDestroy;le("inherits")(ye,Et),Ce.prototype.getBuffer=function(){for(var be=this.bufferedRequest,fe=[];be;)fe.push(be),be=be.next;return fe},function(){try{Object.defineProperty(Ce.prototype,"buffer",{get:Gt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(be){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(Qt=Function.prototype[Symbol.hasInstance],Object.defineProperty(ye,Symbol.hasInstance,{value:function(be){return!!Qt.call(this,be)||this===ye&&be&&be._writableState instanceof Ce}})):Qt=function(be){return be instanceof this},ye.prototype.pipe=function(){Zt(this,new at)},ye.prototype.write=function(be,fe,we){var Ae=this._writableState,Ge=!1,K=!Ae.objectMode&&function(be){return Se.isBuffer(be)||be instanceof Tt}(be);return K&&!Se.isBuffer(be)&&(be=function(be){return Se.from(be)}(be)),"function"==typeof fe&&(we=fe,fe=null),K?fe="buffer":!fe&&(fe=Ae.defaultEncoding),"function"!=typeof we&&(we=Ie),Ae.ending?function(be,fe){var we=new ct;Zt(be,we),Ze.nextTick(fe,we)}(this,we):(K||function(be,fe,we,Ae){var Ge;return null===we?Ge=new st:"string"!=typeof we&&!fe.objectMode&&(Ge=new qt("chunk",["string","Buffer"],we)),!Ge||(Zt(be,Ge),Ze.nextTick(Ae,Ge),!1)}(this,Ae,be,we))&&(Ae.pendingcb++,Ge=pt(this,Ae,K,be,fe,we)),Ge},ye.prototype.cork=function(){this._writableState.corked++},ye.prototype.uncork=function(){var be=this._writableState;be.corked&&(be.corked--,!be.writing&&!be.corked&&!be.bufferProcessing&&be.bufferedRequest&&Nt(this,be))},ye.prototype.setDefaultEncoding=function(be){if("string"==typeof be&&(be=be.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((be+"").toLowerCase())))throw new gt(be);return this._writableState.defaultEncoding=be,this},Object.defineProperty(ye.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(ye.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),ye.prototype._write=function(be,fe,we){we(new Jt("_write()"))},ye.prototype._writev=null,ye.prototype.end=function(be,fe,we){var Ae=this._writableState;return"function"==typeof be?(we=be,be=null,fe=null):"function"==typeof fe&&(we=fe,fe=null),null!=be&&this.write(be,fe),Ae.corked&&(Ae.corked=1,this.uncork()),Ae.ending||function(be,fe,we){fe.ending=!0,bn(be,fe),we&&(fe.finished?Ze.nextTick(we):be.once("finish",we)),fe.ended=!0,be.writable=!1}(this,Ae,we),this},Object.defineProperty(ye.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(ye.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(be){this._writableState&&(this._writableState.destroyed=be)}}),ye.prototype.destroy=vt.destroy,ye.prototype._undestroy=vt.undestroy,ye.prototype._destroy=function(be,fe){fe(be)}}).call(this)}).call(this,le("_process"),"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/destroy":23,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,inherits:10,"util-deprecate":32}],21:[function(le,Ct){(function(Ze){(function(){"use strict";function Ne(Mt,Nt,ht){return Nt in Mt?Object.defineProperty(Mt,Nt,{value:ht,enumerable:!0,configurable:!0,writable:!0}):Mt[Nt]=ht,Mt}function Pe(Mt,Nt){return{value:Mt,done:Nt}}function Ve(Mt){var Nt=Mt[Re];if(null!==Nt){var ht=Mt[je].read();null!==ht&&(Mt[Te]=null,Mt[Re]=null,Mt[Fe]=null,Nt(Pe(ht,!1)))}}function ve(Mt){Ze.nextTick(Ve,Mt)}var Ce,ye=le("./end-of-stream"),Re=Symbol("lastResolve"),Fe=Symbol("lastReject"),Be=Symbol("error"),pt=Symbol("ended"),Te=Symbol("lastPromise"),Qe=Symbol("handlePromise"),je=Symbol("stream"),ut=Object.getPrototypeOf(function(){}),ft=Object.setPrototypeOf((Ne(Ce={get stream(){return this[je]},next:function(){var Mt=this,Nt=this[Be];if(null!==Nt)return Promise.reject(Nt);if(this[pt])return Promise.resolve(Pe(void 0,!0));if(this[je].destroyed)return new Promise(function(bn,xt){Ze.nextTick(function(){Mt[Be]?xt(Mt[Be]):bn(Pe(void 0,!0))})});var ht,St=this[Te];if(St)ht=new Promise(function(Mt,Nt){return function(ht,St){Mt.then(function(){return Nt[pt]?void ht(Pe(void 0,!0)):void Nt[Qe](ht,St)},St)}}(St,this));else{var Wt=this[je].read();if(null!==Wt)return Promise.resolve(Pe(Wt,!1));ht=new Promise(this[Qe])}return this[Te]=ht,ht}},Symbol.asyncIterator,function(){return this}),Ne(Ce,"return",function(){var Mt=this;return new Promise(function(Nt,ht){Mt[je].destroy(null,function(St){return St?void ht(St):void Nt(Pe(void 0,!0))})})}),Ce),ut);Ct.exports=function(Mt){var Nt,ht=Object.create(ft,(Ne(Nt={},je,{value:Mt,writable:!0}),Ne(Nt,Re,{value:null,writable:!0}),Ne(Nt,Fe,{value:null,writable:!0}),Ne(Nt,Be,{value:null,writable:!0}),Ne(Nt,pt,{value:Mt._readableState.endEmitted,writable:!0}),Ne(Nt,Qe,{value:function(St,Wt){var bn=ht[je].read();bn?(ht[Te]=null,ht[Re]=null,ht[Fe]=null,St(Pe(bn,!1))):(ht[Re]=St,ht[Fe]=Wt)},writable:!0}),Nt));return ht[Te]=null,ye(Mt,function(St){if(St&&"ERR_STREAM_PREMATURE_CLOSE"!==St.code){var Wt=ht[Fe];return null!==Wt&&(ht[Te]=null,ht[Re]=null,ht[Fe]=null,Wt(St)),void(ht[Be]=St)}var bn=ht[Re];null!==bn&&(ht[Te]=null,ht[Re]=null,ht[Fe]=null,bn(Pe(void 0,!0))),ht[pt]=!0}),Mt.on("readable",ve.bind(null,ht)),ht}}).call(this)}).call(this,le("_process"))},{"./end-of-stream":24,_process:12}],22:[function(le,Ct){"use strict";function Ze(Te,Qe){var je=Object.keys(Te);if(Object.getOwnPropertySymbols){var ut=Object.getOwnPropertySymbols(Te);Qe&&(ut=ut.filter(function(ft){return Object.getOwnPropertyDescriptor(Te,ft).enumerable})),je.push.apply(je,ut)}return je}function Pe(Te,Qe,je){return Qe in Te?Object.defineProperty(Te,Qe,{value:je,enumerable:!0,configurable:!0,writable:!0}):Te[Qe]=je,Te}function ve(Te,Qe){for(var je,ut=0;ut<Qe.length;ut++)(je=Qe[ut]).enumerable=je.enumerable||!1,je.configurable=!0,"value"in je&&(je.writable=!0),Object.defineProperty(Te,je.key,je)}function Ce(Te,Qe,je){Re.prototype.copy.call(Te,Qe,je)}var Re=le("buffer").Buffer,Be=le("util").inspect,pt=Be&&Be.custom||"inspect";Ct.exports=function(){function Te(){(function(Te,Qe){if(!(Te instanceof Qe))throw new TypeError("Cannot call a class as a function")})(this,Te),this.head=null,this.tail=null,this.length=0}return function(Te,Qe,je){Qe&&ve(Te.prototype,Qe),je&&ve(Te,je)}(Te,[{key:"push",value:function(Qe){var je={data:Qe,next:null};0<this.length?this.tail.next=je:this.head=je,this.tail=je,++this.length}},{key:"unshift",value:function(Qe){var je={data:Qe,next:this.head};0===this.length&&(this.tail=je),this.head=je,++this.length}},{key:"shift",value:function(){if(0!==this.length){var Qe=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,Qe}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(Qe){if(0===this.length)return"";for(var je=this.head,ut=""+je.data;je=je.next;)ut+=Qe+je.data;return ut}},{key:"concat",value:function(Qe){if(0===this.length)return Re.alloc(0);for(var je=Re.allocUnsafe(Qe>>>0),ut=this.head,ft=0;ut;)Ce(ut.data,je,ft),ft+=ut.data.length,ut=ut.next;return je}},{key:"consume",value:function(Qe,je){var ut;return Qe<this.head.data.length?(ut=this.head.data.slice(0,Qe),this.head.data=this.head.data.slice(Qe)):ut=Qe===this.head.data.length?this.shift():je?this._getString(Qe):this._getBuffer(Qe),ut}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(Qe){var je=this.head,ut=1,ft=je.data;for(Qe-=ft.length;je=je.next;){var Mt=je.data,Nt=Qe>Mt.length?Mt.length:Qe;if(ft+=Nt===Mt.length?Mt:Mt.slice(0,Qe),0==(Qe-=Nt)){Nt===Mt.length?(++ut,this.head=je.next?je.next:this.tail=null):(this.head=je,je.data=Mt.slice(Nt));break}++ut}return this.length-=ut,ft}},{key:"_getBuffer",value:function(Qe){var je=Re.allocUnsafe(Qe),ut=this.head,ft=1;for(ut.data.copy(je),Qe-=ut.data.length;ut=ut.next;){var Mt=ut.data,Nt=Qe>Mt.length?Mt.length:Qe;if(Mt.copy(je,je.length-Qe,0,Nt),0==(Qe-=Nt)){Nt===Mt.length?(++ft,this.head=ut.next?ut.next:this.tail=null):(this.head=ut,ut.data=Mt.slice(Nt));break}++ft}return this.length-=ft,je}},{key:pt,value:function(Qe,je){return Be(this,function(Te){for(var Qe,je=1;je<arguments.length;je++)Qe=null==arguments[je]?{}:arguments[je],je%2?Ze(Object(Qe),!0).forEach(function(ut){Pe(Te,ut,Qe[ut])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Te,Object.getOwnPropertyDescriptors(Qe)):Ze(Object(Qe)).forEach(function(ut){Object.defineProperty(Te,ut,Object.getOwnPropertyDescriptor(Qe,ut))});return Te}({},je,{depth:0,customInspect:!1}))}}]),Te}()},{buffer:3,util:2}],23:[function(le,Ct){(function(Ze){(function(){"use strict";function Ne(ve,Ie){Ve(ve,Ie),Pe(ve)}function Pe(ve){ve._writableState&&!ve._writableState.emitClose||ve._readableState&&!ve._readableState.emitClose||ve.emit("close")}function Ve(ve,Ie){ve.emit("error",Ie)}Ct.exports={destroy:function(ve,Ie){var Ce=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(Ie?Ie(ve):ve&&(this._writableState?!this._writableState.errorEmitted&&(this._writableState.errorEmitted=!0,Ze.nextTick(Ve,this,ve)):Ze.nextTick(Ve,this,ve)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(ve||null,function(Fe){!Ie&&Fe?Ce._writableState?Ce._writableState.errorEmitted?Ze.nextTick(Pe,Ce):(Ce._writableState.errorEmitted=!0,Ze.nextTick(Ne,Ce,Fe)):Ze.nextTick(Ne,Ce,Fe):Ie?(Ze.nextTick(Pe,Ce),Ie(Fe)):Ze.nextTick(Pe,Ce)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(ve,Ie){var Ce=ve._readableState,ye=ve._writableState;Ce&&Ce.autoDestroy||ye&&ye.autoDestroy?ve.destroy(Ie):ve.emit("error",Ie)}}}).call(this)}).call(this,le("_process"))},{_process:12}],24:[function(le,Ct){"use strict";function Ne(){}var ve=le("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;Ct.exports=function Ve(Ie,Ce,ye){if("function"==typeof Ce)return Ve(Ie,null,Ce);Ce||(Ce={}),ye=function(Ie){var Ce=!1;return function(){if(!Ce){Ce=!0;for(var ye=arguments.length,Re=Array(ye),Fe=0;Fe<ye;Fe++)Re[Fe]=arguments[Fe];Ie.apply(this,Re)}}}(ye||Ne);var Re=Ce.readable||!1!==Ce.readable&&Ie.readable,Fe=Ce.writable||!1!==Ce.writable&&Ie.writable,Be=function(){Ie.writable||Te()},pt=Ie._writableState&&Ie._writableState.finished,Te=function(){Fe=!1,pt=!0,Re||ye.call(Ie)},Qe=Ie._readableState&&Ie._readableState.endEmitted,je=function(){Re=!1,Qe=!0,Fe||ye.call(Ie)},ut=function(Nt){ye.call(Ie,Nt)},ft=function(){var Nt;return Re&&!Qe?(Ie._readableState&&Ie._readableState.ended||(Nt=new ve),ye.call(Ie,Nt)):Fe&&!pt?(Ie._writableState&&Ie._writableState.ended||(Nt=new ve),ye.call(Ie,Nt)):void 0},Mt=function(){Ie.req.on("finish",Te)};return function(Ie){return Ie.setHeader&&"function"==typeof Ie.abort}(Ie)?(Ie.on("complete",Te),Ie.on("abort",ft),Ie.req?Mt():Ie.on("request",Mt)):Fe&&!Ie._writableState&&(Ie.on("end",Be),Ie.on("close",Be)),Ie.on("end",je),Ie.on("finish",Te),!1!==Ce.error&&Ie.on("error",ut),Ie.on("close",ft),function(){Ie.removeListener("complete",Te),Ie.removeListener("abort",ft),Ie.removeListener("request",Mt),Ie.req&&Ie.req.removeListener("finish",Te),Ie.removeListener("end",Be),Ie.removeListener("close",Be),Ie.removeListener("finish",Te),Ie.removeListener("end",je),Ie.removeListener("error",ut),Ie.removeListener("close",ft)}}},{"../../../errors":15}],25:[function(le,Ct){Ct.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],26:[function(le,Ct){"use strict";function Ne(pt){if(pt)throw pt}function Ve(pt,Te,Qe,je){je=function(pt){var Te=!1;return function(){Te||(Te=!0,pt.apply(void 0,arguments))}}(je);var ut=!1;pt.on("close",function(){ut=!0}),void 0===ye&&(ye=le("./end-of-stream")),ye(pt,{readable:Te,writable:Qe},function(Mt){return Mt?je(Mt):(ut=!0,void je())});var ft=!1;return function(Mt){if(!ut)return ft?void 0:(ft=!0,function(pt){return pt.setHeader&&"function"==typeof pt.abort}(pt)?pt.abort():"function"==typeof pt.destroy?pt.destroy():void je(Mt||new Be("pipe")))}}function ve(pt){pt()}function Ie(pt,Te){return pt.pipe(Te)}function Ce(pt){return pt.length&&"function"==typeof pt[pt.length-1]?pt.pop():Ne}var ye,Re=le("../../../errors").codes,Fe=Re.ERR_MISSING_ARGS,Be=Re.ERR_STREAM_DESTROYED;Ct.exports=function(){for(var pt=arguments.length,Te=Array(pt),Qe=0;Qe<pt;Qe++)Te[Qe]=arguments[Qe];var je=Ce(Te);if(Array.isArray(Te[0])&&(Te=Te[0]),2>Te.length)throw new Fe("streams");var ut,ft=Te.map(function(Mt,Nt){var ht=Nt<Te.length-1;return Ve(Mt,ht,0<Nt,function(St){ut||(ut=St),St&&ft.forEach(ve),ht||(ft.forEach(ve),je(ut))})});return Te.reduce(Ie)}},{"../../../errors":15,"./end-of-stream":24}],27:[function(le,Ct){"use strict";var Ne=le("../../../errors").codes.ERR_INVALID_OPT_VALUE;Ct.exports={getHighWaterMark:function(Pe,Ve,ve,Ie){var Ce=function(Pe,Ve,ve){return null==Pe.highWaterMark?Ve?Pe[ve]:null:Pe.highWaterMark}(Ve,Ie,ve);if(null!=Ce){if(!isFinite(Ce)||zt(Ce)!==Ce||0>Ce)throw new Ne(Ie?ve:"highWaterMark",Ce);return zt(Ce)}return Pe.objectMode?16:16384}}},{"../../../errors":15}],28:[function(le,Ct){Ct.exports=le("events").EventEmitter},{events:7}],29:[function(le,Ct,Ze){(Ze=Ct.exports=le("./lib/_stream_readable.js")).Stream=Ze,Ze.Readable=Ze,Ze.Writable=le("./lib/_stream_writable.js"),Ze.Duplex=le("./lib/_stream_duplex.js"),Ze.Transform=le("./lib/_stream_transform.js"),Ze.PassThrough=le("./lib/_stream_passthrough.js"),Ze.finished=le("./lib/internal/streams/end-of-stream.js"),Ze.pipeline=le("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":16,"./lib/_stream_passthrough.js":17,"./lib/_stream_readable.js":18,"./lib/_stream_transform.js":19,"./lib/_stream_writable.js":20,"./lib/internal/streams/end-of-stream.js":24,"./lib/internal/streams/pipeline.js":26}],30:[function(le,Ct,Ze){function Ne(Ie,Ce){for(var ye in Ie)Ce[ye]=Ie[ye]}function Pe(Ie,Ce,ye){return ve(Ie,Ce,ye)}var Ve=le("buffer"),ve=Ve.Buffer;ve.from&&ve.alloc&&ve.allocUnsafe&&ve.allocUnsafeSlow?Ct.exports=Ve:(Ne(Ve,Ze),Ze.Buffer=Pe),Pe.prototype=Object.create(ve.prototype),Ne(ve,Pe),Pe.from=function(Ie,Ce,ye){if("number"==typeof Ie)throw new TypeError("Argument must not be a number");return ve(Ie,Ce,ye)},Pe.alloc=function(Ie,Ce,ye){if("number"!=typeof Ie)throw new TypeError("Argument must be a number");var Re=ve(Ie);return void 0===Ce?Re.fill(0):"string"==typeof ye?Re.fill(Ce,ye):Re.fill(Ce),Re},Pe.allocUnsafe=function(Ie){if("number"!=typeof Ie)throw new TypeError("Argument must be a number");return ve(Ie)},Pe.allocUnsafeSlow=function(Ie){if("number"!=typeof Ie)throw new TypeError("Argument must be a number");return Ve.SlowBuffer(Ie)}},{buffer:3}],31:[function(le,Ct,Ze){"use strict";function Ve(ft){var Mt;switch(this.encoding=function(ft){var Mt=function(ft){if(!ft)return"utf8";for(var Mt;;)switch(ft){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return ft;default:if(Mt)return;ft=(""+ft).toLowerCase(),Mt=!0}}(ft);if("string"!=typeof Mt&&(je.isEncoding===ut||!ut(ft)))throw new Error("Unknown encoding: "+ft);return Mt||ft}(ft),this.encoding){case"utf16le":this.text=Re,this.end=Fe,Mt=4;break;case"utf8":this.fillLast=ye,Mt=4;break;case"base64":this.text=Be,this.end=pt,Mt=3;break;default:return this.write=Te,void(this.end=Qe)}this.lastNeed=0,this.lastTotal=0,this.lastChar=je.allocUnsafe(Mt)}function ve(ft){return 127>=ft?0:ft>>5==6?2:ft>>4==14?3:ft>>3==30?4:ft>>6==2?-1:-2}function ye(ft){var Mt=this.lastTotal-this.lastNeed,Nt=function(ft,Mt){if(128!=(192&Mt[0]))return ft.lastNeed=0,"\ufffd";if(1<ft.lastNeed&&1<Mt.length){if(128!=(192&Mt[1]))return ft.lastNeed=1,"\ufffd";if(2<ft.lastNeed&&2<Mt.length&&128!=(192&Mt[2]))return ft.lastNeed=2,"\ufffd"}}(this,ft);return void 0===Nt?this.lastNeed<=ft.length?(ft.copy(this.lastChar,Mt,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(ft.copy(this.lastChar,Mt,0,ft.length),void(this.lastNeed-=ft.length)):Nt}function Re(ft,Mt){if((ft.length-Mt)%2==0){var Nt=ft.toString("utf16le",Mt);if(Nt){var ht=Nt.charCodeAt(Nt.length-1);if(55296<=ht&&56319>=ht)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=ft[ft.length-2],this.lastChar[1]=ft[ft.length-1],Nt.slice(0,-1)}return Nt}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=ft[ft.length-1],ft.toString("utf16le",Mt,ft.length-1)}function Fe(ft){var Mt=ft&&ft.length?this.write(ft):"";return this.lastNeed?Mt+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):Mt}function Be(ft,Mt){var Nt=(ft.length-Mt)%3;return 0==Nt?ft.toString("base64",Mt):(this.lastNeed=3-Nt,this.lastTotal=3,1==Nt?this.lastChar[0]=ft[ft.length-1]:(this.lastChar[0]=ft[ft.length-2],this.lastChar[1]=ft[ft.length-1]),ft.toString("base64",Mt,ft.length-Nt))}function pt(ft){var Mt=ft&&ft.length?this.write(ft):"";return this.lastNeed?Mt+this.lastChar.toString("base64",0,3-this.lastNeed):Mt}function Te(ft){return ft.toString(this.encoding)}function Qe(ft){return ft&&ft.length?this.write(ft):""}var je=le("safe-buffer").Buffer,ut=je.isEncoding||function(ft){switch((ft=""+ft)&&ft.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};Ze.StringDecoder=Ve,Ve.prototype.write=function(ft){if(0===ft.length)return"";var Mt,Nt;if(this.lastNeed){if(void 0===(Mt=this.fillLast(ft)))return"";Nt=this.lastNeed,this.lastNeed=0}else Nt=0;return Nt<ft.length?Mt?Mt+this.text(ft,Nt):this.text(ft,Nt):Mt||""},Ve.prototype.end=function(ft){var Mt=ft&&ft.length?this.write(ft):"";return this.lastNeed?Mt+"\ufffd":Mt},Ve.prototype.text=function(ft,Mt){var Nt=function(ft,Mt,Nt){var ht=Mt.length-1;if(ht<Nt)return 0;var St=ve(Mt[ht]);return 0<=St?(0<St&&(ft.lastNeed=St-1),St):--ht<Nt||-2===St?0:0<=(St=ve(Mt[ht]))?(0<St&&(ft.lastNeed=St-2),St):--ht<Nt||-2===St?0:0<=(St=ve(Mt[ht]))?(0<St&&(2===St?St=0:ft.lastNeed=St-3),St):0}(this,ft,Mt);if(!this.lastNeed)return ft.toString("utf8",Mt);this.lastTotal=Nt;var ht=ft.length-(Nt-this.lastNeed);return ft.copy(this.lastChar,0,ht),ft.toString("utf8",Mt,ht)},Ve.prototype.fillLast=function(ft){return this.lastNeed<=ft.length?(ft.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(ft.copy(this.lastChar,this.lastTotal-this.lastNeed,0,ft.length),void(this.lastNeed-=ft.length))}},{"safe-buffer":30}],32:[function(le,Ct){(function(Ze){(function(){function Ne(Pe){try{if(!Ze.localStorage)return!1}catch(ve){return!1}var Ve=Ze.localStorage[Pe];return null!=Ve&&"true"===(Ve+"").toLowerCase()}Ct.exports=function(Pe,Ve){if(Ne("noDeprecation"))return Pe;var Ie=!1;return function(){if(!Ie){if(Ne("throwDeprecation"))throw new Error(Ve);Ne("traceDeprecation")?console.trace(Ve):console.warn(Ve),Ie=!0}return Pe.apply(this,arguments)}}}).call(this)}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{}],"/":[function(le,Ct){function Ze(pt){return pt.replace(/a=ice-options:trickle\s\n/g,"")}const Pe=le("debug")("simple-peer"),Ve=le("get-browser-rtc"),ve=le("randombytes"),Ie=le("readable-stream"),Ce=le("queue-microtask"),ye=le("err-code"),{Buffer:Re}=le("buffer");class Be extends Ie.Duplex{constructor(Te){if(super(Te=Object.assign({allowHalfOpen:!1},Te)),this._id=ve(4).toString("hex").slice(0,7),this._debug("new peer %o",Te),this.channelName=Te.initiator?Te.channelName||ve(20).toString("hex"):null,this.initiator=Te.initiator||!1,this.channelConfig=Te.channelConfig||Be.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},Be.config,Te.config),this.offerOptions=Te.offerOptions||{},this.answerOptions=Te.answerOptions||{},this.sdpTransform=Te.sdpTransform||(Qe=>Qe),this.streams=Te.streams||(Te.stream?[Te.stream]:[]),this.trickle=void 0===Te.trickle||Te.trickle,this.allowHalfTrickle=void 0!==Te.allowHalfTrickle&&Te.allowHalfTrickle,this.iceCompleteTimeout=Te.iceCompleteTimeout||5e3,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=Te.wrtc&&"object"==typeof Te.wrtc?Te.wrtc:Ve(),!this._wrtc)throw"undefined"==typeof window?ye(new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"),"ERR_WEBRTC_SUPPORT"):ye(new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(Qe){return void this.destroy(ye(Qe,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc="number"==typeof this._pc._peerConnectionId,this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=Qe=>{this._onIceCandidate(Qe)},"object"==typeof this._pc.peerIdentity&&this._pc.peerIdentity.catch(Qe=>{this.destroy(ye(Qe,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=Qe=>{this._setupData(Qe)},this.streams&&this.streams.forEach(Qe=>{this.addStream(Qe)}),this._pc.ontrack=Qe=>{this._onTrack(Qe)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&"open"===this._channel.readyState}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(Te){if(!this.destroying){if(this.destroyed)throw ye(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if("string"==typeof Te)try{Te=JSON.parse(Te)}catch(Qe){Te={}}this._debug("signal()"),Te.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),Te.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(Te.transceiverRequest.kind,Te.transceiverRequest.init)),Te.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(Te.candidate):this._pendingCandidates.push(Te.candidate)),Te.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(Te)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(Qe=>{this._addIceCandidate(Qe)}),this._pendingCandidates=[],"offer"===this._pc.remoteDescription.type&&this._createAnswer())}).catch(Qe=>{this.destroy(ye(Qe,"ERR_SET_REMOTE_DESCRIPTION"))}),Te.sdp||Te.candidate||Te.renegotiate||Te.transceiverRequest||this.destroy(ye(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(Te){const Qe=new this._wrtc.RTCIceCandidate(Te);this._pc.addIceCandidate(Qe).catch(je=>{!Qe.address||Qe.address.endsWith(".local")?console.warn("Ignoring unsupported ICE candidate."):this.destroy(ye(je,"ERR_ADD_ICE_CANDIDATE"))})}send(Te){if(!this.destroying){if(this.destroyed)throw ye(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(Te)}}addTransceiver(Te,Qe){if(!this.destroying){if(this.destroyed)throw ye(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(Te,Qe),this._needsNegotiation()}catch(je){this.destroy(ye(je,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:Te,init:Qe}})}}addStream(Te){if(!this.destroying){if(this.destroyed)throw ye(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),Te.getTracks().forEach(Qe=>{this.addTrack(Qe,Te)})}}addTrack(Te,Qe){if(this.destroying)return;if(this.destroyed)throw ye(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const je=this._senderMap.get(Te)||new Map;let ut=je.get(Qe);if(ut)throw ut.removed?ye(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):ye(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED");ut=this._pc.addTrack(Te,Qe),je.set(Qe,ut),this._senderMap.set(Te,je),this._needsNegotiation()}replaceTrack(Te,Qe,je){if(this.destroying)return;if(this.destroyed)throw ye(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const ut=this._senderMap.get(Te),ft=ut?ut.get(je):null;if(!ft)throw ye(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");Qe&&this._senderMap.set(Qe,ut),null==ft.replaceTrack?this.destroy(ye(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK")):ft.replaceTrack(Qe)}removeTrack(Te,Qe){if(this.destroying)return;if(this.destroyed)throw ye(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const je=this._senderMap.get(Te),ut=je?je.get(Qe):null;if(!ut)throw ye(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{ut.removed=!0,this._pc.removeTrack(ut)}catch(ft){"NS_ERROR_UNEXPECTED"===ft.name?this._sendersAwaitingStable.push(ut):this.destroy(ye(ft,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(Te){if(!this.destroying){if(this.destroyed)throw ye(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),Te.getTracks().forEach(Qe=>{this.removeTrack(Qe,Te)})}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,Ce(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw ye(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(Te){this._destroy(Te,()=>{})}_destroy(Te,Qe){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",Te&&(Te.message||Te)),Ce(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",Te&&(Te.message||Te)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch(je){}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch(je){}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,Te&&this.emit("error",Te),this.emit("close"),Qe()}))}_setupData(Te){if(!Te.channel)return this.destroy(ye(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=Te.channel,this._channel.binaryType="arraybuffer","number"==typeof this._channel.bufferedAmountLowThreshold&&(this._channel.bufferedAmountLowThreshold=65536),this.channelName=this._channel.label,this._channel.onmessage=je=>{this._onChannelMessage(je)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=je=>{const ut=je.error instanceof Error?je.error:new Error(`Datachannel error: ${je.message} ${je.filename}:${je.lineno}:${je.colno}`);this.destroy(ye(ut,"ERR_DATA_CHANNEL"))};let Qe=!1;this._closingInterval=setInterval(()=>{this._channel&&"closing"===this._channel.readyState?(Qe&&this._onChannelClose(),Qe=!0):Qe=!1},5e3)}_read(){}_write(Te,Qe,je){if(this.destroyed)return je(ye(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(Te)}catch(ut){return this.destroy(ye(ut,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>65536?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=je):je(null)}else this._debug("write before connect"),this._chunk=Te,this._cb=je}_onFinish(){if(!this.destroyed){const Te=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?Te():this.once("connect",Te)}}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(Te=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(Te.sdp=Ze(Te.sdp)),Te.sdp=this.sdpTransform(Te.sdp);const Qe=()=>{if(!this.destroyed){const je=this._pc.localDescription||Te;this._debug("signal"),this.emit("signal",{type:je.type,sdp:je.sdp})}};this._pc.setLocalDescription(Te).then(()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?Qe():this.once("_iceComplete",Qe))}).catch(je=>{this.destroy(ye(je,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(Te=>{this.destroy(ye(Te,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(Te=>{Te.mid||!Te.sender.track||Te.requested||(Te.requested=!0,this.addTransceiver(Te.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(Te=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(Te.sdp=Ze(Te.sdp)),Te.sdp=this.sdpTransform(Te.sdp);const Qe=()=>{if(!this.destroyed){const je=this._pc.localDescription||Te;this._debug("signal"),this.emit("signal",{type:je.type,sdp:je.sdp}),this.initiator||this._requestMissingTransceivers()}};this._pc.setLocalDescription(Te).then(()=>{this.destroyed||(this.trickle||this._iceComplete?Qe():this.once("_iceComplete",Qe))}).catch(je=>{this.destroy(ye(je,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(Te=>{this.destroy(ye(Te,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||"failed"===this._pc.connectionState&&this.destroy(ye(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const Te=this._pc.iceConnectionState,Qe=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",Te,Qe),this.emit("iceStateChange",Te,Qe),("connected"===Te||"completed"===Te)&&(this._pcReady=!0,this._maybeReady()),"failed"===Te&&this.destroy(ye(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),"closed"===Te&&this.destroy(ye(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(Te){const Qe=je=>("[object Array]"===Object.prototype.toString.call(je.values)&&je.values.forEach(ut=>{Object.assign(je,ut)}),je);0===this._pc.getStats.length||this._isReactNativeWebrtc?this._pc.getStats().then(je=>{const ut=[];je.forEach(ft=>{ut.push(Qe(ft))}),Te(null,ut)},je=>Te(je)):0<this._pc.getStats.length?this._pc.getStats(je=>{if(this.destroyed)return;const ut=[];je.result().forEach(ft=>{const Mt={};ft.names().forEach(Nt=>{Mt[Nt]=ft.stat(Nt)}),Mt.id=ft.id,Mt.type=ft.type,Mt.timestamp=ft.timestamp,ut.push(Qe(Mt))}),Te(null,ut)},je=>Te(je)):Te(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const Te=()=>{this.destroyed||this.getStats((Qe,je)=>{if(this.destroyed)return;Qe&&(je=[]);const ut={},ft={},Mt={};let Nt=!1;je.forEach(St=>{("remotecandidate"===St.type||"remote-candidate"===St.type)&&(ut[St.id]=St),("localcandidate"===St.type||"local-candidate"===St.type)&&(ft[St.id]=St),("candidatepair"===St.type||"candidate-pair"===St.type)&&(Mt[St.id]=St)});const ht=St=>{Nt=!0;let Wt=ft[St.localCandidateId];Wt&&(Wt.ip||Wt.address)?(this.localAddress=Wt.ip||Wt.address,this.localPort=+Wt.port):Wt&&Wt.ipAddress?(this.localAddress=Wt.ipAddress,this.localPort=+Wt.portNumber):"string"==typeof St.googLocalAddress&&(Wt=St.googLocalAddress.split(":"),this.localAddress=Wt[0],this.localPort=+Wt[1]),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let bn=ut[St.remoteCandidateId];bn&&(bn.ip||bn.address)?(this.remoteAddress=bn.ip||bn.address,this.remotePort=+bn.port):bn&&bn.ipAddress?(this.remoteAddress=bn.ipAddress,this.remotePort=+bn.portNumber):"string"==typeof St.googRemoteAddress&&(bn=St.googRemoteAddress.split(":"),this.remoteAddress=bn[0],this.remotePort=+bn[1]),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(je.forEach(St=>{"transport"===St.type&&St.selectedCandidatePairId&&ht(Mt[St.selectedCandidatePairId]),("googCandidatePair"===St.type&&"true"===St.googActiveConnection||("candidatepair"===St.type||"candidate-pair"===St.type)&&St.selected)&&ht(St)}),Nt||Object.keys(Mt).length&&!Object.keys(ft).length){if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(Wt){return this.destroy(ye(Wt,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const St=this._cb;this._cb=null,St(null)}"number"!=typeof this._channel.bufferedAmountLowThreshold&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}else setTimeout(Te,100)})};Te()}_onInterval(){this._cb&&this._channel&&!(this._channel.bufferedAmount>65536)&&this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||("stable"===this._pc.signalingState&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(Te=>{this._pc.removeTrack(Te),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(Te){this.destroyed||(Te.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:Te.candidate.candidate,sdpMLineIndex:Te.candidate.sdpMLineIndex,sdpMid:Te.candidate.sdpMid}}):!Te.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),Te.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(Te){if(this.destroyed)return;let Qe=Te.data;Qe instanceof ArrayBuffer&&(Qe=Re.from(Qe)),this.push(Qe)}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const Te=this._cb;this._cb=null,Te(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(Te){this.destroyed||Te.streams.forEach(Qe=>{this._debug("on track"),this.emit("track",Te.track,Qe),this._remoteTracks.push({track:Te.track,stream:Qe}),this._remoteStreams.some(je=>je.id===Qe.id)||(this._remoteStreams.push(Qe),Ce(()=>{this._debug("on stream"),this.emit("stream",Qe)}))})}_debug(){const Te=[].slice.call(arguments);Te[0]="["+this._id+"] "+Te[0],Pe.apply(null,Te)}}Be.WEBRTC_SUPPORT=!!Ve(),Be.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},Be.channelConfig={},Ct.exports=Be},{buffer:3,debug:4,"err-code":6,"get-browser-rtc":8,"queue-microtask":13,randombytes:14,"readable-stream":29}]},{},[])("/"))},1820:(An,zt,$e)=>{"use strict";$e.d(zt,{Z:()=>Ze});for(var C=[],le=0;le<256;++le)C[le]=(le+256).toString(16).substr(1);const Ze=function(Ne,Pe){var Ve=Pe||0;return[C[Ne[Ve++]],C[Ne[Ve++]],C[Ne[Ve++]],C[Ne[Ve++]],"-",C[Ne[Ve++]],C[Ne[Ve++]],"-",C[Ne[Ve++]],C[Ne[Ve++]],"-",C[Ne[Ve++]],C[Ne[Ve++]],"-",C[Ne[Ve++]],C[Ne[Ve++]],C[Ne[Ve++]],C[Ne[Ve++]],C[Ne[Ve++]],C[Ne[Ve++]]].join("")}},1248:(An,zt,$e)=>{"use strict";$e.r(zt),$e.d(zt,{v1:()=>ve,v3:()=>xt,v4:()=>Ot.Z,v5:()=>vt});var Ct,Ze,C=$e(6288),le=$e(1820),Ne=0,Pe=0;const ve=function(ke,tt,Ue){var qt=tt&&Ue||0,Jt=tt||[],rt=(ke=ke||{}).node||Ct,at=void 0!==ke.clockseq?ke.clockseq:Ze;if(null==rt||null==at){var Ke=ke.random||(ke.rng||C.Z)();null==rt&&(rt=Ct=[1|Ke[0],Ke[1],Ke[2],Ke[3],Ke[4],Ke[5]]),null==at&&(at=Ze=16383&(Ke[6]<<8|Ke[7]))}var st=void 0!==ke.msecs?ke.msecs:(new Date).getTime(),ct=void 0!==ke.nsecs?ke.nsecs:Pe+1,gt=st-Ne+(ct-Pe)/1e4;if(gt<0&&void 0===ke.clockseq&&(at=at+1&16383),(gt<0||st>Ne)&&void 0===ke.nsecs&&(ct=0),ct>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Ne=st,Pe=ct,Ze=at;var Zt=(1e4*(268435455&(st+=122192928e5))+ct)%4294967296;Jt[qt++]=Zt>>>24&255,Jt[qt++]=Zt>>>16&255,Jt[qt++]=Zt>>>8&255,Jt[qt++]=255&Zt;var Qt=st/4294967296*1e4&268435455;Jt[qt++]=Qt>>>8&255,Jt[qt++]=255&Qt,Jt[qt++]=Qt>>>24&15|16,Jt[qt++]=Qt>>>16&255,Jt[qt++]=at>>>8|128,Jt[qt++]=255&at;for(var be=0;be<6;++be)Jt[qt+be]=rt[be];return tt||(0,le.Z)(Jt)};function Fe(ke,tt,Ue){var qt=function(rt,at,Ke,st){var ct=Ke&&st||0;if("string"==typeof rt&&(rt=function(ke){ke=unescape(encodeURIComponent(ke));for(var tt=new Array(ke.length),Ue=0;Ue<ke.length;Ue++)tt[Ue]=ke.charCodeAt(Ue);return tt}(rt)),"string"==typeof at&&(at=function(ke){var tt=[];return ke.replace(/[a-fA-F0-9]{2}/g,function(Ue){tt.push(parseInt(Ue,16))}),tt}(at)),!Array.isArray(rt))throw TypeError("value must be an array of bytes");if(!Array.isArray(at)||16!==at.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var gt=Ue(at.concat(rt));if(gt[6]=15&gt[6]|tt,gt[8]=63&gt[8]|128,Ke)for(var Zt=0;Zt<16;++Zt)Ke[ct+Zt]=gt[Zt];return Ke||(0,le.Z)(gt)};try{qt.name=ke}catch(Jt){}return qt.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",qt.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",qt}function je(ke,tt){var Ue=(65535&ke)+(65535&tt);return(ke>>16)+(tt>>16)+(Ue>>16)<<16|65535&Ue}function ft(ke,tt,Ue,qt,Jt,rt){return je(function(ke,tt){return ke<<tt|ke>>>32-tt}(je(je(tt,ke),je(qt,rt)),Jt),Ue)}function Mt(ke,tt,Ue,qt,Jt,rt,at){return ft(tt&Ue|~tt&qt,ke,tt,Jt,rt,at)}function Nt(ke,tt,Ue,qt,Jt,rt,at){return ft(tt&qt|Ue&~qt,ke,tt,Jt,rt,at)}function ht(ke,tt,Ue,qt,Jt,rt,at){return ft(tt^Ue^qt,ke,tt,Jt,rt,at)}function St(ke,tt,Ue,qt,Jt,rt,at){return ft(Ue^(tt|~qt),ke,tt,Jt,rt,at)}const xt=Fe("v3",48,function(ke){if("string"==typeof ke){var tt=unescape(encodeURIComponent(ke));ke=new Array(tt.length);for(var Ue=0;Ue<tt.length;Ue++)ke[Ue]=tt.charCodeAt(Ue)}return function(ke){var tt,Ue,at,qt=[],Jt=32*ke.length,rt="0123456789abcdef";for(tt=0;tt<Jt;tt+=8)Ue=ke[tt>>5]>>>tt%32&255,at=parseInt(rt.charAt(Ue>>>4&15)+rt.charAt(15&Ue),16),qt.push(at);return qt}(function(ke,tt){ke[tt>>5]|=128<<tt%32,ke[14+(tt+64>>>9<<4)]=tt;var Ue,qt,Jt,rt,at,Ke=1732584193,st=-271733879,ct=-1732584194,gt=271733878;for(Ue=0;Ue<ke.length;Ue+=16)qt=Ke,Jt=st,rt=ct,at=gt,Ke=Mt(Ke,st,ct,gt,ke[Ue],7,-680876936),gt=Mt(gt,Ke,st,ct,ke[Ue+1],12,-389564586),ct=Mt(ct,gt,Ke,st,ke[Ue+2],17,606105819),st=Mt(st,ct,gt,Ke,ke[Ue+3],22,-1044525330),Ke=Mt(Ke,st,ct,gt,ke[Ue+4],7,-176418897),gt=Mt(gt,Ke,st,ct,ke[Ue+5],12,1200080426),ct=Mt(ct,gt,Ke,st,ke[Ue+6],17,-1473231341),st=Mt(st,ct,gt,Ke,ke[Ue+7],22,-45705983),Ke=Mt(Ke,st,ct,gt,ke[Ue+8],7,1770035416),gt=Mt(gt,Ke,st,ct,ke[Ue+9],12,-1958414417),ct=Mt(ct,gt,Ke,st,ke[Ue+10],17,-42063),st=Mt(st,ct,gt,Ke,ke[Ue+11],22,-1990404162),Ke=Mt(Ke,st,ct,gt,ke[Ue+12],7,1804603682),gt=Mt(gt,Ke,st,ct,ke[Ue+13],12,-40341101),ct=Mt(ct,gt,Ke,st,ke[Ue+14],17,-1502002290),Ke=Nt(Ke,st=Mt(st,ct,gt,Ke,ke[Ue+15],22,1236535329),ct,gt,ke[Ue+1],5,-165796510),gt=Nt(gt,Ke,st,ct,ke[Ue+6],9,-1069501632),ct=Nt(ct,gt,Ke,st,ke[Ue+11],14,643717713),st=Nt(st,ct,gt,Ke,ke[Ue],20,-373897302),Ke=Nt(Ke,st,ct,gt,ke[Ue+5],5,-701558691),gt=Nt(gt,Ke,st,ct,ke[Ue+10],9,38016083),ct=Nt(ct,gt,Ke,st,ke[Ue+15],14,-660478335),st=Nt(st,ct,gt,Ke,ke[Ue+4],20,-405537848),Ke=Nt(Ke,st,ct,gt,ke[Ue+9],5,568446438),gt=Nt(gt,Ke,st,ct,ke[Ue+14],9,-1019803690),ct=Nt(ct,gt,Ke,st,ke[Ue+3],14,-187363961),st=Nt(st,ct,gt,Ke,ke[Ue+8],20,1163531501),Ke=Nt(Ke,st,ct,gt,ke[Ue+13],5,-1444681467),gt=Nt(gt,Ke,st,ct,ke[Ue+2],9,-51403784),ct=Nt(ct,gt,Ke,st,ke[Ue+7],14,1735328473),Ke=ht(Ke,st=Nt(st,ct,gt,Ke,ke[Ue+12],20,-1926607734),ct,gt,ke[Ue+5],4,-378558),gt=ht(gt,Ke,st,ct,ke[Ue+8],11,-2022574463),ct=ht(ct,gt,Ke,st,ke[Ue+11],16,1839030562),st=ht(st,ct,gt,Ke,ke[Ue+14],23,-35309556),Ke=ht(Ke,st,ct,gt,ke[Ue+1],4,-1530992060),gt=ht(gt,Ke,st,ct,ke[Ue+4],11,1272893353),ct=ht(ct,gt,Ke,st,ke[Ue+7],16,-155497632),st=ht(st,ct,gt,Ke,ke[Ue+10],23,-1094730640),Ke=ht(Ke,st,ct,gt,ke[Ue+13],4,681279174),gt=ht(gt,Ke,st,ct,ke[Ue],11,-358537222),ct=ht(ct,gt,Ke,st,ke[Ue+3],16,-722521979),st=ht(st,ct,gt,Ke,ke[Ue+6],23,76029189),Ke=ht(Ke,st,ct,gt,ke[Ue+9],4,-640364487),gt=ht(gt,Ke,st,ct,ke[Ue+12],11,-421815835),ct=ht(ct,gt,Ke,st,ke[Ue+15],16,530742520),Ke=St(Ke,st=ht(st,ct,gt,Ke,ke[Ue+2],23,-995338651),ct,gt,ke[Ue],6,-198630844),gt=St(gt,Ke,st,ct,ke[Ue+7],10,1126891415),ct=St(ct,gt,Ke,st,ke[Ue+14],15,-1416354905),st=St(st,ct,gt,Ke,ke[Ue+5],21,-57434055),Ke=St(Ke,st,ct,gt,ke[Ue+12],6,1700485571),gt=St(gt,Ke,st,ct,ke[Ue+3],10,-1894986606),ct=St(ct,gt,Ke,st,ke[Ue+10],15,-1051523),st=St(st,ct,gt,Ke,ke[Ue+1],21,-2054922799),Ke=St(Ke,st,ct,gt,ke[Ue+8],6,1873313359),gt=St(gt,Ke,st,ct,ke[Ue+15],10,-30611744),ct=St(ct,gt,Ke,st,ke[Ue+6],15,-1560198380),st=St(st,ct,gt,Ke,ke[Ue+13],21,1309151649),Ke=St(Ke,st,ct,gt,ke[Ue+4],6,-145523070),gt=St(gt,Ke,st,ct,ke[Ue+11],10,-1120210379),ct=St(ct,gt,Ke,st,ke[Ue+2],15,718787259),st=St(st,ct,gt,Ke,ke[Ue+9],21,-343485551),Ke=je(Ke,qt),st=je(st,Jt),ct=je(ct,rt),gt=je(gt,at);return[Ke,st,ct,gt]}(function(ke){var tt,Ue=[];for(Ue[(ke.length>>2)-1]=void 0,tt=0;tt<Ue.length;tt+=1)Ue[tt]=0;var qt=8*ke.length;for(tt=0;tt<qt;tt+=8)Ue[tt>>5]|=(255&ke[tt/8])<<tt%32;return Ue}(ke),8*ke.length))});var Ot=$e(1319);function Ht(ke,tt,Ue,qt){switch(ke){case 0:return tt&Ue^~tt&qt;case 1:return tt^Ue^qt;case 2:return tt&Ue^tt&qt^Ue&qt;case 3:return tt^Ue^qt}}function Gt(ke,tt){return ke<<tt|ke>>>32-tt}const vt=Fe("v5",80,function(ke){var tt=[1518500249,1859775393,2400959708,3395469782],Ue=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof ke){var qt=unescape(encodeURIComponent(ke));ke=new Array(qt.length);for(var Jt=0;Jt<qt.length;Jt++)ke[Jt]=qt.charCodeAt(Jt)}ke.push(128);var at=Math.ceil((ke.length/4+2)/16),Ke=new Array(at);for(Jt=0;Jt<at;Jt++){Ke[Jt]=new Array(16);for(var st=0;st<16;st++)Ke[Jt][st]=ke[64*Jt+4*st]<<24|ke[64*Jt+4*st+1]<<16|ke[64*Jt+4*st+2]<<8|ke[64*Jt+4*st+3]}for(Ke[at-1][14]=8*(ke.length-1)/Math.pow(2,32),Ke[at-1][14]=Math.floor(Ke[at-1][14]),Ke[at-1][15]=8*(ke.length-1)&4294967295,Jt=0;Jt<at;Jt++){for(var ct=new Array(80),gt=0;gt<16;gt++)ct[gt]=Ke[Jt][gt];for(gt=16;gt<80;gt++)ct[gt]=Gt(ct[gt-3]^ct[gt-8]^ct[gt-14]^ct[gt-16],1);var Zt=Ue[0],Qt=Ue[1],be=Ue[2],fe=Ue[3],we=Ue[4];for(gt=0;gt<80;gt++){var Ae=Math.floor(gt/20),Ge=Gt(Zt,5)+Ht(Ae,Qt,be,fe)+we+tt[Ae]+ct[gt]>>>0;we=fe,fe=be,be=Gt(Qt,30)>>>0,Qt=Zt,Zt=Ge}Ue[0]=Ue[0]+Zt>>>0,Ue[1]=Ue[1]+Qt>>>0,Ue[2]=Ue[2]+be>>>0,Ue[3]=Ue[3]+fe>>>0,Ue[4]=Ue[4]+we>>>0}return[Ue[0]>>24&255,Ue[0]>>16&255,Ue[0]>>8&255,255&Ue[0],Ue[1]>>24&255,Ue[1]>>16&255,Ue[1]>>8&255,255&Ue[1],Ue[2]>>24&255,Ue[2]>>16&255,Ue[2]>>8&255,255&Ue[2],Ue[3]>>24&255,Ue[3]>>16&255,Ue[3]>>8&255,255&Ue[3],Ue[4]>>24&255,Ue[4]>>16&255,Ue[4]>>8&255,255&Ue[4]]})},6288:(An,zt,$e)=>{"use strict";$e.d(zt,{Z:()=>Ct});var C="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),le=new Uint8Array(16);function Ct(){if(!C)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return C(le)}},1319:(An,zt,$e)=>{"use strict";$e.d(zt,{Z:()=>Ze});var C=$e(6288),le=$e(1820);const Ze=function(Ne,Pe,Ve){var ve=Pe&&Ve||0;"string"==typeof Ne&&(Pe="binary"===Ne?new Array(16):null,Ne=null);var Ie=(Ne=Ne||{}).random||(Ne.rng||C.Z)();if(Ie[6]=15&Ie[6]|64,Ie[8]=63&Ie[8]|128,Pe)for(var Ce=0;Ce<16;++Ce)Pe[ve+Ce]=Ie[Ce];return Pe||(0,le.Z)(Ie)}},4414:(An,zt,$e)=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});var C=$e(3815),le=$e(1248),Ct=$e(7091),Ze=$e(8364),Ne=$e(4414),Ie={parseFormatList:rt=>{if(!rt)return[];let at;try{at=JSON.parse(rt)}catch(Ke){return[]}return Array.isArray(at)?at.filter(Ke=>"string"==typeof Ke):[]},parseTracks:rt=>{if(!rt)return[];let at;try{at=JSON.parse(rt)}catch(Ke){return[]}return Array.isArray(at)?at.filter(Ke=>Ke.hasOwnProperty("user")&&Ke.hasOwnProperty("username")&&Ke.hasOwnProperty("date")):[]},blockLevelToDOM:rt=>rt.attrs.track&&rt.attrs.track.length?{"data-id":rt.attrs.id,class:rt.attrs.class,"data-track":JSON.stringify(rt.attrs.track),"data-group":rt.attrs.group,"data-viewid":rt.attrs.viewid}:{class:rt.attrs.class}};const Qe=(rt,at)=>ut(rt,Ke=>Ke.isBlock,at),ut=(rt,at,Ke)=>{if(!rt)throw new Error('Invalid "node" parameter');if(!at)throw new Error('Invalid "predicate" parameter');return((rt,at=!0)=>{if(!rt)throw new Error('Invalid "node" parameter');const Ke=[];return rt.descendants((st,ct)=>{if(Ke.push({node:st,pos:ct}),!at)return!1}),Ke})(rt,Ke).filter(st=>at(st.node))},ft=(rt,at)=>ut(rt,Ke=>Ke.isInline,at),Mt=(rt,at,Ke)=>ut(rt,st=>at.isInSet(st.marks),Ke);var Wt={findMark:(rt,at,Ke=!1)=>{const{selection:{$from:st,$to:ct},doc:gt}=rt,Zt=st.marks().find(we=>we.type===at),Qt=ct.marks().find(we=>we.type===at);let be;const fe=[];return gt.nodesBetween(st.pos,ct.pos,(we,Ae)=>{if(we.marks){const Ge=we.marks.find(K=>K.type===at);Ge&&(be={from:Ae,to:Ae+we.nodeSize,attrs:Ge.attrs,contained:!Zt||!Qt||Zt===Qt},fe.push(be))}}),Ke?fe:be},findBlockNodes:Qe,findChildrenByType:(rt,at,Ke)=>ut(rt,st=>st.type===at,Ke),findInlineNodes:ft,findChildrenByMark:Mt,findChildrenByAttr:(rt,at,Ke)=>ut(rt,st=>!!at(st.attrs),Ke),findFragmentedMark:(rt,at)=>{const{selection:{$from:Ke,$to:st},doc:ct}=rt;let gt;return ct.nodesBetween(Ke.pos-1,st.pos,(Zt,Qt)=>{if(Zt.marks){const be=Zt.marks.find(fe=>fe.type===at);be&&(gt={from:Qt,to:Qt+Zt.nodeSize,attrs:be.attrs})}}),gt},findAllMarksWithSameId:(rt,at)=>{const Ke=at.type.name,ct=Mt(rt.doc,rt.schema.marks[Ke],!0),gt=[];return ct.map(Zt=>{Zt.node.marks.filter(Qt=>{at.type.name===Ke&&at.attrs.id===Qt.attrs.id&&gt.push(Zt)})}),gt},findMarkPosition:(rt,at,Ke)=>{const st=rt.tr.doc.resolve(at),{parent:ct}=st,gt=ct.childAfter(st.parentOffset);if(!gt.node)return null;const Zt=gt.node.marks.find(Ae=>Ae.type.name===Ke);let Qt=st.index(),be=st.start()+gt.offset;for(;Qt>0&&Zt.isInSet(ct.child(Qt-1).marks);)be-=ct.child(--Qt).nodeSize;let fe=st.index()+1,we=st.start()+gt.offset+gt.node.nodeSize;for(;fe<ct.childCount&&Zt.isInSet(ct.child(fe).marks);)we+=ct.child(fe++).nodeSize;return{from:be,to:we,attrs:Zt.attrs}},getCommentsTracksCount:rt=>{const at=ft(rt.state.doc),Ke=[],st=[];return at.map(Zt=>{Zt.node.marks.length>0&&Zt.node.marks.filter(Qt=>{"comment"===Qt.type.name||"format_change"===Qt.type.name?Ke.push(Qt):("insertion"===Qt.type.name||"deletion"===Qt.type.name)&&st.push(Qt)})}),[...new Set(Ke.map(Zt=>Zt.attrs.id))].length+st.length},getTrackBlockNodesCount:rt=>{const at=Qe(rt.state.doc),Ke=[];return at.map(st=>{st.node.attrs.track&&st.node.attrs.track.length>0&&Ke.push(st)}),Ke.length},findMatches:(rt,at,Ke)=>{const st=[];rt.descendants((Qt,be)=>{st.push({node:Qt,pos:be})}),C.eachRight(st,(Qt,be)=>{Qt.node.type.groups.includes("notes")&&st.splice(be+1,Qt.node.childCount)});const ct=[],gt=[];let Zt=0;return st.forEach((Qt,be)=>{Qt.node.isText?gt[Zt]=gt[Zt]?{text:gt[Zt].text+Qt.node.text,pos:gt[Zt].pos}:{text:Qt.node.text,pos:Qt.pos}:Zt+=1}),gt.forEach(({text:Qt,pos:be})=>{const fe=RegExp((rt=>rt.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(at),Ke?"gu":"gui");let we;for(;(we=fe.exec(Qt))&&""!==we[0];)ct.push({from:be+we.index,to:be+we.index+we[0].length})}),ct}};var Jt={nodes:{doc:{content:"block+"},text:{group:"inline"},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]},paragraph:{group:"block",content:"inline*",attrs:{id:{default:""},class:{default:"paragraph"},track:{default:[]},group:{default:""},viewid:{default:""}},parseDOM:[{tag:"p.paragraph",getAttrs:rt=>({id:rt.dataset.id,class:rt.getAttribute("class"),track:Ne.SchemaHelpers.parseTracks(rt.dataset.track),group:rt.dataset.group,viewid:rt.dataset.viewid})}],toDOM:rt=>["p",Ne.SchemaHelpers.blockLevelToDOM(rt),0]}},marks:{}};zt.Commands={isInTable:rt=>{const{$head:at}=rt.selection;for(let Ke=at.depth;Ke>0;Ke--)if("row"===at.node(Ke).type.spec.tableRole)return!0;return!1},setBlockType:(rt,at={})=>(Ke,st)=>{const{tr:ct}=Ke,{from:gt,to:Zt}=Ke.selection;return Ke.doc.nodesBetween(gt,Zt,(Qt,be)=>{if(!Qt.isTextblock||Qt.hasMarkup(rt,at))return;let fe=!1;if(Qt.type===rt)fe=!0;else{const we=Ke.doc.resolve(be),Ae=we.index();fe=we.parent.canReplaceWith(Ae,Ae+1,rt)}fe&&ct.setBlockType(gt,Zt,rt,cw(cw({},Qt.attrs),at))}),!!ct.steps.length&&(st&&st(ct.scrollIntoView()),!0)},blockActive:(rt,at={})=>(Ke,st)=>{const{from:ct,to:gt}=Ke.selection;let Zt=!1;return Ke.doc.nodesBetween(ct,gt,(Qt,be)=>{!Qt.isTextblock||Qt.hasMarkup(rt,at)||Qt.type===rt&&(Zt=!0)}),Zt},customTagBlockActive:(rt,at={})=>Ke=>{const{$from:st}=Ke.selection;return st.parent.attrs.class===at.class&&"customTagBlock"===st.parent.type.name},canInsert:rt=>at=>{const{$from:Ke}=at.selection;for(let st=Ke.depth;st>=0;st--){const ct=Ke.index(st);if(Ke.node(st).canReplaceWith(ct,ct,rt))return!0}return!1},createComment:(rt,at,Ke,st)=>{const{selection:{$from:ct,$to:gt}}=rt;let be,Qt=!1;if(rt.doc.nodesBetween(ct.pos,gt.pos,(fe,we)=>{fe.type.groups.includes("notes")&&(Qt=!0,be=fe)}),Qt)return be.content.size+2===rt.selection.to-rt.selection.from?((rt,at,Ke,st)=>{const{tr:ct}=rt;ct.step(new Ze.AddMarkStep(rt.selection.from,rt.selection.from+1,rt.config.schema.marks.comment.create({id:le.v4(),group:Ke,conversation:[],viewid:st}))),at(ct)})(rt,at,Ke,st):((rt,at,Ke,st)=>{const{selection:{$from:ct},selection:gt,tr:Zt}=rt,be=rt.doc.resolve(ct.pos),we=ct.pos-be.textOffset+be.parent.child(be.index()).nodeSize;let Ae=ct.pos,Ge=we;const K=[],te=[];gt.content().content.content.forEach(Xe=>{Xe.content.content.forEach(lt=>{te.push(lt)})}),te.forEach((Xe,lt)=>{Ae=0===lt?Ae:Ge,Ge=0===lt?Ge:Ge+Xe.nodeSize,K.push({start:Ae,end:Ge,footnote:Xe.type.groups.includes("notes")})});const ge=[];K.forEach((Xe,lt)=>{Xe.footnote?ge[ge.length-1].end=ge[ge.length-1].end+1:ge.push(Xe)});const Le=le.v4();ge.forEach(Xe=>{Zt.step(new Ze.AddMarkStep(Xe.start,Xe.end,rt.config.schema.marks.comment.create({id:Le,group:Ke,conversation:[],viewid:st})))}),at(Zt)})(rt,at,Ke,st);Ct.toggleMark(rt.config.schema.marks.comment,{id:le.v4(),group:Ke,conversation:[],viewid:st})(rt,at)},createLink:(rt,at)=>{const{selection:{$from:Ke,$to:st}}=rt;at(rt.tr.setMeta("addToHistory",!1).addMark(Ke.pos,st.pos,rt.schema.marks.link.create({href:""})))},createTable:(rt,at,Ke)=>{const st=[];for(;rt.cols--;)st.push(at.config.schema.nodes.table_cell.createAndFill());const ct=[];for(;rt.rows--;)ct.push(at.config.schema.nodes.table_row.createAndFill(null,st));const gt=at.config.schema.nodes.table.createAndFill(null,ct);Ke(at.tr.replaceSelectionWith(gt))},markActive:rt=>at=>{const{from:Ke,$from:st,to:ct,empty:gt}=at.selection;return!!(gt?rt.isInSet(at.storedMarks||st.marks()):at.doc.rangeHasMark(Ke,ct,rt))},isOnSameTextBlock:rt=>{const{selection:{$from:at,$to:Ke,from:st,to:ct}}=rt;return!(st===ct||at.parent!==Ke.parent||!at.parent.isTextblock)}},zt.DefaultSchema=Jt,zt.DocumentHelpers=Wt,zt.SchemaHelpers=Ie},7091:(An,zt,$e)=>{"use strict";$e.r(zt),$e.d(zt,{autoJoin:()=>Et,baseKeymap:()=>Jt,chainCommands:()=>Se,createParagraphNear:()=>je,deleteSelection:()=>Ze,exitCode:()=>Qe,joinBackward:()=>Ne,joinDown:()=>Fe,joinForward:()=>Ie,joinUp:()=>Re,lift:()=>Be,liftEmptyBlock:()=>ut,macBaseKeymap:()=>tt,newlineInCode:()=>pt,pcBaseKeymap:()=>ke,selectAll:()=>ht,selectNodeBackward:()=>Ve,selectNodeForward:()=>Ce,selectParentNode:()=>Nt,setBlockType:()=>xt,splitBlock:()=>ft,splitBlockKeepMarks:()=>Mt,toggleMark:()=>Ht,wrapIn:()=>bn});var C=$e(8364),le=$e(7358),Ct=$e(3751);function Ze(rt,at){return!rt.selection.empty&&(at&&at(rt.tr.deleteSelection().scrollIntoView()),!0)}function Ne(rt,at,Ke){var ct=rt.selection.$cursor;if(!ct||(Ke?!Ke.endOfTextblock("backward",rt):ct.parentOffset>0))return!1;var gt=ve(ct);if(!gt){var Zt=ct.blockRange(),Qt=Zt&&(0,C.liftTarget)(Zt);return null!=Qt&&(at&&at(rt.tr.lift(Zt,Qt).scrollIntoView()),!0)}var be=gt.nodeBefore;if(!be.type.spec.isolating&&Wt(rt,gt,at))return!0;if(0==ct.parent.content.size&&(Pe(be,"end")||Ct.qv.isSelectable(be))){if(at){var fe=rt.tr.deleteRange(ct.before(),ct.after());fe.setSelection(Pe(be,"end")?Ct.Y1.findFrom(fe.doc.resolve(fe.mapping.map(gt.pos,-1)),-1):Ct.qv.create(fe.doc,gt.pos-be.nodeSize)),at(fe.scrollIntoView())}return!0}return!(!be.isAtom||gt.depth!=ct.depth-1||(at&&at(rt.tr.delete(gt.pos-be.nodeSize,gt.pos).scrollIntoView()),0))}function Pe(rt,at){for(;rt;rt="start"==at?rt.firstChild:rt.lastChild)if(rt.isTextblock)return!0;return!1}function Ve(rt,at,Ke){var st=rt.selection,ct=st.$head,Zt=ct;if(!st.empty)return!1;if(ct.parent.isTextblock){if(Ke?!Ke.endOfTextblock("backward",rt):ct.parentOffset>0)return!1;Zt=ve(ct)}var Qt=Zt&&Zt.nodeBefore;return!(!Qt||!Ct.qv.isSelectable(Qt)||(at&&at(rt.tr.setSelection(Ct.qv.create(rt.doc,Zt.pos-Qt.nodeSize)).scrollIntoView()),0))}function ve(rt){if(!rt.parent.type.spec.isolating)for(var at=rt.depth-1;at>=0;at--){if(rt.index(at)>0)return rt.doc.resolve(rt.before(at+1));if(rt.node(at).type.spec.isolating)break}return null}function Ie(rt,at,Ke){var ct=rt.selection.$cursor;if(!ct||(Ke?!Ke.endOfTextblock("forward",rt):ct.parentOffset<ct.parent.content.size))return!1;var gt=ye(ct);if(!gt)return!1;var Zt=gt.nodeAfter;if(Wt(rt,gt,at))return!0;if(0==ct.parent.content.size&&(Pe(Zt,"start")||Ct.qv.isSelectable(Zt))){if(at){var Qt=rt.tr.deleteRange(ct.before(),ct.after());Qt.setSelection(Pe(Zt,"start")?Ct.Y1.findFrom(Qt.doc.resolve(Qt.mapping.map(gt.pos)),1):Ct.qv.create(Qt.doc,Qt.mapping.map(gt.pos))),at(Qt.scrollIntoView())}return!0}return!(!Zt.isAtom||gt.depth!=ct.depth-1||(at&&at(rt.tr.delete(gt.pos,gt.pos+Zt.nodeSize).scrollIntoView()),0))}function Ce(rt,at,Ke){var st=rt.selection,ct=st.$head,Zt=ct;if(!st.empty)return!1;if(ct.parent.isTextblock){if(Ke?!Ke.endOfTextblock("forward",rt):ct.parentOffset<ct.parent.content.size)return!1;Zt=ye(ct)}var Qt=Zt&&Zt.nodeAfter;return!(!Qt||!Ct.qv.isSelectable(Qt)||(at&&at(rt.tr.setSelection(Ct.qv.create(rt.doc,Zt.pos)).scrollIntoView()),0))}function ye(rt){if(!rt.parent.type.spec.isolating)for(var at=rt.depth-1;at>=0;at--){var Ke=rt.node(at);if(rt.index(at)+1<Ke.childCount)return rt.doc.resolve(rt.after(at+1));if(Ke.type.spec.isolating)break}return null}function Re(rt,at){var ct,Ke=rt.selection,st=Ke instanceof Ct.qv;if(st){if(Ke.node.isTextblock||!(0,C.canJoin)(rt.doc,Ke.from))return!1;ct=Ke.from}else if(null==(ct=(0,C.joinPoint)(rt.doc,Ke.from,-1)))return!1;if(at){var gt=rt.tr.join(ct);st&&gt.setSelection(Ct.qv.create(gt.doc,ct-rt.doc.resolve(ct).nodeBefore.nodeSize)),at(gt.scrollIntoView())}return!0}function Fe(rt,at){var st,Ke=rt.selection;if(Ke instanceof Ct.qv){if(Ke.node.isTextblock||!(0,C.canJoin)(rt.doc,Ke.to))return!1;st=Ke.to}else if(null==(st=(0,C.joinPoint)(rt.doc,Ke.to,1)))return!1;return at&&at(rt.tr.join(st).scrollIntoView()),!0}function Be(rt,at){var Ke=rt.selection,gt=Ke.$from.blockRange(Ke.$to),Zt=gt&&(0,C.liftTarget)(gt);return null!=Zt&&(at&&at(rt.tr.lift(gt,Zt).scrollIntoView()),!0)}function pt(rt,at){var Ke=rt.selection,st=Ke.$head;return!(!st.parent.type.spec.code||!st.sameParent(Ke.$anchor)||(at&&at(rt.tr.insertText("\n").scrollIntoView()),0))}function Te(rt){for(var at=0;at<rt.edgeCount;at++){var st=rt.edge(at).type;if(st.isTextblock&&!st.hasRequiredAttrs())return st}return null}function Qe(rt,at){var Ke=rt.selection,st=Ke.$head;if(!st.parent.type.spec.code||!st.sameParent(Ke.$anchor))return!1;var gt=st.node(-1),Zt=st.indexAfter(-1),Qt=Te(gt.contentMatchAt(Zt));if(!gt.canReplaceWith(Zt,Zt,Qt))return!1;if(at){var be=st.after(),fe=rt.tr.replaceWith(be,be,Qt.createAndFill());fe.setSelection(Ct.Y1.near(fe.doc.resolve(be),1)),at(fe.scrollIntoView())}return!0}function je(rt,at){var Ke=rt.selection,st=Ke.$from,ct=Ke.$to;if(Ke instanceof Ct.C1||st.parent.inlineContent||ct.parent.inlineContent)return!1;var gt=Te(ct.parent.contentMatchAt(ct.indexAfter()));if(!gt||!gt.isTextblock)return!1;if(at){var Zt=(!st.parentOffset&&ct.index()<ct.parent.childCount?st:ct).pos,Qt=rt.tr.insert(Zt,gt.createAndFill());Qt.setSelection(Ct.Bs.create(Qt.doc,Zt+1)),at(Qt.scrollIntoView())}return!0}function ut(rt,at){var st=rt.selection.$cursor;if(!st||st.parent.content.size)return!1;if(st.depth>1&&st.after()!=st.end(-1)){var ct=st.before();if((0,C.canSplit)(rt.doc,ct))return at&&at(rt.tr.split(ct).scrollIntoView()),!0}var gt=st.blockRange(),Zt=gt&&(0,C.liftTarget)(gt);return null!=Zt&&(at&&at(rt.tr.lift(gt,Zt).scrollIntoView()),!0)}function ft(rt,at){var Ke=rt.selection,st=Ke.$from,ct=Ke.$to;if(rt.selection instanceof Ct.qv&&rt.selection.node.isBlock)return!(!st.parentOffset||!(0,C.canSplit)(rt.doc,st.pos)||(at&&at(rt.tr.split(st.pos).scrollIntoView()),0));if(!st.parent.isBlock)return!1;if(at){var gt=ct.parentOffset==ct.parent.content.size,Zt=rt.tr;(rt.selection instanceof Ct.Bs||rt.selection instanceof Ct.C1)&&Zt.deleteSelection();var Qt=0==st.depth?null:Te(st.node(-1).contentMatchAt(st.indexAfter(-1))),be=gt&&Qt?[{type:Qt}]:null,fe=(0,C.canSplit)(Zt.doc,Zt.mapping.map(st.pos),1,be);!be&&!fe&&(0,C.canSplit)(Zt.doc,Zt.mapping.map(st.pos),1,Qt&&[{type:Qt}])&&(be=[{type:Qt}],fe=!0),fe&&(Zt.split(Zt.mapping.map(st.pos),1,be),!gt&&!st.parentOffset&&st.parent.type!=Qt&&st.node(-1).canReplace(st.index(-1),st.indexAfter(-1),le.HY.from([Qt.create(),st.parent]))&&Zt.setNodeMarkup(Zt.mapping.map(st.before()),Qt)),at(Zt.scrollIntoView())}return!0}function Mt(rt,at){return ft(rt,at&&function(Ke){var st=rt.storedMarks||rt.selection.$to.parentOffset&&rt.selection.$from.marks();st&&Ke.ensureMarks(st),at(Ke)})}function Nt(rt,at){var gt,Ke=rt.selection,st=Ke.$from,Zt=st.sharedDepth(Ke.to);return 0!=Zt&&(gt=st.before(Zt),at&&at(rt.tr.setSelection(Ct.qv.create(rt.doc,gt))),!0)}function ht(rt,at){return at&&at(rt.tr.setSelection(new Ct.C1(rt.doc))),!0}function Wt(rt,at,Ke){var gt,Zt,st=at.nodeBefore,ct=at.nodeAfter;if(st.type.spec.isolating||ct.type.spec.isolating)return!1;if(function(rt,at,Ke){var st=at.nodeBefore,ct=at.nodeAfter,gt=at.index();return!(!(st&&ct&&st.type.compatibleContent(ct.type))||(!st.content.size&&at.parent.canReplace(gt-1,gt)?(Ke&&Ke(rt.tr.delete(at.pos-st.nodeSize,at.pos).scrollIntoView()),0):!at.parent.canReplace(gt,gt+1)||!ct.isTextblock&&!(0,C.canJoin)(rt.doc,at.pos)||(Ke&&Ke(rt.tr.clearIncompatible(at.pos,st.type,st.contentMatchAt(st.childCount)).join(at.pos).scrollIntoView()),0)))}(rt,at,Ke))return!0;var Qt=at.parent.canReplace(at.index(),at.index()+1);if(Qt&&(gt=(Zt=st.contentMatchAt(st.childCount)).findWrapping(ct.type))&&Zt.matchType(gt[0]||ct.type).validEnd){if(Ke){for(var be=at.pos+ct.nodeSize,fe=le.HY.empty,we=gt.length-1;we>=0;we--)fe=le.HY.from(gt[we].create(null,fe));fe=le.HY.from(st.copy(fe));var Ae=rt.tr.step(new C.ReplaceAroundStep(at.pos-1,be,at.pos,be,new le.p2(fe,1,0),gt.length,!0)),Ge=be+2*gt.length;(0,C.canJoin)(Ae.doc,Ge)&&Ae.join(Ge),Ke(Ae.scrollIntoView())}return!0}var K=Ct.Y1.findFrom(at,1),te=K&&K.$from.blockRange(K.$to),ge=te&&(0,C.liftTarget)(te);if(null!=ge&&ge>=at.depth)return Ke&&Ke(rt.tr.lift(te,ge).scrollIntoView()),!0;if(Qt&&ct.isTextblock&&Pe(st,"end")){for(var Le=st,Xe=[];Xe.push(Le),!Le.isTextblock;)Le=Le.lastChild;if(Le.canReplace(Le.childCount,Le.childCount,ct.content)){if(Ke){for(var lt=le.HY.empty,Rt=Xe.length-1;Rt>=0;Rt--)lt=le.HY.from(Xe[Rt].copy(lt));Ke(rt.tr.step(new C.ReplaceAroundStep(at.pos-Xe.length,at.pos+ct.nodeSize,at.pos+1,at.pos+ct.nodeSize-1,new le.p2(lt,Xe.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function bn(rt,at){return function(Ke,st){var ct=Ke.selection,Qt=ct.$from.blockRange(ct.$to),be=Qt&&(0,C.findWrapping)(Qt,rt,at);return!!be&&(st&&st(Ke.tr.wrap(Qt,be).scrollIntoView()),!0)}}function xt(rt,at){return function(Ke,st){var ct=Ke.selection,gt=ct.from,Zt=ct.to,Qt=!1;return Ke.doc.nodesBetween(gt,Zt,function(be,fe){if(Qt)return!1;if(be.isTextblock&&!be.hasMarkup(rt,at))if(be.type==rt)Qt=!0;else{var we=Ke.doc.resolve(fe),Ae=we.index();Qt=we.parent.canReplaceWith(Ae,Ae+1,rt)}}),!!Qt&&(st&&st(Ke.tr.setBlockType(gt,Zt,rt,at).scrollIntoView()),!0)}}function Ht(rt,at){return function(Ke,st){var ct=Ke.selection,Zt=ct.$cursor,Qt=ct.ranges;if(ct.empty&&!Zt||!function(rt,at,Ke){for(var st=function(Zt){var Qt=at[Zt],be=Qt.$from,fe=Qt.$to,we=0==be.depth&&rt.type.allowsMarkType(Ke);if(rt.nodesBetween(be.pos,fe.pos,function(Ae){if(we)return!1;we=Ae.inlineContent&&Ae.type.allowsMarkType(Ke)}),we)return{v:!0}},ct=0;ct<at.length;ct++){var gt=st(ct);if(gt)return gt.v}return!1}(Ke.doc,Qt,rt))return!1;if(st)if(Zt)rt.isInSet(Ke.storedMarks||Zt.marks())?st(Ke.tr.removeStoredMark(rt)):st(Ke.tr.addStoredMark(rt.create(at)));else{for(var be=!1,fe=Ke.tr,we=0;!be&&we<Qt.length;we++){var Ae=Qt[we];be=Ke.doc.rangeHasMark(Ae.$from.pos,Ae.$to.pos,rt)}for(var te=0;te<Qt.length;te++){var ge=Qt[te],Le=ge.$from,Xe=ge.$to;if(be)fe.removeMark(Le.pos,Xe.pos,rt);else{var lt=Le.pos,Rt=Xe.pos,on=Le.nodeAfter,Dn=Xe.nodeBefore,Ln=on&&on.isText?/^\s*/.exec(on.text)[0].length:0,gn=Dn&&Dn.isText?/\s*$/.exec(Dn.text)[0].length:0;lt+Ln<Rt&&(lt+=Ln,Rt-=gn),fe.addMark(lt,Rt,rt.create(at))}}st(fe.scrollIntoView())}return!0}}function Et(rt,at){if(Array.isArray(at)){var Ke=at;at=function(st){return Ke.indexOf(st.type.name)>-1}}return function(st,ct){return rt(st,ct&&function(rt,at){return function(Ke){if(!Ke.isGeneric)return rt(Ke);for(var st=[],ct=0;ct<Ke.mapping.maps.length;ct++){for(var gt=Ke.mapping.maps[ct],Zt=0;Zt<st.length;Zt++)st[Zt]=gt.map(st[Zt]);gt.forEach(function(Rt,on,Dn,Ln){return st.push(Dn,Ln)})}for(var Qt=[],be=0;be<st.length;be+=2)for(var we=st[be+1],Ae=Ke.doc.resolve(st[be]),Ge=Ae.sharedDepth(we),K=Ae.node(Ge),te=Ae.indexAfter(Ge),ge=Ae.after(Ge+1);ge<=we;++te){var Le=K.maybeChild(te);if(!Le)break;if(te&&-1==Qt.indexOf(ge)){var Xe=K.child(te-1);Xe.type==Le.type&&at(Xe,Le)&&Qt.push(ge)}ge+=Le.nodeSize}Qt.sort(function(Rt,on){return Rt-on});for(var lt=Qt.length-1;lt>=0;lt--)(0,C.canJoin)(Ke.doc,Qt[lt])&&Ke.join(Qt[lt]);rt(Ke)}}(ct,at))}}function Se(){for(var rt=[],at=arguments.length;at--;)rt[at]=arguments[at];return function(Ke,st,ct){for(var gt=0;gt<rt.length;gt++)if(rt[gt](Ke,st,ct))return!0;return!1}}var Tt=Se(Ze,Ne,Ve),vt=Se(Ze,Ie,Ce),ke={Enter:Se(pt,je,ut,ft),"Mod-Enter":Qe,Backspace:Tt,"Mod-Backspace":Tt,Delete:vt,"Mod-Delete":vt,"Mod-a":ht},tt={"Ctrl-h":ke.Backspace,"Alt-Backspace":ke["Mod-Backspace"],"Ctrl-d":ke.Delete,"Ctrl-Alt-Backspace":ke["Mod-Delete"],"Alt-Delete":ke["Mod-Delete"],"Alt-d":ke["Mod-Delete"]};for(var Ue in ke)tt[Ue]=ke[Ue];var Jt=("undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform())?tt:ke},5591:(An,zt,$e)=>{"use strict";var C=$e(7716);let le=null;function Ct(){return le}const Ve=new C.OlP("DocumentToken");let ve=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,C.Yz7)({factory:Ie,token:i,providedIn:"platform"}),i})();function Ie(){return(0,C.LFG)(ye)}const Ce=new C.OlP("Location Initialized");let ye=(()=>{class i extends ve{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ct().getBaseHref(this._doc)}onPopState(e){const s=Ct().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",e,!1),()=>s.removeEventListener("popstate",e)}onHashChange(e){const s=Ct().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",e,!1),()=>s.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,s,o){Re()?this._history.pushState(e,s,o):this.location.hash=o}replaceState(e,s,o){Re()?this._history.replaceState(e,s,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(Ve))},i.\u0275prov=(0,C.Yz7)({factory:Fe,token:i,providedIn:"platform"}),i})();function Re(){return!!window.history.pushState}function Fe(){return new ye((0,C.LFG)(Ve))}function Be(i,r){if(0==i.length)return r;if(0==r.length)return i;let e=0;return i.endsWith("/")&&e++,r.startsWith("/")&&e++,2==e?i+r.substring(1):1==e?i+r:i+"/"+r}function pt(i){const r=i.match(/#|\?|$/),e=r&&r.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function Te(i){return i&&"?"!==i[0]?"?"+i:i}let Qe=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,C.Yz7)({factory:je,token:i,providedIn:"root"}),i})();function je(i){const r=(0,C.LFG)(Ve).location;return new ft((0,C.LFG)(ve),r&&r.origin||"")}const ut=new C.OlP("appBaseHref");let ft=(()=>{class i extends Qe{constructor(e,s){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Be(this._baseHref,e)}path(e=!1){const s=this._platformLocation.pathname+Te(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${s}${o}`:s}pushState(e,s,o,a){const D=this.prepareExternalUrl(o+Te(a));this._platformLocation.pushState(e,s,D)}replaceState(e,s,o,a){const D=this.prepareExternalUrl(o+Te(a));this._platformLocation.replaceState(e,s,D)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var s,o;null===(o=(s=this._platformLocation).historyGo)||void 0===o||o.call(s,e)}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(ve),C.LFG(ut,8))},i.\u0275prov=C.Yz7({token:i,factory:i.\u0275fac}),i})(),Mt=(()=>{class i extends Qe{constructor(e,s){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(e){const s=Be(this._baseHref,e);return s.length>0?"#"+s:s}pushState(e,s,o,a){let D=this.prepareExternalUrl(o+Te(a));0==D.length&&(D=this._platformLocation.pathname),this._platformLocation.pushState(e,s,D)}replaceState(e,s,o,a){let D=this.prepareExternalUrl(o+Te(a));0==D.length&&(D=this._platformLocation.pathname),this._platformLocation.replaceState(e,s,D)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var s,o;null===(o=(s=this._platformLocation).historyGo)||void 0===o||o.call(s,e)}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(ve),C.LFG(ut,8))},i.\u0275prov=C.Yz7({token:i,factory:i.\u0275fac}),i})(),Nt=(()=>{class i{constructor(e,s){this._subject=new C.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const o=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=pt(Wt(o)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,s=""){return this.path()==this.normalize(e+Te(s))}normalize(e){return i.stripTrailingSlash(function(i,r){return i&&r.startsWith(i)?r.substring(i.length):r}(this._baseHref,Wt(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,s="",o=null){this._platformStrategy.pushState(o,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Te(s)),o)}replaceState(e,s="",o=null){this._platformStrategy.replaceState(o,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Te(s)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var s,o;null===(o=(s=this._platformStrategy).historyGo)||void 0===o||o.call(s,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(e="",s){this._urlChangeListeners.forEach(o=>o(e,s))}subscribe(e,s,o){return this._subject.subscribe({next:e,error:s,complete:o})}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(Qe),C.LFG(ve))},i.normalizeQueryParams=Te,i.joinWithSlash=Be,i.stripTrailingSlash=pt,i.\u0275prov=(0,C.Yz7)({factory:ht,token:i,providedIn:"root"}),i})();function ht(){return new Nt((0,C.LFG)(Qe),(0,C.LFG)(ve))}function Wt(i){return i.replace(/\/index.html$/,"")}var Ot=(()=>((Ot=Ot||{})[Ot.Zero=0]="Zero",Ot[Ot.One=1]="One",Ot[Ot.Two=2]="Two",Ot[Ot.Few=3]="Few",Ot[Ot.Many=4]="Many",Ot[Ot.Other=5]="Other",Ot))();const we=C.kL8;class Dc{}let mf=(()=>{class i extends Dc{constructor(e){super(),this.locale=e}getPluralCategory(e,s){switch(we(s||this.locale)(e)){case Ot.Zero:return"zero";case Ot.One:return"one";case Ot.Two:return"two";case Ot.Few:return"few";case Ot.Many:return"many";default:return"other"}}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(C.soG))},i.\u0275prov=C.Yz7({token:i,factory:i.\u0275fac}),i})();function Ks(i,r){r=encodeURIComponent(r);for(const e of i.split(";")){const s=e.indexOf("="),[o,a]=-1==s?[e,""]:[e.slice(0,s),e.slice(s+1)];if(o.trim()===r)return decodeURIComponent(a)}return null}let Pa=(()=>{class i{constructor(e,s,o,a){this._iterableDiffers=e,this._keyValueDiffers=s,this._ngEl=o,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,C.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(s=>this._toggleClass(s.key,s.currentValue)),e.forEachChangedItem(s=>this._toggleClass(s.key,s.currentValue)),e.forEachRemovedItem(s=>{s.previousValue&&this._toggleClass(s.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(s=>{if("string"!=typeof s.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,C.AaK)(s.item)}`);this._toggleClass(s.item,!0)}),e.forEachRemovedItem(s=>this._toggleClass(s.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(s=>this._toggleClass(s,!0)):Object.keys(e).forEach(s=>this._toggleClass(s,!!e[s])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(s=>this._toggleClass(s,!1)):Object.keys(e).forEach(s=>this._toggleClass(s,!1)))}_toggleClass(e,s){(e=e.trim())&&e.split(/\s+/g).forEach(o=>{s?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(C.ZZ4),C.Y36(C.aQg),C.Y36(C.SBq),C.Y36(C.Qsj))},i.\u0275dir=C.lG2({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),i})();class fa{constructor(r,e,s,o){this.$implicit=r,this.ngForOf=e,this.index=s,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ni=(()=>{class i{constructor(e,s,o){this._viewContainer=e,this._template=s,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(i){return i.name||typeof i}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const s=[];e.forEachOperation((o,a,D)=>{if(null==o.previousIndex){const k=this._viewContainer.createEmbeddedView(this._template,new fa(null,this._ngForOf,-1,-1),null===D?void 0:D),N=new gf(o,k);s.push(N)}else if(null==D)this._viewContainer.remove(null===a?void 0:a);else if(null!==a){const k=this._viewContainer.get(a);this._viewContainer.move(k,D);const N=new gf(o,k);s.push(N)}});for(let o=0;o<s.length;o++)this._perViewChange(s[o].view,s[o].record);for(let o=0,a=this._viewContainer.length;o<a;o++){const D=this._viewContainer.get(o);D.context.index=o,D.context.count=a,D.context.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{this._viewContainer.get(o.currentIndex).context.$implicit=o.item})}_perViewChange(e,s){e.context.$implicit=s.item}static ngTemplateContextGuard(e,s){return!0}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(C.s_b),C.Y36(C.Rgc),C.Y36(C.ZZ4))},i.\u0275dir=C.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();class gf{constructor(r,e){this.record=r,this.view=e}}let Ii=(()=>{class i{constructor(e,s){this._viewContainer=e,this._context=new To,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ed("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ed("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,s){return!0}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(C.s_b),C.Y36(C.Rgc))},i.\u0275dir=C.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class To{constructor(){this.$implicit=null,this.ngIf=null}}function ed(i,r){if(r&&!r.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,C.AaK)(r)}'.`)}class hu{constructor(r,e){this._viewContainerRef=r,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(r){r&&!this._created?this.create():!r&&this._created&&this.destroy()}}let xs=(()=>{class i{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const s=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||s,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),s}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let s=0;s<this._defaultViews.length;s++)this._defaultViews[s].enforceState(e)}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=C.lG2({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),i})(),ns=(()=>{class i{constructor(e,s,o){this.ngSwitch=o,o._addCase(),this._view=new hu(e,s)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(C.s_b),C.Y36(C.Rgc),C.Y36(xs,9))},i.\u0275dir=C.lG2({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),i})(),ps=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({providers:[{provide:Dc,useClass:mf}]}),i})();function sd(i){return"browser"===i}let kc=(()=>{class i{}return i.\u0275prov=(0,C.Yz7)({token:i,providedIn:"root",factory:()=>new Wo((0,C.LFG)(Ve),window)}),i})();class Wo{constructor(r,e){this.document=r,this.window=e,this.offset=()=>[0,0]}setOffset(r){this.offset=Array.isArray(r)?()=>r:r}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(r){this.supportsScrolling()&&this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){if(!this.supportsScrolling())return;const e=function(i,r){const e=i.getElementById(r)||i.getElementsByName(r)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const s=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let o=s.currentNode;for(;o;){const a=o.shadowRoot;if(a){const D=a.getElementById(r)||a.querySelector(`[name="${r}"]`);if(D)return D}o=s.nextNode()}}return null}(this.document,r);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(r){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=r)}}scrollToElement(r){const e=r.getBoundingClientRect(),s=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(s-a[0],o-a[1])}attemptFocus(r){return r.focus(),this.document.activeElement===r}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const r=xl(this.window.history)||xl(Object.getPrototypeOf(this.window.history));return!(!r||!r.writable&&!r.set)}catch(r){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(r){return!1}}}function xl(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class ga{}class uh extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new uh,le||(le=i)}onAndCancel(r,e,s){return r.addEventListener(e,s,!1),()=>{r.removeEventListener(e,s,!1)}}dispatchEvent(r,e){r.dispatchEvent(e)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,e){return(e=e||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,e){return"window"===e?window:"document"===e?r:"body"===e?r.body:null}getBaseHref(r){const e=(Rs=Rs||document.querySelector("base"),Rs?Rs.getAttribute("href"):null);return null==e?null:function(i){Qn=Qn||document.createElement("a"),Qn.setAttribute("href",i);const r=Qn.pathname;return"/"===r.charAt(0)?r:`/${r}`}(e)}resetBaseElement(){Rs=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return Ks(document.cookie,r)}}let Qn,Rs=null;const _a=new C.OlP("TRANSITION_ID"),va=[{provide:C.ip1,useFactory:function(i,r,e){return()=>{e.get(C.CZH).donePromise.then(()=>{const s=Ct(),o=r.querySelectorAll(`style[ng-transition="${i}"]`);for(let a=0;a<o.length;a++)s.remove(o[a])})}},deps:[_a,Ve,C.zs3],multi:!0}];class kl{static init(){(0,C.VLi)(new kl)}addToWindow(r){C.dqk.getAngularTestability=(s,o=!0)=>{const a=r.findTestabilityInTree(s,o);if(null==a)throw new Error("Could not find testability for element.");return a},C.dqk.getAllAngularTestabilities=()=>r.getAllTestabilities(),C.dqk.getAllAngularRootElements=()=>r.getAllRootElements(),C.dqk.frameworkStabilizers||(C.dqk.frameworkStabilizers=[]),C.dqk.frameworkStabilizers.push(s=>{const o=C.dqk.getAllAngularTestabilities();let a=o.length,D=!1;const k=function(N){D=D||N,a--,0==a&&s(D)};o.forEach(function(N){N.whenStable(k)})})}findTestabilityInTree(r,e,s){if(null==e)return null;const o=r.getTestability(e);return null!=o?o:s?Ct().isShadowRoot(e)?this.findTestabilityInTree(r,e.host,!0):this.findTestabilityInTree(r,e.parentElement,!0):null}}let hh=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=C.Yz7({token:i,factory:i.\u0275fac}),i})();const Rc=new C.OlP("EventManagerPlugins");let hn=(()=>{class i{constructor(e,s){this._zone=s,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,s,o){return this._findPluginFor(s).addEventListener(e,s,o)}addGlobalEventListener(e,s,o){return this._findPluginFor(s).addGlobalEventListener(e,s,o)}getZone(){return this._zone}_findPluginFor(e){const s=this._eventNameToPlugin.get(e);if(s)return s;const o=this._plugins;for(let a=0;a<o.length;a++){const D=o[a];if(D.supports(e))return this._eventNameToPlugin.set(e,D),D}throw new Error(`No event manager plugin found for event ${e}`)}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(Rc),C.LFG(C.R0b))},i.\u0275prov=C.Yz7({token:i,factory:i.\u0275fac}),i})();class Kr{constructor(r){this._doc=r}addGlobalEventListener(r,e,s){const o=Ct().getGlobalEventTarget(this._doc,r);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,s)}}let rm=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(e){const s=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),s.add(o))}),this.onStylesAdded(s)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=C.Yz7({token:i,factory:i.\u0275fac}),i})(),Ji=(()=>{class i extends rm{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,s,o){e.forEach(a=>{const D=this._doc.createElement("style");D.textContent=a,o.push(s.appendChild(D))})}addHost(e){const s=[];this._addStylesToHost(this._stylesSet,e,s),this._hostNodes.set(e,s)}removeHost(e){const s=this._hostNodes.get(e);s&&s.forEach(ad),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((s,o)=>{this._addStylesToHost(e,o,s)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(ad))}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(Ve))},i.\u0275prov=C.Yz7({token:i,factory:i.\u0275fac}),i})();function ad(i){Ct().remove(i)}const Oc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},xo=/%COMP%/g;function Bs(i,r,e){for(let s=0;s<r.length;s++){let o=r[s];Array.isArray(o)?Bs(i,o,e):(o=o.replace(xo,i),e.push(o))}return e}function el(i){return r=>{if("__ngUnwrap__"===r)return i;!1===i(r)&&(r.preventDefault(),r.returnValue=!1)}}let tl=(()=>{class i{constructor(e,s,o){this.eventManager=e,this.sharedStylesHost=s,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Vs(e)}createRenderer(e,s){if(!e||!s)return this.defaultRenderer;switch(s.encapsulation){case C.ifc.Emulated:{let o=this.rendererByCompId.get(s.id);return o||(o=new c0(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,o)),o.applyToHost(e),o}case 1:case C.ifc.ShadowDom:return new nl(this.eventManager,this.sharedStylesHost,e,s);default:if(!this.rendererByCompId.has(s.id)){const o=Bs(s.id,s.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(hn),C.LFG(Ji),C.LFG(C.AFp))},i.\u0275prov=C.Yz7({token:i,factory:i.\u0275fac}),i})();class Vs{constructor(r){this.eventManager=r,this.data=Object.create(null)}destroy(){}createElement(r,e){return e?document.createElementNS(Oc[e]||e,r):document.createElement(r)}createComment(r){return document.createComment(r)}createText(r){return document.createTextNode(r)}appendChild(r,e){r.appendChild(e)}insertBefore(r,e,s){r&&r.insertBefore(e,s)}removeChild(r,e){r&&r.removeChild(e)}selectRootElement(r,e){let s="string"==typeof r?document.querySelector(r):r;if(!s)throw new Error(`The selector "${r}" did not match any elements`);return e||(s.textContent=""),s}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,e,s,o){if(o){e=o+":"+e;const a=Oc[o];a?r.setAttributeNS(a,e,s):r.setAttribute(e,s)}else r.setAttribute(e,s)}removeAttribute(r,e,s){if(s){const o=Oc[s];o?r.removeAttributeNS(o,e):r.removeAttribute(`${s}:${e}`)}else r.removeAttribute(e)}addClass(r,e){r.classList.add(e)}removeClass(r,e){r.classList.remove(e)}setStyle(r,e,s,o){o&(C.JOm.DashCase|C.JOm.Important)?r.style.setProperty(e,s,o&C.JOm.Important?"important":""):r.style[e]=s}removeStyle(r,e,s){s&C.JOm.DashCase?r.style.removeProperty(e):r.style[e]=""}setProperty(r,e,s){r[e]=s}setValue(r,e){r.nodeValue=e}listen(r,e,s){return"string"==typeof r?this.eventManager.addGlobalEventListener(r,e,el(s)):this.eventManager.addEventListener(r,e,el(s))}}class c0 extends Vs{constructor(r,e,s,o){super(r),this.component=s;const a=Bs(o+"-"+s.id,s.styles,[]);e.addStyles(a),this.contentAttr="_ngcontent-%COMP%".replace(xo,o+"-"+s.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace(xo,i)}(o+"-"+s.id)}applyToHost(r){super.setAttribute(r,this.hostAttr,"")}createElement(r,e){const s=super.createElement(r,e);return super.setAttribute(s,this.contentAttr,""),s}}class nl extends Vs{constructor(r,e,s,o){super(r),this.sharedStylesHost=e,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Bs(o.id,o.styles,[]);for(let D=0;D<a.length;D++){const k=document.createElement("style");k.textContent=a[D],this.shadowRoot.appendChild(k)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(r,e){return super.appendChild(this.nodeOrShadowRoot(r),e)}insertBefore(r,e,s){return super.insertBefore(this.nodeOrShadowRoot(r),e,s)}removeChild(r,e){return super.removeChild(this.nodeOrShadowRoot(r),e)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}}let Nc=(()=>{class i extends Kr{constructor(e){super(e)}supports(e){return!0}addEventListener(e,s,o){return e.addEventListener(s,o,!1),()=>this.removeEventListener(e,s,o)}removeEventListener(e,s,o){return e.removeEventListener(s,o)}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(Ve))},i.\u0275prov=C.Yz7({token:i,factory:i.\u0275fac}),i})();const yh=["alt","control","meta","shift"],Cf={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},At={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},hi={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let ds=(()=>{class i extends Kr{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,s,o){const a=i.parseEventName(s),D=i.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ct().onAndCancel(e,a.domEventName,D))}static parseEventName(e){const s=e.toLowerCase().split("."),o=s.shift();if(0===s.length||"keydown"!==o&&"keyup"!==o)return null;const a=i._normalizeKey(s.pop());let D="";if(yh.forEach(N=>{const B=s.indexOf(N);B>-1&&(s.splice(B,1),D+=N+".")}),D+=a,0!=s.length||0===a.length)return null;const k={};return k.domEventName=o,k.fullKey=D,k}static getEventFullKey(e){let s="",o=function(i){let r=i.key;if(null==r){if(r=i.keyIdentifier,null==r)return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===i.location&&At.hasOwnProperty(r)&&(r=At[r]))}return Cf[r]||r}(e);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),yh.forEach(a=>{a!=o&&hi[a](e)&&(s+=a+".")}),s+=o,s}static eventCallback(e,s,o){return a=>{i.getEventFullKey(a)===e&&o.runGuarded(()=>s(a))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(Ve))},i.\u0275prov=C.Yz7({token:i,factory:i.\u0275fac}),i})(),rl=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,C.Yz7)({factory:function(){return(0,C.LFG)(zs)},token:i,providedIn:"root"}),i})(),zs=(()=>{class i extends rl{constructor(e){super(),this._doc=e}sanitize(e,s){if(null==s)return null;switch(e){case C.q3G.NONE:return s;case C.q3G.HTML:return(0,C.qzn)(s,"HTML")?(0,C.z3N)(s):(0,C.EiD)(this._doc,String(s)).toString();case C.q3G.STYLE:return(0,C.qzn)(s,"Style")?(0,C.z3N)(s):s;case C.q3G.SCRIPT:if((0,C.qzn)(s,"Script"))return(0,C.z3N)(s);throw new Error("unsafe value used in a script context");case C.q3G.URL:return(0,C.yhl)(s),(0,C.qzn)(s,"URL")?(0,C.z3N)(s):(0,C.mCW)(String(s));case C.q3G.RESOURCE_URL:if((0,C.qzn)(s,"ResourceURL"))return(0,C.z3N)(s);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,C.JVY)(e)}bypassSecurityTrustStyle(e){return(0,C.L6k)(e)}bypassSecurityTrustScript(e){return(0,C.eBb)(e)}bypassSecurityTrustUrl(e){return(0,C.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,C.pB0)(e)}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(Ve))},i.\u0275prov=(0,C.Yz7)({factory:function(){return function(i){return new zs(i.get(Ve))}((0,C.LFG)(C.gxx))},token:i,providedIn:"root"}),i})();const ac=(0,C.eFA)(C._c5,"browser",[{provide:C.Lbi,useValue:"browser"},{provide:C.g9A,useValue:function(){uh.makeCurrent(),kl.init()},multi:!0},{provide:Ve,useFactory:function(){return(0,C.RDi)(document),document},deps:[]}]),im=[[],{provide:C.zSh,useValue:"root"},{provide:C.qLn,useFactory:function(){return new C.qLn},deps:[]},{provide:Rc,useClass:Nc,multi:!0,deps:[Ve,C.R0b,C.Lbi]},{provide:Rc,useClass:ds,multi:!0,deps:[Ve]},[],{provide:tl,useClass:tl,deps:[hn,Ji,C.AFp]},{provide:C.FYo,useExisting:tl},{provide:rm,useExisting:Ji},{provide:Ji,useClass:Ji,deps:[Ve]},{provide:C.dDg,useClass:C.dDg,deps:[C.R0b]},{provide:hn,useClass:hn,deps:[Rc,C.R0b]},{provide:ga,useClass:hh,deps:[]},[]];let Mf=(()=>{class i{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:i,providers:[{provide:C.AFp,useValue:e.appId},{provide:_a,useExisting:C.AFp},va]}}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(i,12))},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({providers:im,imports:[ps,C.hGG]}),i})();"undefined"!=typeof window&&window;var $n=$e(5917),$i=$e(7574),Xr=$e(9773);function He(i,r){return(0,Xr.zg)(i,r,1)}var Hs=$e(7393);function xr(i,r){return function(s){return s.lift(new Af(i,r))}}class Af{constructor(r,e){this.predicate=r,this.thisArg=e}call(r,e){return e.subscribe(new If(r,this.predicate,this.thisArg))}}class If extends Hs.L{constructor(r,e,s){super(r),this.predicate=e,this.thisArg=s,this.count=0}_next(r){let e;try{e=this.predicate.call(this.thisArg,r,this.count++)}catch(s){return void this.destination.error(s)}e&&this.destination.next(r)}}var rr=$e(8002);class yu{}class bu{}class Ss{constructor(r){this.normalizedNames=new Map,this.lazyUpdate=null,r?this.lazyInit="string"==typeof r?()=>{this.headers=new Map,r.split("\n").forEach(e=>{const s=e.indexOf(":");if(s>0){const o=e.slice(0,s),a=o.toLowerCase(),D=e.slice(s+1).trim();this.maybeSetNormalizedName(o,a),this.headers.has(a)?this.headers.get(a).push(D):this.headers.set(a,[D])}})}:()=>{this.headers=new Map,Object.keys(r).forEach(e=>{let s=r[e];const o=e.toLowerCase();"string"==typeof s&&(s=[s]),s.length>0&&(this.headers.set(o,s),this.maybeSetNormalizedName(e,o))})}:this.headers=new Map}has(r){return this.init(),this.headers.has(r.toLowerCase())}get(r){this.init();const e=this.headers.get(r.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(r){return this.init(),this.headers.get(r.toLowerCase())||null}append(r,e){return this.clone({name:r,value:e,op:"a"})}set(r,e){return this.clone({name:r,value:e,op:"s"})}delete(r,e){return this.clone({name:r,value:e,op:"d"})}maybeSetNormalizedName(r,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,r)}init(){this.lazyInit&&(this.lazyInit instanceof Ss?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(r=>this.applyUpdate(r)),this.lazyUpdate=null))}copyFrom(r){r.init(),Array.from(r.headers.keys()).forEach(e=>{this.headers.set(e,r.headers.get(e)),this.normalizedNames.set(e,r.normalizedNames.get(e))})}clone(r){const e=new Ss;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ss?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([r]),e}applyUpdate(r){const e=r.name.toLowerCase();switch(r.op){case"a":case"s":let s=r.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(r.name,e);const o=("a"===r.op?this.headers.get(e):void 0)||[];o.push(...s),this.headers.set(e,o);break;case"d":const a=r.value;if(a){let D=this.headers.get(e);if(!D)return;D=D.filter(k=>-1===a.indexOf(k)),0===D.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,D)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(r){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>r(this.normalizedNames.get(e),this.headers.get(e)))}}class fd{encodeKey(r){return Rf(r)}encodeValue(r){return Rf(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}}const md=/%(\d[a-f0-9])/gi,ol={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Rf(i){return encodeURIComponent(i).replace(md,(r,e)=>{var s;return null!==(s=ol[e])&&void 0!==s?s:r})}function gd(i){return`${i}`}class ba{constructor(r={}){if(this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new fd,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(i,r){const e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(o=>{const a=o.indexOf("="),[D,k]=-1==a?[r.decodeKey(o),""]:[r.decodeKey(o.slice(0,a)),r.decodeValue(o.slice(a+1))],N=e.get(D)||[];N.push(k),e.set(D,N)}),e}(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(e=>{const s=r.fromObject[e];this.map.set(e,Array.isArray(s)?s:[s])})):this.map=null}has(r){return this.init(),this.map.has(r)}get(r){this.init();const e=this.map.get(r);return e?e[0]:null}getAll(r){return this.init(),this.map.get(r)||null}keys(){return this.init(),Array.from(this.map.keys())}append(r,e){return this.clone({param:r,value:e,op:"a"})}appendAll(r){const e=[];return Object.keys(r).forEach(s=>{const o=r[s];Array.isArray(o)?o.forEach(a=>{e.push({param:s,value:a,op:"a"})}):e.push({param:s,value:o,op:"a"})}),this.clone(e)}set(r,e){return this.clone({param:r,value:e,op:"s"})}delete(r,e){return this.clone({param:r,value:e,op:"d"})}toString(){return this.init(),this.keys().map(r=>{const e=this.encoder.encodeKey(r);return this.map.get(r).map(s=>e+"="+this.encoder.encodeValue(s)).join("&")}).filter(r=>""!==r).join("&")}clone(r){const e=new ba({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(r),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(r=>this.map.set(r,this.cloneFrom.map.get(r))),this.updates.forEach(r=>{switch(r.op){case"a":case"s":const e=("a"===r.op?this.map.get(r.param):void 0)||[];e.push(gd(r.value)),this.map.set(r.param,e);break;case"d":if(void 0===r.value){this.map.delete(r.param);break}{let s=this.map.get(r.param)||[];const o=s.indexOf(gd(r.value));-1!==o&&s.splice(o,1),s.length>0?this.map.set(r.param,s):this.map.delete(r.param)}}}),this.cloneFrom=this.updates=null)}}class wu{constructor(){this.map=new Map}set(r,e){return this.map.set(r,e),this}get(r){return this.map.has(r)||this.map.set(r,r.defaultValue()),this.map.get(r)}delete(r){return this.map.delete(r),this}keys(){return this.map.keys()}}function Nl(i){return"undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer}function vd(i){return"undefined"!=typeof Blob&&i instanceof Blob}function qe(i){return"undefined"!=typeof FormData&&i instanceof FormData}class Zo{constructor(r,e,s,o){let a;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=r.toUpperCase(),function(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==s?s:null,a=o):a=s,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Ss),this.context||(this.context=new wu),this.params){const D=this.params.toString();if(0===D.length)this.urlWithParams=e;else{const k=e.indexOf("?");this.urlWithParams=e+(-1===k?"?":k<e.length-1?"&":"")+D}}else this.params=new ba,this.urlWithParams=e}serializeBody(){return null===this.body?null:Nl(this.body)||vd(this.body)||qe(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof ba?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||qe(this.body)?null:vd(this.body)?this.body.type||null:Nl(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ba?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(r={}){var e;const s=r.method||this.method,o=r.url||this.url,a=r.responseType||this.responseType,D=void 0!==r.body?r.body:this.body,k=void 0!==r.withCredentials?r.withCredentials:this.withCredentials,N=void 0!==r.reportProgress?r.reportProgress:this.reportProgress;let B=r.headers||this.headers,G=r.params||this.params;const $=null!==(e=r.context)&&void 0!==e?e:this.context;return void 0!==r.setHeaders&&(B=Object.keys(r.setHeaders).reduce((re,oe)=>re.set(oe,r.setHeaders[oe]),B)),r.setParams&&(G=Object.keys(r.setParams).reduce((re,oe)=>re.set(oe,r.setParams[oe]),G)),new Zo(s,o,D,{params:G,headers:B,context:$,reportProgress:N,responseType:a,withCredentials:k})}}var Or=(()=>((Or=Or||{})[Or.Sent=0]="Sent",Or[Or.UploadProgress=1]="UploadProgress",Or[Or.ResponseHeader=2]="ResponseHeader",Or[Or.DownloadProgress=3]="DownloadProgress",Or[Or.Response=4]="Response",Or[Or.User=5]="User",Or))();class kr{constructor(r,e=200,s="OK"){this.headers=r.headers||new Ss,this.status=void 0!==r.status?r.status:e,this.statusText=r.statusText||s,this.url=r.url||null,this.ok=this.status>=200&&this.status<300}}class Of extends kr{constructor(r={}){super(r),this.type=Or.ResponseHeader}clone(r={}){return new Of({headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}class Qi extends kr{constructor(r={}){super(r),this.type=Or.Response,this.body=void 0!==r.body?r.body:null}clone(r={}){return new Qi({body:void 0!==r.body?r.body:this.body,headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}class f0 extends kr{constructor(r){super(r,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${r.url||"(unknown url)"}`:`Http failure response for ${r.url||"(unknown url)"}: ${r.status} ${r.statusText}`,this.error=r.error||null}}function Pl(i,r){return{body:r,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let Nf=(()=>{class i{constructor(e){this.handler=e}request(e,s,o={}){let a;if(e instanceof Zo)a=e;else{let N,B;N=o.headers instanceof Ss?o.headers:new Ss(o.headers),o.params&&(B=o.params instanceof ba?o.params:new ba({fromObject:o.params})),a=new Zo(e,s,void 0!==o.body?o.body:null,{headers:N,context:o.context,params:B,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const D=(0,$n.of)(a).pipe(He(N=>this.handler.handle(N)));if(e instanceof Zo||"events"===o.observe)return D;const k=D.pipe(xr(N=>N instanceof Qi));switch(o.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return k.pipe((0,rr.U)(N=>{if(null!==N.body&&!(N.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return N.body}));case"blob":return k.pipe((0,rr.U)(N=>{if(null!==N.body&&!(N.body instanceof Blob))throw new Error("Response is not a Blob.");return N.body}));case"text":return k.pipe((0,rr.U)(N=>{if(null!==N.body&&"string"!=typeof N.body)throw new Error("Response is not a string.");return N.body}));case"json":default:return k.pipe((0,rr.U)(N=>N.body))}case"response":return k;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,s={}){return this.request("DELETE",e,s)}get(e,s={}){return this.request("GET",e,s)}head(e,s={}){return this.request("HEAD",e,s)}jsonp(e,s){return this.request("JSONP",e,{params:(new ba).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,s={}){return this.request("OPTIONS",e,s)}patch(e,s,o={}){return this.request("PATCH",e,Pl(o,s))}post(e,s,o={}){return this.request("POST",e,Pl(o,s))}put(e,s,o={}){return this.request("PUT",e,Pl(o,s))}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(yu))},i.\u0275prov=C.Yz7({token:i,factory:i.\u0275fac}),i})();class am{constructor(r,e){this.next=r,this.interceptor=e}handle(r){return this.interceptor.intercept(r,this.next)}}const Bv=new C.OlP("HTTP_INTERCEPTORS");let fw=(()=>{class i{intercept(e,s){return s.handle(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=C.Yz7({token:i,factory:i.\u0275fac}),i})();const Bi=/^\)\]\}',?\n/;let bd=(()=>{class i{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new $i.y(s=>{const o=this.xhrFactory.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((oe,_e)=>o.setRequestHeader(oe,_e.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const oe=e.detectContentTypeHeader();null!==oe&&o.setRequestHeader("Content-Type",oe)}if(e.responseType){const oe=e.responseType.toLowerCase();o.responseType="json"!==oe?oe:"text"}const a=e.serializeBody();let D=null;const k=()=>{if(null!==D)return D;const oe=1223===o.status?204:o.status,_e=o.statusText||"OK",ze=new Ss(o.getAllResponseHeaders()),mt=function(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}(o)||e.url;return D=new Of({headers:ze,status:oe,statusText:_e,url:mt}),D},N=()=>{let{headers:oe,status:_e,statusText:ze,url:mt}=k(),Ft=null;204!==_e&&(Ft=void 0===o.response?o.responseText:o.response),0===_e&&(_e=Ft?200:0);let Pt=_e>=200&&_e<300;if("json"===e.responseType&&"string"==typeof Ft){const dn=Ft;Ft=Ft.replace(Bi,"");try{Ft=""!==Ft?JSON.parse(Ft):null}catch(fn){Ft=dn,Pt&&(Pt=!1,Ft={error:fn,text:Ft})}}Pt?(s.next(new Qi({body:Ft,headers:oe,status:_e,statusText:ze,url:mt||void 0})),s.complete()):s.error(new f0({error:Ft,headers:oe,status:_e,statusText:ze,url:mt||void 0}))},B=oe=>{const{url:_e}=k(),ze=new f0({error:oe,status:o.status||0,statusText:o.statusText||"Unknown Error",url:_e||void 0});s.error(ze)};let G=!1;const $=oe=>{G||(s.next(k()),G=!0);let _e={type:Or.DownloadProgress,loaded:oe.loaded};oe.lengthComputable&&(_e.total=oe.total),"text"===e.responseType&&!!o.responseText&&(_e.partialText=o.responseText),s.next(_e)},re=oe=>{let _e={type:Or.UploadProgress,loaded:oe.loaded};oe.lengthComputable&&(_e.total=oe.total),s.next(_e)};return o.addEventListener("load",N),o.addEventListener("error",B),o.addEventListener("timeout",B),o.addEventListener("abort",B),e.reportProgress&&(o.addEventListener("progress",$),null!==a&&o.upload&&o.upload.addEventListener("progress",re)),o.send(a),s.next({type:Or.Sent}),()=>{o.removeEventListener("error",B),o.removeEventListener("abort",B),o.removeEventListener("load",N),o.removeEventListener("timeout",B),e.reportProgress&&(o.removeEventListener("progress",$),null!==a&&o.upload&&o.upload.removeEventListener("progress",re)),o.readyState!==o.DONE&&o.abort()}})}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(ga))},i.\u0275prov=C.Yz7({token:i,factory:i.\u0275fac}),i})();const p0=new C.OlP("XSRF_COOKIE_NAME"),lm=new C.OlP("XSRF_HEADER_NAME");class Jo{}let Us=(()=>{class i{constructor(e,s,o){this.doc=e,this.platform=s,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ks(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(Ve),C.LFG(C.Lbi),C.LFG(p0))},i.\u0275prov=C.Yz7({token:i,factory:i.\u0275fac}),i})(),wd=(()=>{class i{constructor(e,s){this.tokenService=e,this.headerName=s}intercept(e,s){const o=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||o.startsWith("http://")||o.startsWith("https://"))return s.handle(e);const a=this.tokenService.getToken();return null!==a&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,a)})),s.handle(e)}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(Jo),C.LFG(lm))},i.\u0275prov=C.Yz7({token:i,factory:i.\u0275fac}),i})(),Su=(()=>{class i{constructor(e,s){this.backend=e,this.injector=s,this.chain=null}handle(e){if(null===this.chain){const s=this.injector.get(Bv,[]);this.chain=s.reduceRight((o,a)=>new am(o,a),this.backend)}return this.chain.handle(e)}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(bu),C.LFG(C.zs3))},i.\u0275prov=C.Yz7({token:i,factory:i.\u0275fac}),i})(),U=(()=>{class i{static disable(){return{ngModule:i,providers:[{provide:wd,useClass:fw}]}}static withOptions(e={}){return{ngModule:i,providers:[e.cookieName?{provide:p0,useValue:e.cookieName}:[],e.headerName?{provide:lm,useValue:e.headerName}:[]]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({providers:[wd,{provide:Bv,useExisting:wd,multi:!0},{provide:Jo,useClass:Us},{provide:p0,useValue:"XSRF-TOKEN"},{provide:lm,useValue:"X-XSRF-TOKEN"}]}),i})(),q=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({providers:[Nf,{provide:yu,useClass:Su},bd,{provide:bu,useExisting:bd}],imports:[[U.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),i})();var ae=$e(2329),ue=$e(2709);class xe{constructor(r){return r}}class We{constructor(){return(0,ae.C6)()}}const jt=new C.OlP("angularfire2._apps"),rn={provide:xe,useFactory:function(i){return new xe((0,ae.Mq)())},deps:[[new C.FiY,jt]]},mn={provide:We,deps:[[new C.FiY,jt]]};function yn(i){return r=>{const e=(0,ue.KL)(i,r);return new xe(e)}}let Tn=(()=>{class i{constructor(){(0,ae.KN)("angularfire",ue.q4.full,"core"),(0,ae.KN)("angular",C.q4F.full)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({providers:[rn,mn]}),i})();function On(i){return{ngModule:Tn,providers:[{provide:jt,useFactory:yn(i),multi:!0,deps:[C.R0b,ue.HU]}]}}const jr=(0,ue.u3)(ae.ZF);function wi(i,r,e,s,o,a,D){try{var k=i[a](D),N=k.value}catch(B){return void e(B)}k.done?r(N):Promise.resolve(N).then(s,o)}function Yn(i){return function(){var r=this,e=arguments;return new Promise(function(s,o){var a=i.apply(r,e);function D(N){wi(a,s,o,D,k,"next",N)}function k(N){wi(a,s,o,D,k,"throw",N)}D(void 0)})}}var ir=$e(4685),ms=$e(5452),Qs=$e(4762),pi=$e(300),Os=$e(6034);const Cd=new ir.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Xs=new pi.Yd("@firebase/auth");function Ll(i,...r){Xs.logLevel<=pi.in.ERROR&&Xs.error(`Auth (${ms.Jn}): ${i}`,...r)}function Vi(i,...r){throw Lf(i,...r)}function al(i,...r){return Lf(i,...r)}function Lf(i,...r){if("string"!=typeof i){const e=r[0],s=[...r.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(e,...s)}return Cd.create(i,...r)}function xn(i,r,...e){if(!i)throw Lf(r,...e)}function Ns(i){const r="INTERNAL ASSERTION FAILED: "+i;throw Ll(r),new Error(r)}function Bl(i,r){i||Ns(r)}const cm=new Map;function Ca(i){Bl(i instanceof Function,"Expected a class definition");let r=cm.get(i);return r?(Bl(r instanceof i,"Instance stored in cache mismatched with class"),r):(r=new i,cm.set(i,r),r)}function m0(){var i;return"undefined"!=typeof self&&(null===(i=self.location)||void 0===i?void 0:i.protocol)||null}class Eh{constructor(r,e){this.shortDelay=r,this.longDelay=e,Bl(e>r,"Short delay should be less than long delay!"),this.isMobile=(0,ir.uI)()||(0,ir.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===m0()||"https:"===m0()||(0,ir.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}class _0{static initialize(r,e,s){this.fetchImpl=r,e&&(this.headersImpl=e),s&&(this.responseImpl=s)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dm={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded"},Bf=new Eh(3e4,6e4);function to(i,r,e,s){return v0.apply(this,arguments)}function v0(){return(v0=Yn(function*(i,r,e,s,o={}){return xE(i,o,()=>{let a={},D={};s&&("GET"===r?D=s:a={body:JSON.stringify(s)});const k=(0,ir.xO)(Object.assign({key:i.config.apiKey},D)).slice(1),N=new(_0.headers());return N.set("Content-Type","application/json"),N.set("X-Client-Version",i._getSdkClientVersion()),i.languageCode&&N.set("X-Firebase-Locale",i.languageCode),_0.fetch()(y0(i,i.config.apiHost,e,k),Object.assign({method:r,headers:N,referrerPolicy:"no-referrer"},a))})})).apply(this,arguments)}function xE(i,r,e){return Dh.apply(this,arguments)}function Dh(){return(Dh=Yn(function*(i,r,e){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},dm),r);try{const o=new b0(i),a=yield Promise.race([e(),o.promise]);o.clearNetworkTimeout();const D=yield a.json();if("needConfirmation"in D)throw Vc(i,"account-exists-with-different-credential",D);if(a.ok&&!("errorMessage"in D))return D;{const N=(a.ok?D.errorMessage:D.error.message).split(" : ")[0];if("FEDERATED_USER_ID_ALREADY_LINKED"===N)throw Vc(i,"credential-already-in-use",D);if("EMAIL_EXISTS"===N)throw Vc(i,"email-already-in-use",D);Vi(i,s[N]||N.toLowerCase().replace(/[_\s]+/g,"-"))}}catch(o){if(o instanceof ir.ZR)throw o;Vi(i,"network-request-failed")}})).apply(this,arguments)}function y0(i,r,e,s){const o=`${r}${e}?${s}`;return i.config.emulator?function(i,r){Bl(i.emulator,"Emulator should always be set here");const{url:e}=i.emulator;return r?`${e}${r.startsWith("/")?r.slice(1):r}`:e}(i.config,o):`${i.config.apiScheme}://${o}`}class b0{constructor(r){this.auth=r,this.timer=null,this.promise=new Promise((e,s)=>{this.timer=setTimeout(()=>s(al(this.auth,"timeout")),Bf.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vc(i,r,e){const s={appName:i.name};e.email&&(s.email=e.email),e.phoneNumber&&(s.phoneNumber=e.phoneNumber);const o=al(i,r,s);return o.customData._tokenResponse=e,o}function Vr(){return(Vr=Yn(function*(i,r){return to(i,"POST","/v1/accounts:delete",r)})).apply(this,arguments)}function hm(i,r){return Vl.apply(this,arguments)}function Vl(){return(Vl=Yn(function*(i,r){return to(i,"POST","/v1/accounts:lookup",r)})).apply(this,arguments)}function zc(i){if(i)try{const r=new Date(Number(i));if(!isNaN(r.getTime()))return r.toUTCString()}catch(r){}}function Gv(){return(Gv=Yn(function*(i,r=!1){const e=(0,ir.m9)(i),s=yield e.getIdToken(r),o=Hf(s);xn(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const a="object"==typeof o.firebase?o.firebase:void 0,D=null==a?void 0:a.sign_in_provider;return{claims:o,token:s,authTime:zc(zf(o.auth_time)),issuedAtTime:zc(zf(o.iat)),expirationTime:zc(zf(o.exp)),signInProvider:D||null,signInSecondFactor:(null==a?void 0:a.sign_in_second_factor)||null}})).apply(this,arguments)}function zf(i){return 1e3*Number(i)}function Hf(i){const[r,e,s]=i.split(".");if(void 0===r||void 0===e||void 0===s)return Ll("JWT malformed, contained fewer than 3 sections"),null;try{const o=(0,ir.tV)(e);return o?JSON.parse(o):(Ll("Failed to decode base64 JWT payload"),null)}catch(o){return Ll("Caught error parsing JWT payload as JSON",o),null}}function dc(i,r){return Sa.apply(this,arguments)}function Sa(){return(Sa=Yn(function*(i,r,e=!1){if(e)return r;try{return yield r}catch(s){throw s instanceof ir.ZR&&Sd(s)&&i.auth.currentUser===i&&(yield i.auth.signOut()),s}})).apply(this,arguments)}function Sd({code:i}){return"auth/user-disabled"===i||"auth/user-token-expired"===i}class qv{constructor(r){this.user=r,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(r){var e;if(r){const s=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),s}{this.errorBackoff=3e4;const o=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(r=!1){var e=this;if(!this.isRunning)return;const s=this.getInterval(r);this.timerId=setTimeout(Yn(function*(){yield e.iteration()}),s)}iteration(){var r=this;return Yn(function*(){try{yield r.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&r.schedule(!0))}r.schedule()})()}}class jv{constructor(r,e){this.createdAt=r,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=zc(this.lastLoginAt),this.creationTime=zc(this.createdAt)}_copy(r){this.createdAt=r.createdAt,this.lastLoginAt=r.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Th(i){return w0.apply(this,arguments)}function w0(){return(w0=Yn(function*(i){var r;const e=i.auth,s=yield i.getIdToken(),o=yield dc(i,hm(e,{idToken:s}));xn(null==o?void 0:o.users.length,e,"internal-error");const a=o.users[0];i._notifyReloadListener(a);const D=(null===(r=a.providerUserInfo)||void 0===r?void 0:r.length)?kh(a.providerUserInfo):[],k=Hl(i.providerData,D),G=!!i.isAnonymous&&!(i.email&&a.passwordHash||(null==k?void 0:k.length)),$={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:k,metadata:new jv(a.createdAt,a.lastLoginAt),isAnonymous:G};Object.assign(i,$)})).apply(this,arguments)}function fm(){return(fm=Yn(function*(i){const r=(0,ir.m9)(i);yield Th(r),yield r.auth._persistUserIfCurrent(r),r.auth._notifyListenersIfCurrent(r)})).apply(this,arguments)}function Hl(i,r){return[...i.filter(s=>!r.some(o=>o.providerId===s.providerId)),...r]}function kh(i){return i.map(r=>{var{providerId:e}=r,s=(0,Qs._T)(r,["providerId"]);return{providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}function C0(){return(C0=Yn(function*(i,r){const e=yield xE(i,{},()=>{const s=(0,ir.xO)({grant_type:"refresh_token",refresh_token:r}).slice(1),{tokenApiHost:o,apiKey:a}=i.config,D=y0(i,o,"/v1/token",`key=${a}`);return _0.fetch()(D,{method:"POST",headers:{"X-Client-Version":i._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:s})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})).apply(this,arguments)}class ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(r){xn(r.idToken,"internal-error"),xn(void 0!==r.idToken,"internal-error"),xn(void 0!==r.refreshToken,"internal-error");const e="expiresIn"in r&&void 0!==r.expiresIn?Number(r.expiresIn):function(i){const r=Hf(i);return xn(r,"internal-error"),xn(void 0!==r.exp,"internal-error"),xn(void 0!==r.iat,"internal-error"),Number(r.exp)-Number(r.iat)}(r.idToken);this.updateTokensAndExpiration(r.idToken,r.refreshToken,e)}getToken(r,e=!1){var s=this;return Yn(function*(){return xn(!s.accessToken||s.refreshToken,r,"user-token-expired"),e||!s.accessToken||s.isExpired?s.refreshToken?(yield s.refresh(r,s.refreshToken),s.accessToken):null:s.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(r,e){var s=this;return Yn(function*(){const{accessToken:o,refreshToken:a,expiresIn:D}=yield function(i,r){return C0.apply(this,arguments)}(r,e);s.updateTokensAndExpiration(o,a,Number(D))})()}updateTokensAndExpiration(r,e,s){this.refreshToken=e||null,this.accessToken=r||null,this.expirationTime=Date.now()+1e3*s}static fromJSON(r,e){const{refreshToken:s,accessToken:o,expirationTime:a}=e,D=new ll;return s&&(xn("string"==typeof s,"internal-error",{appName:r}),D.refreshToken=s),o&&(xn("string"==typeof o,"internal-error",{appName:r}),D.accessToken=o),a&&(xn("number"==typeof a,"internal-error",{appName:r}),D.expirationTime=a),D}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(r){this.accessToken=r.accessToken,this.refreshToken=r.refreshToken,this.expirationTime=r.expirationTime}_clone(){return Object.assign(new ll,this.toJSON())}_performRefresh(){return Ns("not implemented")}}function Md(i,r){xn("string"==typeof i||void 0===i,"internal-error",{appName:r})}class Ah{constructor(r){var{uid:e,auth:s,stsTokenManager:o}=r,a=(0,Qs._T)(r,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new qv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.metadata=new jv(a.createdAt||void 0,a.lastLoginAt||void 0)}getIdToken(r){var e=this;return Yn(function*(){const s=yield dc(e,e.stsTokenManager.getToken(e.auth,r));return xn(s,e.auth,"internal-error"),e.accessToken!==s&&(e.accessToken=s,yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)),s})()}getIdTokenResult(r){return function(i){return Gv.apply(this,arguments)}(this,r)}reload(){return function(i){return fm.apply(this,arguments)}(this)}_assign(r){this!==r&&(xn(this.uid===r.uid,this.auth,"internal-error"),this.displayName=r.displayName,this.photoURL=r.photoURL,this.email=r.email,this.emailVerified=r.emailVerified,this.phoneNumber=r.phoneNumber,this.isAnonymous=r.isAnonymous,this.tenantId=r.tenantId,this.providerData=r.providerData.map(e=>Object.assign({},e)),this.metadata._copy(r.metadata),this.stsTokenManager._assign(r.stsTokenManager))}_clone(r){return new Ah(Object.assign(Object.assign({},this),{auth:r,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(r){xn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=r,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(r){this.reloadListener?this.reloadListener(r):this.reloadUserInfo=r}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(r,e=!1){var s=this;return Yn(function*(){let o=!1;r.idToken&&r.idToken!==s.stsTokenManager.accessToken&&(s.stsTokenManager.updateFromServerResponse(r),o=!0),e&&(yield Th(s)),yield s.auth._persistUserIfCurrent(s),o&&s.auth._notifyListenersIfCurrent(s)})()}delete(){var r=this;return Yn(function*(){const e=yield r.getIdToken();return yield dc(r,function(i,r){return Vr.apply(this,arguments)}(r.auth,{idToken:e})),r.stsTokenManager.clearRefreshToken(),r.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(r=>Object.assign({},r)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(r,e){var s,o,a,D,k,N,B,G;const $=null!==(s=e.displayName)&&void 0!==s?s:void 0,re=null!==(o=e.email)&&void 0!==o?o:void 0,oe=null!==(a=e.phoneNumber)&&void 0!==a?a:void 0,_e=null!==(D=e.photoURL)&&void 0!==D?D:void 0,ze=null!==(k=e.tenantId)&&void 0!==k?k:void 0,mt=null!==(N=e._redirectEventId)&&void 0!==N?N:void 0,Ft=null!==(B=e.createdAt)&&void 0!==B?B:void 0,Pt=null!==(G=e.lastLoginAt)&&void 0!==G?G:void 0,{uid:dn,emailVerified:fn,isAnonymous:Hn,providerData:er,stsTokenManager:Sr}=e;xn(dn&&Sr,r,"internal-error");const yr=ll.fromJSON(this.name,Sr);xn("string"==typeof dn,r,"internal-error"),Md($,r.name),Md(re,r.name),xn("boolean"==typeof fn,r,"internal-error"),xn("boolean"==typeof Hn,r,"internal-error"),Md(oe,r.name),Md(_e,r.name),Md(ze,r.name),Md(mt,r.name),Md(Ft,r.name),Md(Pt,r.name);const Br=new Ah({uid:dn,auth:r,email:re,emailVerified:fn,displayName:$,isAnonymous:Hn,photoURL:_e,phoneNumber:oe,tenantId:ze,stsTokenManager:yr,createdAt:Ft,lastLoginAt:Pt});return er&&Array.isArray(er)&&(Br.providerData=er.map(Ur=>Object.assign({},Ur))),mt&&(Br._redirectEventId=mt),Br}static _fromIdTokenResponse(r,e,s=!1){return Yn(function*(){const o=new ll;o.updateFromServerResponse(e);const a=new Ah({uid:e.localId,auth:r,stsTokenManager:o,isAnonymous:s});return yield Th(a),a})()}}const S0=(()=>{class i{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return Yn(function*(){return!0})()}_set(e,s){var o=this;return Yn(function*(){o.storage[e]=s})()}_get(e){var s=this;return Yn(function*(){const o=s.storage[e];return void 0===o?null:o})()}_remove(e){var s=this;return Yn(function*(){delete s.storage[e]})()}_addListener(e,s){}_removeListener(e,s){}}return i.type="NONE",i})();function Uf(i,r,e){return`firebase:${i}:${r}:${e}`}class Ed{constructor(r,e,s){this.persistence=r,this.auth=e,this.userKey=s;const{config:o,name:a}=this.auth;this.fullUserKey=Uf(this.userKey,o.apiKey,a),this.fullPersistenceKey=Uf("persistence",o.apiKey,a),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(r){return this.persistence._set(this.fullUserKey,r.toJSON())}getCurrentUser(){var r=this;return Yn(function*(){const e=yield r.persistence._get(r.fullUserKey);return e?Ah._fromJSON(r.auth,e):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(r){var e=this;return Yn(function*(){if(e.persistence===r)return;const s=yield e.getCurrentUser();return yield e.removeCurrentUser(),e.persistence=r,s?e.setCurrentUser(s):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(r,e,s="authUser"){return Yn(function*(){if(!e.length)return new Ed(Ca(S0),r,s);const o=(yield Promise.all(e.map(function(){var B=Yn(function*(G){if(yield G._isAvailable())return G});return function(G){return B.apply(this,arguments)}}()))).filter(B=>B);let a=o[0]||Ca(S0);const D=Uf(s,r.config.apiKey,r.name);let k=null;for(const B of e)try{const G=yield B._get(D);if(G){const $=Ah._fromJSON(r,G);B!==a&&(k=$),a=B;break}}catch(G){}const N=o.filter(B=>B._shouldAllowMigration);return a._shouldAllowMigration&&N.length?(a=N[0],k&&(yield a._set(D,k.toJSON())),yield Promise.all(e.map(function(){var B=Yn(function*(G){if(G!==a)try{yield G._remove(D)}catch($){}});return function(G){return B.apply(this,arguments)}}())),new Ed(a,r,s)):new Ed(a,r,s)})()}}function bw(i){const r=i.toLowerCase();if(r.includes("opera/")||r.includes("opr/")||r.includes("opios/"))return"Opera";if(function(i=(0,ir.z$)()){return/iemobile/i.test(i)}(r))return"IEMobile";if(r.includes("msie")||r.includes("trident/"))return"IE";if(r.includes("edge/"))return"Edge";if(function(i=(0,ir.z$)()){return/firefox\//i.test(i)}(r))return"Firefox";if(r.includes("silk/"))return"Silk";if(function(i=(0,ir.z$)()){return/blackberry/i.test(i)}(r))return"Blackberry";if(function(i=(0,ir.z$)()){return/webos/i.test(i)}(r))return"Webos";if(function(i=(0,ir.z$)()){const r=i.toLowerCase();return r.includes("safari/")&&!r.includes("chrome/")&&!r.includes("crios/")&&!r.includes("android")}(r))return"Safari";if((r.includes("chrome/")||function(i=(0,ir.z$)()){return/crios\//i.test(i)}(r))&&!r.includes("edge/"))return"Chrome";if(function(i=(0,ir.z$)()){return/android/i.test(i)}(r))return"Android";{const s=i.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==s?void 0:s.length))return s[1]}return"Other"}function Kv(i,r=[]){let e;switch(i){case"Browser":e=bw((0,ir.z$)());break;case"Worker":e=`${bw((0,ir.z$)())}-${i}`;break;default:e=i}const s=r.length?r.join(","):"FirebaseCore-web";return`${e}/JsCore/${ms.Jn}/${s}`}class Td{constructor(r,e){this.app=r,this.config=e,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cw(this),this.idTokenSubscription=new Cw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Cd,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=r.name,this.clientVersion=e.sdkClientVersion}_initializeWithPersistence(r,e){var s=this;return e&&(this._popupRedirectResolver=Ca(e)),this._initializationPromise=this.queue(Yn(function*(){var o;s._deleted||(s.persistenceManager=yield Ed.create(s,r),!s._deleted&&((null===(o=s._popupRedirectResolver)||void 0===o?void 0:o._shouldInitProactively)&&(yield s._popupRedirectResolver._initialize(s)),yield s.initializeCurrentUser(e),!s._deleted&&(s._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var r=this;return Yn(function*(){if(r._deleted)return;const e=yield r.assertedPersistence.getCurrentUser();if(r.currentUser||e){if(r.currentUser&&e&&r.currentUser.uid===e.uid)return r._currentUser._assign(e),void(yield r.currentUser.getIdToken());yield r._updateCurrentUser(e)}})()}initializeCurrentUser(r){var e=this;return Yn(function*(){var s;let o=yield e.assertedPersistence.getCurrentUser();if(r&&e.config.authDomain){yield e.getOrInitRedirectPersistenceManager();const a=null===(s=e.redirectUser)||void 0===s?void 0:s._redirectEventId,D=null==o?void 0:o._redirectEventId,k=yield e.tryRedirectSignIn(r);(!a||a===D)&&(null==k?void 0:k.user)&&(o=k.user)}return o?o._redirectEventId?(xn(e._popupRedirectResolver,e,"argument-error"),yield e.getOrInitRedirectPersistenceManager(),e.redirectUser&&e.redirectUser._redirectEventId===o._redirectEventId?e.directlySetCurrentUser(o):e.reloadAndSetCurrentUserOrClear(o)):e.reloadAndSetCurrentUserOrClear(o):e.directlySetCurrentUser(null)})()}tryRedirectSignIn(r){var e=this;return Yn(function*(){let s=null;try{s=yield e._popupRedirectResolver._completeRedirectFn(e,r,!0)}catch(o){yield e._setRedirectUser(null)}return s})()}reloadAndSetCurrentUserOrClear(r){var e=this;return Yn(function*(){try{yield Th(r)}catch(s){if("auth/network-request-failed"!==s.code)return e.directlySetCurrentUser(null)}return e.directlySetCurrentUser(r)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}()}_delete(){var r=this;return Yn(function*(){r._deleted=!0})()}updateCurrentUser(r){var e=this;return Yn(function*(){const s=r?(0,ir.m9)(r):null;return s&&xn(s.auth.config.apiKey===e.config.apiKey,e,"invalid-user-token"),e._updateCurrentUser(s&&s._clone(e))})()}_updateCurrentUser(r){var e=this;return Yn(function*(){if(!e._deleted)return r&&xn(e.tenantId===r.tenantId,e,"tenant-id-mismatch"),e.queue(Yn(function*(){yield e.directlySetCurrentUser(r),e.notifyAuthListeners()}))})()}signOut(){var r=this;return Yn(function*(){return(r.redirectPersistenceManager||r._popupRedirectResolver)&&(yield r._setRedirectUser(null)),r._updateCurrentUser(null)})()}setPersistence(r){var e=this;return this.queue(Yn(function*(){yield e.assertedPersistence.setPersistence(Ca(r))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(r){this._errorFactory=new ir.LL("auth","Firebase",r())}onAuthStateChanged(r,e,s){return this.registerStateListener(this.authStateSubscription,r,e,s)}onIdTokenChanged(r,e,s){return this.registerStateListener(this.idTokenSubscription,r,e,s)}toJSON(){var r;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(r=this._currentUser)||void 0===r?void 0:r.toJSON()}}_setRedirectUser(r,e){var s=this;return Yn(function*(){const o=yield s.getOrInitRedirectPersistenceManager(e);return null===r?o.removeCurrentUser():o.setCurrentUser(r)})()}getOrInitRedirectPersistenceManager(r){var e=this;return Yn(function*(){if(!e.redirectPersistenceManager){const s=r&&Ca(r)||e._popupRedirectResolver;xn(s,e,"argument-error"),e.redirectPersistenceManager=yield Ed.create(e,[Ca(s._redirectPersistence)],"redirectUser"),e.redirectUser=yield e.redirectPersistenceManager.getCurrentUser()}return e.redirectPersistenceManager})()}_redirectUserForId(r){var e=this;return Yn(function*(){var s,o;return e._isInitialized&&(yield e.queue(Yn(function*(){}))),(null===(s=e._currentUser)||void 0===s?void 0:s._redirectEventId)===r?e._currentUser:(null===(o=e.redirectUser)||void 0===o?void 0:o._redirectEventId)===r?e.redirectUser:null})()}_persistUserIfCurrent(r){var e=this;return Yn(function*(){if(r===e.currentUser)return e.queue(Yn(function*(){return e.directlySetCurrentUser(r)}))})()}_notifyListenersIfCurrent(r){r===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=null!==(e=null===(r=this.currentUser)||void 0===r?void 0:r.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(r,e,s,o){if(this._deleted)return()=>{};const a="function"==typeof e?e:e.next.bind(e),D=this._isInitialized?Promise.resolve():this._initializationPromise;return xn(D,this,"internal-error"),D.then(()=>a(this.currentUser)),"function"==typeof e?r.addObserver(e,s,o):r.addObserver(e)}directlySetCurrentUser(r){var e=this;return Yn(function*(){e.currentUser&&e.currentUser!==r&&(e._currentUser._stopProactiveRefresh(),r&&e.isProactiveRefreshEnabled&&r._startProactiveRefresh()),e.currentUser=r,r?yield e.assertedPersistence.setCurrentUser(r):yield e.assertedPersistence.removeCurrentUser()})()}queue(r){return this.operations=this.operations.then(r,r),this.operations}get assertedPersistence(){return xn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(r){!r||this.frameworks.includes(r)||(this.frameworks.push(r),this.frameworks.sort(),this.clientVersion=Kv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}class Cw{constructor(r){this.auth=r,this.observer=null,this.addObserver=(0,ir.ne)(e=>this.observer=e)}get next(){return xn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}var i;new WeakMap,Math.floor(1e6*Math.random()),new Eh(3e4,6e4),new Eh(2e3,1e4),new Map,new Eh(3e4,6e4),new Eh(5e3,15e3),new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);class _C{constructor(r){this.auth=r,this.internalListeners=new Map}getUid(){var r;return this.assertAuthConfigured(),(null===(r=this.auth.currentUser)||void 0===r?void 0:r.uid)||null}getToken(r){var e=this;return Yn(function*(){return e.assertAuthConfigured(),yield e.auth._initializationPromise,e.auth.currentUser?{accessToken:yield e.auth.currentUser.getIdToken(r)}:null})()}addAuthTokenListener(r){if(this.assertAuthConfigured(),this.internalListeners.has(r))return;const e=this.auth.onIdTokenChanged(s=>{var o;r((null===(o=s)||void 0===o?void 0:o.stsTokenManager.accessToken)||null)});this.internalListeners.set(r,e),this.updateProactiveRefresh()}removeAuthTokenListener(r){this.assertAuthConfigured();const e=this.internalListeners.get(r);!e||(this.internalListeners.delete(r),e(),this.updateProactiveRefresh())}assertAuthConfigured(){xn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}i="Browser",(0,ms.Xd)(new Os.wA("auth",(r,{options:e})=>{const s=r.getProvider("app").getImmediate(),{apiKey:o,authDomain:a}=s.options;return(D=>{xn(o&&!o.includes(":"),"invalid-api-key",{appName:D.name}),xn(!(null==a?void 0:a.includes(":")),"argument-error",{appName:D.name});const k={apiKey:o,authDomain:a,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kv(i)},N=new Td(D,k);return function(i,r){const e=(null==r?void 0:r.persistence)||[],s=(Array.isArray(e)?e:[e]).map(Ca);(null==r?void 0:r.errorMap)&&i._updateErrorMap(r.errorMap),i._initializeWithPersistence(s,null==r?void 0:r.popupRedirectResolver)}(N,e),N})(s)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,e,s)=>{r.getProvider("auth-internal").initialize()})),(0,ms.Xd)(new Os.wA("auth-internal",r=>{const e=function(i){return(0,ir.m9)(i)}(r.getProvider("auth").getImmediate());return new _C(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ms.KN)("@firebase/auth","0.17.0",void 0);class Uy{constructor(){return(0,ue.vb)("auth")}}var nt=function(i,r){return(nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,s){e.__proto__=s}||function(e,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])})(i,r)};function kt(i){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&i[r],s=0;if(e)return e.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}var Lt,Bt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},un=un||{},Kt=Bt||self;function Vn(){}function tr(i){var r=typeof i;return"array"==(r="object"!=r?r:i?Array.isArray(i)?"array":r:"null")||"object"==r&&"number"==typeof i.length}function cr(i){var r=typeof i;return"object"==r&&null!=i||"function"==r}var pr="closure_uid_"+(1e9*Math.random()>>>0),oi=0;function mi(i,r,e){return i.call.apply(i.bind,arguments)}function dl(i,r,e){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,s),i.apply(r,o)}}return function(){return i.apply(r,arguments)}}function Ni(i,r,e){return(Ni=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?mi:dl).apply(null,arguments)}function ta(i,r){var e=Array.prototype.slice.call(arguments,1);return function(){var s=e.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function ri(i,r){function e(){}e.prototype=r.prototype,i.Z=r.prototype,i.prototype=new e,i.prototype.constructor=i,i.Vb=function(s,o,a){for(var D=Array(arguments.length-2),k=2;k<arguments.length;k++)D[k-2]=arguments[k];return r.prototype[o].apply(s,D)}}function js(){this.s=this.s,this.o=this.o}var DC={};js.prototype.s=!1,js.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function(i){return Object.prototype.hasOwnProperty.call(i,pr)&&i[pr]||(i[pr]=++oi)}(this);delete DC[i]}},js.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var x5=Array.prototype.indexOf?function(i,r){return Array.prototype.indexOf.call(i,r,void 0)}:function(i,r){if("string"==typeof i)return"string"!=typeof r||1!=r.length?-1:i.indexOf(r,0);for(var e=0;e<i.length;e++)if(e in i&&i[e]===r)return e;return-1},k5=Array.prototype.forEach?function(i,r,e){Array.prototype.forEach.call(i,r,e)}:function(i,r,e){for(var s=i.length,o="string"==typeof i?i.split(""):i,a=0;a<s;a++)a in o&&r.call(e,o[a],a,i)};function R2(i){return Array.prototype.concat.apply([],arguments)}function TC(i){var r=i.length;if(0<r){for(var e=Array(r),s=0;s<r;s++)e[s]=i[s];return e}return[]}function HD(i){return/^[\s\xa0]*$/.test(i)}var Ua,O2=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function vo(i,r){return-1!=i.indexOf(r)}function UD(i,r){return i<r?-1:i>r?1:0}e:{var N2=Kt.navigator;if(N2){var GD=N2.userAgent;if(GD){Ua=GD;break e}}Ua=""}function a_(i,r,e){for(var s in i)r.call(e,i[s],s,i)}function P2(i){var r={};for(var e in i)r[e]=i[e];return r}var qD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F2(i,r){for(var e,s,o=1;o<arguments.length;o++){for(e in s=arguments[o])i[e]=s[e];for(var a=0;a<qD.length;a++)e=qD[a],Object.prototype.hasOwnProperty.call(s,e)&&(i[e]=s[e])}}function jD(i){return jD[" "](i),i}jD[" "]=Vn;var KD,I5=vo(Ua,"Opera"),l_=vo(Ua,"Trident")||vo(Ua,"MSIE"),YD=vo(Ua,"Edge"),WD=YD||l_,$D=vo(Ua,"Gecko")&&!(vo(Ua.toLowerCase(),"webkit")&&!vo(Ua,"Edge"))&&!(vo(Ua,"Trident")||vo(Ua,"MSIE"))&&!vo(Ua,"Edge"),L2=vo(Ua.toLowerCase(),"webkit")&&!vo(Ua,"Edge");function xC(){var i=Kt.document;return i?i.documentMode:void 0}e:{var Yy="",ZD=function(){var i=Ua;return $D?/rv:([^\);]+)(\)|;)/.exec(i):YD?/Edge\/([\d\.]+)/.exec(i):l_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):L2?/WebKit\/(\S+)/.exec(i):I5?/(?:Version)[ \/]?(\S+)/.exec(i):void 0}();if(ZD&&(Yy=ZD?ZD[1]:""),l_){var B2=xC();if(null!=B2&&B2>parseFloat(Yy)){KD=String(B2);break e}}KD=Yy}var Wy={};function R5(){return r=Wy,Object.prototype.hasOwnProperty.call(r,9)?r[9]:r[9]=function(){for(var i=0,r=O2(String(KD)).split("."),e=O2("9").split("."),s=Math.max(r.length,e.length),o=0;0==i&&o<s;o++){var a=r[o]||"",D=e[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],D=/(\d*)(\D*)(.*)/.exec(D)||["","","",""],0==a[0].length&&0==D[0].length)break;i=UD(0==a[1].length?0:parseInt(a[1],10),0==D[1].length?0:parseInt(D[1],10))||UD(0==a[2].length,0==D[2].length)||UD(a[2],D[2]),a=a[3],D=D[3]}while(0==i)}return 0<=i}();var r}var O5=Kt.document&&l_&&(xC()||parseInt(KD,10))||void 0,JD=function(){if(!Kt.addEventListener||!Object.defineProperty)return!1;var i=!1,r=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Kt.addEventListener("test",Vn,r),Kt.removeEventListener("test",Vn,r)}catch(e){}return i}();function na(i,r){this.type=i,this.g=this.target=r,this.defaultPrevented=!1}function c_(i,r){if(na.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var e=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=r,r=i.relatedTarget){if($D){e:{try{jD(r.nodeName);var o=!0;break e}catch(a){}o=!1}o||(r=null)}}else"mouseover"==e?r=i.fromElement:"mouseout"==e&&(r=i.toElement);this.relatedTarget=r,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:NB[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&c_.Z.h.call(this)}}na.prototype.h=function(){this.defaultPrevented=!0},ri(c_,na);var NB={2:"touch",3:"pen",4:"mouse"};c_.prototype.h=function(){c_.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Ky="closure_listenable_"+(1e6*Math.random()|0),QD=0;function XD(i,r,e,s,o){this.listener=i,this.proxy=null,this.src=r,this.type=e,this.capture=!!s,this.ia=o,this.key=++QD,this.ca=this.fa=!1}function Zy(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Jy(i){this.src=i,this.g={},this.h=0}function Qy(i,r){var e=r.type;if(e in i.g){var a,s=i.g[e],o=x5(s,r);(a=0<=o)&&Array.prototype.splice.call(s,o,1),a&&(Zy(r),0==i.g[e].length&&(delete i.g[e],i.h--))}}function AC(i,r,e,s){for(var o=0;o<i.length;++o){var a=i[o];if(!a.ca&&a.listener==r&&a.capture==!!e&&a.ia==s)return o}return-1}Jy.prototype.add=function(i,r,e,s,o){var a=i.toString();(i=this.g[a])||(i=this.g[a]=[],this.h++);var D=AC(i,r,s,o);return-1<D?(r=i[D],e||(r.fa=!1)):((r=new XD(r,this.src,a,!!s,o)).fa=e,i.push(r)),r};var Xy="closure_lm_"+(1e6*Math.random()|0),eb={};function IC(i,r,e,s,o){if(s&&s.once)return eT(i,r,e,s,o);if(Array.isArray(r)){for(var a=0;a<r.length;a++)IC(i,r[a],e,s,o);return null}return e=tb(e),i&&i[Ky]?i.N(r,e,cr(s)?!!s.capture:!!s,o):V2(i,r,e,!1,s,o)}function V2(i,r,e,s,o,a){if(!r)throw Error("Invalid event type");var D=cr(o)?!!o.capture:!!o,k=NC(i);if(k||(i[Xy]=k=new Jy(i)),(e=k.add(r,e,s,D,a)).proxy)return e;if(s=function(){var r=U2;return function i(e){return r.call(i.src,i.listener,e)}}(),e.proxy=s,s.src=i,s.listener=e,i.addEventListener)JD||(o=D),void 0===o&&(o=!1),i.addEventListener(r.toString(),s,o);else if(i.attachEvent)i.attachEvent(H2(r.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return e}function eT(i,r,e,s,o){if(Array.isArray(r)){for(var a=0;a<r.length;a++)eT(i,r[a],e,s,o);return null}return e=tb(e),i&&i[Ky]?i.O(r,e,cr(s)?!!s.capture:!!s,o):V2(i,r,e,!0,s,o)}function RC(i,r,e,s,o){if(Array.isArray(r))for(var a=0;a<r.length;a++)RC(i,r[a],e,s,o);else s=cr(s)?!!s.capture:!!s,e=tb(e),i&&i[Ky]?(i=i.i,(r=String(r).toString())in i.g&&-1<(e=AC(a=i.g[r],e,s,o))&&(Zy(a[e]),Array.prototype.splice.call(a,e,1),0==a.length&&(delete i.g[r],i.h--))):i&&(i=NC(i))&&(r=i.g[r.toString()],i=-1,r&&(i=AC(r,e,s,o)),(e=-1<i?r[i]:null)&&OC(e))}function OC(i){if("number"!=typeof i&&i&&!i.ca){var r=i.src;if(r&&r[Ky])Qy(r.i,i);else{var e=i.type,s=i.proxy;r.removeEventListener?r.removeEventListener(e,s,i.capture):r.detachEvent?r.detachEvent(H2(e),s):r.addListener&&r.removeListener&&r.removeListener(s),(e=NC(r))?(Qy(e,i),0==e.h&&(e.src=null,r[Xy]=null)):Zy(i)}}}function H2(i){return i in eb?eb[i]:eb[i]="on"+i}function U2(i,r){if(i.ca)i=!0;else{r=new c_(r,this);var e=i.listener,s=i.ia||i.src;i.fa&&OC(i),i=e.call(s,r)}return i}function NC(i){return(i=i[Xy])instanceof Jy?i:null}var PC="__closure_events_fn_"+(1e9*Math.random()>>>0);function tb(i){return"function"==typeof i?i:(i[PC]||(i[PC]=function(r){return i.handleEvent(r)}),i[PC])}function Oo(){js.call(this),this.i=new Jy(this),this.P=this,this.I=null}function ra(i,r){var e,s=i.I;if(s)for(e=[];s;s=s.I)e.push(s);if(i=i.P,s=r.type||r,"string"==typeof r)r=new na(r,i);else if(r instanceof na)r.target=r.target||i;else{var o=r;F2(r=new na(s,i),o)}if(o=!0,e)for(var a=e.length-1;0<=a;a--){var D=r.g=e[a];o=nb(D,s,!0,r)&&o}if(o=nb(D=r.g=i,s,!0,r)&&o,o=nb(D,s,!1,r)&&o,e)for(a=0;a<e.length;a++)o=nb(D=r.g=e[a],s,!1,r)&&o}function nb(i,r,e,s){if(!(r=i.i.g[String(r)]))return!0;r=r.concat();for(var o=!0,a=0;a<r.length;++a){var D=r[a];if(D&&!D.ca&&D.capture==e){var k=D.listener,N=D.ia||D.src;D.fa&&Qy(i.i,D),o=!1!==k.call(N,s)&&o}}return o&&!s.defaultPrevented}ri(Oo,js),Oo.prototype[Ky]=!0,Oo.prototype.removeEventListener=function(i,r,e,s){RC(this,i,r,e,s)},Oo.prototype.M=function(){if(Oo.Z.M.call(this),this.i){var r,i=this.i;for(r in i.g){for(var e=i.g[r],s=0;s<e.length;s++)Zy(e[s]);delete i.g[r],i.h--}}this.I=null},Oo.prototype.N=function(i,r,e,s){return this.i.add(String(i),r,!1,e,s)},Oo.prototype.O=function(i,r,e,s){return this.i.add(String(i),r,!0,e,s)};var FC=Kt.JSON.stringify;function G2(){var i=yo,r=null;return i.g&&(r=i.g,i.g=i.g.next,i.g||(i.h=null),r.next=null),r}var rT,q2=function(){function i(){this.h=this.g=null}return i.prototype.add=function(r,e){var s=tT.get();s.set(r,e),this.h?this.h.next=s:this.g=s,this.h=s},i}(),tT=new(function(){function i(r,e){this.i=r,this.j=e,this.h=0,this.g=null}return i.prototype.get=function(){var r;return 0<this.h?(this.h--,this.g=(r=this.g).next,r.next=null):r=this.i(),r},i}())(function(){return new j2},function(i){return i.reset()}),j2=function(){function i(){this.next=this.g=this.h=null}return i.prototype.set=function(r,e){this.h=r,this.g=e,this.next=null},i.prototype.reset=function(){this.next=this.g=this.h=null},i}();function PB(i){Kt.setTimeout(function(){throw i},0)}function nT(i,r){rT||function(){var i=Kt.Promise.resolve(void 0);rT=function(){i.then(W2)}}(),iT||(rT(),iT=!0),yo.add(i,r)}var iT=!1,yo=new q2;function W2(){for(var i;i=G2();){try{i.h.call(i.g)}catch(e){PB(e)}var r=tT;r.j(i),100>r.h&&(r.h++,i.next=r.g,r.g=i)}iT=!1}function LC(i,r){Oo.call(this),this.h=i||1,this.g=r||Kt,this.j=Ni(this.kb,this),this.l=Date.now()}function sT(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function BC(i,r,e){if("function"==typeof i)e&&(i=Ni(i,e));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Ni(i.handleEvent,i)}return 2147483647<Number(r)?-1:Kt.setTimeout(i,r||0)}function $2(i){i.g=BC(function(){i.g=null,i.i&&(i.i=!1,$2(i))},i.j);var r=i.h;i.h=null,i.m.apply(null,r)}ri(LC,Oo),(Lt=LC.prototype).da=!1,Lt.S=null,Lt.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ra(this,"tick"),this.da&&(sT(this),this.start()))}},Lt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Lt.M=function(){LC.Z.M.call(this),sT(this),delete this.g};var K2=function(i){function r(e,s){var o=i.call(this)||this;return o.m=e,o.j=s,o.h=null,o.i=!1,o.g=null,o}return function(i,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function e(){this.constructor=i}nt(i,r),i.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}(r,i),r.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:$2(this)},r.prototype.M=function(){i.prototype.M.call(this),this.g&&(Kt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},r}(js);function u_(i){js.call(this),this.h=i,this.g={}}ri(u_,js);var Km=[];function Z2(i,r,e,s){Array.isArray(e)||(e&&(Km[0]=e.toString()),e=Km);for(var o=0;o<e.length;o++){var a=IC(r,e[o],s||i.handleEvent,!1,i.h||i);if(!a)break;i.g[a.key]=a}}function J2(i){a_(i.g,function(r,e){this.g.hasOwnProperty(e)&&OC(r)},i),i.g={}}function rb(){this.g=!0}function ib(i,r,e,s){i.info(function(){return"XMLHTTP TEXT ("+r+"): "+function(i,r){if(!i.g)return r;if(!r)return null;try{var e=JSON.parse(r);if(e)for(i=0;i<e.length;i++)if(Array.isArray(e[i])){var s=e[i];if(!(2>s.length)){var o=s[1];if(Array.isArray(o)&&!(1>o.length)){var a=o[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var D=1;D<o.length;D++)o[D]=""}}}return FC(e)}catch(k){return r}}(i,e)+(s?" "+s:"")})}u_.prototype.M=function(){u_.Z.M.call(this),J2(this)},u_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rb.prototype.Aa=function(){this.g=!1},rb.prototype.info=function(){};var Ga={},X2=null;function VC(){return X2=X2||new Oo}function Nu(i){na.call(this,Ga.Ma,i)}function hl(i){var r=VC();ra(r,new Nu(r,i))}function $c(i,r){na.call(this,Ga.STAT_EVENT,i),this.stat=r}function qa(i){var r=VC();ra(r,new $c(r,i))}function lT(i,r){na.call(this,Ga.Na,i),this.size=r}function sb(i,r){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Kt.setTimeout(function(){i()},r)}Ga.Ma="serverreachability",ri(Nu,na),Ga.STAT_EVENT="statevent",ri($c,na),Ga.Na="timingevent",ri(lT,na);var zC={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9};function cT(){}cT.prototype.h=null;var GC,ob={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function UC(){na.call(this,"d")}function uT(){na.call(this,"c")}function ab(){}function cp(i,r,e,s){this.l=i,this.j=r,this.m=e,this.X=s||1,this.V=new u_(this),this.P=nI,this.W=new LC(i=WD?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new tI}function tI(){this.i=null,this.g="",this.h=!1}ri(UC,na),ri(uT,na),ri(ab,cT),ab.prototype.g=function(){return new XMLHttpRequest},ab.prototype.i=function(){return{}},GC=new ab;var nI=45e3,qC={},h_={};function f_(i,r,e){i.K=1,i.v=KC(jh(r)),i.s=e,i.U=!0,jC(i,null)}function jC(i,r){i.F=Date.now(),p_(i),i.A=jh(i.v);var e=i.A,s=i.X;Array.isArray(s)||(s=[String(s)]),fI(e.h,"t",s),i.C=0,e=i.l.H,i.h=new tI,i.g=II(i.l,e?r:null,!i.s),0<i.O&&(i.L=new K2(Ni(i.Ia,i,i.g),i.O)),Z2(i.V,i.g,"readystatechange",i.gb),r=i.H?P2(i.H):{},i.s?(i.u||(i.u="POST"),r["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,r)):(i.u="GET",i.g.ea(i.A,i.u,null,r)),hl(1),function(i,r,e,s,o,a){i.info(function(){if(i.g)if(a)for(var D="",k=a.split("&"),N=0;N<k.length;N++){var B=k[N].split("=");if(1<B.length){var G=B[0];B=B[1];var $=G.split("_");D=2<=$.length&&"type"==$[1]?D+(G+"=")+B+"&":D+(G+"=redacted&")}}else D=null;else D=a;return"XMLHTTP REQ ("+s+") [attempt "+o+"]: "+r+"\n"+e+"\n"+D})}(i.j,i.u,i.A,i.m,i.X,i.s)}function dT(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function hT(i,r,e){for(var o,s=!0;!i.I&&i.C<e.length;){if((o=rI(i,e))==h_){4==r&&(i.o=4,qa(14),s=!1),ib(i.j,i.m,null,"[Incomplete Response]");break}if(o==qC){i.o=4,qa(15),ib(i.j,i.m,e,"[Invalid Chunk]"),s=!1;break}ib(i.j,i.m,o,null),pT(i,o)}dT(i)&&o!=h_&&o!=qC&&(i.h.g="",i.C=0),4!=r||0!=e.length||i.h.h||(i.o=1,qa(16),s=!1),i.i=i.i&&s,s?0<e.length&&!i.aa&&(i.aa=!0,(r=i.l).g==i&&r.$&&!r.L&&(r.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),TI(r),r.L=!0,qa(11))):(ib(i.j,i.m,e,"[Invalid Chunked Response]"),up(i),m_(i))}function rI(i,r){var e=i.C,s=r.indexOf("\n",e);return-1==s?h_:(e=Number(r.substring(e,s)),isNaN(e)?qC:(s+=1)+e>r.length?h_:(r=r.substr(s,e),i.C=s+e,r))}function p_(i){i.Y=Date.now()+i.P,fT(i,i.P)}function fT(i,r){if(null!=i.B)throw Error("WatchDog timer not null");i.B=sb(Ni(i.eb,i),r)}function lb(i){i.B&&(Kt.clearTimeout(i.B),i.B=null)}function m_(i){0==i.l.G||i.I||xI(i.l,i)}function up(i){lb(i);var r=i.L;r&&"function"==typeof r.na&&r.na(),i.L=null,sT(i.W),J2(i.V),i.g&&(r=i.g,i.g=null,r.abort(),r.na())}function pT(i,r){try{var e=i.l;if(0!=e.G&&(e.g==i||fr(e.i,i)))if(e.I=i.N,!i.J&&fr(e.i,i)&&3==e.G){try{var s=e.Ca.g.parse(r)}catch(mt){s=null}if(Array.isArray(s)&&3==s.length){var o=s;if(0==o[0])e:if(e.u)e.ta=o[1],0<e.ta-e.U&&37500>o[2]&&e.N&&0==e.A&&!e.v&&(e.v=sb(Ni(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<i.F))break e;eg(e),gb(e)}DI(e),qa(18)}if(1>=V5(e.i)&&e.ka){try{e.ka()}catch(mt){}e.ka=void 0}}else hp(e,11)}else if((i.J||e.g==i)&&eg(e),!HD(r))for(o=e.Ca.g.parse(r),r=0;r<o.length;r++){var a=o[r];if(e.U=a[0],a=a[1],2==e.G)if("c"==a[0]){e.J=a[1],e.la=a[2];var D=a[3];null!=D&&(e.ma=D,e.h.info("VER="+e.ma));var k=a[4];null!=k&&(e.za=k,e.h.info("SVER="+e.za));var N=a[5];null!=N&&"number"==typeof N&&0<N&&(e.K=s=1.5*N,e.h.info("backChannelRequestTimeoutMs_="+s)),s=e;var B=i.g;if(B){var G=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(G){var $=s.i;!$.g&&(vo(G,"spdy")||vo(G,"quic")||vo(G,"h2"))&&($.j=$.l,$.g=new Set,$.h&&(bT($,$.h),$.h=null))}if(s.D){var re=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;re&&(s.sa=re,Es(s.F,s.D,re))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-i.F,e.h.info("Handshake RTT: "+e.O+"ms"));var oe=i;if((s=e).oa=AI(s,s.H?s.la:null,s.W),oe.J){mI(s.i,oe);var _e=oe,ze=s.K;ze&&_e.setTimeout(ze),_e.B&&(lb(_e),p_(_e)),s.g=oe}else j5(s);0<e.l.length&&eS(e)}else"stop"!=a[0]&&"close"!=a[0]||hp(e,7);else 3==e.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?hp(e,7):CT(e):"noop"!=a[0]&&e.j&&e.j.wa(a),e.A=0)}hl(4)}catch(mt){}}function mT(i,r){if(i.forEach&&"function"==typeof i.forEach)i.forEach(r,void 0);else if(tr(i)||"string"==typeof i)k5(i,r,void 0);else{if(i.T&&"function"==typeof i.T)var e=i.T();else if(i.R&&"function"==typeof i.R)e=void 0;else if(tr(i)||"string"==typeof i){e=[];for(var s=i.length,o=0;o<s;o++)e.push(o)}else for(o in e=[],s=0,i)e[s++]=o;o=(s=function(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(tr(i)){for(var r=[],e=i.length,s=0;s<e;s++)r.push(i[s]);return r}for(s in r=[],e=0,i)r[e++]=i[s];return r}(i)).length;for(var a=0;a<o;a++)r.call(void 0,s[a],e&&e[a],i)}}function g_(i,r){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var s=0;s<e;s+=2)this.set(arguments[s],arguments[s+1])}else if(i)if(i instanceof g_)for(e=i.T(),s=0;s<e.length;s++)this.set(e[s],i.get(e[s]));else for(s in i)this.set(s,i[s])}function gT(i){if(i.i!=i.g.length){for(var r=0,e=0;r<i.g.length;){var s=i.g[r];Zm(i.h,s)&&(i.g[e++]=s),r++}i.g.length=e}if(i.i!=i.g.length){var o={};for(e=r=0;r<i.g.length;)Zm(o,s=i.g[r])||(i.g[e++]=s,o[s]=1),r++;i.g.length=e}}function Zm(i,r){return Object.prototype.hasOwnProperty.call(i,r)}(Lt=cp.prototype).setTimeout=function(i){this.P=i},Lt.gb=function(i){i=i.target;var r=this.L;r&&3==Fd(i)?r.l():this.Ia(i)},Lt.Ia=function(i){try{if(i==this.g)e:{var r=Fd(this.g),e=this.g.Da(),s=this.g.ba();if(!(3>r)&&(3!=r||WD||this.g&&(this.h.h||this.g.ga()||CI(this.g)))){this.I||4!=r||7==e||hl(8==e||0>=s?3:2),lb(this);var o=this.g.ba();this.N=o;t:if(dT(this)){var a=CI(this.g);i="";var D=a.length,k=4==Fd(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){up(this),m_(this);var N="";break t}this.h.i=new Kt.TextDecoder}for(e=0;e<D;e++)this.h.h=!0,i+=this.h.i.decode(a[e],{stream:k&&e==D-1});a.splice(0,D),this.h.g+=i,this.C=0,N=this.h.g}else N=this.g.ga();if(this.i=200==o,function(i,r,e,s,o,a,D){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+o+"]: "+r+"\n"+e+"\n"+a+" "+D})}(this.j,this.u,this.A,this.m,this.X,r,o),this.i){if(this.$&&!this.J){t:{if(this.g){var B,G=this.g;if((B=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!HD(B)){var $=B;break t}}$=null}if(!(o=$)){this.i=!1,this.o=3,qa(12),up(this),m_(this);break e}ib(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,pT(this,o)}this.U?(hT(this,r,N),WD&&this.i&&3==r&&(Z2(this.V,this.W,"tick",this.fb),this.W.start())):(ib(this.j,this.m,N,null),pT(this,N)),4==r&&up(this),this.i&&!this.I&&(4==r?xI(this.l,this):(this.i=!1,p_(this)))}else 400==o&&0<N.indexOf("Unknown SID")?(this.o=3,qa(12)):(this.o=0,qa(13)),up(this),m_(this)}}}catch(re){}},Lt.fb=function(){if(this.g){var i=Fd(this.g),r=this.g.ga();this.C<r.length&&(lb(this),hT(this,i,r),this.i&&4!=i&&p_(this))}},Lt.cancel=function(){this.I=!0,up(this)},Lt.eb=function(){this.B=null;var i=Date.now();0<=i-this.Y?(function(i,r){i.info(function(){return"TIMEOUT: "+r})}(this.j,this.A),2!=this.K&&(hl(3),qa(17)),up(this),this.o=2,m_(this)):fT(this,this.Y-i)},(Lt=g_.prototype).R=function(){gT(this);for(var i=[],r=0;r<this.g.length;r++)i.push(this.h[this.g[r]]);return i},Lt.T=function(){return gT(this),this.g.concat()},Lt.get=function(i,r){return Zm(this.h,i)?this.h[i]:r},Lt.set=function(i,r){Zm(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=r},Lt.forEach=function(i,r){for(var e=this.T(),s=0;s<e.length;s++){var o=e[s],a=this.get(o);i.call(r,a,o,this)}};var iI=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Jm(i,r){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Jm){this.g=void 0!==r?r:i.g,YC(this,i.j),this.s=i.s,WC(this,i.i),$C(this,i.m),this.l=i.l,r=i.h;var e=new Qm;e.i=r.i,r.g&&(e.g=new g_(r.g),e.h=r.h),sI(this,e),this.o=i.o}else i&&(e=String(i).match(iI))?(this.g=!!r,YC(this,e[1]||"",!0),this.s=__(e[2]||""),WC(this,e[3]||"",!0),$C(this,e[4]),this.l=__(e[5]||"",!0),sI(this,e[6]||"",!0),this.o=__(e[7]||"")):(this.g=!!r,this.h=new Qm(null,this.g))}function jh(i){return new Jm(i)}function YC(i,r,e){i.j=e?__(r,!0):r,i.j&&(i.j=i.j.replace(/:$/,""))}function WC(i,r,e){i.i=e?__(r,!0):r}function $C(i,r){if(r){if(r=Number(r),isNaN(r)||0>r)throw Error("Bad port number "+r);i.m=r}else i.m=null}function sI(i,r,e){r instanceof Qm?(i.h=r,function(i,r){r&&!i.j&&(Pd(i),i.i=null,i.g.forEach(function(e,s){var o=s.toLowerCase();s!=o&&(dp(this,s),fI(this,o,e))},i)),i.j=r}(i.h,i.g)):(e||(r=v_(r,uI)),i.h=new Qm(r,i.g))}function Es(i,r,e){i.h.set(r,e)}function KC(i){return Es(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function __(i,r){return i?r?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function v_(i,r,e){return"string"==typeof i?(i=encodeURI(i).replace(r,aI),e&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function aI(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Jm.prototype.toString=function(){var i=[],r=this.j;r&&i.push(v_(r,_T,!0),":");var e=this.i;return(e||"file"==r)&&(i.push("//"),(r=this.s)&&i.push(v_(r,_T,!0),"@"),i.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&i.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&i.push("/"),i.push(v_(e,"/"==e.charAt(0)?cI:lI,!0))),(e=this.h.toString())&&i.push("?",e),(e=this.o)&&i.push("#",v_(e,dI)),i.join("")};var _T=/[#\/\?@]/g,lI=/[#\?:]/g,cI=/[#\?]/g,uI=/[#\?@]/g,dI=/#/g;function Qm(i,r){this.h=this.g=null,this.i=i||null,this.j=!!r}function Pd(i){i.g||(i.g=new g_,i.h=0,i.i&&function(i,r){if(i){i=i.split("&");for(var e=0;e<i.length;e++){var s=i[e].indexOf("="),o=null;if(0<=s){var a=i[e].substring(0,s);o=i[e].substring(s+1)}else a=i[e];r(a,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(i.i,function(r,e){i.add(decodeURIComponent(r.replace(/\+/g," ")),e)}))}function dp(i,r){Pd(i),r=Pu(i,r),Zm(i.g.h,r)&&(i.i=null,i.h-=i.g.get(r).length,Zm((i=i.g).h,r)&&(delete i.h[r],i.i--,i.g.length>2*i.i&&gT(i)))}function hI(i,r){return Pd(i),r=Pu(i,r),Zm(i.g.h,r)}function fI(i,r,e){dp(i,r),0<e.length&&(i.i=null,i.g.set(Pu(i,r),TC(e)),i.h+=e.length)}function Pu(i,r){return r=String(r),i.j&&(r=r.toLowerCase()),r}(Lt=Qm.prototype).add=function(i,r){Pd(this),this.i=null,i=Pu(this,i);var e=this.g.get(i);return e||this.g.set(i,e=[]),e.push(r),this.h+=1,this},Lt.forEach=function(i,r){Pd(this),this.g.forEach(function(e,s){k5(e,function(o){i.call(r,o,s,this)},this)},this)},Lt.T=function(){Pd(this);for(var i=this.g.R(),r=this.g.T(),e=[],s=0;s<r.length;s++)for(var o=i[s],a=0;a<o.length;a++)e.push(r[s]);return e},Lt.R=function(i){Pd(this);var r=[];if("string"==typeof i)hI(this,i)&&(r=R2(r,this.g.get(Pu(this,i))));else{i=this.g.R();for(var e=0;e<i.length;e++)r=R2(r,i[e])}return r},Lt.set=function(i,r){return Pd(this),this.i=null,hI(this,i=Pu(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[r]),this.h+=1,this},Lt.get=function(i,r){return i&&0<(i=this.R(i)).length?String(i[0]):r},Lt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],r=this.g.T(),e=0;e<r.length;e++){var s=r[e],o=encodeURIComponent(String(s));s=this.R(s);for(var a=0;a<s.length;a++){var D=o;""!==s[a]&&(D+="="+encodeURIComponent(String(s[a]))),i.push(D)}}return this.i=i.join("&")};var vT=function(r,e){this.h=r,this.g=e};function B5(i){this.l=i||pI,i=Kt.PerformanceNavigationTiming?0<(i=Kt.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Kt.g&&Kt.g.Ea&&Kt.g.Ea()&&Kt.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var pI=10;function yT(i){return!!i.h||!!i.g&&i.g.size>=i.j}function V5(i){return i.h?1:i.g?i.g.size:0}function fr(i,r){return i.h?i.h==r:!!i.g&&i.g.has(r)}function bT(i,r){i.g?i.g.add(r):i.h=r}function mI(i,r){i.h&&i.h==r?i.h=null:i.g&&i.g.has(r)&&i.g.delete(r)}function gI(i){var r,e;if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){var s=i.i;try{for(var o=kt(i.g.values()),a=o.next();!a.done;a=o.next())s=s.concat(a.value.D)}catch(k){r={error:k}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(r)throw r.error}}return s}return TC(i.i)}function y_(){}function z5(){this.g=new y_}function ZC(i,r,e){var s=e||"";try{mT(i,function(o,a){var D=o;cr(o)&&(D=FC(o)),r.push(s+a+"="+encodeURIComponent(D))})}catch(o){throw r.push(s+"type="+encodeURIComponent("_badmap")),o}}function vs(i,r,e,s,o){try{r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null,o(s)}catch(a){}}function QC(i){this.l=i.$b||null,this.j=i.ib||!1}function cb(i,r){Oo.call(this),this.D=i,this.u=r,this.m=void 0,this.readyState=ub,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}B5.prototype.cancel=function(){var i,r;if(this.i=gI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var e=kt(this.g.values()),s=e.next();!s.done;s=e.next())s.value.cancel()}catch(a){i={error:a}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}this.g.clear()}},y_.prototype.stringify=function(i){return Kt.JSON.stringify(i,void 0)},y_.prototype.parse=function(i){return Kt.JSON.parse(i,void 0)},ri(QC,cT),QC.prototype.g=function(){return new cb(this.l,this.j)},QC.prototype.i=function(i){return function(){return i}}({}),ri(cb,Oo);var ub=0;function _I(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function b_(i){i.readyState=4,i.l=null,i.j=null,i.A=null,w_(i)}function w_(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Lt=cb.prototype).open=function(i,r){if(this.readyState!=ub)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=r,this.readyState=1,w_(this)},Lt.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var r={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(r.body=i),(this.D||Kt).fetch(new Request(this.B,r)).then(this.Va.bind(this),this.ha.bind(this))},Lt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,b_(this)),this.readyState=ub},Lt.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,w_(this)),this.g&&(this.readyState=3,w_(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Kt.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_I(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},Lt.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var r=i.value?i.value:new Uint8Array(0);(r=this.A.decode(r,{stream:!i.done}))&&(this.response=this.responseText+=r)}i.done?b_(this):w_(this),3==this.readyState&&_I(this)}},Lt.Ua=function(i){this.g&&(this.response=this.responseText=i,b_(this))},Lt.Ta=function(i){this.g&&(this.response=i,b_(this))},Lt.ha=function(){this.g&&b_(this)},Lt.setRequestHeader=function(i,r){this.v.append(i,r)},Lt.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Lt.getAllResponseHeaders=function(){if(!this.h)return"";for(var i=[],r=this.h.entries(),e=r.next();!e.done;)i.push((e=e.value)[0]+": "+e[1]),e=r.next();return i.join("\r\n")},Object.defineProperty(cb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var vI=Kt.JSON.parse;function io(i){Oo.call(this),this.headers=new g_,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=yI,this.K=this.L=!1}ri(io,Oo);var yI="",H5=/^https?$/i,U5=["POST","PUT"];function G5(i){return"content-type"==i.toLowerCase()}function bI(i,r){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=r,i.m=5,wI(i),fb(i)}function wI(i){i.D||(i.D=!0,ra(i,"complete"),ra(i,"error"))}function hb(i){if(i.h&&void 0!==un&&(!i.C[1]||4!=Fd(i)||2!=i.ba()))if(i.v&&4==Fd(i))BC(i.Fa,0,i);else if(ra(i,"readystatechange"),4==Fd(i)){i.h=!1;try{var s,r=i.ba();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}if(!(s=e)){var o;if(o=0===r){var a=String(i.H).match(iI)[1]||null;if(!a&&Kt.self&&Kt.self.location){var D=Kt.self.location.protocol;a=D.substr(0,D.length-1)}o=!H5.test(a?a.toLowerCase():"")}s=o}if(s)ra(i,"complete"),ra(i,"success");else{i.m=6;try{var k=2<Fd(i)?i.g.statusText:""}catch(N){k=""}i.j=k+" ["+i.ba()+"]",wI(i)}}finally{fb(i)}}}function fb(i,r){if(i.g){wT(i);var e=i.g,s=i.C[0]?Vn:null;i.g=null,i.C=null,r||ra(i,"ready");try{e.onreadystatechange=s}catch(o){}}}function wT(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Kt.clearTimeout(i.A),i.A=null)}function Fd(i){return i.g?i.g.readyState:0}function CI(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case yI:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(r){return null}}function Xm(i,r,e){e:{for(s in e){var s=!1;break e}s=!0}s||(e=function(i){var r="";return a_(i,function(e,s){r+=s,r+=":",r+=e,r+="\r\n"}),r}(e),"string"==typeof i?null!=e&&encodeURIComponent(String(e)):Es(i,r,e))}function mb(i,r,e){return e&&e.internalChannelParams&&e.internalChannelParams[i]||r}function SI(i){this.za=0,this.l=[],this.h=new rb,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=mb("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=mb("baseRetryDelayMs",5e3,i),this.$a=mb("retryDelaySeedMs",1e4,i),this.Ya=mb("forwardChannelMaxRetries",2,i),this.ra=mb("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new B5(i&&i.concurrentRequestLimit),this.Ca=new z5,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function CT(i){if(ST(i),3==i.G){var r=i.V++,e=jh(i.F);Es(e,"SID",i.J),Es(e,"RID",r),Es(e,"TYPE","terminate"),_b(i,e),(r=new cp(i,i.h,r,void 0)).K=2,r.v=KC(jh(e)),e=!1,Kt.navigator&&Kt.navigator.sendBeacon&&(e=Kt.navigator.sendBeacon(r.v.toString(),"")),!e&&Kt.Image&&((new Image).src=r.v,e=!0),e||(r.g=II(r.l,null),r.g.ea(r.v)),r.F=Date.now(),p_(r)}C_(i)}function gb(i){i.g&&(TI(i),i.g.cancel(),i.g=null)}function ST(i){gb(i),i.u&&(Kt.clearTimeout(i.u),i.u=null),eg(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Kt.clearTimeout(i.m),i.m=null)}function XC(i,r){i.l.push(new vT(i.Za++,r)),3==i.G&&eS(i)}function eS(i){yT(i.i)||i.m||(i.m=!0,nT(i.Ha,i),i.C=0)}function EI(i,r){var e;e=r?r.m:i.V++;var s=jh(i.F);Es(s,"SID",i.J),Es(s,"RID",e),Es(s,"AID",i.U),_b(i,s),i.o&&i.s&&Xm(s,i.o,i.s),e=new cp(i,i.h,e,i.C+1),null===i.o&&(e.H=i.s),r&&(i.l=r.D.concat(i.l)),r=q5(i,e,1e3),e.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),bT(i.i,e),f_(e,s,r)}function _b(i,r){i.j&&mT({},function(e,s){Es(r,s,e)})}function q5(i,r,e){e=Math.min(i.l.length,e);var s=i.j?Ni(i.j.Oa,i.j,i):null;e:for(var o=i.l,a=-1;;){var D=["count="+e];-1==a?0<e?D.push("ofs="+(a=o[0].h)):a=0:D.push("ofs="+a);for(var k=!0,N=0;N<e;N++){var B=o[N].h,G=o[N].g;if(0>(B-=a))a=Math.max(0,o[N].h-100),k=!1;else try{ZC(G,D,"req"+B+"_")}catch($){s&&s(G)}}if(k){s=D.join("&");break e}}return i=i.l.splice(0,e),r.D=i,s}function j5(i){i.g||i.u||(i.Y=1,nT(i.Ga,i),i.A=0)}function DI(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=sb(Ni(i.Ga,i),kI(i,i.A)),i.A++,0))}function TI(i){null!=i.B&&(Kt.clearTimeout(i.B),i.B=null)}function MT(i){i.g=new cp(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var r=jh(i.oa);Es(r,"RID","rpc"),Es(r,"SID",i.J),Es(r,"CI",i.N?"0":"1"),Es(r,"AID",i.U),_b(i,r),Es(r,"TYPE","xmlhttp"),i.o&&i.s&&Xm(r,i.o,i.s),i.K&&i.g.setTimeout(i.K);var e=i.g;i=i.la,e.K=1,e.v=KC(jh(r)),e.s=null,e.U=!0,jC(e,i)}function eg(i){null!=i.v&&(Kt.clearTimeout(i.v),i.v=null)}function xI(i,r){var e=null;if(i.g==r){eg(i),TI(i),i.g=null;var s=2}else{if(!fr(i.i,r))return;e=r.D,mI(i.i,r),s=1}if(i.I=r.N,0!=i.G)if(r.i)if(1==s){e=r.s?r.s.length:0,r=Date.now()-r.F;var o=i.C;ra(s=VC(),new lT(s,e,r,o)),eS(i)}else j5(i);else if(3==(o=r.o)||0==o&&0<i.I||!(1==s&&function(i,r){return!(V5(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=r.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=sb(Ni(i.Ha,i,r),kI(i,i.C)),i.C++,0)))}(i,r)||2==s&&DI(i)))switch(e&&0<e.length&&(r=i.i,r.i=r.i.concat(e)),o){case 1:hp(i,5);break;case 4:hp(i,10);break;case 3:hp(i,6);break;default:hp(i,2)}}function kI(i,r){var e=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(e*=2),e*r}function hp(i,r){if(i.h.info("Error code "+r),2==r){var e=null;i.j&&(e=null);var s=Ni(i.jb,i);e||(e=new Jm("//www.google.com/images/cleardot.gif"),Kt.location&&"http"==Kt.location.protocol||YC(e,"https"),KC(e)),function(i,r){var e=new rb;if(Kt.Image){var s=new Image;s.onload=ta(vs,e,s,"TestLoadImage: loaded",!0,r),s.onerror=ta(vs,e,s,"TestLoadImage: error",!1,r),s.onabort=ta(vs,e,s,"TestLoadImage: abort",!1,r),s.ontimeout=ta(vs,e,s,"TestLoadImage: timeout",!1,r),Kt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else r(!1)}(e.toString(),s)}else qa(2);i.G=0,i.j&&i.j.va(r),C_(i),ST(i)}function C_(i){i.G=0,i.I=-1,i.j&&((0!=gI(i.i).length||0!=i.l.length)&&(i.i.i.length=0,TC(i.l),i.l.length=0),i.j.ua())}function AI(i,r,e){var s=function(i){return i instanceof Jm?jh(i):new Jm(i,void 0)}(e);if(""!=s.i)r&&WC(s,r+"."+s.i),$C(s,s.m);else{var o=Kt.location;s=function(i,r,e,s){var o=new Jm(null,void 0);return i&&YC(o,i),r&&WC(o,r),e&&$C(o,e),s&&(o.l=s),o}(o.protocol,r?r+"."+o.hostname:o.hostname,+o.port,e)}return i.aa&&a_(i.aa,function(a,D){Es(s,D,a)}),e=i.sa,(r=i.D)&&e&&Es(s,r,e),Es(s,"VER",i.ma),_b(i,s),s}function II(i,r,e){if(r&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(r=new io(e&&i.Ba&&!i.qa?new QC({ib:!0}):i.qa)).L=i.H,r}function RI(){}function tS(){if(l_&&!(10<=Number(O5)))throw Error("Environmental error: no available transport.")}function bc(i,r){Oo.call(this),this.g=new SI(r),this.l=i,this.h=r&&r.messageUrlParams||null,i=r&&r.messageHeaders||null,r&&r.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=r&&r.initMessageHeaders||null,r&&r.messageContentType&&(i?i["X-WebChannel-Content-Type"]=r.messageContentType:i={"X-WebChannel-Content-Type":r.messageContentType}),r&&r.ya&&(i?i["X-WebChannel-Client-Profile"]=r.ya:i={"X-WebChannel-Client-Profile":r.ya}),this.g.P=i,(i=r&&r.httpHeadersOverwriteParam)&&!HD(i)&&(this.g.o=i),this.A=r&&r.supportsCrossDomainXhr||!1,this.v=r&&r.sendRawJson||!1,(r=r&&r.httpSessionIdParam)&&!HD(r)&&(this.g.D=r,null!==(i=this.h)&&r in i&&r in(i=this.h)&&delete i[r]),this.j=new S_(this)}function ET(i){UC.call(this);var r=i.__sm__;if(r){e:{for(var e in r){i=e;break e}i=void 0}(this.i=i)&&(i=this.i,r=null!==r&&i in r?r[i]:void 0),this.data=r}else this.data=i}function OI(){uT.call(this),this.status=1}function S_(i){this.g=i}(Lt=io.prototype).ea=function(i,r,e,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);r=r?r.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():GC.g(),this.C=function(i){return i.h||(i.h=i.i())}(this.u?this.u:GC),this.g.onreadystatechange=Ni(this.Fa,this);try{this.F=!0,this.g.open(r,String(i),!0),this.F=!1}catch(a){return void bI(this,a)}i=e||"";var o=new g_(this.headers);s&&mT(s,function(a,D){o.set(D,a)}),s=function(i){e:{for(var r=G5,e=i.length,s="string"==typeof i?i.split(""):i,o=0;o<e;o++)if(o in s&&r.call(void 0,s[o],o,i)){r=o;break e}r=-1}return 0>r?null:"string"==typeof i?i.charAt(r):i[r]}(o.T()),e=Kt.FormData&&i instanceof Kt.FormData,!(0<=x5(U5,r))||s||e||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(a,D){this.g.setRequestHeader(D,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{wT(this),0<this.B&&((this.K=function(i){return l_&&R5()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ni(this.pa,this)):this.A=BC(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(a){bI(this,a)}},Lt.pa=function(){void 0!==un&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ra(this,"timeout"),this.abort(8))},Lt.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,ra(this,"complete"),ra(this,"abort"),fb(this))},Lt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fb(this,!0)),io.Z.M.call(this)},Lt.Fa=function(){this.s||(this.F||this.v||this.l?hb(this):this.cb())},Lt.cb=function(){hb(this)},Lt.ba=function(){try{return 2<Fd(this)?this.g.status:-1}catch(i){return-1}},Lt.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},Lt.Qa=function(i){if(this.g){var r=this.g.responseText;return i&&0==r.indexOf(i)&&(r=r.substring(i.length)),vI(r)}},Lt.Da=function(){return this.m},Lt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Lt=SI.prototype).ma=8,Lt.G=1,Lt.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(r){}},Lt.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;var r=new cp(this,this.h,i,void 0),e=this.s;if(this.P&&(e?F2(e=P2(e),this.P):e=this.P),null===this.o&&(r.H=e),this.ja)e:{for(var s=0,o=0;o<this.l.length;o++){var a=this.l[o];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(s+=a)){s=o;break e}if(4096===s||o===this.l.length-1){s=o+1;break e}}s=1e3}else s=1e3;s=q5(this,r,s),Es(o=jh(this.F),"RID",i),Es(o,"CVER",22),this.D&&Es(o,"X-HTTP-Session-Id",this.D),_b(this,o),this.o&&e&&Xm(o,this.o,e),bT(this.i,r),this.Ra&&Es(o,"TYPE","init"),this.ja?(Es(o,"$req",s),Es(o,"SID","null"),r.$=!0,f_(r,o,null)):f_(r,o,s),this.G=2}}else 3==this.G&&(i?EI(this,i):0==this.l.length||yT(this.i)||EI(this))},Lt.Ga=function(){if(this.u=null,MT(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=sb(Ni(this.bb,this),i)}},Lt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,qa(10),gb(this),MT(this))},Lt.ab=function(){null!=this.v&&(this.v=null,gb(this),DI(this),qa(19))},Lt.jb=function(i){i?(this.h.info("Successfully pinged google.com"),qa(2)):(this.h.info("Failed to ping google.com"),qa(1))},(Lt=RI.prototype).xa=function(){},Lt.wa=function(){},Lt.va=function(){},Lt.ua=function(){},Lt.Oa=function(){},tS.prototype.g=function(i,r){return new bc(i,r)},ri(bc,Oo),bc.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,r=this.l,e=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),nT(Ni(i.hb,i,r))),qa(0),i.W=r,i.aa=e||{},i.N=i.X,i.F=AI(i,null,i.W),eS(i)},bc.prototype.close=function(){CT(this.g)},bc.prototype.u=function(i){if("string"==typeof i){var r={};r.__data__=i,XC(this.g,r)}else this.v?((r={}).__data__=FC(i),XC(this.g,r)):XC(this.g,i)},bc.prototype.M=function(){this.g.j=null,delete this.j,CT(this.g),delete this.g,bc.Z.M.call(this)},ri(ET,UC),ri(OI,uT),ri(S_,RI),S_.prototype.xa=function(){ra(this.g,"a")},S_.prototype.wa=function(i){ra(this.g,new ET(i))},S_.prototype.va=function(i){ra(this.g,new OI(i))},S_.prototype.ua=function(){ra(this.g,"b")},tS.prototype.createWebChannel=tS.prototype.g,bc.prototype.send=bc.prototype.u,bc.prototype.open=bc.prototype.m,bc.prototype.close=bc.prototype.close,zC.NO_ERROR=0,zC.TIMEOUT=8,zC.HTTP_ERROR=6,ob.OPEN="a",ob.CLOSE="b",ob.ERROR="c",ob.MESSAGE="d",Oo.prototype.listen=Oo.prototype.N,io.prototype.listenOnce=io.prototype.O,io.prototype.getLastError=io.prototype.La,io.prototype.getLastErrorCode=io.prototype.Da,io.prototype.getStatus=io.prototype.ba,io.prototype.getResponseJson=io.prototype.Qa,io.prototype.getResponseText=io.prototype.ga,io.prototype.send=io.prototype.ea;class ia{constructor(r){this.uid=r}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(r){return r.uid===this.uid}}ia.UNAUTHENTICATED=new ia(null),ia.GOOGLE_CREDENTIALS=new ia("google-credentials-uid"),ia.FIRST_PARTY=new ia("first-party-uid"),ia.MOCK_USER=new ia("mock-user");let vb="9.0.0";const fp=new pi.Yd("@firebase/firestore");function Fn(i,...r){if(fp.logLevel<=pi.in.DEBUG){const e=r.map(kT);fp.debug(`Firestore (${vb}): ${i}`,...e)}}function so(i,...r){if(fp.logLevel<=pi.in.ERROR){const e=r.map(kT);fp.error(`Firestore (${vb}): ${i}`,...e)}}function kT(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(e){return i}}function ar(i="Unexpected state"){const r=`FIRESTORE (${vb}) INTERNAL ASSERTION FAILED: `+i;throw so(r),new Error(r)}function Er(i,r){i||ar()}const tn_CANCELLED="cancelled",tn_INVALID_ARGUMENT="invalid-argument",tn_FAILED_PRECONDITION="failed-precondition",tn_UNAVAILABLE="unavailable";class En extends Error{constructor(r,e){super(e),this.code=r,this.message=e,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class No{constructor(){this.promise=new Promise((r,e)=>{this.resolve=r,this.reject=e})}}class AT{constructor(r,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${r}`}}class J5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(r,e){r.enqueueRetryable(()=>e(ia.UNAUTHENTICATED))}shutdown(){}}class BI{constructor(r){this.t=r,this.currentUser=ia.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(r,e){var s=this;let o=this.i;const a=N=>this.i!==o?(o=this.i,e(N)):Promise.resolve();let D=new No;this.o=()=>{this.i++,this.currentUser=this.u(),D.resolve(),D=new No,r.enqueueRetryable(()=>a(this.currentUser))};const k=N=>{r.enqueueRetryable(Yn(function*(){Fn("FirebaseCredentialsProvider","Auth detected"),s.auth=N,s.auth.addAuthTokenListener(s.o),yield D.promise,yield a(s.currentUser)}))};this.t.onInit(N=>k(N)),setTimeout(()=>{if(!this.auth){const N=this.t.getImmediate({optional:!0});N?k(N):(Fn("FirebaseCredentialsProvider","Auth not yet detected"),D.resolve(),D=new No)}},0),r.enqueueRetryable(Yn(function*(){0===s.i&&(yield D.promise,yield a(s.currentUser))}))}getToken(){const r=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(s=>this.i!==r?(Fn("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Er("string"==typeof s.accessToken),new AT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const r=this.auth&&this.auth.getUid();return Er(null===r||"string"==typeof r),new ia(r)}}class X5{constructor(r,e,s){this.h=r,this.l=e,this.m=s,this.type="FirstParty",this.user=ia.FIRST_PARTY}get authHeaders(){const r={"X-Goog-AuthUser":this.l},e=this.h.auth.getAuthHeaderValueForFirstParty([]);return e&&(r.Authorization=e),this.m&&(r["X-Goog-Iam-Authorization-Token"]=this.m),r}}class eN{constructor(r,e,s){this.h=r,this.l=e,this.m=s}getToken(){return Promise.resolve(new X5(this.h,this.l,this.m))}start(r,e){r.enqueueRetryable(()=>e(ia.FIRST_PARTY))}shutdown(){}invalidateToken(){}}function IT(i){const r="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(r&&"function"==typeof r.getRandomValues)r.getRandomValues(e);else for(let s=0;s<i;s++)e[s]=Math.floor(256*Math.random());return e}function ui(i,r){return i<r?-1:i>r?1:0}class yb{constructor(r,e,s){void 0===e?e=0:e>r.length&&ar(),void 0===s?s=r.length-e:s>r.length-e&&ar(),this.segments=r,this.offset=e,this.len=s}get length(){return this.len}isEqual(r){return 0===yb.comparator(this,r)}child(r){const e=this.segments.slice(this.offset,this.limit());return r instanceof yb?r.forEach(s=>{e.push(s)}):e.push(r),this.construct(e)}limit(){return this.offset+this.length}popFirst(r){return this.construct(this.segments,this.offset+(r=void 0===r?1:r),this.length-r)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(r){return this.segments[this.offset+r]}isEmpty(){return 0===this.length}isPrefixOf(r){if(r.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==r.get(e))return!1;return!0}isImmediateParentOf(r){if(this.length+1!==r.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==r.get(e))return!1;return!0}forEach(r){for(let e=this.offset,s=this.limit();e<s;e++)r(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(r,e){const s=Math.min(r.length,e.length);for(let o=0;o<s;o++){const a=r.get(o),D=e.get(o);if(a<D)return-1;if(a>D)return 1}return r.length<e.length?-1:r.length>e.length?1:0}}class xi extends yb{construct(r,e,s){return new xi(r,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...r){const e=[];for(const s of r){if(s.indexOf("//")>=0)throw new En(tn_INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter(o=>o.length>0))}return new xi(e)}static emptyPath(){return new xi([])}}class Ta{constructor(r){this.binaryString=r}static fromBase64String(r){const e=atob(r);return new Ta(e)}static fromUint8Array(r){const e=function(s){let o="";for(let a=0;a<s.length;++a)o+=String.fromCharCode(s[a]);return o}(r);return new Ta(e)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const e=new Uint8Array(r.length);for(let s=0;s<r.length;s++)e[s]=r.charCodeAt(s);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(r){return ui(this.binaryString,r.binaryString)}isEqual(r){return this.binaryString===r.binaryString}}Ta.EMPTY_BYTE_STRING=new Ta("");class nr{constructor(r){this.path=r}static fromPath(r){return new nr(xi.fromString(r))}static fromName(r){return new nr(xi.fromString(r).popFirst(5))}hasCollectionId(r){return this.path.length>=2&&this.path.get(this.path.length-2)===r}isEqual(r){return null!==r&&0===xi.comparator(this.path,r.path)}toString(){return this.path.toString()}static comparator(r,e){return xi.comparator(r.path,e.path)}static isDocumentKey(r){return r.length%2==0}static fromSegments(r){return new nr(new xi(r.slice()))}}var bs,ai;(ai=bs||(bs={}))[ai.OK=0]="OK",ai[ai.CANCELLED=1]="CANCELLED",ai[ai.UNKNOWN=2]="UNKNOWN",ai[ai.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ai[ai.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ai[ai.NOT_FOUND=5]="NOT_FOUND",ai[ai.ALREADY_EXISTS=6]="ALREADY_EXISTS",ai[ai.PERMISSION_DENIED=7]="PERMISSION_DENIED",ai[ai.UNAUTHENTICATED=16]="UNAUTHENTICATED",ai[ai.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ai[ai.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ai[ai.ABORTED=10]="ABORTED",ai[ai.OUT_OF_RANGE=11]="OUT_OF_RANGE",ai[ai.UNIMPLEMENTED=12]="UNIMPLEMENTED",ai[ai.INTERNAL=13]="INTERNAL",ai[ai.UNAVAILABLE=14]="UNAVAILABLE",ai[ai.DATA_LOSS=15]="DATA_LOSS";class Fo{constructor(r,e){this.comparator=r,this.root=e||Lo.EMPTY}insert(r,e){return new Fo(this.comparator,this.root.insert(r,e,this.comparator).copy(null,null,Lo.BLACK,null,null))}remove(r){return new Fo(this.comparator,this.root.remove(r,this.comparator).copy(null,null,Lo.BLACK,null,null))}get(r){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(r,e.key);if(0===s)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(r){let e=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(r,s.key);if(0===o)return e+s.left.size;o<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(r){return this.root.inorderTraversal(r)}forEach(r){this.inorderTraversal((e,s)=>(r(e,s),!1))}toString(){const r=[];return this.inorderTraversal((e,s)=>(r.push(`${e}:${s}`),!1)),`{${r.join(", ")}}`}reverseTraversal(r){return this.root.reverseTraversal(r)}getIterator(){return new Pb(this.root,null,this.comparator,!1)}getIteratorFrom(r){return new Pb(this.root,r,this.comparator,!1)}getReverseIterator(){return new Pb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(r){return new Pb(this.root,r,this.comparator,!0)}}class Pb{constructor(r,e,s,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!r.isEmpty();)if(a=e?s(r.key,e):1,o&&(a*=-1),a<0)r=this.isReverse?r.left:r.right;else{if(0===a){this.nodeStack.push(r);break}this.nodeStack.push(r),r=this.isReverse?r.right:r.left}}getNext(){let r=this.nodeStack.pop();const e={key:r.key,value:r.value};if(this.isReverse)for(r=r.left;!r.isEmpty();)this.nodeStack.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack.push(r),r=r.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const r=this.nodeStack[this.nodeStack.length-1];return{key:r.key,value:r.value}}}class Lo{constructor(r,e,s,o,a){this.key=r,this.value=e,this.color=null!=s?s:Lo.RED,this.left=null!=o?o:Lo.EMPTY,this.right=null!=a?a:Lo.EMPTY,this.size=this.left.size+1+this.right.size}copy(r,e,s,o,a){return new Lo(null!=r?r:this.key,null!=e?e:this.value,null!=s?s:this.color,null!=o?o:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(r){return this.left.inorderTraversal(r)||r(this.key,this.value)||this.right.inorderTraversal(r)}reverseTraversal(r){return this.right.reverseTraversal(r)||r(this.key,this.value)||this.left.reverseTraversal(r)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(r,e,s){let o=this;const a=s(r,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(r,e,s),null):0===a?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(r,e,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Lo.EMPTY;let r=this;return r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.removeMin(),null),r.fixUp()}remove(r,e){let s,o=this;if(e(r,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(r,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===e(r,o.key)){if(o.right.isEmpty())return Lo.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(r,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let r=this;return r.right.isRed()&&!r.left.isRed()&&(r=r.rotateLeft()),r.left.isRed()&&r.left.left.isRed()&&(r=r.rotateRight()),r.left.isRed()&&r.right.isRed()&&(r=r.colorFlip()),r}moveRedLeft(){let r=this.colorFlip();return r.right.left.isRed()&&(r=r.copy(null,null,null,null,r.right.rotateRight()),r=r.rotateLeft(),r=r.colorFlip()),r}moveRedRight(){let r=this.colorFlip();return r.left.left.isRed()&&(r=r.rotateRight(),r=r.colorFlip()),r}rotateLeft(){const r=this.copy(null,null,Lo.RED,null,this.right.left);return this.right.copy(null,null,this.color,r,null)}rotateRight(){const r=this.copy(null,null,Lo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,r)}colorFlip(){const r=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,r,e)}checkMaxDepth(){const r=this.check();return Math.pow(2,r)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ar();const r=this.left.check();if(r!==this.right.check())throw ar();return r+(this.isRed()?0:1)}}Lo.EMPTY=null,Lo.RED=!0,Lo.BLACK=!1,Lo.EMPTY=new class{constructor(){this.size=0}get key(){throw ar()}get value(){throw ar()}get color(){throw ar()}get left(){throw ar()}get right(){throw ar()}copy(i,r,e,s,o){return this}insert(i,r,e){return new Lo(i,r)}remove(i,r){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class hs{constructor(r){this.comparator=r,this.data=new Fo(this.comparator)}has(r){return null!==this.data.get(r)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(r){return this.data.indexOf(r)}forEach(r){this.data.inorderTraversal((e,s)=>(r(e),!1))}forEachInRange(r,e){const s=this.data.getIteratorFrom(r[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,r[1])>=0)return;e(o.key)}}forEachWhile(r,e){let s;for(s=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!r(s.getNext().key))return}firstAfterOrEqual(r){const e=this.data.getIteratorFrom(r);return e.hasNext()?e.getNext().key:null}getIterator(){return new mS(this.data.getIterator())}getIteratorFrom(r){return new mS(this.data.getIteratorFrom(r))}add(r){return this.copy(this.data.remove(r).insert(r,!0))}delete(r){return this.has(r)?this.copy(this.data.remove(r)):this}isEmpty(){return this.data.isEmpty()}unionWith(r){let e=this;return e.size<r.size&&(e=r,r=this),r.forEach(s=>{e=e.add(s)}),e}isEqual(r){if(!(r instanceof hs)||this.size!==r.size)return!1;const e=this.data.getIterator(),s=r.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,a=s.getNext().key;if(0!==this.comparator(o,a))return!1}return!0}toArray(){const r=[];return this.forEach(e=>{r.push(e)}),r}toString(){const r=[];return this.forEach(e=>r.push(e)),"SortedSet("+r.toString()+")"}copy(r){const e=new hs(this.comparator);return e.data=r,e}}class mS{constructor(r){this.iter=r}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Bu(i){let r="";for(let e=0;e<i.length;e++)r.length>0&&(r=S4(r)),r=C4(i.get(e),r);return S4(r)}function C4(i,r){let e=r;const s=i.length;for(let o=0;o<s;o++){const a=i.charAt(o);switch(a){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=a}}return e}function S4(i){return i+"\x01\x01"}new Fo(nr.comparator),new Fo(nr.comparator),new Fo(nr.comparator),new hs(nr.comparator),new hs(ui);class Jc{constructor(r,e,s){this.ownerId=r,this.allowTabSynchronization=e,this.leaseTimestampMs=s}}Jc.store="owner",Jc.key="owner";class cg{constructor(r,e,s){this.userId=r,this.lastAcknowledgedBatchId=e,this.lastStreamToken=s}}cg.store="mutationQueues",cg.keyPath="userId";class ls{constructor(r,e,s,o,a){this.userId=r,this.batchId=e,this.localWriteTimeMs=s,this.baseMutations=o,this.mutations=a}}ls.store="mutations",ls.keyPath="batchId",ls.userMutationsIndex="userMutationsIndex",ls.userMutationsKeyPath=["userId","batchId"];class Wa{constructor(){}static prefixForUser(r){return[r]}static prefixForPath(r,e){return[r,Bu(e)]}static key(r,e,s){return[r,Bu(e),s]}}Wa.store="documentMutations",Wa.PLACEHOLDER=new Wa;class Ys{constructor(r,e,s,o,a,D){this.unknownDocument=r,this.noDocument=e,this.document=s,this.hasCommittedMutations=o,this.readTime=a,this.parentPath=D}}Ys.store="remoteDocuments",Ys.readTimeIndex="readTimeIndex",Ys.readTimeIndexPath="readTime",Ys.collectionReadTimeIndex="collectionReadTimeIndex",Ys.collectionReadTimeIndexPath=["parentPath","readTime"];class Hd{constructor(r){this.byteSize=r}}Hd.store="remoteDocumentGlobal",Hd.key="remoteDocumentGlobalKey";class $l{constructor(r,e,s,o,a,D,k){this.targetId=r,this.canonicalId=e,this.readTime=s,this.resumeToken=o,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=D,this.query=k}}$l.store="targets",$l.keyPath="targetId",$l.queryTargetsIndexName="queryTargetsIndex",$l.queryTargetsKeyPath=["canonicalId","targetId"];class sa{constructor(r,e,s){this.targetId=r,this.path=e,this.sequenceNumber=s}}sa.store="targetDocuments",sa.keyPath=["targetId","path"],sa.documentTargetsIndex="documentTargetsIndex",sa.documentTargetsKeyPath=["path","targetId"];class pl{constructor(r,e,s,o){this.highestTargetId=r,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=s,this.targetCount=o}}pl.key="targetGlobalKey",pl.store="targetGlobal";class ug{constructor(r,e){this.collectionId=r,this.parent=e}}ug.store="collectionParents",ug.keyPath=["collectionId","parent"];class Kl{constructor(r,e,s,o){this.clientId=r,this.updateTimeMs=e,this.networkEnabled=s,this.inForeground=o}}Kl.store="clientMetadata",Kl.keyPath="clientId";class oo{constructor(r,e,s){this.bundleId=r,this.createTime=e,this.version=s}}oo.store="bundles",oo.keyPath="bundleId";class dg{constructor(r,e,s){this.name=r,this.readTime=e,this.bundledQuery=s}}function hg(i){return"IndexedDbTransactionError"===i.name}dg.store="namedQueries",dg.keyPath="name";class ml{constructor(r,e,s){this.cacheSizeCollectionThreshold=r,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}static withCacheSize(r){return new ml(r,ml.DEFAULT_COLLECTION_PERCENTILE,ml.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function bx(){return"undefined"!=typeof document?document:null}ml.DEFAULT_COLLECTION_PERCENTILE=10,ml.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ml.DEFAULT=new ml(41943040,ml.DEFAULT_COLLECTION_PERCENTILE,ml.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ml.DISABLED=new ml(-1,0,0);class W4{constructor(r,e,s=1e3,o=1.5,a=6e4){this.Oe=r,this.timerId=e,this.Qi=s,this.Wi=o,this.Gi=a,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(r){this.cancel();const e=Math.floor(this.zi+this.Zi()),s=Math.max(0,Date.now()-this.Ji),o=Math.max(0,e-s);o>0&&Fn("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.zi} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,o,()=>(this.Ji=Date.now(),r())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class n3{constructor(r,e,s,o,a){this.asyncQueue=r,this.timerId=e,this.targetTimeMs=s,this.op=o,this.removalCallback=a,this.deferred=new No,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(D=>{})}static createAndSchedule(r,e,s,o,a){const D=Date.now()+s,k=new n3(r,e,D,o,a);return k.start(s),k}start(r){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),r)}skipDelay(){return this.handleDelayElapsed()}cancel(r){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new En(tn_CANCELLED,"Operation cancelled"+(r?": "+r:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(r=>this.deferred.resolve(r))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class S3{constructor(r,e,s){var o=this;this.credentials=r,this.asyncQueue=e,this.databaseInfo=s,this.user=ia.UNAUTHENTICATED,this.clientId=class{static I(){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/r.length)*r.length;let s="";for(;s.length<20;){const o=IT(40);for(let a=0;a<o.length;++a)s.length<20&&o[a]<e&&(s+=r.charAt(o[a]%r.length))}return s}}.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(e,function(){var a=Yn(function*(D){Fn("FirestoreClient","Received user=",D.uid),yield o.credentialListener(D),o.user=D});return function(D){return a.apply(this,arguments)}}())}getConfiguration(){var r=this;return Yn(function*(){return{asyncQueue:r.asyncQueue,databaseInfo:r.databaseInfo,clientId:r.clientId,credentials:r.credentials,initialUser:r.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(r){this.credentialListener=r}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new En(tn_FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var r=this;this.asyncQueue.enterRestrictedMode();const e=new No;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Yn(function*(){try{r.onlineComponents&&(yield r.onlineComponents.terminate()),r.offlineComponents&&(yield r.offlineComponents.terminate()),r.credentials.shutdown(),e.resolve()}catch(s){const o=function(i,r){if(so("AsyncQueue",`${r}: ${i}`),hg(i))return new En(tn_UNAVAILABLE,`${r}: ${i}`);throw i}(s,"Failed to shutdown persistence");e.reject(o)}})),e.promise}}class f9{constructor(r,e,s,o,a,D,k,N){this.databaseId=r,this.appId=e,this.persistenceKey=s,this.host=o,this.ssl=a,this.forceLongPolling=D,this.autoDetectLongPolling=k,this.useFetchStreams=N}}class l1{constructor(r,e){this.projectId=r,this.database=e||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(r){return r instanceof l1&&r.projectId===this.projectId&&r.database===this.database}}const T3=new Map;class fP{constructor(r){var e;if(void 0===r.host){if(void 0!==r.ssl)throw new En(tn_INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=r.host,this.ssl=null===(e=r.ssl)||void 0===e||e;if(this.credentials=r.credentials,this.ignoreUndefinedProperties=!!r.ignoreUndefinedProperties,void 0===r.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==r.cacheSizeBytes&&r.cacheSizeBytes<1048576)throw new En(tn_INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=r.cacheSizeBytes}this.experimentalForceLongPolling=!!r.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!r.experimentalAutoDetectLongPolling,this.useFetchStreams=!!r.useFetchStreams,function(i,r,e,s){if(!0===r&&!0===s)throw new En(tn_INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,r.experimentalForceLongPolling,0,r.experimentalAutoDetectLongPolling)}isEqual(r){return this.host===r.host&&this.ssl===r.ssl&&this.credentials===r.credentials&&this.cacheSizeBytes===r.cacheSizeBytes&&this.experimentalForceLongPolling===r.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===r.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===r.ignoreUndefinedProperties&&this.useFetchStreams===r.useFetchStreams}}class gP{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new W4(this,"async_queue_retry"),this.Ea=()=>{const e=bx();e&&Fn("AsyncQueue","Visibility state changed to "+e.visibilityState),this.rr.tr()};const r=bx();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(r){this.enqueue(r)}enqueueAndForgetEvenWhileRestricted(r){this.Ta(),this.Ia(r)}enterRestrictedMode(r){if(!this.wa){this.wa=!0,this.ya=r||!1;const e=bx();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ea)}}enqueue(r){if(this.Ta(),this.wa)return new Promise(()=>{});const e=new No;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(r().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(r){this.enqueueAndForget(()=>(this.da.push(r),this.Aa()))}Aa(){var r=this;return Yn(function*(){if(0!==r.da.length){try{yield r.da[0](),r.da.shift(),r.rr.reset()}catch(e){if(!hg(e))throw e;Fn("AsyncQueue","Operation failed with retryable error: "+e)}r.da.length>0&&r.rr.Xi(()=>r.Aa())}})()}Ia(r){const e=this.fa.then(()=>(this.ga=!0,r().catch(s=>{throw this.ma=s,this.ga=!1,so("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(s)),s}).then(s=>(this.ga=!1,s))));return this.fa=e,e}enqueueAfterDelay(r,e,s){this.Ta(),this.pa.indexOf(r)>-1&&(e=0);const o=n3.createAndSchedule(this,r,e,s,a=>this.Ra(a));return this._a.push(o),o}Ta(){this.ma&&ar()}verifyOperationInProgress(){}Pa(){var r=this;return Yn(function*(){let e;do{e=r.fa,yield e}while(e!==r.fa)})()}ba(r){for(const e of this._a)if(e.timerId===r)return!0;return!1}va(r){return this.Pa().then(()=>{this._a.sort((e,s)=>e.targetTimeMs-s.targetTimeMs);for(const e of this._a)if(e.skipDelay(),"all"!==r&&e.timerId===r)break;return this.Pa()})}Va(r){this.pa.push(r)}Ra(r){const e=this._a.indexOf(r);this._a.splice(e,1)}}class Ws extends class{constructor(r,e){this._credentials=e,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fP({}),this._settingsFrozen=!1,r instanceof l1?this._databaseId=r:(this._app=r,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new En(tn_INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new l1(s.options.projectId)}(r))}get app(){if(!this._app)throw new En(tn_FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(r){if(this._settingsFrozen)throw new En(tn_FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fP(r),void 0!==r.credentials&&(this._credentials=function(e){if(!e)return new J5;switch(e.type){case"gapi":const s=e.client;return Er(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new eN(s,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new En(tn_INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(r.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const e=T3.get(r);e&&(Fn("ComponentProvider","Removing Datastore"),T3.delete(r),e.terminate())}(this),Promise.resolve()}}{constructor(r,e){super(r,e),this.type="firestore",this._queue=new gP,this._persistenceKey="name"in r?r.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||function(i){var r;const e=i._freezeSettings(),s=(a=(null===(r=i._app)||void 0===r?void 0:r.options.appId)||"",new f9(i._databaseId,a,i._persistenceKey,(k=e).host,k.ssl,k.experimentalForceLongPolling,k.experimentalAutoDetectLongPolling,k.useFetchStreams));var a,k;i._firestoreClient=new S3(i._credentials,i._queue,s)}(this),this._firestoreClient.terminate()}}function I3(i=(0,ms.Mq)()){return(0,ms.qX)(i,"firestore").getImmediate()}(function(i){vb=i})(ms.Jn),(0,ms.Xd)(new Os.wA("firestore",(i,{options:r})=>{const e=i.getProvider("app").getImmediate(),s=new Ws(e,new BI(i.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:!0},r),s._setSettings(r),s},"PUBLIC")),(0,ms.KN)("@firebase/firestore","3.0.0",void 0);class O{constructor(r){return r}}const F="firestore",Z=new C.OlP("angularfire2.firestore-instances");function de(i){return r=>{const e=(0,ue.KL)(i,r);return new O(e)}}const Ee={provide:class{constructor(){return(0,ue.vb)(F)}},deps:[[new C.FiY,Z]]},Ye={provide:O,useFactory:function(i){const r=(0,ue.JM)(F);return new O(r)},deps:[C.R0b,[new C.FiY,Z]]};let it=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({providers:[Ye,Ee]}),i})();function bt(i){return{ngModule:it,providers:[{provide:Z,useFactory:de(i),multi:!0,deps:[C.R0b,ue.HU,We,[new C.FiY,Uy]]}]}}const cJ=(0,ue.u3)(I3);class N9{}const Eg="*";function co(i,r){return{type:7,name:i,definitions:r,options:{}}}function Ei(i,r=null){return{type:4,styles:r,timings:i}}function P9(i,r=null){return{type:2,steps:i,options:r}}function Zn(i){return{type:6,styles:i,offset:null}}function Zr(i,r,e){return{type:0,name:i,styles:r,options:e}}function _i(i,r,e=null){return{type:1,expr:i,animation:r,options:e}}function B9(i){Promise.resolve(null).then(i)}class MM{constructor(r=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=r+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){B9(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(r=>r()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(r){this._position=this.totalTime?r*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(r){const e="start"==r?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}}class V9{constructor(r){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=r;let e=0,s=0,o=0;const a=this.players.length;0==a?B9(()=>this._onFinish()):this.players.forEach(D=>{D.onDone(()=>{++e==a&&this._onFinish()}),D.onDestroy(()=>{++s==a&&this._onDestroy()}),D.onStart(()=>{++o==a&&this._onStart()})}),this.totalTime=this.players.reduce((D,k)=>Math.max(D,k.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this.players.forEach(r=>r.init())}onStart(r){this._onStartFns.push(r)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(r=>r()),this._onStartFns=[])}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(r=>r.play())}pause(){this.players.forEach(r=>r.pause())}restart(){this.players.forEach(r=>r.restart())}finish(){this._onFinish(),this.players.forEach(r=>r.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(r=>r.destroy()),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this.players.forEach(r=>r.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(r){const e=r*this.totalTime;this.players.forEach(s=>{const o=s.totalTime?Math.min(1,e/s.totalTime):1;s.setPosition(o)})}getPosition(){const r=this.players.reduce((e,s)=>null===e||s.totalTime>e.totalTime?s:e,null);return null!=r?r.getPosition():0}beforeDestroy(){this.players.forEach(r=>{r.beforeDestroy&&r.beforeDestroy()})}triggerCallback(r){const e="start"==r?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}}function z9(){return"undefined"!=typeof window&&void 0!==window.document}function kP(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function iv(i){switch(i.length){case 0:return new MM;case 1:return i[0];default:return new V9(i)}}function H9(i,r,e,s,o={},a={}){const D=[],k=[];let N=-1,B=null;if(s.forEach(G=>{const $=G.offset,re=$==N,oe=re&&B||{};Object.keys(G).forEach(_e=>{let ze=_e,mt=G[_e];if("offset"!==_e)switch(ze=r.normalizePropertyName(ze,D),mt){case"!":mt=o[_e];break;case Eg:mt=a[_e];break;default:mt=r.normalizeStyleValue(_e,ze,mt,D)}oe[ze]=mt}),re||k.push(oe),B=oe,N=$}),D.length){const G="\n - ";throw new Error(`Unable to animate due to the following errors:${G}${D.join(G)}`)}return k}function AP(i,r,e,s){switch(r){case"start":i.onStart(()=>s(e&&IP(e,"start",i)));break;case"done":i.onDone(()=>s(e&&IP(e,"done",i)));break;case"destroy":i.onDestroy(()=>s(e&&IP(e,"destroy",i)))}}function IP(i,r,e){const s=e.totalTime,a=RP(i.element,i.triggerName,i.fromState,i.toState,r||i.phaseName,null==s?i.totalTime:s,!!e.disabled),D=i._data;return null!=D&&(a._data=D),a}function RP(i,r,e,s,o="",a=0,D){return{element:i,triggerName:r,fromState:e,toState:s,phaseName:o,totalTime:a,disabled:!!D}}function Gu(i,r,e){let s;return i instanceof Map?(s=i.get(r),s||i.set(r,s=e)):(s=i[r],s||(s=i[r]=e)),s}function U9(i){const r=i.indexOf(":");return[i.substring(1,r),i.substr(r+1)]}let OP=(i,r)=>!1,NP=(i,r)=>!1,G9=(i,r,e)=>[];const q9=kP();(q9||"undefined"!=typeof Element)&&(OP=z9()?(i,r)=>{for(;r&&r!==document.documentElement;){if(r===i)return!0;r=r.parentNode||r.host}return!1}:(i,r)=>i.contains(r),NP=(()=>{if(q9||Element.prototype.matches)return(i,r)=>i.matches(r);{const i=Element.prototype,r=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector;return r?(e,s)=>r.apply(e,[s]):NP}})(),G9=(i,r,e)=>{let s=[];if(e){const o=i.querySelectorAll(r);for(let a=0;a<o.length;a++)s.push(o[a])}else{const o=i.querySelector(r);o&&s.push(o)}return s});let g1=null,j9=!1;function PP(i){g1||(g1=("undefined"!=typeof document?document.body:null)||{},j9=!!g1.style&&"WebkitAppearance"in g1.style);let r=!0;return g1.style&&!function(i){return"ebkit"==i.substring(1,6)}(i)&&(r=i in g1.style,!r&&j9&&(r="Webkit"+i.charAt(0).toUpperCase()+i.substr(1)in g1.style)),r}const FP=NP,LP=OP,BP=G9;function Y9(i){const r={};return Object.keys(i).forEach(e=>{const s=e.replace(/([a-z])([A-Z])/g,"$1-$2");r[s]=i[e]}),r}let W9=(()=>{class i{validateStyleProperty(e){return PP(e)}matchesElement(e,s){return FP(e,s)}containsElement(e,s){return LP(e,s)}query(e,s,o){return BP(e,s,o)}computeStyle(e,s,o){return o||""}animate(e,s,o,a,D,k=[],N){return new MM(o,a)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=C.Yz7({token:i,factory:i.\u0275fac}),i})();class tR{}tR.NOOP=new W9;const VP="ng-enter",nR="ng-leave",rR="ng-trigger",iR=".ng-trigger",K9="ng-animating",zP=".ng-animating";function _1(i){if("number"==typeof i)return i;const r=i.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:HP(parseFloat(r[1]),r[2])}function HP(i,r){switch(r){case"s":return 1e3*i;default:return i}}function sR(i,r,e){return i.hasOwnProperty("duration")?i:function(i,r,e){let o,a=0,D="";if("string"==typeof i){const k=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===k)return r.push(`The provided timing value "${i}" is invalid.`),{duration:0,delay:0,easing:""};o=HP(parseFloat(k[1]),k[2]);const N=k[3];null!=N&&(a=HP(parseFloat(N),k[4]));const B=k[5];B&&(D=B)}else o=i;if(!e){let k=!1,N=r.length;o<0&&(r.push("Duration values below 0 are not allowed for this animation step."),k=!0),a<0&&(r.push("Delay values below 0 are not allowed for this animation step."),k=!0),k&&r.splice(N,0,`The provided timing value "${i}" is invalid.`)}return{duration:o,delay:a,easing:D}}(i,r,e)}function EM(i,r={}){return Object.keys(i).forEach(e=>{r[e]=i[e]}),r}function sv(i,r,e={}){if(r)for(let s in i)e[s]=i[s];else EM(i,e);return e}function J9(i,r,e){return e?r+":"+e+";":""}function Q9(i){let r="";for(let e=0;e<i.style.length;e++){const s=i.style.item(e);r+=J9(0,s,i.style.getPropertyValue(s))}for(const e in i.style)i.style.hasOwnProperty(e)&&!e.startsWith("_")&&(r+=J9(0,vJ(e),i.style[e]));i.setAttribute("style",r)}function xp(i,r,e){i.style&&(Object.keys(r).forEach(s=>{const o=GP(s);e&&!e.hasOwnProperty(s)&&(e[s]=i.style[o]),i.style[o]=r[s]}),kP()&&Q9(i))}function v1(i,r){i.style&&(Object.keys(r).forEach(e=>{const s=GP(e);i.style[s]=""}),kP()&&Q9(i))}function ik(i){return Array.isArray(i)?1==i.length?i[0]:P9(i):i}const UP=new RegExp("{{\\s*(.+?)\\s*}}","g");function X9(i){let r=[];if("string"==typeof i){let e;for(;e=UP.exec(i);)r.push(e[1]);UP.lastIndex=0}return r}function oR(i,r,e){const s=i.toString(),o=s.replace(UP,(a,D)=>{let k=r[D];return r.hasOwnProperty(D)||(e.push(`Please provide a value for the animation param ${D}`),k=""),k.toString()});return o==s?i:o}function aR(i){const r=[];let e=i.next();for(;!e.done;)r.push(e.value),e=i.next();return r}const _J=/-+([a-z0-9])/g;function GP(i){return i.replace(_J,(...r)=>r[1].toUpperCase())}function vJ(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function eV(i,r){return 0===i||0===r}function tV(i,r,e){const s=Object.keys(e);if(s.length&&r.length){let a=r[0],D=[];if(s.forEach(k=>{a.hasOwnProperty(k)||D.push(k),a[k]=e[k]}),D.length)for(var o=1;o<r.length;o++){let k=r[o];D.forEach(function(N){k[N]=qP(i,N)})}}return r}function qu(i,r,e){switch(r.type){case 7:return i.visitTrigger(r,e);case 0:return i.visitState(r,e);case 1:return i.visitTransition(r,e);case 2:return i.visitSequence(r,e);case 3:return i.visitGroup(r,e);case 4:return i.visitAnimate(r,e);case 5:return i.visitKeyframes(r,e);case 6:return i.visitStyle(r,e);case 8:return i.visitReference(r,e);case 9:return i.visitAnimateChild(r,e);case 10:return i.visitAnimateRef(r,e);case 11:return i.visitQuery(r,e);case 12:return i.visitStagger(r,e);default:throw new Error(`Unable to resolve animation metadata node #${r.type}`)}}function qP(i,r){return window.getComputedStyle(i)[r]}function yJ(i,r){const e=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(s=>function(i,r,e){if(":"==i[0]){const N=function(i,r){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,s)=>parseFloat(s)>parseFloat(e);case":decrement":return(e,s)=>parseFloat(s)<parseFloat(e);default:return r.push(`The transition alias value "${i}" is not supported`),"* => *"}}(i,e);if("function"==typeof N)return void r.push(N);i=N}const s=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return e.push(`The provided transition expression "${i}" is not supported`),r;const o=s[1],a=s[2],D=s[3];r.push(nV(o,D));"<"==a[0]&&!("*"==o&&"*"==D)&&r.push(nV(D,o))}(s,e,r)):e.push(i),e}const cR=new Set(["true","1"]),uR=new Set(["false","0"]);function nV(i,r){const e=cR.has(i)||uR.has(i),s=cR.has(r)||uR.has(r);return(o,a)=>{let D="*"==i||i==o,k="*"==r||r==a;return!D&&e&&"boolean"==typeof o&&(D=o?cR.has(i):uR.has(i)),!k&&s&&"boolean"==typeof a&&(k=a?cR.has(r):uR.has(r)),D&&k}}const CJ=new RegExp("s*:selfs*,?","g");function jP(i,r,e){return new SJ(i).build(r,e)}class SJ{constructor(r){this._driver=r}build(r,e){const s=new DJ(e);return this._resetContextStyleTimingState(s),qu(this,ik(r),s)}_resetContextStyleTimingState(r){r.currentQuerySelector="",r.collectedStyles={},r.collectedStyles[""]={},r.currentTime=0}visitTrigger(r,e){let s=e.queryCount=0,o=e.depCount=0;const a=[],D=[];return"@"==r.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),r.definitions.forEach(k=>{if(this._resetContextStyleTimingState(e),0==k.type){const N=k,B=N.name;B.toString().split(/\s*,\s*/).forEach(G=>{N.name=G,a.push(this.visitState(N,e))}),N.name=B}else if(1==k.type){const N=this.visitTransition(k,e);s+=N.queryCount,o+=N.depCount,D.push(N)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:r.name,states:a,transitions:D,queryCount:s,depCount:o,options:null}}visitState(r,e){const s=this.visitStyle(r.styles,e),o=r.options&&r.options.params||null;if(s.containsDynamicStyles){const a=new Set,D=o||{};if(s.styles.forEach(k=>{if(dR(k)){const N=k;Object.keys(N).forEach(B=>{X9(N[B]).forEach(G=>{D.hasOwnProperty(G)||a.add(G)})})}}),a.size){const k=aR(a.values());e.errors.push(`state("${r.name}", ...) must define default values for all the following style substitutions: ${k.join(", ")}`)}}return{type:0,name:r.name,style:s,options:o?{params:o}:null}}visitTransition(r,e){e.queryCount=0,e.depCount=0;const s=qu(this,ik(r.animation),e);return{type:1,matchers:yJ(r.expr,e.errors),animation:s,queryCount:e.queryCount,depCount:e.depCount,options:y1(r.options)}}visitSequence(r,e){return{type:2,steps:r.steps.map(s=>qu(this,s,e)),options:y1(r.options)}}visitGroup(r,e){const s=e.currentTime;let o=0;const a=r.steps.map(D=>{e.currentTime=s;const k=qu(this,D,e);return o=Math.max(o,e.currentTime),k});return e.currentTime=o,{type:3,steps:a,options:y1(r.options)}}visitAnimate(r,e){const s=function(i,r){let e=null;if(i.hasOwnProperty("duration"))e=i;else if("number"==typeof i)return YP(sR(i,r).duration,0,"");const s=i;if(s.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=YP(0,0,"");return a.dynamic=!0,a.strValue=s,a}return e=e||sR(s,r),YP(e.duration,e.delay,e.easing)}(r.timings,e.errors);e.currentAnimateTimings=s;let o,a=r.styles?r.styles:Zn({});if(5==a.type)o=this.visitKeyframes(a,e);else{let D=r.styles,k=!1;if(!D){k=!0;const B={};s.easing&&(B.easing=s.easing),D=Zn(B)}e.currentTime+=s.duration+s.delay;const N=this.visitStyle(D,e);N.isEmptyStep=k,o=N}return e.currentAnimateTimings=null,{type:4,timings:s,style:o,options:null}}visitStyle(r,e){const s=this._makeStyleAst(r,e);return this._validateStyleAst(s,e),s}_makeStyleAst(r,e){const s=[];Array.isArray(r.styles)?r.styles.forEach(D=>{"string"==typeof D?D==Eg?s.push(D):e.errors.push(`The provided style string value ${D} is not allowed.`):s.push(D)}):s.push(r.styles);let o=!1,a=null;return s.forEach(D=>{if(dR(D)){const k=D,N=k.easing;if(N&&(a=N,delete k.easing),!o)for(let B in k)if(k[B].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:s,easing:a,offset:r.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(r,e){const s=e.currentAnimateTimings;let o=e.currentTime,a=e.currentTime;s&&a>0&&(a-=s.duration+s.delay),r.styles.forEach(D=>{"string"!=typeof D&&Object.keys(D).forEach(k=>{if(!this._driver.validateStyleProperty(k))return void e.errors.push(`The provided animation property "${k}" is not a supported CSS property for animations`);const N=e.collectedStyles[e.currentQuerySelector],B=N[k];let G=!0;B&&(a!=o&&a>=B.startTime&&o<=B.endTime&&(e.errors.push(`The CSS property "${k}" that exists between the times of "${B.startTime}ms" and "${B.endTime}ms" is also being animated in a parallel animation between the times of "${a}ms" and "${o}ms"`),G=!1),a=B.startTime),G&&(N[k]={startTime:a,endTime:o}),e.options&&function(i,r,e){const s=r.params||{},o=X9(i);o.length&&o.forEach(a=>{s.hasOwnProperty(a)||e.push(`Unable to resolve the local animation param ${a} in the given list of values`)})}(D[k],e.options,e.errors)})})}visitKeyframes(r,e){const s={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),s;let a=0;const D=[];let k=!1,N=!1,B=0;const G=r.steps.map(Ft=>{const Pt=this._makeStyleAst(Ft,e);let dn=null!=Pt.offset?Pt.offset:function(i){if("string"==typeof i)return null;let r=null;if(Array.isArray(i))i.forEach(e=>{if(dR(e)&&e.hasOwnProperty("offset")){const s=e;r=parseFloat(s.offset),delete s.offset}});else if(dR(i)&&i.hasOwnProperty("offset")){const e=i;r=parseFloat(e.offset),delete e.offset}return r}(Pt.styles),fn=0;return null!=dn&&(a++,fn=Pt.offset=dn),N=N||fn<0||fn>1,k=k||fn<B,B=fn,D.push(fn),Pt});N&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),k&&e.errors.push("Please ensure that all keyframe offsets are in order");const $=r.steps.length;let re=0;a>0&&a<$?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==a&&(re=1/($-1));const oe=$-1,_e=e.currentTime,ze=e.currentAnimateTimings,mt=ze.duration;return G.forEach((Ft,Pt)=>{const dn=re>0?Pt==oe?1:re*Pt:D[Pt],fn=dn*mt;e.currentTime=_e+ze.delay+fn,ze.duration=fn,this._validateStyleAst(Ft,e),Ft.offset=dn,s.styles.push(Ft)}),s}visitReference(r,e){return{type:8,animation:qu(this,ik(r.animation),e),options:y1(r.options)}}visitAnimateChild(r,e){return e.depCount++,{type:9,options:y1(r.options)}}visitAnimateRef(r,e){return{type:10,animation:this.visitReference(r.animation,e),options:y1(r.options)}}visitQuery(r,e){const s=e.currentQuerySelector,o=r.options||{};e.queryCount++,e.currentQuery=r;const[a,D]=function(i){const r=!!i.split(/\s*,\s*/).find(e=>":self"==e);return r&&(i=i.replace(CJ,"")),[i=i.replace(/@\*/g,iR).replace(/@\w+/g,e=>iR+"-"+e.substr(1)).replace(/:animating/g,zP),r]}(r.selector);e.currentQuerySelector=s.length?s+" "+a:a,Gu(e.collectedStyles,e.currentQuerySelector,{});const k=qu(this,ik(r.animation),e);return e.currentQuery=null,e.currentQuerySelector=s,{type:11,selector:a,limit:o.limit||0,optional:!!o.optional,includeSelf:D,animation:k,originalSelector:r.selector,options:y1(r.options)}}visitStagger(r,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const s="full"===r.timings?{duration:0,delay:0,easing:"full"}:sR(r.timings,e.errors,!0);return{type:12,animation:qu(this,ik(r.animation),e),timings:s,options:null}}}class DJ{constructor(r){this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function dR(i){return!Array.isArray(i)&&"object"==typeof i}function y1(i){return i?(i=EM(i)).params&&(i.params=function(i){return i?EM(i):null}(i.params)):i={},i}function YP(i,r,e){return{duration:i,delay:r,easing:e}}function WP(i,r,e,s,o,a,D=null,k=!1){return{type:1,element:i,keyframes:r,preStyleProps:e,postStyleProps:s,duration:o,delay:a,totalTime:o+a,easing:D,subTimeline:k}}class hR{constructor(){this._map=new Map}consume(r){let e=this._map.get(r);return e?this._map.delete(r):e=[],e}append(r,e){let s=this._map.get(r);s||this._map.set(r,s=[]),s.push(...e)}has(r){return this._map.has(r)}clear(){this._map.clear()}}const IJ=new RegExp(":enter","g"),OJ=new RegExp(":leave","g");function $P(i,r,e,s,o,a={},D={},k,N,B=[]){return(new NJ).buildKeyframes(i,r,e,s,o,a,D,k,N,B)}class NJ{buildKeyframes(r,e,s,o,a,D,k,N,B,G=[]){B=B||new hR;const $=new KP(r,e,B,o,a,G,[]);$.options=N,$.currentTimeline.setStyles([D],null,$.errors,N),qu(this,s,$);const re=$.timelines.filter(oe=>oe.containsAnimation());if(re.length&&Object.keys(k).length){const oe=re[re.length-1];oe.allowOnlyTimelineStyles()||oe.setStyles([k],null,$.errors,N)}return re.length?re.map(oe=>oe.buildKeyframes()):[WP(e,[],[],[],0,0,"",!1)]}visitTrigger(r,e){}visitState(r,e){}visitTransition(r,e){}visitAnimateChild(r,e){const s=e.subInstructions.consume(e.element);if(s){const o=e.createSubContext(r.options),a=e.currentTimeline.currentTime,D=this._visitSubInstructions(s,o,o.options);a!=D&&e.transformIntoNewTimeline(D)}e.previousNode=r}visitAnimateRef(r,e){const s=e.createSubContext(r.options);s.transformIntoNewTimeline(),this.visitReference(r.animation,s),e.transformIntoNewTimeline(s.currentTimeline.currentTime),e.previousNode=r}_visitSubInstructions(r,e,s){let a=e.currentTimeline.currentTime;const D=null!=s.duration?_1(s.duration):null,k=null!=s.delay?_1(s.delay):null;return 0!==D&&r.forEach(N=>{const B=e.appendInstructionToTimeline(N,D,k);a=Math.max(a,B.duration+B.delay)}),a}visitReference(r,e){e.updateOptions(r.options,!0),qu(this,r.animation,e),e.previousNode=r}visitSequence(r,e){const s=e.subContextCount;let o=e;const a=r.options;if(a&&(a.params||a.delay)&&(o=e.createSubContext(a),o.transformIntoNewTimeline(),null!=a.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=fR);const D=_1(a.delay);o.delayNextStep(D)}r.steps.length&&(r.steps.forEach(D=>qu(this,D,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>s&&o.transformIntoNewTimeline()),e.previousNode=r}visitGroup(r,e){const s=[];let o=e.currentTimeline.currentTime;const a=r.options&&r.options.delay?_1(r.options.delay):0;r.steps.forEach(D=>{const k=e.createSubContext(r.options);a&&k.delayNextStep(a),qu(this,D,k),o=Math.max(o,k.currentTimeline.currentTime),s.push(k.currentTimeline)}),s.forEach(D=>e.currentTimeline.mergeTimelineCollectedStyles(D)),e.transformIntoNewTimeline(o),e.previousNode=r}_visitTiming(r,e){if(r.dynamic){const s=r.strValue;return sR(e.params?oR(s,e.params,e.errors):s,e.errors)}return{duration:r.duration,delay:r.delay,easing:r.easing}}visitAnimate(r,e){const s=e.currentAnimateTimings=this._visitTiming(r.timings,e),o=e.currentTimeline;s.delay&&(e.incrementTime(s.delay),o.snapshotCurrentStyles());const a=r.style;5==a.type?this.visitKeyframes(a,e):(e.incrementTime(s.duration),this.visitStyle(a,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=r}visitStyle(r,e){const s=e.currentTimeline,o=e.currentAnimateTimings;!o&&s.getCurrentStyleProperties().length&&s.forwardFrame();const a=o&&o.easing||r.easing;r.isEmptyStep?s.applyEmptyStep(a):s.setStyles(r.styles,a,e.errors,e.options),e.previousNode=r}visitKeyframes(r,e){const s=e.currentAnimateTimings,o=e.currentTimeline.duration,a=s.duration,k=e.createSubContext().currentTimeline;k.easing=s.easing,r.styles.forEach(N=>{k.forwardTime((N.offset||0)*a),k.setStyles(N.styles,N.easing,e.errors,e.options),k.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(k),e.transformIntoNewTimeline(o+a),e.previousNode=r}visitQuery(r,e){const s=e.currentTimeline.currentTime,o=r.options||{},a=o.delay?_1(o.delay):0;a&&(6===e.previousNode.type||0==s&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=fR);let D=s;const k=e.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=k.length;let N=null;k.forEach((B,G)=>{e.currentQueryIndex=G;const $=e.createSubContext(r.options,B);a&&$.delayNextStep(a),B===e.element&&(N=$.currentTimeline),qu(this,r.animation,$),$.currentTimeline.applyStylesToKeyframe(),D=Math.max(D,$.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(D),N&&(e.currentTimeline.mergeTimelineCollectedStyles(N),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=r}visitStagger(r,e){const s=e.parentContext,o=e.currentTimeline,a=r.timings,D=Math.abs(a.duration),k=D*(e.currentQueryTotal-1);let N=D*e.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":N=k-N;break;case"full":N=s.currentStaggerTime}const G=e.currentTimeline;N&&G.delayNextStep(N);const $=G.currentTime;qu(this,r.animation,e),e.previousNode=r,s.currentStaggerTime=o.currentTime-$+(o.startTime-s.currentTimeline.startTime)}}const fR={};class KP{constructor(r,e,s,o,a,D,k,N){this._driver=r,this.element=e,this.subInstructions=s,this._enterClassName=o,this._leaveClassName=a,this.errors=D,this.timelines=k,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=fR,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=N||new pR(this._driver,e,0),k.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(r,e){if(!r)return;const s=r;let o=this.options;null!=s.duration&&(o.duration=_1(s.duration)),null!=s.delay&&(o.delay=_1(s.delay));const a=s.params;if(a){let D=o.params;D||(D=this.options.params={}),Object.keys(a).forEach(k=>{(!e||!D.hasOwnProperty(k))&&(D[k]=oR(a[k],D,this.errors))})}}_copyOptions(){const r={};if(this.options){const e=this.options.params;if(e){const s=r.params={};Object.keys(e).forEach(o=>{s[o]=e[o]})}}return r}createSubContext(r=null,e,s){const o=e||this.element,a=new KP(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,s||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(r),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(r){return this.previousNode=fR,this.currentTimeline=this.currentTimeline.fork(this.element,r),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(r,e,s){const o={duration:null!=e?e:r.duration,delay:this.currentTimeline.currentTime+(null!=s?s:0)+r.delay,easing:""},a=new PJ(this._driver,r.element,r.keyframes,r.preStyleProps,r.postStyleProps,o,r.stretchStartingKeyframe);return this.timelines.push(a),o}incrementTime(r){this.currentTimeline.forwardTime(this.currentTimeline.duration+r)}delayNextStep(r){r>0&&this.currentTimeline.delayNextStep(r)}invokeQuery(r,e,s,o,a,D){let k=[];if(o&&k.push(this.element),r.length>0){r=(r=r.replace(IJ,"."+this._enterClassName)).replace(OJ,"."+this._leaveClassName);let B=this._driver.query(this.element,r,1!=s);0!==s&&(B=s<0?B.slice(B.length+s,B.length):B.slice(0,s)),k.push(...B)}return!a&&0==k.length&&D.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),k}}class pR{constructor(r,e,s,o){this._driver=r,this.element=e,this.startTime=s,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(r){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+r),e&&this.snapshotCurrentStyles()):this.startTime+=r}fork(r,e){return this.applyStylesToKeyframe(),new pR(this._driver,r,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(r){this.applyStylesToKeyframe(),this.duration=r,this._loadKeyframe()}_updateStyle(r,e){this._localTimelineStyles[r]=e,this._globalTimelineStyles[r]=e,this._styleSummary[r]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(r){r&&(this._previousKeyframe.easing=r),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Eg,this._currentKeyframe[e]=Eg}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(r,e,s,o){e&&(this._previousKeyframe.easing=e);const a=o&&o.params||{},D=function(i,r){const e={};let s;return i.forEach(o=>{"*"===o?(s=s||Object.keys(r),s.forEach(a=>{e[a]=Eg})):sv(o,!1,e)}),e}(r,this._globalTimelineStyles);Object.keys(D).forEach(k=>{const N=oR(D[k],a,s);this._pendingStyles[k]=N,this._localTimelineStyles.hasOwnProperty(k)||(this._backFill[k]=this._globalTimelineStyles.hasOwnProperty(k)?this._globalTimelineStyles[k]:Eg),this._updateStyle(k,N)})}applyStylesToKeyframe(){const r=this._pendingStyles,e=Object.keys(r);0!=e.length&&(this._pendingStyles={},e.forEach(s=>{this._currentKeyframe[s]=r[s]}),Object.keys(this._localTimelineStyles).forEach(s=>{this._currentKeyframe.hasOwnProperty(s)||(this._currentKeyframe[s]=this._localTimelineStyles[s])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(r=>{const e=this._localTimelineStyles[r];this._pendingStyles[r]=e,this._updateStyle(r,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const r=[];for(let e in this._currentKeyframe)r.push(e);return r}mergeTimelineCollectedStyles(r){Object.keys(r._styleSummary).forEach(e=>{const s=this._styleSummary[e],o=r._styleSummary[e];(!s||o.time>s.time)&&this._updateStyle(e,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const r=new Set,e=new Set,s=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((k,N)=>{const B=sv(k,!0);Object.keys(B).forEach(G=>{const $=B[G];"!"==$?r.add(G):$==Eg&&e.add(G)}),s||(B.offset=N/this.duration),o.push(B)});const a=r.size?aR(r.values()):[],D=e.size?aR(e.values()):[];if(s){const k=o[0],N=EM(k);k.offset=0,N.offset=1,o=[k,N]}return WP(this.element,o,a,D,this.duration,this.startTime,this.easing,!1)}}class PJ extends pR{constructor(r,e,s,o,a,D,k=!1){super(r,e,D.delay),this.keyframes=s,this.preStyleProps=o,this.postStyleProps=a,this._stretchStartingKeyframe=k,this.timings={duration:D.duration,delay:D.delay,easing:D.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let r=this.keyframes,{delay:e,duration:s,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const a=[],D=s+e,k=e/D,N=sv(r[0],!1);N.offset=0,a.push(N);const B=sv(r[0],!1);B.offset=sV(k),a.push(B);const G=r.length-1;for(let $=1;$<=G;$++){let re=sv(r[$],!1);re.offset=sV((e+re.offset*s)/D),a.push(re)}s=D,e=0,o="",r=a}return WP(this.element,r,this.preStyleProps,this.postStyleProps,s,e,o,!0)}}function sV(i,r=3){const e=Math.pow(10,r-1);return Math.round(i*e)/e}class ZP{}class LJ extends ZP{normalizePropertyName(r,e){return GP(r)}normalizeStyleValue(r,e,s,o){let a="";const D=s.toString().trim();if(BJ[e]&&0!==s&&"0"!==s)if("number"==typeof s)a="px";else{const k=s.match(/^[+-]?[\d\.]+([a-z]*)$/);k&&0==k[1].length&&o.push(`Please provide a CSS unit value for ${r}:${s}`)}return D+a}}const BJ=(()=>function(i){const r={};return i.forEach(e=>r[e]=!0),r}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function oV(i,r,e,s,o,a,D,k,N,B,G,$,re){return{type:0,element:i,triggerName:r,isRemovalTransition:o,fromState:e,fromStyles:a,toState:s,toStyles:D,timelines:k,queriedElements:N,preStyleProps:B,postStyleProps:G,totalTime:$,errors:re}}const JP={};class aV{constructor(r,e,s){this._triggerName=r,this.ast=e,this._stateStyles=s}match(r,e,s,o){return function(i,r,e,s,o){return i.some(a=>a(r,e,s,o))}(this.ast.matchers,r,e,s,o)}buildStyles(r,e,s){const o=this._stateStyles["*"],a=this._stateStyles[r],D=o?o.buildStyles(e,s):{};return a?a.buildStyles(e,s):D}build(r,e,s,o,a,D,k,N,B,G){const $=[],re=this.ast.options&&this.ast.options.params||JP,_e=this.buildStyles(s,k&&k.params||JP,$),ze=N&&N.params||JP,mt=this.buildStyles(o,ze,$),Ft=new Set,Pt=new Map,dn=new Map,fn="void"===o,Hn={params:Object.assign(Object.assign({},re),ze)},er=G?[]:$P(r,e,this.ast.animation,a,D,_e,mt,Hn,B,$);let Sr=0;if(er.forEach(Br=>{Sr=Math.max(Br.duration+Br.delay,Sr)}),$.length)return oV(e,this._triggerName,s,o,fn,_e,mt,[],[],Pt,dn,Sr,$);er.forEach(Br=>{const Ur=Br.element,Fs=Gu(Pt,Ur,{});Br.preStyleProps.forEach(fs=>Fs[fs]=!0);const Cs=Gu(dn,Ur,{});Br.postStyleProps.forEach(fs=>Cs[fs]=!0),Ur!==e&&Ft.add(Ur)});const yr=aR(Ft.values());return oV(e,this._triggerName,s,o,fn,_e,mt,er,yr,Pt,dn,Sr)}}class HJ{constructor(r,e,s){this.styles=r,this.defaultParams=e,this.normalizer=s}buildStyles(r,e){const s={},o=EM(this.defaultParams);return Object.keys(r).forEach(a=>{const D=r[a];null!=D&&(o[a]=D)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const D=a;Object.keys(D).forEach(k=>{let N=D[k];N.length>1&&(N=oR(N,o,e));const B=this.normalizer.normalizePropertyName(k,e);N=this.normalizer.normalizeStyleValue(k,B,N,e),s[B]=N})}}),s}}class GJ{constructor(r,e,s){this.name=r,this.ast=e,this._normalizer=s,this.transitionFactories=[],this.states={},e.states.forEach(o=>{this.states[o.name]=new HJ(o.style,o.options&&o.options.params||{},s)}),lV(this.states,"true","1"),lV(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new aV(r,o,this.states))}),this.fallbackTransition=function(i,r,e){return new aV(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(D,k)=>!0],options:null,queryCount:0,depCount:0},r)}(r,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(r,e,s,o){return this.transitionFactories.find(D=>D.match(r,e,s,o))||null}matchStyles(r,e,s){return this.fallbackTransition.buildStyles(r,e,s)}}function lV(i,r,e){i.hasOwnProperty(r)?i.hasOwnProperty(e)||(i[e]=i[r]):i.hasOwnProperty(e)&&(i[r]=i[e])}const jJ=new hR;class YJ{constructor(r,e,s){this.bodyNode=r,this._driver=e,this._normalizer=s,this._animations={},this._playersById={},this.players=[]}register(r,e){const s=[],o=jP(this._driver,e,s);if(s.length)throw new Error(`Unable to build the animation due to the following errors: ${s.join("\n")}`);this._animations[r]=o}_buildPlayer(r,e,s){const o=r.element,a=H9(0,this._normalizer,0,r.keyframes,e,s);return this._driver.animate(o,a,r.duration,r.delay,r.easing,[],!0)}create(r,e,s={}){const o=[],a=this._animations[r];let D;const k=new Map;if(a?(D=$P(this._driver,e,a,VP,nR,{},{},s,jJ,o),D.forEach(G=>{const $=Gu(k,G.element,{});G.postStyleProps.forEach(re=>$[re]=null)})):(o.push("The requested animation doesn't exist or has already been destroyed"),D=[]),o.length)throw new Error(`Unable to create the animation due to the following errors: ${o.join("\n")}`);k.forEach((G,$)=>{Object.keys(G).forEach(re=>{G[re]=this._driver.computeStyle($,re,Eg)})});const B=iv(D.map(G=>{const $=k.get(G.element);return this._buildPlayer(G,{},$)}));return this._playersById[r]=B,B.onDestroy(()=>this.destroy(r)),this.players.push(B),B}destroy(r){const e=this._getPlayer(r);e.destroy(),delete this._playersById[r];const s=this.players.indexOf(e);s>=0&&this.players.splice(s,1)}_getPlayer(r){const e=this._playersById[r];if(!e)throw new Error(`Unable to find the timeline player referenced by ${r}`);return e}listen(r,e,s,o){const a=RP(e,"","","");return AP(this._getPlayer(r),s,a,o),()=>{}}command(r,e,s,o){if("register"==s)return void this.register(r,o[0]);if("create"==s)return void this.create(r,e,o[0]||{});const a=this._getPlayer(r);switch(s){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(r)}}}const cV="ng-animate-queued",uV="ng-animate-disabled",dV=".ng-animate-disabled",ZJ=[],hV={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},JJ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},jd="__ng_removed";class QP{constructor(r,e=""){this.namespaceId=e;const s=r&&r.hasOwnProperty("value");if(this.value=function(i){return null!=i?i:null}(s?r.value:r),s){const a=EM(r);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(r){const e=r.params;if(e){const s=this.options.params;Object.keys(e).forEach(o=>{null==s[o]&&(s[o]=e[o])})}}}const sk="void",XP=new QP(sk);class QJ{constructor(r,e,s){this.id=r,this.hostElement=e,this._engine=s,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,Yd(e,this._hostClassName)}listen(r,e,s,o){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${s}" because the animation trigger "${e}" doesn't exist!`);if(null==s||0==s.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(i){return"start"==i||"done"==i}(s))throw new Error(`The provided animation trigger event "${s}" for the animation trigger "${e}" is not supported!`);const a=Gu(this._elementListeners,r,[]),D={name:e,phase:s,callback:o};a.push(D);const k=Gu(this._engine.statesByElement,r,{});return k.hasOwnProperty(e)||(Yd(r,rR),Yd(r,rR+"-"+e),k[e]=XP),()=>{this._engine.afterFlush(()=>{const N=a.indexOf(D);N>=0&&a.splice(N,1),this._triggers[e]||delete k[e]})}}register(r,e){return!this._triggers[r]&&(this._triggers[r]=e,!0)}_getTrigger(r){const e=this._triggers[r];if(!e)throw new Error(`The provided animation trigger "${r}" has not been registered!`);return e}trigger(r,e,s,o=!0){const a=this._getTrigger(e),D=new e8(this.id,e,r);let k=this._engine.statesByElement.get(r);k||(Yd(r,rR),Yd(r,rR+"-"+e),this._engine.statesByElement.set(r,k={}));let N=k[e];const B=new QP(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&N&&B.absorbOptions(N.options),k[e]=B,N||(N=XP),B.value!==sk&&N.value===B.value){if(!function(i,r){const e=Object.keys(i),s=Object.keys(r);if(e.length!=s.length)return!1;for(let o=0;o<e.length;o++){const a=e[o];if(!r.hasOwnProperty(a)||i[a]!==r[a])return!1}return!0}(N.params,B.params)){const ze=[],mt=a.matchStyles(N.value,N.params,ze),Ft=a.matchStyles(B.value,B.params,ze);ze.length?this._engine.reportError(ze):this._engine.afterFlush(()=>{v1(r,mt),xp(r,Ft)})}return}const re=Gu(this._engine.playersByElement,r,[]);re.forEach(ze=>{ze.namespaceId==this.id&&ze.triggerName==e&&ze.queued&&ze.destroy()});let oe=a.matchTransition(N.value,B.value,r,B.params),_e=!1;if(!oe){if(!o)return;oe=a.fallbackTransition,_e=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:e,transition:oe,fromState:N,toState:B,player:D,isFallbackTransition:_e}),_e||(Yd(r,cV),D.onStart(()=>{DM(r,cV)})),D.onDone(()=>{let ze=this.players.indexOf(D);ze>=0&&this.players.splice(ze,1);const mt=this._engine.playersByElement.get(r);if(mt){let Ft=mt.indexOf(D);Ft>=0&&mt.splice(Ft,1)}}),this.players.push(D),re.push(D),D}deregister(r){delete this._triggers[r],this._engine.statesByElement.forEach((e,s)=>{delete e[r]}),this._elementListeners.forEach((e,s)=>{this._elementListeners.set(s,e.filter(o=>o.name!=r))})}clearElementCache(r){this._engine.statesByElement.delete(r),this._elementListeners.delete(r);const e=this._engine.playersByElement.get(r);e&&(e.forEach(s=>s.destroy()),this._engine.playersByElement.delete(r))}_signalRemovalForInnerTriggers(r,e){const s=this._engine.driver.query(r,iR,!0);s.forEach(o=>{if(o[jd])return;const a=this._engine.fetchNamespacesByElement(o);a.size?a.forEach(D=>D.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(r,e,s,o){const a=this._engine.statesByElement.get(r);if(a){const D=[];if(Object.keys(a).forEach(k=>{if(this._triggers[k]){const N=this.trigger(r,k,sk,o);N&&D.push(N)}}),D.length)return this._engine.markElementAsRemoved(this.id,r,!0,e),s&&iv(D).onDone(()=>this._engine.processLeaveNode(r)),!0}return!1}prepareLeaveAnimationListeners(r){const e=this._elementListeners.get(r),s=this._engine.statesByElement.get(r);if(e&&s){const o=new Set;e.forEach(a=>{const D=a.name;if(o.has(D))return;o.add(D);const N=this._triggers[D].fallbackTransition,B=s[D]||XP,G=new QP(sk),$=new e8(this.id,D,r);this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:D,transition:N,fromState:B,toState:G,player:$,isFallbackTransition:!0})})}}removeNode(r,e){const s=this._engine;if(r.childElementCount&&this._signalRemovalForInnerTriggers(r,e),this.triggerLeaveAnimation(r,e,!0))return;let o=!1;if(s.totalAnimations){const a=s.players.length?s.playersByQueriedElement.get(r):[];if(a&&a.length)o=!0;else{let D=r;for(;D=D.parentNode;)if(s.statesByElement.get(D)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(r),o)s.markElementAsRemoved(this.id,r,!1,e);else{const a=r[jd];(!a||a===hV)&&(s.afterFlush(()=>this.clearElementCache(r)),s.destroyInnerAnimations(r),s._onRemovalComplete(r,e))}}insertNode(r,e){Yd(r,this._hostClassName)}drainQueuedTransitions(r){const e=[];return this._queue.forEach(s=>{const o=s.player;if(o.destroyed)return;const a=s.element,D=this._elementListeners.get(a);D&&D.forEach(k=>{if(k.name==s.triggerName){const N=RP(a,s.triggerName,s.fromState.value,s.toState.value);N._data=r,AP(s.player,k.phase,N,k.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(s)}),this._queue=[],e.sort((s,o)=>{const a=s.transition.ast.depCount,D=o.transition.ast.depCount;return 0==a||0==D?a-D:this._engine.driver.containsElement(s.element,o.element)?1:-1})}destroy(r){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,r)}elementContainsData(r){let e=!1;return this._elementListeners.has(r)&&(e=!0),e=!!this._queue.find(s=>s.element===r)||e,e}}class XJ{constructor(r,e,s){this.bodyNode=r,this.driver=e,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,a)=>{}}_onRemovalComplete(r,e){this.onRemovalComplete(r,e)}get queuedPlayers(){const r=[];return this._namespaceList.forEach(e=>{e.players.forEach(s=>{s.queued&&r.push(s)})}),r}createNamespace(r,e){const s=new QJ(r,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(s,e):(this.newHostElements.set(e,s),this.collectEnterElement(e)),this._namespaceLookup[r]=s}_balanceNamespaceList(r,e){const s=this._namespaceList.length-1;if(s>=0){let o=!1;for(let a=s;a>=0;a--)if(this.driver.containsElement(this._namespaceList[a].hostElement,e)){this._namespaceList.splice(a+1,0,r),o=!0;break}o||this._namespaceList.splice(0,0,r)}else this._namespaceList.push(r);return this.namespacesByHostElement.set(e,r),r}register(r,e){let s=this._namespaceLookup[r];return s||(s=this.createNamespace(r,e)),s}registerTrigger(r,e,s){let o=this._namespaceLookup[r];o&&o.register(e,s)&&this.totalAnimations++}destroy(r,e){if(!r)return;const s=this._fetchNamespace(r);this.afterFlush(()=>{this.namespacesByHostElement.delete(s.hostElement),delete this._namespaceLookup[r];const o=this._namespaceList.indexOf(s);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>s.destroy(e))}_fetchNamespace(r){return this._namespaceLookup[r]}fetchNamespacesByElement(r){const e=new Set,s=this.statesByElement.get(r);if(s){const o=Object.keys(s);for(let a=0;a<o.length;a++){const D=s[o[a]].namespaceId;if(D){const k=this._fetchNamespace(D);k&&e.add(k)}}}return e}trigger(r,e,s,o){if(mR(e)){const a=this._fetchNamespace(r);if(a)return a.trigger(e,s,o),!0}return!1}insertNode(r,e,s,o){if(!mR(e))return;const a=e[jd];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const D=this.collectedLeaveElements.indexOf(e);D>=0&&this.collectedLeaveElements.splice(D,1)}if(r){const D=this._fetchNamespace(r);D&&D.insertNode(e,s)}o&&this.collectEnterElement(e)}collectEnterElement(r){this.collectedEnterElements.push(r)}markElementAsDisabled(r,e){e?this.disabledNodes.has(r)||(this.disabledNodes.add(r),Yd(r,uV)):this.disabledNodes.has(r)&&(this.disabledNodes.delete(r),DM(r,uV))}removeNode(r,e,s,o){if(mR(e)){const a=r?this._fetchNamespace(r):null;if(a?a.removeNode(e,o):this.markElementAsRemoved(r,e,!1,o),s){const D=this.namespacesByHostElement.get(e);D&&D.id!==r&&D.removeNode(e,o)}}else this._onRemovalComplete(e,o)}markElementAsRemoved(r,e,s,o){this.collectedLeaveElements.push(e),e[jd]={namespaceId:r,setForRemoval:o,hasAnimation:s,removedBeforeQueried:!1}}listen(r,e,s,o,a){return mR(e)?this._fetchNamespace(r).listen(e,s,o,a):()=>{}}_buildInstruction(r,e,s,o,a){return r.transition.build(this.driver,r.element,r.fromState.value,r.toState.value,s,o,r.fromState.options,r.toState.options,e,a)}destroyInnerAnimations(r){let e=this.driver.query(r,iR,!0);e.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(r,zP,!0),e.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(r){const e=this.playersByElement.get(r);e&&e.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(r){const e=this.playersByQueriedElement.get(r);e&&e.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(r=>{if(this.players.length)return iv(this.players).onDone(()=>r());r()})}processLeaveNode(r){const e=r[jd];if(e&&e.setForRemoval){if(r[jd]=hV,e.namespaceId){this.destroyInnerAnimations(r);const s=this._fetchNamespace(e.namespaceId);s&&s.clearElementCache(r)}this._onRemovalComplete(r,e.setForRemoval)}this.driver.matchesElement(r,dV)&&this.markElementAsDisabled(r,!1),this.driver.query(r,dV,!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(r=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,o)=>this._balanceNamespaceList(s,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)Yd(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{e=this._flushAnimations(s,r)}finally{for(let o=0;o<s.length;o++)s[o]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],e.length?iv(e).onDone(()=>{s.forEach(o=>o())}):s.forEach(o=>o())}}reportError(r){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${r.join("\n")}`)}_flushAnimations(r,e){const s=new hR,o=[],a=new Map,D=[],k=new Map,N=new Map,B=new Map,G=new Set;this.disabledNodes.forEach(Nn=>{G.add(Nn);const hr=this.driver.query(Nn,".ng-animate-queued",!0);for(let Gr=0;Gr<hr.length;Gr++)G.add(hr[Gr])});const $=this.bodyNode,re=Array.from(this.statesByElement.keys()),oe=mV(re,this.collectedEnterElements),_e=new Map;let ze=0;oe.forEach((Nn,hr)=>{const Gr=VP+ze++;_e.set(hr,Gr),Nn.forEach(Ui=>Yd(Ui,Gr))});const mt=[],Ft=new Set,Pt=new Set;for(let Nn=0;Nn<this.collectedLeaveElements.length;Nn++){const hr=this.collectedLeaveElements[Nn],Gr=hr[jd];Gr&&Gr.setForRemoval&&(mt.push(hr),Ft.add(hr),Gr.hasAnimation?this.driver.query(hr,".ng-star-inserted",!0).forEach(Ui=>Ft.add(Ui)):Pt.add(hr))}const dn=new Map,fn=mV(re,Array.from(Ft));fn.forEach((Nn,hr)=>{const Gr=nR+ze++;dn.set(hr,Gr),Nn.forEach(Ui=>Yd(Ui,Gr))}),r.push(()=>{oe.forEach((Nn,hr)=>{const Gr=_e.get(hr);Nn.forEach(Ui=>DM(Ui,Gr))}),fn.forEach((Nn,hr)=>{const Gr=dn.get(hr);Nn.forEach(Ui=>DM(Ui,Gr))}),mt.forEach(Nn=>{this.processLeaveNode(Nn)})});const Hn=[],er=[];for(let Nn=this._namespaceList.length-1;Nn>=0;Nn--)this._namespaceList[Nn].drainQueuedTransitions(e).forEach(Gr=>{const Ui=Gr.player,Xa=Gr.element;if(Hn.push(Ui),this.collectedEnterElements.length){const Jp=Xa[jd];if(Jp&&Jp.setForMove)return void Ui.destroy()}const Zp=!$||!this.driver.containsElement($,Xa),Qu=dn.get(Xa),Iv=_e.get(Xa),Do=this._buildInstruction(Gr,s,Iv,Qu,Zp);if(Do.errors&&Do.errors.length)er.push(Do);else{if(Zp)return Ui.onStart(()=>v1(Xa,Do.fromStyles)),Ui.onDestroy(()=>xp(Xa,Do.toStyles)),void o.push(Ui);if(Gr.isFallbackTransition)return Ui.onStart(()=>v1(Xa,Do.fromStyles)),Ui.onDestroy(()=>xp(Xa,Do.toStyles)),void o.push(Ui);Do.timelines.forEach(Jp=>Jp.stretchStartingKeyframe=!0),s.append(Xa,Do.timelines),D.push({instruction:Do,player:Ui,element:Xa}),Do.queriedElements.forEach(Jp=>Gu(k,Jp,[]).push(Ui)),Do.preStyleProps.forEach((Jp,QA)=>{const h5=Object.keys(Jp);if(h5.length){let lw=N.get(QA);lw||N.set(QA,lw=new Set),h5.forEach(RB=>lw.add(RB))}}),Do.postStyleProps.forEach((Jp,QA)=>{const h5=Object.keys(Jp);let lw=B.get(QA);lw||B.set(QA,lw=new Set),h5.forEach(RB=>lw.add(RB))})}});if(er.length){const Nn=[];er.forEach(hr=>{Nn.push(`@${hr.triggerName} has failed due to:\n`),hr.errors.forEach(Gr=>Nn.push(`- ${Gr}\n`))}),Hn.forEach(hr=>hr.destroy()),this.reportError(Nn)}const Sr=new Map,yr=new Map;D.forEach(Nn=>{const hr=Nn.element;s.has(hr)&&(yr.set(hr,hr),this._beforeAnimationBuild(Nn.player.namespaceId,Nn.instruction,Sr))}),o.forEach(Nn=>{const hr=Nn.element;this._getPreviousPlayers(hr,!1,Nn.namespaceId,Nn.triggerName,null).forEach(Ui=>{Gu(Sr,hr,[]).push(Ui),Ui.destroy()})});const Br=mt.filter(Nn=>_V(Nn,N,B)),Ur=new Map;pV(Ur,this.driver,Pt,B,Eg).forEach(Nn=>{_V(Nn,N,B)&&Br.push(Nn)});const Cs=new Map;oe.forEach((Nn,hr)=>{pV(Cs,this.driver,new Set(Nn),N,"!")}),Br.forEach(Nn=>{const hr=Ur.get(Nn),Gr=Cs.get(Nn);Ur.set(Nn,Object.assign(Object.assign({},hr),Gr))});const fs=[],lu=[],Oa={};D.forEach(Nn=>{const{element:hr,player:Gr,instruction:Ui}=Nn;if(s.has(hr)){if(G.has(hr))return Gr.onDestroy(()=>xp(hr,Ui.toStyles)),Gr.disabled=!0,Gr.overrideTotalTime(Ui.totalTime),void o.push(Gr);let Xa=Oa;if(yr.size>1){let Qu=hr;const Iv=[];for(;Qu=Qu.parentNode;){const Do=yr.get(Qu);if(Do){Xa=Do;break}Iv.push(Qu)}Iv.forEach(Do=>yr.set(Do,Xa))}const Zp=this._buildAnimation(Gr.namespaceId,Ui,Sr,a,Cs,Ur);if(Gr.setRealPlayer(Zp),Xa===Oa)fs.push(Gr);else{const Qu=this.playersByElement.get(Xa);Qu&&Qu.length&&(Gr.parentPlayer=iv(Qu)),o.push(Gr)}}else v1(hr,Ui.fromStyles),Gr.onDestroy(()=>xp(hr,Ui.toStyles)),lu.push(Gr),G.has(hr)&&o.push(Gr)}),lu.forEach(Nn=>{const hr=a.get(Nn.element);if(hr&&hr.length){const Gr=iv(hr);Nn.setRealPlayer(Gr)}}),o.forEach(Nn=>{Nn.parentPlayer?Nn.syncPlayerEvents(Nn.parentPlayer):Nn.destroy()});for(let Nn=0;Nn<mt.length;Nn++){const hr=mt[Nn],Gr=hr[jd];if(DM(hr,nR),Gr&&Gr.hasAnimation)continue;let Ui=[];if(k.size){let Zp=k.get(hr);Zp&&Zp.length&&Ui.push(...Zp);let Qu=this.driver.query(hr,zP,!0);for(let Iv=0;Iv<Qu.length;Iv++){let Do=k.get(Qu[Iv]);Do&&Do.length&&Ui.push(...Do)}}const Xa=Ui.filter(Zp=>!Zp.destroyed);Xa.length?rQ(this,hr,Xa):this.processLeaveNode(hr)}return mt.length=0,fs.forEach(Nn=>{this.players.push(Nn),Nn.onDone(()=>{Nn.destroy();const hr=this.players.indexOf(Nn);this.players.splice(hr,1)}),Nn.play()}),fs}elementContainsData(r,e){let s=!1;const o=e[jd];return o&&o.setForRemoval&&(s=!0),this.playersByElement.has(e)&&(s=!0),this.playersByQueriedElement.has(e)&&(s=!0),this.statesByElement.has(e)&&(s=!0),this._fetchNamespace(r).elementContainsData(e)||s}afterFlush(r){this._flushFns.push(r)}afterFlushAnimationsDone(r){this._whenQuietFns.push(r)}_getPreviousPlayers(r,e,s,o,a){let D=[];if(e){const k=this.playersByQueriedElement.get(r);k&&(D=k)}else{const k=this.playersByElement.get(r);if(k){const N=!a||a==sk;k.forEach(B=>{B.queued||!N&&B.triggerName!=o||D.push(B)})}}return(s||o)&&(D=D.filter(k=>!(s&&s!=k.namespaceId||o&&o!=k.triggerName))),D}_beforeAnimationBuild(r,e,s){const a=e.element,D=e.isRemovalTransition?void 0:r,k=e.isRemovalTransition?void 0:e.triggerName;for(const N of e.timelines){const B=N.element,G=B!==a,$=Gu(s,B,[]);this._getPreviousPlayers(B,G,D,k,e.toState).forEach(oe=>{const _e=oe.getRealPlayer();_e.beforeDestroy&&_e.beforeDestroy(),oe.destroy(),$.push(oe)})}v1(a,e.fromStyles)}_buildAnimation(r,e,s,o,a,D){const k=e.triggerName,N=e.element,B=[],G=new Set,$=new Set,re=e.timelines.map(_e=>{const ze=_e.element;G.add(ze);const mt=ze[jd];if(mt&&mt.removedBeforeQueried)return new MM(_e.duration,_e.delay);const Ft=ze!==N,Pt=function(i){const r=[];return gV(i,r),r}((s.get(ze)||ZJ).map(Sr=>Sr.getRealPlayer())).filter(Sr=>!!Sr.element&&Sr.element===ze),dn=a.get(ze),fn=D.get(ze),Hn=H9(0,this._normalizer,0,_e.keyframes,dn,fn),er=this._buildPlayer(_e,Hn,Pt);if(_e.subTimeline&&o&&$.add(ze),Ft){const Sr=new e8(r,k,ze);Sr.setRealPlayer(er),B.push(Sr)}return er});B.forEach(_e=>{Gu(this.playersByQueriedElement,_e.element,[]).push(_e),_e.onDone(()=>function(i,r,e){let s;if(i instanceof Map){if(s=i.get(r),s){if(s.length){const o=s.indexOf(e);s.splice(o,1)}0==s.length&&i.delete(r)}}else if(s=i[r],s){if(s.length){const o=s.indexOf(e);s.splice(o,1)}0==s.length&&delete i[r]}return s}(this.playersByQueriedElement,_e.element,_e))}),G.forEach(_e=>Yd(_e,K9));const oe=iv(re);return oe.onDestroy(()=>{G.forEach(_e=>DM(_e,K9)),xp(N,e.toStyles)}),$.forEach(_e=>{Gu(o,_e,[]).push(oe)}),oe}_buildPlayer(r,e,s){return e.length>0?this.driver.animate(r.element,e,r.duration,r.delay,r.easing,s):new MM(r.duration,r.delay)}}class e8{constructor(r,e,s){this.namespaceId=r,this.triggerName=e,this.element=s,this._player=new MM,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(r){this._containsRealPlayer||(this._player=r,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(s=>AP(r,e,void 0,s))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(r.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(r){this.totalTime=r}syncPlayerEvents(r){const e=this._player;e.triggerCallback&&r.onStart(()=>e.triggerCallback("start")),r.onDone(()=>this.finish()),r.onDestroy(()=>this.destroy())}_queueEvent(r,e){Gu(this._queuedCallbacks,r,[]).push(e)}onDone(r){this.queued&&this._queueEvent("done",r),this._player.onDone(r)}onStart(r){this.queued&&this._queueEvent("start",r),this._player.onStart(r)}onDestroy(r){this.queued&&this._queueEvent("destroy",r),this._player.onDestroy(r)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(r){this.queued||this._player.setPosition(r)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(r){const e=this._player;e.triggerCallback&&e.triggerCallback(r)}}function mR(i){return i&&1===i.nodeType}function fV(i,r){const e=i.style.display;return i.style.display=null!=r?r:"none",e}function pV(i,r,e,s,o){const a=[];e.forEach(N=>a.push(fV(N)));const D=[];s.forEach((N,B)=>{const G={};N.forEach($=>{const re=G[$]=r.computeStyle(B,$,o);(!re||0==re.length)&&(B[jd]=JJ,D.push(B))}),i.set(B,G)});let k=0;return e.forEach(N=>fV(N,a[k++])),D}function mV(i,r){const e=new Map;if(i.forEach(k=>e.set(k,[])),0==r.length)return e;const o=new Set(r),a=new Map;function D(k){if(!k)return 1;let N=a.get(k);if(N)return N;const B=k.parentNode;return N=e.has(B)?B:o.has(B)?1:D(B),a.set(k,N),N}return r.forEach(k=>{const N=D(k);1!==N&&e.get(N).push(k)}),e}const gR="$$classes";function Yd(i,r){if(i.classList)i.classList.add(r);else{let e=i[gR];e||(e=i[gR]={}),e[r]=!0}}function DM(i,r){if(i.classList)i.classList.remove(r);else{let e=i[gR];e&&delete e[r]}}function rQ(i,r,e){iv(e).onDone(()=>i.processLeaveNode(r))}function gV(i,r){for(let e=0;e<i.length;e++){const s=i[e];s instanceof V9?gV(s.players,r):r.push(s)}}function _V(i,r,e){const s=e.get(i);if(!s)return!1;let o=r.get(i);return o?s.forEach(a=>o.add(a)):r.set(i,s),e.delete(i),!0}class _R{constructor(r,e,s){this.bodyNode=r,this._driver=e,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(o,a)=>{},this._transitionEngine=new XJ(r,e,s),this._timelineEngine=new YJ(r,e,s),this._transitionEngine.onRemovalComplete=(o,a)=>this.onRemovalComplete(o,a)}registerTrigger(r,e,s,o,a){const D=r+"-"+o;let k=this._triggerCache[D];if(!k){const N=[],B=jP(this._driver,a,N);if(N.length)throw new Error(`The animation trigger "${o}" has failed to build due to the following errors:\n - ${N.join("\n - ")}`);k=function(i,r,e){return new GJ(i,r,e)}(o,B,this._normalizer),this._triggerCache[D]=k}this._transitionEngine.registerTrigger(e,o,k)}register(r,e){this._transitionEngine.register(r,e)}destroy(r,e){this._transitionEngine.destroy(r,e)}onInsert(r,e,s,o){this._transitionEngine.insertNode(r,e,s,o)}onRemove(r,e,s,o){this._transitionEngine.removeNode(r,e,o||!1,s)}disableAnimations(r,e){this._transitionEngine.markElementAsDisabled(r,e)}process(r,e,s,o){if("@"==s.charAt(0)){const[a,D]=U9(s);this._timelineEngine.command(a,e,D,o)}else this._transitionEngine.trigger(r,e,s,o)}listen(r,e,s,o,a){if("@"==s.charAt(0)){const[D,k]=U9(s);return this._timelineEngine.listen(D,e,k,a)}return this._transitionEngine.listen(r,e,s,o,a)}flush(r=-1){this._transitionEngine.flush(r)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function vV(i,r){let e=null,s=null;return Array.isArray(r)&&r.length?(e=t8(r[0]),r.length>1&&(s=t8(r[r.length-1]))):r&&(e=t8(r)),e||s?new TM(i,e,s):null}class TM{constructor(r,e,s){this._element=r,this._startStyles=e,this._endStyles=s,this._state=0;let o=TM.initialStylesByElement.get(r);o||TM.initialStylesByElement.set(r,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&xp(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(xp(this._element,this._initialStyles),this._endStyles&&(xp(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(TM.initialStylesByElement.delete(this._element),this._startStyles&&(v1(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(v1(this._element,this._endStyles),this._endStyles=null),xp(this._element,this._initialStyles),this._state=3)}}function t8(i){let r=null;const e=Object.keys(i);for(let s=0;s<e.length;s++){const o=e[s];oQ(o)&&(r=r||{},r[o]=i[o])}return r}function oQ(i){return"display"===i||"position"===i}TM.initialStylesByElement=new WeakMap;const yV="animation",bV="animationend";class cQ{constructor(r,e,s,o,a,D,k){this._element=r,this._name=e,this._duration=s,this._delay=o,this._easing=a,this._fillMode=D,this._onDoneFn=k,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=N=>this._handleCallback(N)}apply(){(function(i,r){const e=r8(i,"").trim();let s=0;e.length&&(function(i,r){let e=0;for(let s=0;s<i.length;s++)","===i.charAt(s)&&e++;return e}(e)+1,r=`${e}, ${r}`),vR(i,"",r)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),SV(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){wV(this._element,this._name,"paused")}resume(){wV(this._element,this._name,"running")}setPosition(r){const e=CV(this._element,this._name);this._position=r*this._duration,vR(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(r){const e=r._ngTestManualTimestamp||Date.now(),s=1e3*parseFloat(r.elapsedTime.toFixed(3));r.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&s>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),SV(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(i,r){const s=r8(i,"").split(","),o=n8(s,r);o>=0&&(s.splice(o,1),vR(i,"",s.join(",")))}(this._element,this._name))}}function wV(i,r,e){vR(i,"PlayState",e,CV(i,r))}function CV(i,r){const e=r8(i,"");return e.indexOf(",")>0?n8(e.split(","),r):n8([e],r)}function n8(i,r){for(let e=0;e<i.length;e++)if(i[e].indexOf(r)>=0)return e;return-1}function SV(i,r,e){e?i.removeEventListener(bV,r):i.addEventListener(bV,r)}function vR(i,r,e,s){const o=yV+r;if(null!=s){const a=i.style[o];if(a.length){const D=a.split(",");D[s]=e,e=D.join(",")}}i.style[o]=e}function r8(i,r){return i.style[yV+r]||""}class MV{constructor(r,e,s,o,a,D,k,N){this.element=r,this.keyframes=e,this.animationName=s,this._duration=o,this._delay=a,this._finalStyles=k,this._specialStyles=N,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=D||"linear",this.totalTime=o+a,this._buildStyler()}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(r=>r()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(r=>r()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(r){this._styler.setPosition(r)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new cQ(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(r){const e="start"==r?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}beforeDestroy(){this.init();const r={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(s=>{"offset"!=s&&(r[s]=e?this._finalStyles[s]:qP(this.element,s))})}this.currentSnapshot=r}}class mQ extends MM{constructor(r,e){super(),this.element=r,this._startingStyles={},this.__initialized=!1,this._styles=Y9(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(r=>{this._startingStyles[r]=this.element.style[r]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(r=>this.element.style.setProperty(r,this._styles[r])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(r=>{const e=this._startingStyles[r];e?this.element.style.setProperty(r,e):this.element.style.removeProperty(r)}),this._startingStyles=null,super.destroy())}}class DV{constructor(){this._count=0}validateStyleProperty(r){return PP(r)}matchesElement(r,e){return FP(r,e)}containsElement(r,e){return LP(r,e)}query(r,e,s){return BP(r,e,s)}computeStyle(r,e,s){return window.getComputedStyle(r)[e]}buildKeyframeElement(r,e,s){s=s.map(k=>Y9(k));let o=`@keyframes ${e} {\n`,a="";s.forEach(k=>{a=" ";const N=parseFloat(k.offset);o+=`${a}${100*N}% {\n`,a+=" ",Object.keys(k).forEach(B=>{const G=k[B];switch(B){case"offset":return;case"easing":return void(G&&(o+=`${a}animation-timing-function: ${G};\n`));default:return void(o+=`${a}${B}: ${G};\n`)}}),o+=`${a}}\n`}),o+="}\n";const D=document.createElement("style");return D.textContent=o,D}animate(r,e,s,o,a,D=[],k){const N=D.filter(mt=>mt instanceof MV),B={};eV(s,o)&&N.forEach(mt=>{let Ft=mt.currentSnapshot;Object.keys(Ft).forEach(Pt=>B[Pt]=Ft[Pt])});const G=function(i){let r={};return i&&(Array.isArray(i)?i:[i]).forEach(s=>{Object.keys(s).forEach(o=>{"offset"==o||"easing"==o||(r[o]=s[o])})}),r}(e=tV(r,e,B));if(0==s)return new mQ(r,G);const $="gen_css_kf_"+this._count++,re=this.buildKeyframeElement(r,$,e);(function(i){var r;const e=null===(r=i.getRootNode)||void 0===r?void 0:r.call(i);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(r).appendChild(re);const _e=vV(r,e),ze=new MV(r,e,$,s,o,a,G,_e);return ze.onDestroy(()=>function(i){i.parentNode.removeChild(i)}(re)),ze}}class xV{constructor(r,e,s,o){this.element=r,this.keyframes=e,this.options=s,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const r=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,r,this.options),this._finalKeyframe=r.length?r[r.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(r,e,s){return r.animate(e,s)}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(r=>r()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}setPosition(r){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=r*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const r={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(r[e]=this._finished?this._finalKeyframe[e]:qP(this.element,e))}),this.currentSnapshot=r}triggerCallback(r){const e="start"==r?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}}class bQ{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(kV().toString()),this._cssKeyframesDriver=new DV}validateStyleProperty(r){return PP(r)}matchesElement(r,e){return FP(r,e)}containsElement(r,e){return LP(r,e)}query(r,e,s){return BP(r,e,s)}computeStyle(r,e,s){return window.getComputedStyle(r)[e]}overrideWebAnimationsSupport(r){this._isNativeImpl=r}animate(r,e,s,o,a,D=[],k){if(!k&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(r,e,s,o,a,D);const G={duration:s,delay:o,fill:0==o?"both":"forwards"};a&&(G.easing=a);const $={},re=D.filter(_e=>_e instanceof xV);eV(s,o)&&re.forEach(_e=>{let ze=_e.currentSnapshot;Object.keys(ze).forEach(mt=>$[mt]=ze[mt])});const oe=vV(r,e=tV(r,e=e.map(_e=>sv(_e,!1)),$));return new xV(r,e,G,oe)}}function kV(){return z9()&&Element.prototype.animate||{}}let CQ=(()=>{class i extends N9{constructor(e,s){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(s.body,{id:"0",encapsulation:C.ifc.None,styles:[],data:{animation:[]}})}build(e){const s=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?P9(e):e;return AV(this._renderer,null,s,"register",[o]),new SQ(s,this._renderer)}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(C.FYo),C.LFG(Ve))},i.\u0275prov=C.Yz7({token:i,factory:i.\u0275fac}),i})();class SQ extends class{}{constructor(r,e){super(),this._id=r,this._renderer=e}create(r,e){return new MQ(this._id,r,e||{},this._renderer)}}class MQ{constructor(r,e,s,o){this.id=r,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",s)}_listen(r,e){return this._renderer.listen(this.element,`@@${this.id}:${r}`,e)}_command(r,...e){return AV(this._renderer,this.element,this.id,r,e)}onDone(r){this._listen("done",r)}onStart(r){this._listen("start",r)}onDestroy(r){this._listen("destroy",r)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(r){this._command("setPosition",r)}getPosition(){var r,e;return null!==(e=null===(r=this._renderer.engine.players[+this.id])||void 0===r?void 0:r.getPosition())&&void 0!==e?e:0}}function AV(i,r,e,s,o){return i.setProperty(r,`@@${e}:${s}`,o)}const IV="@.disabled";let EQ=(()=>{class i{constructor(e,s,o){this.delegate=e,this.engine=s,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),s.onRemovalComplete=(a,D)=>{D&&D.parentNode(a)&&D.removeChild(a.parentNode,a)}}createRenderer(e,s){const a=this.delegate.createRenderer(e,s);if(!(e&&s&&s.data&&s.data.animation)){let G=this._rendererCache.get(a);return G||(G=new RV("",a,this.engine),this._rendererCache.set(a,G)),G}const D=s.id,k=s.id+"-"+this._currentId;this._currentId++,this.engine.register(k,e);const N=G=>{Array.isArray(G)?G.forEach(N):this.engine.registerTrigger(D,k,e,G.name,G)};return s.data.animation.forEach(N),new DQ(this,k,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,s,o){e>=0&&e<this._microtaskId?this._zone.run(()=>s(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[D,k]=a;D(k)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([s,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(C.FYo),C.LFG(_R),C.LFG(C.R0b))},i.\u0275prov=C.Yz7({token:i,factory:i.\u0275fac}),i})();class RV{constructor(r,e,s){this.namespaceId=r,this.delegate=e,this.engine=s,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(r,e){return this.delegate.createElement(r,e)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}appendChild(r,e){this.delegate.appendChild(r,e),this.engine.onInsert(this.namespaceId,e,r,!1)}insertBefore(r,e,s,o=!0){this.delegate.insertBefore(r,e,s),this.engine.onInsert(this.namespaceId,e,r,o)}removeChild(r,e,s){this.engine.onRemove(this.namespaceId,e,this.delegate,s)}selectRootElement(r,e){return this.delegate.selectRootElement(r,e)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,e,s,o){this.delegate.setAttribute(r,e,s,o)}removeAttribute(r,e,s){this.delegate.removeAttribute(r,e,s)}addClass(r,e){this.delegate.addClass(r,e)}removeClass(r,e){this.delegate.removeClass(r,e)}setStyle(r,e,s,o){this.delegate.setStyle(r,e,s,o)}removeStyle(r,e,s){this.delegate.removeStyle(r,e,s)}setProperty(r,e,s){"@"==e.charAt(0)&&e==IV?this.disableAnimations(r,!!s):this.delegate.setProperty(r,e,s)}setValue(r,e){this.delegate.setValue(r,e)}listen(r,e,s){return this.delegate.listen(r,e,s)}disableAnimations(r,e){this.engine.disableAnimations(r,e)}}class DQ extends RV{constructor(r,e,s,o){super(e,s,o),this.factory=r,this.namespaceId=e}setProperty(r,e,s){"@"==e.charAt(0)?"."==e.charAt(1)&&e==IV?this.disableAnimations(r,s=void 0===s||!!s):this.engine.process(this.namespaceId,r,e.substr(1),s):this.delegate.setProperty(r,e,s)}listen(r,e,s){if("@"==e.charAt(0)){const o=function(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(r);let a=e.substr(1),D="";return"@"!=a.charAt(0)&&([a,D]=function(i){const r=i.indexOf(".");return[i.substring(0,r),i.substr(r+1)]}(a)),this.engine.listen(this.namespaceId,o,a,D,k=>{this.factory.scheduleListenerCallback(k._data||-1,s,k)})}return this.delegate.listen(r,e,s)}}let kQ=(()=>{class i extends _R{constructor(e,s,o){super(e.body,s,o)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(Ve),C.LFG(tR),C.LFG(ZP))},i.\u0275prov=C.Yz7({token:i,factory:i.\u0275fac}),i})();const is=new C.OlP("AnimationModuleType"),OV=[{provide:N9,useClass:CQ},{provide:ZP,useFactory:function(){return new LJ}},{provide:_R,useClass:kQ},{provide:C.FYo,useFactory:function(i,r,e){return new EQ(i,r,e)},deps:[tl,_R,C.R0b]}],NV=[{provide:tR,useFactory:function(){return"function"==typeof kV()?new bQ:new DV}},{provide:is,useValue:"BrowserAnimations"},...OV],PV=[{provide:tR,useClass:W9},{provide:is,useValue:"NoopAnimations"},...OV];let OQ=(()=>{class i{static withConfig(e){return{ngModule:i,providers:e.disableAnimations?PV:NV}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({providers:NV,imports:[Mf]}),i})();var _l=$e(4402),kp=$e(9193);function b1(i){return new $i.y(r=>{let e;try{e=i()}catch(o){return void r.error(o)}return(e?(0,_l.D)(e):(0,kp.c)()).subscribe(r)})}var FV=$e(205),ok=$e(9796),NQ=$e(9105);function vl(i,r,e,s){return(0,NQ.m)(e)&&(s=e,e=void 0),s?vl(i,r,e).pipe((0,rr.U)(o=>(0,ok.k)(o)?s(...o):s(o))):new $i.y(o=>{LV(i,r,function(D){o.next(arguments.length>1?Array.prototype.slice.call(arguments):D)},o,e)})}function LV(i,r,e,s,o){let a;if(function(i){return i&&"function"==typeof i.addEventListener&&"function"==typeof i.removeEventListener}(i)){const D=i;i.addEventListener(r,e,o),a=()=>D.removeEventListener(r,e,o)}else if(function(i){return i&&"function"==typeof i.on&&"function"==typeof i.off}(i)){const D=i;i.on(r,e),a=()=>D.off(r,e)}else if(function(i){return i&&"function"==typeof i.addListener&&"function"==typeof i.removeListener}(i)){const D=i;i.addListener(r,e),a=()=>D.removeListener(r,e)}else{if(!i||!i.length)throw new TypeError("Invalid event target");for(let D=0,k=i.length;D<k;D++)LV(i[D],r,e,s,o)}s.add(a)}var bR=$e(3282);function ak(...i){return(0,bR.J)(1)((0,$n.of)(...i))}var ln=$e(9765),VQ=$e(8640);const w1=new $i.y(VQ.Z);var ss=$e(6682),Wd=$e(5345);function zo(i,r){return"function"==typeof r?e=>e.pipe(zo((s,o)=>(0,_l.D)(i(s,o)).pipe((0,rr.U)((a,D)=>r(s,a,o,D))))):e=>e.lift(new zQ(i))}class zQ{constructor(r){this.project=r}call(r,e){return e.subscribe(new HQ(r,this.project))}}class HQ extends Wd.Ds{constructor(r,e){super(r),this.project=e,this.index=0}_next(r){let e;const s=this.index++;try{e=this.project(r,s)}catch(o){return void this.destination.error(o)}this._innerSub(e)}_innerSub(r){const e=this.innerSubscription;e&&e.unsubscribe();const s=new Wd.IY(this),o=this.destination;o.add(s),this.innerSubscription=(0,Wd.ft)(r,s),this.innerSubscription!==s&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:r}=this;(!r||r.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(r){this.destination.next(r)}}var BV=$e(4458);const VV=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();function di(i){return r=>0===i?(0,kp.c)():r.lift(new GQ(i))}class GQ{constructor(r){if(this.total=r,this.total<0)throw new VV}call(r,e){return e.subscribe(new qQ(r,this.total))}}class qQ extends Hs.L{constructor(r,e){super(r),this.total=e,this.count=0}_next(r){const e=this.total,s=++this.count;s<=e&&(this.destination.next(r),s===e&&(this.destination.complete(),this.unsubscribe()))}}var ca=$e(8307),xM=$e(3637),zV=$e(3098);function lk(i,r=xM.P){const s=function(i){return i instanceof Date&&!isNaN(+i)}(i)?+i-r.now():Math.abs(i);return o=>o.lift(new YQ(s,r))}class YQ{constructor(r,e){this.delay=r,this.scheduler=e}call(r,e){return e.subscribe(new i8(r,this.delay,this.scheduler))}}class i8 extends Hs.L{constructor(r,e,s){super(r),this.delay=e,this.scheduler=s,this.queue=[],this.active=!1,this.errored=!1}static dispatch(r){const e=r.source,s=e.queue,o=r.scheduler,a=r.destination;for(;s.length>0&&s[0].time-o.now()<=0;)s.shift().notification.observe(a);if(s.length>0){const D=Math.max(0,s[0].time-o.now());this.schedule(r,D)}else this.unsubscribe(),e.active=!1}_schedule(r){this.active=!0,this.destination.add(r.schedule(i8.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))}scheduleNotification(r){if(!0===this.errored)return;const e=this.scheduler,s=new WQ(e.now()+this.delay,r);this.queue.push(s),!1===this.active&&this._schedule(e)}_next(r){this.scheduleNotification(zV.P.createNext(r))}_error(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()}_complete(){this.scheduleNotification(zV.P.createComplete()),this.unsubscribe()}}class WQ{constructor(r,e){this.time=r,this.notification=e}}const ck="Service workers are disabled or not supported by this browser";class wR{constructor(r){if(this.serviceWorker=r,r){const s=vl(r,"controllerchange").pipe((0,rr.U)(()=>r.controller)),a=ak(b1(()=>(0,$n.of)(r.controller)),s);this.worker=a.pipe(xr(G=>!!G)),this.registration=this.worker.pipe(zo(()=>r.getRegistration()));const B=vl(r,"message").pipe((0,rr.U)(G=>G.data)).pipe(xr(G=>G&&G.type)).pipe((0,BV.O)(new ln.xQ));B.connect(),this.events=B}else this.worker=this.events=this.registration=b1(()=>(0,FV._)(new Error("Service workers are disabled or not supported by this browser")))}postMessage(r,e){return this.worker.pipe(di(1),(0,ca.b)(s=>{s.postMessage(Object.assign({action:r},e))})).toPromise().then(()=>{})}postMessageWithStatus(r,e,s){const o=this.waitForStatus(s),a=this.postMessage(r,e);return Promise.all([o,a]).then(()=>{})}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(r){return this.events.pipe(xr(s=>s.type===r))}nextEventOfType(r){return this.eventsOfType(r).pipe(di(1))}waitForStatus(r){return this.eventsOfType("STATUS").pipe(xr(e=>e.nonce===r),di(1),(0,rr.U)(e=>{if(!e.status)throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let KQ=(()=>{class i{constructor(e){if(this.sw=e,this.subscriptionChanges=new ln.xQ,!e.isEnabled)return this.messages=w1,this.notificationClicks=w1,void(this.subscription=w1);this.messages=this.sw.eventsOfType("PUSH").pipe((0,rr.U)(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,rr.U)(o=>o.data)),this.pushManager=this.sw.registration.pipe((0,rr.U)(o=>o.pushManager));const s=this.pushManager.pipe(zo(o=>o.getSubscription()));this.subscription=(0,ss.T)(s,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(e){if(!this.sw.isEnabled)return Promise.reject(new Error(ck));const s={userVisibleOnly:!0};let o=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),a=new Uint8Array(new ArrayBuffer(o.length));for(let D=0;D<o.length;D++)a[D]=o.charCodeAt(D);return s.applicationServerKey=a,this.pushManager.pipe(zo(D=>D.subscribe(s)),di(1)).toPromise().then(D=>(this.subscriptionChanges.next(D),D))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(di(1),zo(s=>{if(null===s)throw new Error("Not subscribed to push notifications.");return s.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(ck))}decodeBase64(e){return atob(e)}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(wR))},i.\u0275prov=C.Yz7({token:i,factory:i.\u0275fac}),i})(),ZQ=(()=>{class i{constructor(e){if(this.sw=e,!e.isEnabled)return this.available=w1,this.activated=w1,void(this.unrecoverable=w1);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ck));const e=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ck));const e=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:e},e)}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(wR))},i.\u0275prov=C.Yz7({token:i,factory:i.\u0275fac}),i})();class s8{}const HV=new C.OlP("NGSW_REGISTER_SCRIPT");function JQ(i,r,e,s){return()=>{if(!sd(s)||!("serviceWorker"in navigator)||!1===e.enabled)return;let a;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)a=e.registrationStrategy();else{const[k,...N]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(k){case"registerImmediately":a=(0,$n.of)(null);break;case"registerWithDelay":a=UV(+N[0]||0);break;case"registerWhenStable":a=N[0]?(0,ss.T)(GV(i),UV(+N[0])):GV(i);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}i.get(C.R0b).runOutsideAngular(()=>a.pipe(di(1)).subscribe(()=>navigator.serviceWorker.register(r,{scope:e.scope}).catch(k=>console.error("Service worker registration failed with:",k))))}}function UV(i){return(0,$n.of)(null).pipe(lk(i))}function GV(i){return i.get(C.z2F).isStable.pipe(xr(e=>e))}function QQ(i,r){return new wR(sd(r)&&!1!==i.enabled?navigator.serviceWorker:void 0)}let XQ=(()=>{class i{static register(e,s={}){return{ngModule:i,providers:[{provide:HV,useValue:e},{provide:s8,useValue:s},{provide:wR,useFactory:QQ,deps:[s8,C.Lbi]},{provide:C.ip1,useFactory:JQ,deps:[C.zs3,HV,s8,C.Lbi],multi:!0}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({providers:[KQ,ZQ]}),i})();var ti=$e(5319),qV=$e(7971);class Xc extends ln.xQ{constructor(r){super(),this._value=r}get value(){return this.getValue()}_subscribe(r){const e=super._subscribe(r);return e&&!e.closed&&r.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new qV.N;return this._value}next(r){super.next(this._value=r)}}function uo(i,...r){return r.length?r.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}function ER(i,r=xM.P){return e=>e.lift(new cX(i,r))}class cX{constructor(r,e){this.dueTime=r,this.scheduler=e}call(r,e){return e.subscribe(new uX(r,this.dueTime,this.scheduler))}}class uX extends Hs.L{constructor(r,e,s){super(r),this.dueTime=e,this.scheduler=s,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(dX,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:r}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}}clearDebounce(){const r=this.debouncedSubscription;null!==r&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)}}function dX(i){i.debouncedNext()}class hX{constructor(r){this.total=r}call(r,e){return e.subscribe(new fX(r,this.total))}}class fX extends Hs.L{constructor(r,e){super(r),this.total=e,this.count=0}_next(r){++this.count>this.total&&this.destination.next(r)}}class pX{constructor(r,e){this.compare=r,this.keySelector=e}call(r,e){return e.subscribe(new mX(r,this.compare,this.keySelector))}}class mX extends Hs.L{constructor(r,e,s){super(r),this.keySelector=s,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(r,e){return r===e}_next(r){let e;try{const{keySelector:o}=this;e=o?o(r):r}catch(o){return this.destination.error(o)}let s=!1;if(this.hasKey)try{const{compare:o}=this;s=o(this.key,e)}catch(o){return this.destination.error(o)}else this.hasKey=!0;s||(this.key=e,this.destination.next(r))}}function Xn(i){return r=>r.lift(new gX(i))}class gX{constructor(r){this.notifier=r}call(r,e){const s=new _X(r),o=(0,Wd.ft)(this.notifier,new Wd.IY(s));return o&&!s.seenValue?(s.add(o),e.subscribe(s)):s}}class _X extends Wd.Ds{constructor(r){super(r),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function _n(i){return null!=i&&"false"!=`${i}`}function Mi(i,r=0){return function(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):r}function hk(i){return Array.isArray(i)?i:[i]}function ua(i){return null==i?"":"string"==typeof i?i:`${i}px`}function So(i){return i instanceof C.SBq?i.nativeElement:i}let l8;try{l8="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(i){l8=!1}let AM,Jr=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?sd(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!l8)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(C.Lbi))},i.\u0275prov=C.Yz7({factory:function(){return new i(C.LFG(C.Lbi))},token:i,providedIn:"root"}),i})(),kM=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({}),i})();const WV=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function $V(){if(AM)return AM;if("object"!=typeof document||!document)return AM=new Set(WV),AM;let i=document.createElement("input");return AM=new Set(WV.filter(r=>(i.setAttribute("type",r),i.type===r))),AM}let fk,S1,c8;function ef(i){return function(){if(null==fk&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>fk=!0}))}finally{fk=fk||!1}return fk}()?i:!!i.capture}function KV(){if(null==S1){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return S1=!1,S1;if("scrollBehavior"in document.documentElement.style)S1=!0;else{const i=Element.prototype.scrollTo;S1=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return S1}function TR(i){if(function(){if(null==c8){const i="undefined"!=typeof document?document.head:null;c8=!(!i||!i.createShadowRoot&&!i.attachShadow)}return c8}()){const r=i.getRootNode?i.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&r instanceof ShadowRoot)return r}return null}function Tg(){let i="undefined"!=typeof document&&document?document.activeElement:null;for(;i&&i.shadowRoot;){const r=i.shadowRoot.activeElement;if(r===i)break;i=r}return i}function Kd(i){return i.composedPath?i.composedPath()[0]:i.target}let u8=(()=>{class i{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=C.Yz7({factory:function(){return new i},token:i,providedIn:"root"}),i})(),ZV=(()=>{class i{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,s)=>this._cleanupObserver(s))}observe(e){const s=So(e);return new $i.y(o=>{const D=this._observeElement(s).subscribe(o);return()=>{D.unsubscribe(),this._unobserveElement(s)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const s=new ln.xQ,o=this._mutationObserverFactory.create(a=>s.next(a));o&&o.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:o,stream:s,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:s,stream:o}=this._observedElements.get(e);s&&s.disconnect(),o.complete(),this._observedElements.delete(e)}}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(u8))},i.\u0275prov=C.Yz7({factory:function(){return new i(C.LFG(u8))},token:i,providedIn:"root"}),i})(),mk=(()=>{class i{constructor(e,s,o){this._contentObserver=e,this._elementRef=s,this._ngZone=o,this.event=new C.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=_n(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Mi(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(ER(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(ZV),C.Y36(C.SBq),C.Y36(C.R0b))},i.\u0275dir=C.lG2({type:i,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),i})(),gk=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({providers:[u8]}),i})();class IM extends class{constructor(r){this._items=r,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ln.xQ,this._typeaheadSubscription=ti.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new ln.xQ,this.change=new ln.xQ,r instanceof C.n_E&&r.changes.subscribe(e=>{if(this._activeItem){const o=e.toArray().indexOf(this._activeItem);o>-1&&o!==this._activeItemIndex&&(this._activeItemIndex=o)}})}skipPredicate(r){return this._skipPredicateFn=r,this}withWrap(r=!0){return this._wrap=r,this}withVerticalOrientation(r=!0){return this._vertical=r,this}withHorizontalOrientation(r){return this._horizontal=r,this}withAllowedModifierKeys(r){return this._allowedModifierKeys=r,this}withTypeAhead(r=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,ca.b)(e=>this._pressedLetters.push(e)),ER(r),xr(()=>this._pressedLetters.length>0),(0,rr.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const s=this._getItemsArray();for(let o=1;o<s.length+1;o++){const a=(this._activeItemIndex+o)%s.length,D=s[a];if(!this._skipPredicateFn(D)&&0===D.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(a);break}}this._pressedLetters=[]}),this}withHomeAndEnd(r=!0){return this._homeAndEnd=r,this}setActiveItem(r){const e=this._activeItem;this.updateActiveItem(r),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(r){const e=r.keyCode,o=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!r[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&o){this.setNextItemActive();break}return;case 38:if(this._vertical&&o){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&o){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&o){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&o){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&o){this.setLastItemActive();break}return;default:return void((o||uo(r,"shiftKey"))&&(r.key&&1===r.key.length?this._letterKeyStream.next(r.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],r.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(r){const e=this._getItemsArray(),s="number"==typeof r?r:e.indexOf(r),o=e[s];this._activeItem=null==o?null:o,this._activeItemIndex=s}_setActiveItemByDelta(r){this._wrap?this._setActiveInWrapMode(r):this._setActiveInDefaultMode(r)}_setActiveInWrapMode(r){const e=this._getItemsArray();for(let s=1;s<=e.length;s++){const o=(this._activeItemIndex+r*s+e.length)%e.length;if(!this._skipPredicateFn(e[o]))return void this.setActiveItem(o)}}_setActiveInDefaultMode(r){this._setActiveItemByIndex(this._activeItemIndex+r,r)}_setActiveItemByIndex(r,e){const s=this._getItemsArray();if(s[r]){for(;this._skipPredicateFn(s[r]);)if(!s[r+=e])return;this.setActiveItem(r)}}_getItemsArray(){return this._items instanceof C.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(r){return this._origin=r,this}setActiveItem(r){super.setActiveItem(r),this.activeItem&&this.activeItem.focus(this._origin)}}let rz=(()=>{class i{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(i){return!!(i.offsetWidth||i.offsetHeight||"function"==typeof i.getClientRects&&i.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const s=function(i){try{return i.frameElement}catch(r){return null}}(function(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}(e));if(s&&(-1===sz(s)||!this.isVisible(s)))return!1;let o=e.nodeName.toLowerCase(),a=sz(e);return e.hasAttribute("contenteditable")?-1!==a:!("iframe"===o||"object"===o||this._platform.WEBKIT&&this._platform.IOS&&!function(i){let r=i.nodeName.toLowerCase(),e="input"===r&&i.type;return"text"===e||"password"===e||"select"===r||"textarea"===r}(e))&&("audio"===o?!!e.hasAttribute("controls")&&-1!==a:"video"===o?-1!==a&&(null!==a||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,s){return function(i){return!function(i){return function(i){return"input"==i.nodeName.toLowerCase()}(i)&&"hidden"==i.type}(i)&&(function(i){let r=i.nodeName.toLowerCase();return"input"===r||"select"===r||"button"===r||"textarea"===r}(i)||function(i){return function(i){return"a"==i.nodeName.toLowerCase()}(i)&&i.hasAttribute("href")}(i)||i.hasAttribute("contenteditable")||iz(i))}(e)&&!this.isDisabled(e)&&((null==s?void 0:s.ignoreVisibility)||this.isVisible(e))}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(Jr))},i.\u0275prov=C.Yz7({factory:function(){return new i(C.LFG(Jr))},token:i,providedIn:"root"}),i})();function iz(i){if(!i.hasAttribute("tabindex")||void 0===i.tabIndex)return!1;let r=i.getAttribute("tabindex");return"-32768"!=r&&!(!r||isNaN(parseInt(r,10)))}function sz(i){if(!iz(i))return null;const r=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(r)?-1:r}class NX{constructor(r,e,s,o,a=!1){this._element=r,this._checker=e,this._ngZone=s,this._document=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(r){this._enabled=r,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(r,this._startAnchor),this._toggleAnchorTabIndex(r,this._endAnchor))}destroy(){const r=this._startAnchor,e=this._endAnchor;r&&(r.removeEventListener("focus",this.startAnchorListener),r.parentNode&&r.parentNode.removeChild(r)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(r){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(r)))})}focusFirstTabbableElementWhenReady(r){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(r)))})}focusLastTabbableElementWhenReady(r){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(r)))})}_getRegionBoundary(r){let e=this._element.querySelectorAll(`[cdk-focus-region-${r}], [cdkFocusRegion${r}], [cdk-focus-${r}]`);for(let s=0;s<e.length;s++)e[s].hasAttribute(`cdk-focus-${r}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${r}', use 'cdkFocusRegion${r}' instead. The deprecated attribute will be removed in 8.0.0.`,e[s]):e[s].hasAttribute(`cdk-focus-region-${r}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${r}', use 'cdkFocusRegion${r}' instead. The deprecated attribute will be removed in 8.0.0.`,e[s]);return"start"==r?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(r){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const s=this._getFirstTabbableElement(e);return null==s||s.focus(r),!!s}return e.focus(r),!0}return this.focusFirstTabbableElement(r)}focusFirstTabbableElement(r){const e=this._getRegionBoundary("start");return e&&e.focus(r),!!e}focusLastTabbableElement(r){const e=this._getRegionBoundary("end");return e&&e.focus(r),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(r){if(this._checker.isFocusable(r)&&this._checker.isTabbable(r))return r;let e=r.children||r.childNodes;for(let s=0;s<e.length;s++){let o=e[s].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[s]):null;if(o)return o}return null}_getLastTabbableElement(r){if(this._checker.isFocusable(r)&&this._checker.isTabbable(r))return r;let e=r.children||r.childNodes;for(let s=e.length-1;s>=0;s--){let o=e[s].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[s]):null;if(o)return o}return null}_createAnchor(){const r=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,r),r.classList.add("cdk-visually-hidden"),r.classList.add("cdk-focus-trap-anchor"),r.setAttribute("aria-hidden","true"),r}_toggleAnchorTabIndex(r,e){r?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(r){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(r,this._startAnchor),this._toggleAnchorTabIndex(r,this._endAnchor))}_executeOnStable(r){this._ngZone.isStable?r():this._ngZone.onStable.pipe(di(1)).subscribe(r)}}let AR=(()=>{class i{constructor(e,s,o){this._checker=e,this._ngZone=s,this._document=o}create(e,s=!1){return new NX(e,this._checker,this._ngZone,this._document,s)}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(rz),C.LFG(C.R0b),C.LFG(Ve))},i.\u0275prov=C.Yz7({factory:function(){return new i(C.LFG(rz),C.LFG(C.R0b),C.LFG(Ve))},token:i,providedIn:"root"}),i})();function IR(i){return 0===i.offsetX&&0===i.offsetY}function RR(i){const r=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!r||-1!==r.identifier||null!=r.radiusX&&1!==r.radiusX||null!=r.radiusY&&1!==r.radiusY)}"undefined"!=typeof Element&&Element;const oz=new C.OlP("cdk-input-modality-detector-options"),zX={ignoreKeys:[18,17,224,91,16]},RM=ef({passive:!0,capture:!0});let lz=(()=>{class i{constructor(e,s,o,a){this._platform=e,this._mostRecentTarget=null,this._modality=new Xc(null),this._lastTouchMs=0,this._onKeydown=D=>{var k,N;(null===(N=null===(k=this._options)||void 0===k?void 0:k.ignoreKeys)||void 0===N?void 0:N.some(B=>B===D.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Kd(D))},this._onMousedown=D=>{Date.now()-this._lastTouchMs<650||(this._modality.next(IR(D)?"keyboard":"mouse"),this._mostRecentTarget=Kd(D))},this._onTouchstart=D=>{RR(D)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Kd(D))},this._options=Object.assign(Object.assign({},zX),a),this.modalityDetected=this._modality.pipe(function(i){return r=>r.lift(new hX(i))}(1)),this.modalityChanged=this.modalityDetected.pipe(function(i,r){return e=>e.lift(new pX(i,r))}()),e.isBrowser&&s.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,RM),o.addEventListener("mousedown",this._onMousedown,RM),o.addEventListener("touchstart",this._onTouchstart,RM)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){!this._platform.isBrowser||(document.removeEventListener("keydown",this._onKeydown,RM),document.removeEventListener("mousedown",this._onMousedown,RM),document.removeEventListener("touchstart",this._onTouchstart,RM))}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(Jr),C.LFG(C.R0b),C.LFG(Ve),C.LFG(oz,8))},i.\u0275prov=C.Yz7({factory:function(){return new i(C.LFG(Jr),C.LFG(C.R0b),C.LFG(Ve),C.LFG(oz,8))},token:i,providedIn:"root"}),i})();const hz=new C.OlP("cdk-focus-monitor-default-options"),OR=ef({passive:!0,capture:!0});let Ho=(()=>{class i{constructor(e,s,o,a,D){this._ngZone=e,this._platform=s,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ln.xQ,this._rootNodeFocusAndBlurListener=k=>{const N=Kd(k),B="focus"===k.type?this._onFocus:this._onBlur;for(let G=N;G;G=G.parentElement)B.call(this,k,G)},this._document=a,this._detectionMode=(null==D?void 0:D.detectionMode)||0}monitor(e,s=!1){const o=So(e);if(!this._platform.isBrowser||1!==o.nodeType)return(0,$n.of)(null);const a=TR(o)||this._getDocument(),D=this._elementInfo.get(o);if(D)return s&&(D.checkChildren=!0),D.subject;const k={checkChildren:s,subject:new ln.xQ,rootNode:a};return this._elementInfo.set(o,k),this._registerGlobalListeners(k),k.subject}stopMonitoring(e){const s=So(e),o=this._elementInfo.get(s);o&&(o.subject.complete(),this._setClasses(s),this._elementInfo.delete(s),this._removeGlobalListeners(o))}focusVia(e,s,o){const a=So(e);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([k,N])=>this._originChanged(k,s,N)):(this._setOrigin(s),"function"==typeof a.focus&&a.focus(o))}ngOnDestroy(){this._elementInfo.forEach((e,s)=>this.stopMonitoring(s))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,s,o){o?e.classList.add(s):e.classList.remove(s)}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,s){this._toggleClass(e,"cdk-focused",!!s),this._toggleClass(e,"cdk-touch-focused","touch"===s),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===s),this._toggleClass(e,"cdk-mouse-focused","mouse"===s),this._toggleClass(e,"cdk-program-focused","program"===s)}_setOrigin(e,s=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&s,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,s){const o=this._elementInfo.get(s),a=Kd(e);!o||!o.checkChildren&&s!==a||this._originChanged(s,this._getFocusOrigin(a),o)}_onBlur(e,s){const o=this._elementInfo.get(s);!o||o.checkChildren&&e.relatedTarget instanceof Node&&s.contains(e.relatedTarget)||(this._setClasses(s),this._emitOrigin(o.subject,null))}_emitOrigin(e,s){this._ngZone.run(()=>e.next(s))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const s=e.rootNode,o=this._rootNodeFocusListenerCount.get(s)||0;o||this._ngZone.runOutsideAngular(()=>{s.addEventListener("focus",this._rootNodeFocusAndBlurListener,OR),s.addEventListener("blur",this._rootNodeFocusAndBlurListener,OR)}),this._rootNodeFocusListenerCount.set(s,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Xn(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(e){const s=e.rootNode;if(this._rootNodeFocusListenerCount.has(s)){const o=this._rootNodeFocusListenerCount.get(s);o>1?this._rootNodeFocusListenerCount.set(s,o-1):(s.removeEventListener("focus",this._rootNodeFocusAndBlurListener,OR),s.removeEventListener("blur",this._rootNodeFocusAndBlurListener,OR),this._rootNodeFocusListenerCount.delete(s))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,s,o){this._setClasses(e,s),this._emitOrigin(o.subject,s),this._lastFocusOrigin=s}_getClosestElementsInfo(e){const s=[];return this._elementInfo.forEach((o,a)=>{(a===e||o.checkChildren&&a.contains(e))&&s.push([a,o])}),s}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(C.R0b),C.LFG(Jr),C.LFG(lz),C.LFG(Ve,8),C.LFG(hz,8))},i.\u0275prov=C.Yz7({factory:function(){return new i(C.LFG(C.R0b),C.LFG(Jr),C.LFG(lz),C.LFG(Ve,8),C.LFG(hz,8))},token:i,providedIn:"root"}),i})();const fz="cdk-high-contrast-black-on-white",pz="cdk-high-contrast-white-on-black",p8="cdk-high-contrast-active";let mz=(()=>{class i{constructor(e,s){this._platform=e,this._document=s}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const s=this._document.defaultView||window,o=s&&s.getComputedStyle?s.getComputedStyle(e):null,a=(o&&o.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(p8),e.remove(fz),e.remove(pz),this._hasCheckedHighContrastMode=!0;const s=this.getHighContrastMode();1===s?(e.add(p8),e.add(fz)):2===s&&(e.add(p8),e.add(pz))}}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(Jr),C.LFG(Ve))},i.\u0275prov=C.Yz7({factory:function(){return new i(C.LFG(Jr),C.LFG(Ve))},token:i,providedIn:"root"}),i})(),_k=(()=>{class i{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(mz))},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[kM,gk]]}),i})(),YX=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({}),i})();var WX=$e(6465),KX=$e(6102);const gz=new class extends KX.v{flush(r){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let s,o=-1,a=e.length;r=r||e.shift();do{if(s=r.execute(r.state,r.delay))break}while(++o<a&&(r=e.shift()));if(this.active=!1,s){for(;++o<a&&(r=e.shift());)r.unsubscribe();throw s}}}(class extends WX.o{constructor(r,e){super(r,e),this.scheduler=r,this.work=e}requestAsyncId(r,e,s=0){return null!==s&&s>0?super.requestAsyncId(r,e,s):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(()=>r.flush(null))))}recycleAsyncId(r,e,s=0){if(null!==s&&s>0||null===s&&this.delay>0)return super.recycleAsyncId(r,e,s);0===r.actions.length&&(cancelAnimationFrame(e),r.scheduled=void 0)}});var m8=$e(4581);function OM(i){return!!i&&(i instanceof $i.y||"function"==typeof i.lift&&"function"==typeof i.subscribe)}class QX{constructor(r){this.durationSelector=r}call(r,e){return e.subscribe(new XX(r,this.durationSelector))}}class XX extends Wd.Ds{constructor(r,e){super(r),this.durationSelector=e,this.hasValue=!1}_next(r){if(this.value=r,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:o}=this;e=o(r)}catch(o){return this.destination.error(o)}const s=(0,Wd.ft)(e,new Wd.IY(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}}clearThrottle(){const{value:r,hasValue:e,throttled:s}=this;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(r))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var g8=$e(6561),NR=$e(4869);function eee(i){const{index:r,period:e,subscriber:s}=i;if(s.next(r),!s.closed){if(-1===e)return s.complete();i.index=r+1,this.schedule(i,e)}}function PR(i,r=xM.P){return function(i){return function(e){return e.lift(new QX(i))}}(()=>function(i=0,r,e){let s=-1;return(0,g8.k)(r)?s=Number(r)<1?1:Number(r):(0,NR.K)(r)&&(e=r),(0,NR.K)(e)||(e=xM.P),new $i.y(o=>{const a=(0,g8.k)(i)?i:+i-e.now();return e.schedule(eee,a,{index:0,period:s,subscriber:o})})}(i,r))}function Ki(...i){const r=i[i.length-1];return(0,NR.K)(r)?(i.pop(),e=>ak(i,e,r)):e=>ak(i,e)}$e(7771),$e(9746),$e(8858);const vz=new C.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,C.f3M)(Ve)}});let Li=(()=>{class i{constructor(e){if(this.value="ltr",this.change=new C.vpe,e){const o=e.documentElement?e.documentElement.dir:null,a=(e.body?e.body.dir:null)||o;this.value="ltr"===a||"rtl"===a?a:"ltr"}}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(vz,8))},i.\u0275prov=C.Yz7({factory:function(){return new i(C.LFG(vz,8))},token:i,providedIn:"root"}),i})(),hee=(()=>{class i{constructor(){this._dir="ltr",this._isInitialized=!1,this.change=new C.vpe}get dir(){return this._dir}set dir(e){const s=this._dir,o=e&&e.toLowerCase();this._rawDir=e,this._dir="ltr"===o||"rtl"===o?o:"ltr",s!==this._dir&&this._isInitialized&&this.change.emit(this._dir)}get value(){return this.dir}ngAfterContentInit(){this._isInitialized=!0}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=C.lG2({type:i,selectors:[["","dir",""]],hostVars:1,hostBindings:function(e,s){2&e&&C.uIk("dir",s._rawDir)},inputs:{dir:"dir"},outputs:{change:"dirChange"},exportAs:["dir"],features:[C._Bn([{provide:Li,useExisting:i}])]}),i})(),NM=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({}),i})();class FR extends class{}{constructor(r){super(),this._data=r}connect(){return OM(this._data)?this._data:(0,$n.of)(this._data)}disconnect(){}}class PM{constructor(r=!1,e,s=!0){this._multiple=r,this._emitChanges=s,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new ln.xQ,e&&e.length&&(r?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...r){this._verifyValueAssignment(r),r.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...r){this._verifyValueAssignment(r),r.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(r){this.isSelected(r)?this.deselect(r):this.select(r)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(r){return this._selection.has(r)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(r){this._multiple&&this.selected&&this._selected.sort(r)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(r){this.isSelected(r)||(this._multiple||this._unmarkAll(),this._selection.add(r),this._emitChanges&&this._selectedToEmit.push(r))}_unmarkSelected(r){this.isSelected(r)&&(this._selection.delete(r),this._emitChanges&&this._deselectedToEmit.push(r))}_unmarkAll(){this.isEmpty()||this._selection.forEach(r=>this._unmarkSelected(r))}_verifyValueAssignment(r){}}let xg=(()=>{class i{constructor(e,s,o){this._ngZone=e,this._platform=s,this._scrolled=new ln.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const s=this.scrollContainers.get(e);s&&(s.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new $i.y(s=>{this._globalSubscription||this._addGlobalListener();const o=e>0?this._scrolled.pipe(PR(e)).subscribe(s):this._scrolled.subscribe(s);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,$n.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,s)=>this.deregister(s)),this._scrolled.complete()}ancestorScrolled(e,s){const o=this.getAncestorScrollContainers(e);return this.scrolled(s).pipe(xr(a=>!a||o.indexOf(a)>-1))}getAncestorScrollContainers(e){const s=[];return this.scrollContainers.forEach((o,a)=>{this._scrollableContainsElement(a,e)&&s.push(a)}),s}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,s){let o=So(s),a=e.getElementRef().nativeElement;do{if(o==a)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>vl(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(C.R0b),C.LFG(Jr),C.LFG(Ve,8))},i.\u0275prov=C.Yz7({factory:function(){return new i(C.LFG(C.R0b),C.LFG(Jr),C.LFG(Ve,8))},token:i,providedIn:"root"}),i})(),Jl=(()=>{class i{constructor(e,s,o){this._platform=e,this._change=new ln.xQ,this._changeListener=a=>{this._change.next(a)},this._document=o,s.runOutsideAngular(()=>{if(e.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:s,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+s,height:o,width:s}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,s=this._getWindow(),o=e.documentElement,a=o.getBoundingClientRect();return{top:-a.top||e.body.scrollTop||s.scrollY||o.scrollTop||0,left:-a.left||e.body.scrollLeft||s.scrollX||o.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(PR(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(Jr),C.LFG(C.R0b),C.LFG(Ve,8))},i.\u0275prov=C.Yz7({factory:function(){return new i(C.LFG(Jr),C.LFG(C.R0b),C.LFG(Ve,8))},token:i,providedIn:"root"}),i})(),Ip=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({}),i})(),BR=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[NM,kM,Ip],NM,Ip]}),i})();function Mee(i){const{subscriber:r,counter:e,period:s}=i;r.next(e),this.schedule({subscriber:r,counter:e+1,period:s},s)}function v8(i,r,e){for(let s in r)if(r.hasOwnProperty(s)){const o=r[s];o?i.setProperty(s,o,(null==e?void 0:e.has(s))?"important":""):i.removeProperty(s)}return i}function LM(i,r){const e=r?"":"none";v8(i.style,{"touch-action":r?"":"none","-webkit-user-drag":r?"":"none","-webkit-tap-highlight-color":r?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function Cz(i,r,e){v8(i.style,{position:r?"":"fixed",top:r?"":"0",opacity:r?"":"0",left:r?"":"-999em"},e)}function VR(i,r){return r&&"none"!=r?i+" "+r:i}function Sz(i){const r=i.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(i)*r}function y8(i,r){return i.getPropertyValue(r).split(",").map(s=>s.trim())}function b8(i){const r=i.getBoundingClientRect();return{top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:r.width,height:r.height}}function w8(i,r,e){const{top:s,bottom:o,left:a,right:D}=i;return e>=s&&e<=o&&r>=a&&r<=D}function yk(i,r,e){i.top+=r,i.bottom=i.top+i.height,i.left+=e,i.right=i.left+i.width}function Mz(i,r,e,s){const{top:o,right:a,bottom:D,left:k,width:N,height:B}=i,G=N*r,$=B*r;return s>o-$&&s<D+$&&e>k-G&&e<a+G}class Ez{constructor(r,e){this._document=r,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(r){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),r.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:b8(e)})})}handleScroll(r){const e=Kd(r),s=this.positions.get(e);if(!s)return null;const o=e===this._document?e.documentElement:e,a=s.scrollPosition;let D,k;if(e===this._document){const G=this._viewportRuler.getViewportScrollPosition();D=G.top,k=G.left}else D=e.scrollTop,k=e.scrollLeft;const N=a.top-D,B=a.left-k;return this.positions.forEach((G,$)=>{G.clientRect&&e!==$&&o.contains($)&&yk(G.clientRect,N,B)}),a.top=D,a.left=k,{top:N,left:B}}}function Dz(i){const r=i.cloneNode(!0),e=r.querySelectorAll("[id]"),s=i.nodeName.toLowerCase();r.removeAttribute("id");for(let o=0;o<e.length;o++)e[o].removeAttribute("id");return"canvas"===s?kz(i,r):("input"===s||"select"===s||"textarea"===s)&&xz(i,r),Tz("canvas",i,r,kz),Tz("input, textarea, select",i,r,xz),r}function Tz(i,r,e,s){const o=r.querySelectorAll(i);if(o.length){const a=e.querySelectorAll(i);for(let D=0;D<o.length;D++)s(o[D],a[D])}}let Dee=0;function xz(i,r){"file"!==r.type&&(r.value=i.value),"radio"===r.type&&r.name&&(r.name=`mat-clone-${r.name}-${Dee++}`)}function kz(i,r){const e=r.getContext("2d");if(e)try{e.drawImage(i,0,0)}catch(s){}}const Az=ef({passive:!0}),Iz=ef({passive:!1}),C8=new Set(["position"]);class xee{constructor(r,e,s,o,a,D){this._config=e,this._document=s,this._ngZone=o,this._viewportRuler=a,this._dragDropRegistry=D,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new ln.xQ,this._pointerMoveSubscription=ti.w.EMPTY,this._pointerUpSubscription=ti.w.EMPTY,this._scrollSubscription=ti.w.EMPTY,this._resizeSubscription=ti.w.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new ln.xQ,this.started=new ln.xQ,this.released=new ln.xQ,this.ended=new ln.xQ,this.entered=new ln.xQ,this.exited=new ln.xQ,this.dropped=new ln.xQ,this.moved=this._moveEvents,this._pointerDown=k=>{if(this.beforeStarted.next(),this._handles.length){const N=this._handles.find(B=>{const G=Kd(k);return!!G&&(G===B||B.contains(G))});N&&!this._disabledHandles.has(N)&&!this.disabled&&this._initializeDragSequence(N,k)}else this.disabled||this._initializeDragSequence(this._rootElement,k)},this._pointerMove=k=>{const N=this._getPointerPositionOnPage(k);if(!this._hasStartedDragging){if(Math.abs(N.x-this._pickupPositionOnPage.x)+Math.abs(N.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const oe=Date.now()>=this._dragStartTime+this._getDragStartDelay(k),_e=this._dropContainer;if(!oe)return void this._endDragSequence(k);(!_e||!_e.isDragging()&&!_e.isReceiving())&&(k.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(k)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),k.preventDefault();const B=this._getConstrainedPointerPosition(N);if(this._hasMoved=!0,this._lastKnownPointerPosition=N,this._updatePointerDirectionDelta(B),this._dropContainer)this._updateActiveDropContainer(B,N);else{const G=this._activeTransform;G.x=B.x-this._pickupPositionOnPage.x+this._passiveTransform.x,G.y=B.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(G.x,G.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${G.x} ${G.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:B,event:k,distance:this._getDragDistance(B),delta:this._pointerDirectionDelta})})},this._pointerUp=k=>{this._endDragSequence(k)},this.withRootElement(r).withParent(e.parentDragRef||null),this._parentPositions=new Ez(s,a),D.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(r){const e=_n(r);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(s=>LM(s,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(r){this._handles=r.map(s=>So(s)),this._handles.forEach(s=>LM(s,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(s=>{this._handles.indexOf(s)>-1&&e.add(s)}),this._disabledHandles=e,this}withPreviewTemplate(r){return this._previewTemplate=r,this}withPlaceholderTemplate(r){return this._placeholderTemplate=r,this}withRootElement(r){const e=So(r);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Iz),e.addEventListener("touchstart",this._pointerDown,Az)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(r){return this._boundaryElement=r?So(r):null,this._resizeSubscription.unsubscribe(),r&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(r){return this._parentDragRef=r,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&HR(this._rootElement),HR(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(r){!this._disabledHandles.has(r)&&this._handles.indexOf(r)>-1&&(this._disabledHandles.add(r),LM(r,!0))}enableHandle(r){this._disabledHandles.has(r)&&(this._disabledHandles.delete(r),LM(r,this.disabled))}withDirection(r){return this._direction=r,this}_withDropContainer(r){this._dropContainer=r}getFreeDragPosition(){const r=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:r.x,y:r.y}}setFreeDragPosition(r){return this._activeTransform={x:0,y:0},this._passiveTransform.x=r.x,this._passiveTransform.y=r.y,this._dropContainer||this._applyRootElementTransform(r.x,r.y),this}withPreviewContainer(r){return this._previewContainer=r,this}_sortFromLastPointerPosition(){const r=this._lastKnownPointerPosition;r&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(r),r)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&HR(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&HR(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(r){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(r),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(r);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(r){bk(r)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const s=this._rootElement,o=s.parentNode,a=this._placeholder=this._createPlaceholderElement(),D=this._anchor=this._anchor||this._document.createComment(""),k=this._getShadowRoot();o.insertBefore(D,s),this._initialTransform=s.style.transform||"",this._preview=this._createPreviewElement(),Cz(s,!1,C8),this._document.body.appendChild(o.replaceChild(a,s)),this._getPreviewInsertionPoint(o,k).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(r,e){this._parentDragRef&&e.stopPropagation();const s=this.isDragging(),o=bk(e),a=!o&&0!==e.button,D=this._rootElement,k=Kd(e),N=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),B=o?RR(e):IR(e);if(k&&k.draggable&&"mousedown"===e.type&&e.preventDefault(),s||a||N||B)return;this._handles.length&&(this._rootElementTapHighlight=D.style.webkitTapHighlightColor||"",D.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(re=>this._updateOnScroll(re)),this._boundaryElement&&(this._boundaryRect=b8(this._boundaryElement));const G=this._previewTemplate;this._pickupPositionInElement=G&&G.template&&!G.matchSize?{x:0,y:0}:this._getPointerPositionInElement(r,e);const $=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:$.x,y:$.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(r){Cz(this._rootElement,!0,C8),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,s=e.getItemIndex(this),o=this._getPointerPositionOnPage(r),a=this._getDragDistance(o),D=e._isOverContainer(o.x,o.y);this.ended.next({source:this,distance:a,dropPoint:o}),this.dropped.next({item:this,currentIndex:s,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:D,distance:a,dropPoint:o}),e.drop(this,s,this._initialIndex,this._initialContainer,D,a,o),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:r,y:e},{x:s,y:o}){let a=this._initialContainer._getSiblingContainerFromPosition(this,r,e);!a&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(r,e)&&(a=this._initialContainer),a&&a!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=a,this._dropContainer.enter(this,r,e,a===this._initialContainer&&a.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:a,currentIndex:a.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(s,o),this._dropContainer._sortItem(this,r,e,this._pointerDirectionDelta),this._applyPreviewTransform(r-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const r=this._previewTemplate,e=this.previewClass,s=r?r.template:null;let o;if(s&&r){const a=r.matchSize?this._rootElement.getBoundingClientRect():null,D=r.viewContainer.createEmbeddedView(s,r.context);D.detectChanges(),o=Oz(D,this._document),this._previewRef=D,r.matchSize?Nz(o,a):o.style.transform=zR(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const a=this._rootElement;o=Dz(a),Nz(o,a.getBoundingClientRect()),this._initialTransform&&(o.style.transform=this._initialTransform)}return v8(o.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},C8),LM(o,!1),o.classList.add("cdk-drag-preview"),o.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(a=>o.classList.add(a)):o.classList.add(e)),o}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const r=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(r.left,r.top);const e=function(i){const r=getComputedStyle(i),e=y8(r,"transition-property"),s=e.find(k=>"transform"===k||"all"===k);if(!s)return 0;const o=e.indexOf(s),a=y8(r,"transition-duration"),D=y8(r,"transition-delay");return Sz(a[o])+Sz(D[o])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(s=>{const o=D=>{(!D||Kd(D)===this._preview&&"transform"===D.propertyName)&&(this._preview.removeEventListener("transitionend",o),s(),clearTimeout(a))},a=setTimeout(o,1.5*e);this._preview.addEventListener("transitionend",o)}))}_createPlaceholderElement(){const r=this._placeholderTemplate,e=r?r.template:null;let s;return e?(this._placeholderRef=r.viewContainer.createEmbeddedView(e,r.context),this._placeholderRef.detectChanges(),s=Oz(this._placeholderRef,this._document)):s=Dz(this._rootElement),s.classList.add("cdk-drag-placeholder"),s}_getPointerPositionInElement(r,e){const s=this._rootElement.getBoundingClientRect(),o=r===this._rootElement?null:r,a=o?o.getBoundingClientRect():s,D=bk(e)?e.targetTouches[0]:e,k=this._getViewportScrollPosition();return{x:a.left-s.left+(D.pageX-a.left-k.left),y:a.top-s.top+(D.pageY-a.top-k.top)}}_getPointerPositionOnPage(r){const e=this._getViewportScrollPosition(),s=bk(r)?r.touches[0]||r.changedTouches[0]||{pageX:0,pageY:0}:r,o=s.pageX-e.left,a=s.pageY-e.top;if(this._ownerSVGElement){const D=this._ownerSVGElement.getScreenCTM();if(D){const k=this._ownerSVGElement.createSVGPoint();return k.x=o,k.y=a,k.matrixTransform(D.inverse())}}return{x:o,y:a}}_getConstrainedPointerPosition(r){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:s,y:o}=this.constrainPosition?this.constrainPosition(r,this):r;if("x"===this.lockAxis||"x"===e?o=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(s=this._pickupPositionOnPage.x),this._boundaryRect){const{x:a,y:D}=this._pickupPositionInElement,k=this._boundaryRect,N=this._previewRect,B=k.top+D,G=k.bottom-(N.height-D);s=Rz(s,k.left+a,k.right-(N.width-a)),o=Rz(o,B,G)}return{x:s,y:o}}_updatePointerDirectionDelta(r){const{x:e,y:s}=r,o=this._pointerDirectionDelta,a=this._pointerPositionAtLastDirectionChange,D=Math.abs(e-a.x),k=Math.abs(s-a.y);return D>this._config.pointerDirectionChangeThreshold&&(o.x=e>a.x?1:-1,a.x=e),k>this._config.pointerDirectionChangeThreshold&&(o.y=s>a.y?1:-1,a.y=s),o}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const r=this._handles.length>0||!this.isDragging();r!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=r,LM(this._rootElement,r))}_removeRootElementListeners(r){r.removeEventListener("mousedown",this._pointerDown,Iz),r.removeEventListener("touchstart",this._pointerDown,Az)}_applyRootElementTransform(r,e){const s=zR(r,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform&&"none"!=this._rootElement.style.transform?this._rootElement.style.transform:""),this._rootElement.style.transform=VR(s,this._initialTransform)}_applyPreviewTransform(r,e){var s;const o=(null===(s=this._previewTemplate)||void 0===s?void 0:s.template)?void 0:this._initialTransform,a=zR(r,e);this._preview.style.transform=VR(a,o)}_getDragDistance(r){const e=this._pickupPositionOnPage;return e?{x:r.x-e.x,y:r.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:r,y:e}=this._passiveTransform;if(0===r&&0===e||this.isDragging()||!this._boundaryElement)return;const s=this._boundaryElement.getBoundingClientRect(),o=this._rootElement.getBoundingClientRect();if(0===s.width&&0===s.height||0===o.width&&0===o.height)return;const a=s.left-o.left,D=o.right-s.right,k=s.top-o.top,N=o.bottom-s.bottom;s.width>o.width?(a>0&&(r+=a),D>0&&(r-=D)):r=0,s.height>o.height?(k>0&&(e+=k),N>0&&(e-=N)):e=0,(r!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:r})}_getDragStartDelay(r){const e=this.dragStartDelay;return"number"==typeof e?e:bk(r)?e.touch:e?e.mouse:0}_updateOnScroll(r){const e=this._parentPositions.handleScroll(r);if(e){const s=Kd(r);this._boundaryRect&&(s===this._document||s!==this._boundaryElement&&s.contains(this._boundaryElement))&&yk(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const r=this._parentPositions.positions.get(this._document);return r?r.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=TR(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(r,e){const s=this._previewContainer||"global";if("parent"===s)return r;if("global"===s){const o=this._document;return e||o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement||o.body}return So(s)}}function zR(i,r){return`translate3d(${Math.round(i)}px, ${Math.round(r)}px, 0)`}function Rz(i,r,e){return Math.max(r,Math.min(e,i))}function HR(i){i&&i.parentNode&&i.parentNode.removeChild(i)}function bk(i){return"t"===i.type[0]}function Oz(i,r){const e=i.rootNodes;if(1===e.length&&e[0].nodeType===r.ELEMENT_NODE)return e[0];const s=r.createElement("div");return e.forEach(o=>s.appendChild(o)),s}function Nz(i,r){i.style.width=`${r.width}px`,i.style.height=`${r.height}px`,i.style.transform=zR(r.left,r.top)}function wk(i,r){return Math.max(0,Math.min(r,i))}class Aee{constructor(r,e,s,o,a){this._dragDropRegistry=e,this._ngZone=o,this._viewportRuler=a,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new ln.xQ,this.entered=new ln.xQ,this.exited=new ln.xQ,this.dropped=new ln.xQ,this.sorted=new ln.xQ,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=ti.w.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new ln.xQ,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(i=0,r=xM.P){return(!(0,g8.k)(i)||i<0)&&(i=0),(!r||"function"!=typeof r.schedule)&&(r=xM.P),new $i.y(e=>(e.add(r.schedule(Mee,i,{subscriber:e,counter:0,period:i})),e))}(0,gz).pipe(Xn(this._stopScrollTimers)).subscribe(()=>{const D=this._scrollNode,k=this.autoScrollStep;1===this._verticalScrollDirection?Lz(D,-k):2===this._verticalScrollDirection&&Lz(D,k),1===this._horizontalScrollDirection?Bz(D,-k):2===this._horizontalScrollDirection&&Bz(D,k)})},this.element=So(r),this._document=s,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new Ez(s,a)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(r,e,s,o){let a;this._draggingStarted(),null==o?(a=this.sortingDisabled?this._draggables.indexOf(r):-1,-1===a&&(a=this._getItemIndexFromPointerPosition(r,e,s))):a=o;const D=this._activeDraggables,k=D.indexOf(r),N=r.getPlaceholderElement();let B=D[a];if(B===r&&(B=D[a+1]),k>-1&&D.splice(k,1),B&&!this._dragDropRegistry.isDragging(B)){const G=B.getRootElement();G.parentElement.insertBefore(N,G),D.splice(a,0,r)}else if(this._shouldEnterAsFirstChild(e,s)){const G=D[0].getRootElement();G.parentNode.insertBefore(N,G),D.unshift(r)}else So(this.element).appendChild(N),D.push(r);N.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:r,container:this,currentIndex:this.getItemIndex(r)})}exit(r){this._reset(),this.exited.next({item:r,container:this})}drop(r,e,s,o,a,D,k){this._reset(),this.dropped.next({item:r,currentIndex:e,previousIndex:s,container:this,previousContainer:o,isPointerOverContainer:a,distance:D,dropPoint:k})}withItems(r){const e=this._draggables;return this._draggables=r,r.forEach(s=>s._withDropContainer(this)),this.isDragging()&&(e.filter(o=>o.isDragging()).every(o=>-1===r.indexOf(o))?this._reset():this._cacheItems()),this}withDirection(r){return this._direction=r,this}connectedTo(r){return this._siblings=r.slice(),this}withOrientation(r){return this._orientation=r,this}withScrollableParents(r){const e=So(this.element);return this._scrollableElements=-1===r.indexOf(e)?[e,...r]:r.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(r){return this._isDragging?S8("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,s=>s.drag===r):this._draggables.indexOf(r)}isReceiving(){return this._activeSiblings.size>0}_sortItem(r,e,s,o){if(this.sortingDisabled||!this._clientRect||!Mz(this._clientRect,.05,e,s))return;const a=this._itemPositions,D=this._getItemIndexFromPointerPosition(r,e,s,o);if(-1===D&&a.length>0)return;const k="horizontal"===this._orientation,N=S8(a,mt=>mt.drag===r),B=a[D],$=B.clientRect,re=N>D?1:-1,oe=this._getItemOffsetPx(a[N].clientRect,$,re),_e=this._getSiblingOffsetPx(N,a,re),ze=a.slice();(function(i,r,e){const s=wk(r,i.length-1),o=wk(e,i.length-1);if(s===o)return;const a=i[s],D=o<s?-1:1;for(let k=s;k!==o;k+=D)i[k]=i[k+D];i[o]=a})(a,N,D),this.sorted.next({previousIndex:N,currentIndex:D,container:this,item:r}),a.forEach((mt,Ft)=>{if(ze[Ft]===mt)return;const Pt=mt.drag===r,dn=Pt?oe:_e,fn=Pt?r.getPlaceholderElement():mt.drag.getRootElement();mt.offset+=dn,k?(fn.style.transform=VR(`translate3d(${Math.round(mt.offset)}px, 0, 0)`,mt.initialTransform),yk(mt.clientRect,0,dn)):(fn.style.transform=VR(`translate3d(0, ${Math.round(mt.offset)}px, 0)`,mt.initialTransform),yk(mt.clientRect,dn,0))}),this._previousSwap.overlaps=w8($,e,s),this._previousSwap.drag=B.drag,this._previousSwap.delta=k?o.x:o.y}_startScrollingIfNecessary(r,e){if(this.autoScrollDisabled)return;let s,o=0,a=0;if(this._parentPositions.positions.forEach((D,k)=>{k===this._document||!D.clientRect||s||Mz(D.clientRect,.05,r,e)&&([o,a]=function(i,r,e,s){const o=Vz(r,s),a=zz(r,e);let D=0,k=0;if(o){const N=i.scrollTop;1===o?N>0&&(D=1):i.scrollHeight-N>i.clientHeight&&(D=2)}if(a){const N=i.scrollLeft;1===a?N>0&&(k=1):i.scrollWidth-N>i.clientWidth&&(k=2)}return[D,k]}(k,D.clientRect,r,e),(o||a)&&(s=k))}),!o&&!a){const{width:D,height:k}=this._viewportRuler.getViewportSize(),N={width:D,height:k,top:0,right:D,bottom:k,left:0};o=Vz(N,e),a=zz(N,r),s=window}s&&(o!==this._verticalScrollDirection||a!==this._horizontalScrollDirection||s!==this._scrollNode)&&(this._verticalScrollDirection=o,this._horizontalScrollDirection=a,this._scrollNode=s,(o||a)&&s?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const r=So(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=r.msScrollSnapType||r.scrollSnapType||"",r.scrollSnapType=r.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const r=So(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(r).clientRect}_cacheItemPositions(){const r="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const s=e.getVisibleElement();return{drag:e,offset:0,initialTransform:s.style.transform||"",clientRect:b8(s)}}).sort((e,s)=>r?e.clientRect.left-s.clientRect.left:e.clientRect.top-s.clientRect.top)}_reset(){this._isDragging=!1;const r=So(this.element).style;r.scrollSnapType=r.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var s;const o=e.getRootElement();if(o){const a=null===(s=this._itemPositions.find(D=>D.drag===e))||void 0===s?void 0:s.initialTransform;o.style.transform=a||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(r,e,s){const o="horizontal"===this._orientation,a=e[r].clientRect,D=e[r+-1*s];let k=a[o?"width":"height"]*s;if(D){const N=o?"left":"top",B=o?"right":"bottom";-1===s?k-=D.clientRect[N]-a[B]:k+=a[N]-D.clientRect[B]}return k}_getItemOffsetPx(r,e,s){const o="horizontal"===this._orientation;let a=o?e.left-r.left:e.top-r.top;return-1===s&&(a+=o?e.width-r.width:e.height-r.height),a}_shouldEnterAsFirstChild(r,e){if(!this._activeDraggables.length)return!1;const s=this._itemPositions,o="horizontal"===this._orientation;if(s[0].drag!==this._activeDraggables[0]){const D=s[s.length-1].clientRect;return o?r>=D.right:e>=D.bottom}{const D=s[0].clientRect;return o?r<=D.left:e<=D.top}}_getItemIndexFromPointerPosition(r,e,s,o){const a="horizontal"===this._orientation,D=S8(this._itemPositions,({drag:k,clientRect:N},B,G)=>{if(k===r)return G.length<2;if(o){const $=a?o.x:o.y;if(k===this._previousSwap.drag&&this._previousSwap.overlaps&&$===this._previousSwap.delta)return!1}return a?e>=Math.floor(N.left)&&e<Math.floor(N.right):s>=Math.floor(N.top)&&s<Math.floor(N.bottom)});return-1!==D&&this.sortPredicate(D,r,this)?D:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(r,e){return null!=this._clientRect&&w8(this._clientRect,r,e)}_getSiblingContainerFromPosition(r,e,s){return this._siblings.find(o=>o._canReceive(r,e,s))}_canReceive(r,e,s){if(!this._clientRect||!w8(this._clientRect,e,s)||!this.enterPredicate(r,this))return!1;const o=this._getShadowRoot().elementFromPoint(e,s);if(!o)return!1;const a=So(this.element);return o===a||a.contains(o)}_startReceiving(r,e){const s=this._activeSiblings;!s.has(r)&&e.every(o=>this.enterPredicate(o,this)||this._draggables.indexOf(o)>-1)&&(s.add(r),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(r){this._activeSiblings.delete(r),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(r=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(r);e&&(this._itemPositions.forEach(({clientRect:s})=>{yk(s,e.top,e.left)}),this._itemPositions.forEach(({drag:s})=>{this._dragDropRegistry.isDragging(s)&&s._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const r=TR(So(this.element));this._cachedShadowRoot=r||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const r=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,r))}}function S8(i,r){for(let e=0;e<i.length;e++)if(r(i[e],e,i))return e;return-1}function Lz(i,r){i===window?i.scrollBy(0,r):i.scrollTop+=r}function Bz(i,r){i===window?i.scrollBy(r,0):i.scrollLeft+=r}function Vz(i,r){const{top:e,bottom:s,height:o}=i,a=.05*o;return r>=e-a&&r<=e+a?1:r>=s-a&&r<=s+a?2:0}function zz(i,r){const{left:e,right:s,width:o}=i,a=.05*o;return r>=e-a&&r<=e+a?1:r>=s-a&&r<=s+a?2:0}const UR=ef({passive:!1,capture:!0});let Hz=(()=>{class i{constructor(e,s){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=o=>o.isDragging(),this.pointerMove=new ln.xQ,this.pointerUp=new ln.xQ,this.scroll=new ln.xQ,this._preventDefaultWhileDragging=o=>{this._activeDragInstances.length>0&&o.preventDefault()},this._persistentTouchmoveListener=o=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&o.preventDefault(),this.pointerMove.next(o))},this._document=s}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,UR)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,UR)}startDragging(e,s){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const o=s.type.startsWith("touch");this._globalListeners.set(o?"touchend":"mouseup",{handler:a=>this.pointerUp.next(a),options:!0}).set("scroll",{handler:a=>this.scroll.next(a),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:UR}),o||this._globalListeners.set("mousemove",{handler:a=>this.pointerMove.next(a),options:UR}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((a,D)=>{this._document.addEventListener(D,a.handler,a.options)})})}}stopDragging(e){const s=this._activeDragInstances.indexOf(e);s>-1&&(this._activeDragInstances.splice(s,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const s=[this.scroll];return e&&e!==this._document&&s.push(new $i.y(o=>this._ngZone.runOutsideAngular(()=>{const D=k=>{this._activeDragInstances.length&&o.next(k)};return e.addEventListener("scroll",D,!0),()=>{e.removeEventListener("scroll",D,!0)}}))),(0,ss.T)(...s)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,s)=>{this._document.removeEventListener(s,e.handler,e.options)}),this._globalListeners.clear()}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(C.R0b),C.LFG(Ve))},i.\u0275prov=C.Yz7({factory:function(){return new i(C.LFG(C.R0b),C.LFG(Ve))},token:i,providedIn:"root"}),i})();const Ree={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let M8=(()=>{class i{constructor(e,s,o,a){this._document=e,this._ngZone=s,this._viewportRuler=o,this._dragDropRegistry=a}createDrag(e,s=Ree){return new xee(e,s,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new Aee(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(Ve),C.LFG(C.R0b),C.LFG(Jl),C.LFG(Hz))},i.\u0275prov=C.Yz7({factory:function(){return new i(C.LFG(Ve),C.LFG(C.R0b),C.LFG(Jl),C.LFG(Hz))},token:i,providedIn:"root"}),i})(),Fee=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({providers:[M8],imports:[Ip]}),i})();class x8{attach(r){return this._attachedHost=r,r.attach(this)}detach(){let r=this._attachedHost;null!=r&&(this._attachedHost=null,r.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(r){this._attachedHost=r}}class BM extends x8{constructor(r,e,s,o){super(),this.component=r,this.viewContainerRef=e,this.injector=s,this.componentFactoryResolver=o}}class tf extends x8{constructor(r,e,s){super(),this.templateRef=r,this.viewContainerRef=e,this.context=s}get origin(){return this.templateRef.elementRef}attach(r,e=this.context){return this.context=e,super.attach(r)}detach(){return this.context=void 0,super.detach()}}class Lee extends x8{constructor(r){super(),this.element=r instanceof C.SBq?r.nativeElement:r}}class Ck{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(r){return r instanceof BM?(this._attachedPortal=r,this.attachComponentPortal(r)):r instanceof tf?(this._attachedPortal=r,this.attachTemplatePortal(r)):this.attachDomPortal&&r instanceof Lee?(this._attachedPortal=r,this.attachDomPortal(r)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(r){this._disposeFn=r}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Wz extends Ck{constructor(r,e,s,o,a){super(),this.outletElement=r,this._componentFactoryResolver=e,this._appRef=s,this._defaultInjector=o,this.attachDomPortal=D=>{const k=D.element,N=this._document.createComment("dom-portal");k.parentNode.insertBefore(N,k),this.outletElement.appendChild(k),this._attachedPortal=D,super.setDisposeFn(()=>{N.parentNode&&N.parentNode.replaceChild(k,N)})},this._document=a}attachComponentPortal(r){const s=(r.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(r.component);let o;return r.viewContainerRef?(o=r.viewContainerRef.createComponent(s,r.viewContainerRef.length,r.injector||r.viewContainerRef.injector),this.setDisposeFn(()=>o.destroy())):(o=s.create(r.injector||this._defaultInjector),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=r,o}attachTemplatePortal(r){let e=r.viewContainerRef,s=e.createEmbeddedView(r.templateRef,r.context);return s.rootNodes.forEach(o=>this.outletElement.appendChild(o)),s.detectChanges(),this.setDisposeFn(()=>{let o=e.indexOf(s);-1!==o&&e.remove(o)}),this._attachedPortal=r,s}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(r){return r.hostView.rootNodes[0]}}let Sc=(()=>{class i extends Ck{constructor(e,s,o){super(),this._componentFactoryResolver=e,this._viewContainerRef=s,this._isInitialized=!1,this.attached=new C.vpe,this.attachDomPortal=a=>{const D=a.element,k=this._document.createComment("dom-portal");a.setAttachedHost(this),D.parentNode.insertBefore(k,D),this._getRootNode().appendChild(D),this._attachedPortal=a,super.setDisposeFn(()=>{k.parentNode&&k.parentNode.replaceChild(D,k)})},this._document=o}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const s=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,a=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),D=s.createComponent(a,s.length,e.injector||s.injector);return s!==this._viewContainerRef&&this._getRootNode().appendChild(D.hostView.rootNodes[0]),super.setDisposeFn(()=>D.destroy()),this._attachedPortal=e,this._attachedRef=D,this.attached.emit(D),D}attachTemplatePortal(e){e.setAttachedHost(this);const s=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(C._Vd),C.Y36(C.s_b),C.Y36(Ve))},i.\u0275dir=C.lG2({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[C.qOj]}),i})(),kg=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({}),i})(),Jz=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[NM]]}),i})(),rH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[BR]]}),i})();class H8 extends class{constructor(){this.expansionModel=new PM(!0)}toggle(r){this.expansionModel.toggle(this._trackByValue(r))}expand(r){this.expansionModel.select(this._trackByValue(r))}collapse(r){this.expansionModel.deselect(this._trackByValue(r))}isExpanded(r){return this.expansionModel.isSelected(this._trackByValue(r))}toggleDescendants(r){this.expansionModel.isSelected(this._trackByValue(r))?this.collapseDescendants(r):this.expandDescendants(r)}collapseAll(){this.expansionModel.clear()}expandDescendants(r){let e=[r];e.push(...this.getDescendants(r)),this.expansionModel.select(...e.map(s=>this._trackByValue(s)))}collapseDescendants(r){let e=[r];e.push(...this.getDescendants(r)),this.expansionModel.deselect(...e.map(s=>this._trackByValue(s)))}_trackByValue(r){return this.trackBy?this.trackBy(r):r}}{constructor(r,e){super(),this.getChildren=r,this.options=e,this.options&&(this.trackBy=this.options.trackBy)}expandAll(){this.expansionModel.clear();const r=this.dataNodes.reduce((e,s)=>[...e,...this.getDescendants(s),s],[]);this.expansionModel.select(...r.map(e=>this._trackByValue(e)))}getDescendants(r){const e=[];return this._getDescendants(e,r),e.splice(1)}_getDescendants(r,e){r.push(e);const s=this.getChildren(e);Array.isArray(s)?s.forEach(o=>this._getDescendants(r,o)):OM(s)&&s.pipe(di(1),xr(Boolean)).subscribe(o=>{for(const a of o)this._getDescendants(r,a)})}}const QR=new C.OlP("CDK_TREE_NODE_OUTLET_NODE");let Ek=(()=>{class i{constructor(e,s){this.viewContainer=e,this._node=s}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(C.s_b),C.Y36(QR,8))},i.\u0275dir=C.lG2({type:i,selectors:[["","cdkTreeNodeOutlet",""]]}),i})();class rte{constructor(r){this.$implicit=r}}let XR=(()=>{class i{constructor(e){this.template=e}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(C.Rgc))},i.\u0275dir=C.lG2({type:i,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:["cdkTreeNodeDefWhen","when"]}}),i})(),Og=(()=>{class i{constructor(e,s){this._differs=e,this._changeDetectorRef=s,this._onDestroy=new ln.xQ,this._levels=new Map,this.viewChange=new Xc({start:0,end:Number.MAX_VALUE})}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}ngOnInit(){this._dataDiffer=this._differs.find([]).create(this.trackBy)}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const e=this._nodeDefs.filter(s=>!s.when);this._defaultNodeDef=e[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(e){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),e||this._nodeOutlet.viewContainer.clear(),this._dataSource=e,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let e;!function(i){return i&&"function"==typeof i.connect}(this._dataSource)?OM(this._dataSource)?e=this._dataSource:Array.isArray(this._dataSource)&&(e=(0,$n.of)(this._dataSource)):e=this._dataSource.connect(this),e&&(this._dataSubscription=e.pipe(Xn(this._onDestroy)).subscribe(s=>this.renderNodeChanges(s)))}renderNodeChanges(e,s=this._dataDiffer,o=this._nodeOutlet.viewContainer,a){const D=s.diff(e);!D||(D.forEachOperation((k,N,B)=>{if(null==k.previousIndex)this.insertNode(e[B],B,o,a);else if(null==B)o.remove(N),this._levels.delete(k.item);else{const G=o.get(N);o.move(G,B)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(e,s){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(a=>a.when&&a.when(s,e))||this._defaultNodeDef}insertNode(e,s,o,a){const D=this._getNodeDef(e,s),k=new rte(e);k.level=this.treeControl.getLevel?this.treeControl.getLevel(e):void 0!==a&&this._levels.has(a)?this._levels.get(a)+1:0,this._levels.set(e,k.level),(o||this._nodeOutlet.viewContainer).createEmbeddedView(D.template,k,s),Rp.mostRecentTreeNode&&(Rp.mostRecentTreeNode.data=e)}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(C.ZZ4),C.Y36(C.sBO))},i.\u0275cmp=C.Xpm({type:i,selectors:[["cdk-tree"]],contentQueries:function(e,s,o){if(1&e&&C.Suo(o,XR,5),2&e){let a;C.iGM(a=C.CRH())&&(s._nodeDefs=a)}},viewQuery:function(e,s){if(1&e&&C.Gf(Ek,7),2&e){let o;C.iGM(o=C.CRH())&&(s._nodeOutlet=o.first)}},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(e,s){1&e&&C.GkF(0,0)},directives:[Ek],encapsulation:2}),i})(),Rp=(()=>{class i{constructor(e,s){this._elementRef=e,this._tree=s,this._destroyed=new ln.xQ,this._dataChanges=new ln.xQ,i.mostRecentTreeNode=this,this._elementRef.nativeElement.classList.add("cdk-tree-node"),this.role="treeitem"}get role(){return"treeitem"}set role(e){this._elementRef.nativeElement.setAttribute("role",e)}get data(){return this._data}set data(e){e!==this._data&&(this._data=e,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}_setExpanded(e){this._isAriaExpanded=e,this._elementRef.nativeElement.setAttribute("aria-expanded",`${e}`)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):this._parentNodeAriaLevel}ngOnInit(){this._parentNodeAriaLevel=function(i){let r=i.parentElement;for(;r&&!ste(r);)r=r.parentElement;return r?r.classList.contains("cdk-nested-tree-node")?Mi(r.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._elementRef.nativeElement.setAttribute("aria-level",`${this.level+1}`)}ngDoCheck(){this.isExpanded!=this._isAriaExpanded&&this._setExpanded(this.isExpanded)}ngOnDestroy(){i.mostRecentTreeNode===this&&(i.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){this.role="treeitem"}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(C.SBq),C.Y36(Og))},i.\u0275dir=C.lG2({type:i,selectors:[["cdk-tree-node"]],inputs:{role:"role"},exportAs:["cdkTreeNode"]}),i.mostRecentTreeNode=null,i})();function ste(i){const r=i.classList;return!(!(null==r?void 0:r.contains("cdk-nested-tree-node"))&&!(null==r?void 0:r.contains("cdk-tree")))}let U8=(()=>{class i extends Rp{constructor(e,s,o){super(e,s),this._differs=o,e.nativeElement.classList.add("cdk-nested-tree-node")}ngAfterContentInit(){this._dataDiffer=this._differs.find([]).create(this._tree.trackBy);const e=this._tree.treeControl.getChildren(this.data);Array.isArray(e)?this.updateChildrenNodes(e):OM(e)&&e.pipe(Xn(this._destroyed)).subscribe(s=>this.updateChildrenNodes(s)),this.nodeOutlet.changes.pipe(Xn(this._destroyed)).subscribe(()=>this.updateChildrenNodes())}ngOnInit(){super.ngOnInit()}ngDoCheck(){super.ngDoCheck()}ngOnDestroy(){this._clear(),super.ngOnDestroy()}updateChildrenNodes(e){const s=this._getNodeOutlet();e&&(this._children=e),s&&this._children?this._tree.renderNodeChanges(this._children,this._dataDiffer,s.viewContainer,this._data):this._dataDiffer.diff([])}_clear(){const e=this._getNodeOutlet();e&&(e.viewContainer.clear(),this._dataDiffer.diff([]))}_getNodeOutlet(){const e=this.nodeOutlet;return e&&e.find(s=>!s._node||s._node===this)}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(C.SBq),C.Y36(Og),C.Y36(C.ZZ4))},i.\u0275dir=C.lG2({type:i,selectors:[["cdk-nested-tree-node"]],contentQueries:function(e,s,o){if(1&e&&C.Suo(o,Ek,5),2&e){let a;C.iGM(a=C.CRH())&&(s.nodeOutlet=a)}},inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["cdkNestedTreeNode"],features:[C._Bn([{provide:Rp,useExisting:i},{provide:QR,useExisting:i}]),C.qOj]}),i})(),q8=(()=>{class i{constructor(e,s){this._tree=e,this._treeNode=s,this._recursive=!1}get recursive(){return this._recursive}set recursive(e){this._recursive=_n(e)}_toggle(e){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),e.stopPropagation()}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(Og),C.Y36(Rp))},i.\u0275dir=C.lG2({type:i,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(e,s){1&e&&C.NdJ("click",function(a){return s._toggle(a)})},inputs:{recursive:["cdkTreeNodeToggleRecursive","recursive"]}}),i})(),iH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({}),i})();const sH=new C.GfV("12.2.4"),oH=new C.GfV("12.2.4"),fte=new C.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Jn=(()=>{class i{constructor(e,s,o){this._hasDoneGlobalChecks=!1,this._document=o,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=s,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const e=this._document.defaultView||window;return"object"==typeof e&&e?e:null}_checkIsEnabled(e){return!(!(0,C.X6Q)()||this._isTestEnv())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}_isTestEnv(){const e=this._getWindow();return e&&(e.__karma__||e.jasmine)}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const s=getComputedStyle(e);s&&"none"!==s.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&oH.full!==sH.full&&console.warn("The Angular Material version ("+oH.full+") does not match the Angular CDK version ("+sH.full+").\nPlease ensure the versions of these two packages exactly match.")}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(mz),C.LFG(fte,8),C.LFG(Ve))},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[NM],NM]}),i})();function Ql(i){return class extends i{constructor(...r){super(...r),this._disabled=!1}get disabled(){return this._disabled}set disabled(r){this._disabled=_n(r)}}}function ju(i,r){return class extends i{constructor(...e){super(...e),this.defaultColor=r,this.color=r}get color(){return this._color}set color(e){const s=e||this.defaultColor;s!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),s&&this._elementRef.nativeElement.classList.add(`mat-${s}`),this._color=s)}}}function Mc(i){return class extends i{constructor(...r){super(...r),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(r){this._disableRipple=_n(r)}}}function Ng(i,r=0){return class extends i{constructor(...e){super(...e),this._tabIndex=r,this.defaultTabIndex=r}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Mi(e):this.defaultTabIndex}}}function eO(i){return class extends i{constructor(...r){super(...r),this.stateChanges=new ln.xQ,this.errorState=!1}updateErrorState(){const r=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==r&&(this.errorState=a,this.stateChanges.next())}}}const pte=new C.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return(0,C.f3M)(C.soG)}});class Mo{constructor(){this._localeChanges=new ln.xQ,this.localeChanges=this._localeChanges}getValidDateOrNull(r){return this.isDateInstance(r)&&this.isValid(r)?r:null}deserialize(r){return null==r||this.isDateInstance(r)&&this.isValid(r)?r:this.invalid()}setLocale(r){this.locale=r,this._localeChanges.next()}compareDate(r,e){return this.getYear(r)-this.getYear(e)||this.getMonth(r)-this.getMonth(e)||this.getDate(r)-this.getDate(e)}sameDate(r,e){if(r&&e){let s=this.isValid(r),o=this.isValid(e);return s&&o?!this.compareDate(r,e):s==o}return r==e}clampDate(r,e,s){return e&&this.compareDate(r,e)<0?e:s&&this.compareDate(r,s)>0?s:r}}const Op=new C.OlP("mat-date-formats");let E1;try{E1="undefined"!=typeof Intl}catch(i){E1=!1}const gte={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},_te=tO(31,i=>String(i+1)),vte={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},yte=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function tO(i,r){const e=Array(i);for(let s=0;s<i;s++)e[s]=r(s);return e}let bte=(()=>{class i extends Mo{constructor(e,s){super(),this.useUtcForDisplay=!0,super.setLocale(e),this.useUtcForDisplay=!s.TRIDENT,this._clampDate=s.TRIDENT||s.EDGE}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){if(E1){const s=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return tO(12,o=>this._stripDirectionalityCharacters(this._format(s,new Date(2017,o,1))))}return gte[e]}getDateNames(){if(E1){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return tO(31,s=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,0,s+1))))}return _te}getDayOfWeekNames(e){if(E1){const s=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return tO(7,o=>this._stripDirectionalityCharacters(this._format(s,new Date(2017,0,o+1))))}return vte[e]}getYearName(e){if(E1){const s=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(s,e))}return String(this.getYear(e))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,s,o){let a=this._createDateWithOverflow(e,s,o);return a.getMonth(),a}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,s){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");if(E1){this._clampDate&&(e.getFullYear()<1||e.getFullYear()>9999)&&(e=this.clone(e)).setFullYear(Math.max(1,Math.min(9999,e.getFullYear()))),s=Object.assign(Object.assign({},s),{timeZone:"utc"});const o=new Intl.DateTimeFormat(this.locale,s);return this._stripDirectionalityCharacters(this._format(o,e))}return this._stripDirectionalityCharacters(e.toDateString())}addCalendarYears(e,s){return this.addCalendarMonths(e,12*s)}addCalendarMonths(e,s){let o=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+s,this.getDate(e));return this.getMonth(o)!=((this.getMonth(e)+s)%12+12)%12&&(o=this._createDateWithOverflow(this.getYear(o),this.getMonth(o),0)),o}addCalendarDays(e,s){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+s)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(yte.test(e)){let s=new Date(e);if(this.isValid(s))return s}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,s,o){const a=new Date;return a.setFullYear(e,s,o),a.setHours(0,0,0,0),a}_2digit(e){return("00"+e).slice(-2)}_stripDirectionalityCharacters(e){return e.replace(/[\u200e\u200f]/g,"")}_format(e,s){const o=new Date;return o.setUTCFullYear(s.getFullYear(),s.getMonth(),s.getDate()),o.setUTCHours(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()),e.format(o)}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(pte,8),C.LFG(Jr))},i.\u0275prov=C.Yz7({token:i,factory:i.\u0275fac}),i})(),Cte=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({providers:[{provide:Mo,useClass:bte}],imports:[[kM]]}),i})();const Ste={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Mte=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({providers:[{provide:Op,useValue:Ste}],imports:[[Cte]]}),i})(),nf=(()=>{class i{isErrorState(e,s){return!!(e&&e.invalid&&(e.touched||s&&s.submitted))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=C.Yz7({factory:function(){return new i},token:i,providedIn:"root"}),i})(),nO=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[Jn],Jn]}),i})();class Ete{constructor(r,e,s){this._renderer=r,this.element=e,this.config=s,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const lH={enterDuration:225,exitDuration:150},K8=ef({passive:!0}),cH=["mousedown","touchstart"],uH=["mouseup","mouseleave","touchend","touchcancel"];class Z8{constructor(r,e,s,o){this._target=r,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=So(s))}fadeInRipple(r,e,s={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Object.assign(Object.assign({},lH),s.animation);s.centered&&(r=o.left+o.width/2,e=o.top+o.height/2);const D=s.radius||function(i,r,e){const s=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),o=Math.max(Math.abs(r-e.top),Math.abs(r-e.bottom));return Math.sqrt(s*s+o*o)}(r,e,o),k=r-o.left,N=e-o.top,B=a.enterDuration,G=document.createElement("div");G.classList.add("mat-ripple-element"),G.style.left=k-D+"px",G.style.top=N-D+"px",G.style.height=2*D+"px",G.style.width=2*D+"px",null!=s.color&&(G.style.backgroundColor=s.color),G.style.transitionDuration=`${B}ms`,this._containerElement.appendChild(G),function(i){window.getComputedStyle(i).getPropertyValue("opacity")}(G),G.style.transform="scale(1)";const $=new Ete(this,G,s);return $.state=0,this._activeRipples.add($),s.persistent||(this._mostRecentTransientRipple=$),this._runTimeoutOutsideZone(()=>{const re=$===this._mostRecentTransientRipple;$.state=1,!s.persistent&&(!re||!this._isPointerDown)&&$.fadeOut()},B),$}fadeOutRipple(r){const e=this._activeRipples.delete(r);if(r===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const s=r.element,o=Object.assign(Object.assign({},lH),r.config.animation);s.style.transitionDuration=`${o.exitDuration}ms`,s.style.opacity="0",r.state=2,this._runTimeoutOutsideZone(()=>{r.state=3,s.parentNode.removeChild(s)},o.exitDuration)}fadeOutAll(){this._activeRipples.forEach(r=>r.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(r=>{r.config.persistent||r.fadeOut()})}setupTriggerEvents(r){const e=So(r);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(cH))}handleEvent(r){"mousedown"===r.type?this._onMousedown(r):"touchstart"===r.type?this._onTouchStart(r):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(uH),this._pointerUpEventsRegistered=!0)}_onMousedown(r){const e=IR(r),s=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!s&&(this._isPointerDown=!0,this.fadeInRipple(r.clientX,r.clientY,this._target.rippleConfig))}_onTouchStart(r){if(!this._target.rippleDisabled&&!RR(r)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=r.changedTouches;for(let s=0;s<e.length;s++)this.fadeInRipple(e[s].clientX,e[s].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(r=>{!r.config.persistent&&(1===r.state||r.config.terminateOnPointerUp&&0===r.state)&&r.fadeOut()}))}_runTimeoutOutsideZone(r,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(r,e))}_registerEvents(r){this._ngZone.runOutsideAngular(()=>{r.forEach(e=>{this._triggerElement.addEventListener(e,this,K8)})})}_removeTriggerEvents(){this._triggerElement&&(cH.forEach(r=>{this._triggerElement.removeEventListener(r,this,K8)}),this._pointerUpEventsRegistered&&uH.forEach(r=>{this._triggerElement.removeEventListener(r,this,K8)}))}}const Tk=new C.OlP("mat-ripple-global-options");let Xl=(()=>{class i{constructor(e,s,o,a,D){this._elementRef=e,this._animationMode=D,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new Z8(this,s,e,o)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,s=0,o){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,s,Object.assign(Object.assign({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(C.SBq),C.Y36(C.R0b),C.Y36(Jr),C.Y36(Tk,8),C.Y36(is,8))},i.\u0275dir=C.lG2({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,s){2&e&&C.ekj("mat-ripple-unbounded",s.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),i})(),rf=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[Jn,kM],Jn]}),i})(),J8=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[Jn]]}),i})(),sO=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[rf,ps,Jn,J8]]}),i})();const mH=KV();class Fte{constructor(r,e){this._viewportRuler=r,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const r=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=r.style.left||"",this._previousHTMLStyles.top=r.style.top||"",r.style.left=ua(-this._previousScrollPosition.left),r.style.top=ua(-this._previousScrollPosition.top),r.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const r=this._document.documentElement,s=r.style,o=this._document.body.style,a=s.scrollBehavior||"",D=o.scrollBehavior||"";this._isEnabled=!1,s.left=this._previousHTMLStyles.left,s.top=this._previousHTMLStyles.top,r.classList.remove("cdk-global-scrollblock"),mH&&(s.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),mH&&(s.scrollBehavior=a,o.scrollBehavior=D)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,s=this._viewportRuler.getViewportSize();return e.scrollHeight>s.height||e.scrollWidth>s.width}}class Lte{constructor(r,e,s,o){this._scrollDispatcher=r,this._ngZone=e,this._viewportRuler=s,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(r){this._overlayRef=r}enable(){if(this._scrollSubscription)return;const r=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=r.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=r.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class gH{enable(){}disable(){}attach(){}}function e7(i,r){return r.some(e=>i.bottom<e.top||i.top>e.bottom||i.right<e.left||i.left>e.right)}function _H(i,r){return r.some(e=>i.top<e.top||i.bottom>e.bottom||i.left<e.left||i.right>e.right)}class Bte{constructor(r,e,s,o){this._scrollDispatcher=r,this._viewportRuler=e,this._ngZone=s,this._config=o,this._scrollSubscription=null}attach(r){this._overlayRef=r}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:s,height:o}=this._viewportRuler.getViewportSize();e7(e,[{width:s,height:o,bottom:o,right:s,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Vte=(()=>{class i{constructor(e,s,o,a){this._scrollDispatcher=e,this._viewportRuler=s,this._ngZone=o,this.noop=()=>new gH,this.close=D=>new Lte(this._scrollDispatcher,this._ngZone,this._viewportRuler,D),this.block=()=>new Fte(this._viewportRuler,this._document),this.reposition=D=>new Bte(this._scrollDispatcher,this._viewportRuler,this._ngZone,D),this._document=a}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(xg),C.LFG(Jl),C.LFG(C.R0b),C.LFG(Ve))},i.\u0275prov=C.Yz7({factory:function(){return new i(C.LFG(xg),C.LFG(Jl),C.LFG(C.R0b),C.LFG(Ve))},token:i,providedIn:"root"}),i})();class GM{constructor(r){if(this.scrollStrategy=new gH,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,r){const e=Object.keys(r);for(const s of e)void 0!==r[s]&&(this[s]=r[s])}}}class zte{constructor(r,e,s,o,a){this.offsetX=s,this.offsetY=o,this.panelClass=a,this.originX=r.originX,this.originY=r.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class Hte{constructor(r,e){this.connectionPair=r,this.scrollableViewProperties=e}}let vH=(()=>{class i{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const s=this._attachedOverlays.indexOf(e);s>-1&&this._attachedOverlays.splice(s,1),0===this._attachedOverlays.length&&this.detach()}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(Ve))},i.\u0275prov=C.Yz7({factory:function(){return new i(C.LFG(Ve))},token:i,providedIn:"root"}),i})(),Ute=(()=>{class i extends vH{constructor(e){super(e),this._keydownListener=s=>{const o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){o[a]._keydownEvents.next(s);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(Ve))},i.\u0275prov=C.Yz7({factory:function(){return new i(C.LFG(Ve))},token:i,providedIn:"root"}),i})(),Gte=(()=>{class i extends vH{constructor(e,s){super(e),this._platform=s,this._cursorStyleIsSet=!1,this._clickListener=o=>{const a=Kd(o),D=this._attachedOverlays.slice();for(let k=D.length-1;k>-1;k--){const N=D[k];if(!(N._outsidePointerEvents.observers.length<1)&&N.hasAttached()){if(N.overlayElement.contains(a))break;N._outsidePointerEvents.next(o)}}}}add(e){if(super.add(e),!this._isAttached){const s=this._document.body;s.addEventListener("click",this._clickListener,!0),s.addEventListener("auxclick",this._clickListener,!0),s.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=s.style.cursor,s.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(Ve),C.LFG(Jr))},i.\u0275prov=C.Yz7({factory:function(){return new i(C.LFG(Ve),C.LFG(Jr))},token:i,providedIn:"root"}),i})();const lv="undefined"!=typeof window?window:{},yH=void 0!==lv.__karma__&&!!lv.__karma__||void 0!==lv.jasmine&&!!lv.jasmine||void 0!==lv.jest&&!!lv.jest||void 0!==lv.Mocha&&!!lv.Mocha;let xk=(()=>{class i{constructor(e,s){this._platform=s,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||yH){const o=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let a=0;a<o.length;a++)o[a].parentNode.removeChild(o[a])}const s=this._document.createElement("div");s.classList.add(e),yH?s.setAttribute("platform","test"):this._platform.isBrowser||s.setAttribute("platform","server"),this._document.body.appendChild(s),this._containerElement=s}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(Ve),C.LFG(Jr))},i.\u0275prov=C.Yz7({factory:function(){return new i(C.LFG(Ve),C.LFG(Jr))},token:i,providedIn:"root"}),i})();class qte{constructor(r,e,s,o,a,D,k,N,B){this._portalOutlet=r,this._host=e,this._pane=s,this._config=o,this._ngZone=a,this._keyboardDispatcher=D,this._document=k,this._location=N,this._outsideClickDispatcher=B,this._backdropElement=null,this._backdropClick=new ln.xQ,this._attachments=new ln.xQ,this._detachments=new ln.xQ,this._locationChanges=ti.w.EMPTY,this._backdropClickHandler=G=>this._backdropClick.next(G),this._keydownEvents=new ln.xQ,this._outsidePointerEvents=new ln.xQ,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(r){let e=this._portalOutlet.attach(r);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(di(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const r=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),r}dispose(){const r=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,r&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(r){r!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=r,this.hasAttached()&&(r.attach(this),this.updatePosition()))}updateSize(r){this._config=Object.assign(Object.assign({},this._config),r),this._updateElementSize()}setDirection(r){this._config=Object.assign(Object.assign({},this._config),{direction:r}),this._updateElementDirection()}addPanelClass(r){this._pane&&this._toggleClasses(this._pane,r,!0)}removePanelClass(r){this._pane&&this._toggleClasses(this._pane,r,!1)}getDirection(){const r=this._config.direction;return r?"string"==typeof r?r:r.value:"ltr"}updateScrollStrategy(r){r!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=r,this.hasAttached()&&(r.attach(this),r.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const r=this._pane.style;r.width=ua(this._config.width),r.height=ua(this._config.height),r.minWidth=ua(this._config.minWidth),r.minHeight=ua(this._config.minHeight),r.maxWidth=ua(this._config.maxWidth),r.maxHeight=ua(this._config.maxHeight)}_togglePointerEvents(r){this._pane.style.pointerEvents=r?"":"none"}_attachBackdrop(){const r="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(r)})}):this._backdropElement.classList.add(r)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let r=this._backdropElement;if(!r)return;let e,s=()=>{r&&(r.removeEventListener("click",this._backdropClickHandler),r.removeEventListener("transitionend",s),r.parentNode&&r.parentNode.removeChild(r)),this._backdropElement==r&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(r,this._config.backdropClass,!1),clearTimeout(e)};r.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{r.addEventListener("transitionend",s)}),r.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(s,500))}_toggleClasses(r,e,s){const o=r.classList;hk(e).forEach(a=>{a&&(s?o.add(a):o.remove(a))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const r=this._ngZone.onStable.pipe(Xn((0,ss.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),r.unsubscribe())})})}_disposeScrollStrategy(){const r=this._scrollStrategy;r&&(r.disable(),r.detach&&r.detach())}}const bH="cdk-overlay-connected-position-bounding-box",jte=/([A-Za-z%]+)$/;class t7{constructor(r,e,s,o,a){this._viewportRuler=e,this._document=s,this._platform=o,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ln.xQ,this._resizeSubscription=ti.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(r)}get positions(){return this._preferredPositions}attach(r){this._validatePositions(),r.hostElement.classList.add(bH),this._overlayRef=r,this._boundingBox=r.hostElement,this._pane=r.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const r=this._originRect,e=this._overlayRect,s=this._viewportRect,o=[];let a;for(let D of this._preferredPositions){let k=this._getOriginPoint(r,D),N=this._getOverlayPoint(k,e,D),B=this._getOverlayFit(N,e,s,D);if(B.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(D,k);this._canFitWithFlexibleDimensions(B,N,s)?o.push({position:D,origin:k,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(k,D)}):(!a||a.overlayFit.visibleArea<B.visibleArea)&&(a={overlayFit:B,overlayPoint:N,originPoint:k,position:D,overlayRect:e})}if(o.length){let D=null,k=-1;for(const N of o){const B=N.boundingBoxRect.width*N.boundingBoxRect.height*(N.position.weight||1);B>k&&(k=B,D=N)}return this._isPushed=!1,void this._applyPosition(D.position,D.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&D1(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(bH),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const r=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,r);this._applyPosition(r,e)}}withScrollableContainers(r){return this._scrollables=r,this}withPositions(r){return this._preferredPositions=r,-1===r.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(r){return this._viewportMargin=r,this}withFlexibleDimensions(r=!0){return this._hasFlexibleDimensions=r,this}withGrowAfterOpen(r=!0){return this._growAfterOpen=r,this}withPush(r=!0){return this._canPush=r,this}withLockedPosition(r=!0){return this._positionLocked=r,this}setOrigin(r){return this._origin=r,this}withDefaultOffsetX(r){return this._offsetX=r,this}withDefaultOffsetY(r){return this._offsetY=r,this}withTransformOriginOn(r){return this._transformOriginSelector=r,this}_getOriginPoint(r,e){let s,o;if("center"==e.originX)s=r.left+r.width/2;else{const a=this._isRtl()?r.right:r.left,D=this._isRtl()?r.left:r.right;s="start"==e.originX?a:D}return o="center"==e.originY?r.top+r.height/2:"top"==e.originY?r.top:r.bottom,{x:s,y:o}}_getOverlayPoint(r,e,s){let o,a;return o="center"==s.overlayX?-e.width/2:"start"===s.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,a="center"==s.overlayY?-e.height/2:"top"==s.overlayY?0:-e.height,{x:r.x+o,y:r.y+a}}_getOverlayFit(r,e,s,o){const a=CH(e);let{x:D,y:k}=r,N=this._getOffset(o,"x"),B=this._getOffset(o,"y");N&&(D+=N),B&&(k+=B);let re=0-k,oe=k+a.height-s.height,_e=this._subtractOverflows(a.width,0-D,D+a.width-s.width),ze=this._subtractOverflows(a.height,re,oe),mt=_e*ze;return{visibleArea:mt,isCompletelyWithinViewport:a.width*a.height===mt,fitsInViewportVertically:ze===a.height,fitsInViewportHorizontally:_e==a.width}}_canFitWithFlexibleDimensions(r,e,s){if(this._hasFlexibleDimensions){const o=s.bottom-e.y,a=s.right-e.x,D=wH(this._overlayRef.getConfig().minHeight),k=wH(this._overlayRef.getConfig().minWidth),B=r.fitsInViewportHorizontally||null!=k&&k<=a;return(r.fitsInViewportVertically||null!=D&&D<=o)&&B}return!1}_pushOverlayOnScreen(r,e,s){if(this._previousPushAmount&&this._positionLocked)return{x:r.x+this._previousPushAmount.x,y:r.y+this._previousPushAmount.y};const o=CH(e),a=this._viewportRect,D=Math.max(r.x+o.width-a.width,0),k=Math.max(r.y+o.height-a.height,0),N=Math.max(a.top-s.top-r.y,0),B=Math.max(a.left-s.left-r.x,0);let G=0,$=0;return G=o.width<=a.width?B||-D:r.x<this._viewportMargin?a.left-s.left-r.x:0,$=o.height<=a.height?N||-k:r.y<this._viewportMargin?a.top-s.top-r.y:0,this._previousPushAmount={x:G,y:$},{x:r.x+G,y:r.y+$}}_applyPosition(r,e){if(this._setTransformOrigin(r),this._setOverlayElementStyles(e,r),this._setBoundingBoxStyles(e,r),r.panelClass&&this._addPanelClasses(r.panelClass),this._lastPosition=r,this._positionChanges.observers.length){const s=this._getScrollVisibility(),o=new Hte(r,s);this._positionChanges.next(o)}this._isInitialRender=!1}_setTransformOrigin(r){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let s,o=r.overlayY;s="center"===r.overlayX?"center":this._isRtl()?"start"===r.overlayX?"right":"left":"start"===r.overlayX?"left":"right";for(let a=0;a<e.length;a++)e[a].style.transformOrigin=`${s} ${o}`}_calculateBoundingBoxRect(r,e){const s=this._viewportRect,o=this._isRtl();let a,D,k,G,$,re;if("top"===e.overlayY)D=r.y,a=s.height-D+this._viewportMargin;else if("bottom"===e.overlayY)k=s.height-r.y+2*this._viewportMargin,a=s.height-k+this._viewportMargin;else{const oe=Math.min(s.bottom-r.y+s.top,r.y),_e=this._lastBoundingBoxSize.height;a=2*oe,D=r.y-oe,a>_e&&!this._isInitialRender&&!this._growAfterOpen&&(D=r.y-_e/2)}if("end"===e.overlayX&&!o||"start"===e.overlayX&&o)re=s.width-r.x+this._viewportMargin,G=r.x-this._viewportMargin;else if("start"===e.overlayX&&!o||"end"===e.overlayX&&o)$=r.x,G=s.right-r.x;else{const oe=Math.min(s.right-r.x+s.left,r.x),_e=this._lastBoundingBoxSize.width;G=2*oe,$=r.x-oe,G>_e&&!this._isInitialRender&&!this._growAfterOpen&&($=r.x-_e/2)}return{top:D,left:$,bottom:k,right:re,width:G,height:a}}_setBoundingBoxStyles(r,e){const s=this._calculateBoundingBoxRect(r,e);!this._isInitialRender&&!this._growAfterOpen&&(s.height=Math.min(s.height,this._lastBoundingBoxSize.height),s.width=Math.min(s.width,this._lastBoundingBoxSize.width));const o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,D=this._overlayRef.getConfig().maxWidth;o.height=ua(s.height),o.top=ua(s.top),o.bottom=ua(s.bottom),o.width=ua(s.width),o.left=ua(s.left),o.right=ua(s.right),o.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",o.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",a&&(o.maxHeight=ua(a)),D&&(o.maxWidth=ua(D))}this._lastBoundingBoxSize=s,D1(this._boundingBox.style,o)}_resetBoundingBoxStyles(){D1(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){D1(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(r,e){const s={},o=this._hasExactPosition(),a=this._hasFlexibleDimensions,D=this._overlayRef.getConfig();if(o){const G=this._viewportRuler.getViewportScrollPosition();D1(s,this._getExactOverlayY(e,r,G)),D1(s,this._getExactOverlayX(e,r,G))}else s.position="static";let k="",N=this._getOffset(e,"x"),B=this._getOffset(e,"y");N&&(k+=`translateX(${N}px) `),B&&(k+=`translateY(${B}px)`),s.transform=k.trim(),D.maxHeight&&(o?s.maxHeight=ua(D.maxHeight):a&&(s.maxHeight="")),D.maxWidth&&(o?s.maxWidth=ua(D.maxWidth):a&&(s.maxWidth="")),D1(this._pane.style,s)}_getExactOverlayY(r,e,s){let o={top:"",bottom:""},a=this._getOverlayPoint(e,this._overlayRect,r);this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,s));let D=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return a.y-=D,"bottom"===r.overlayY?o.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":o.top=ua(a.y),o}_getExactOverlayX(r,e,s){let D,o={left:"",right:""},a=this._getOverlayPoint(e,this._overlayRect,r);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,s)),D=this._isRtl()?"end"===r.overlayX?"left":"right":"end"===r.overlayX?"right":"left","right"===D?o.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":o.left=ua(a.x),o}_getScrollVisibility(){const r=this._getOriginRect(),e=this._pane.getBoundingClientRect(),s=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:_H(r,s),isOriginOutsideView:e7(r,s),isOverlayClipped:_H(e,s),isOverlayOutsideView:e7(e,s)}}_subtractOverflows(r,...e){return e.reduce((s,o)=>s-Math.max(o,0),r)}_getNarrowedViewportRect(){const r=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,s=this._viewportRuler.getViewportScrollPosition();return{top:s.top+this._viewportMargin,left:s.left+this._viewportMargin,right:s.left+r-this._viewportMargin,bottom:s.top+e-this._viewportMargin,width:r-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(r,e){return"x"===e?null==r.offsetX?this._offsetX:r.offsetX:null==r.offsetY?this._offsetY:r.offsetY}_validatePositions(){}_addPanelClasses(r){this._pane&&hk(r).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(r=>{this._pane.classList.remove(r)}),this._appliedPanelClasses=[])}_getOriginRect(){const r=this._origin;if(r instanceof C.SBq)return r.nativeElement.getBoundingClientRect();if(r instanceof Element)return r.getBoundingClientRect();const e=r.width||0,s=r.height||0;return{top:r.y,bottom:r.y+s,left:r.x,right:r.x+e,height:s,width:e}}}function D1(i,r){for(let e in r)r.hasOwnProperty(e)&&(i[e]=r[e]);return i}function wH(i){if("number"!=typeof i&&null!=i){const[r,e]=i.split(jte);return e&&"px"!==e?null:parseFloat(r)}return i||null}function CH(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}class Yte{constructor(r,e,s,o,a,D,k){this._preferredPositions=[],this._positionStrategy=new t7(s,o,a,D,k).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(r,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(r){this._overlayRef=r,this._positionStrategy.attach(r),this._direction&&(r.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(r){this._positionStrategy.withScrollableContainers(r)}withFallbackPosition(r,e,s,o){const a=new zte(r,e,s,o);return this._preferredPositions.push(a),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(r){return this._overlayRef?this._overlayRef.setDirection(r):this._direction=r,this}withOffsetX(r){return this._positionStrategy.withDefaultOffsetX(r),this}withOffsetY(r){return this._positionStrategy.withDefaultOffsetY(r),this}withLockedPosition(r){return this._positionStrategy.withLockedPosition(r),this}withPositions(r){return this._preferredPositions=r.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(r){return this._positionStrategy.setOrigin(r),this}}const SH="cdk-global-overlay-wrapper";class Wte{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(r){const e=r.getConfig();this._overlayRef=r,this._width&&!e.width&&r.updateSize({width:this._width}),this._height&&!e.height&&r.updateSize({height:this._height}),r.hostElement.classList.add(SH),this._isDisposed=!1}top(r=""){return this._bottomOffset="",this._topOffset=r,this._alignItems="flex-start",this}left(r=""){return this._rightOffset="",this._leftOffset=r,this._justifyContent="flex-start",this}bottom(r=""){return this._topOffset="",this._bottomOffset=r,this._alignItems="flex-end",this}right(r=""){return this._leftOffset="",this._rightOffset=r,this._justifyContent="flex-end",this}width(r=""){return this._overlayRef?this._overlayRef.updateSize({width:r}):this._width=r,this}height(r=""){return this._overlayRef?this._overlayRef.updateSize({height:r}):this._height=r,this}centerHorizontally(r=""){return this.left(r),this._justifyContent="center",this}centerVertically(r=""){return this.top(r),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const r=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,s=this._overlayRef.getConfig(),{width:o,height:a,maxWidth:D,maxHeight:k}=s,N=!("100%"!==o&&"100vw"!==o||D&&"100%"!==D&&"100vw"!==D),B=!("100%"!==a&&"100vh"!==a||k&&"100%"!==k&&"100vh"!==k);r.position=this._cssPosition,r.marginLeft=N?"0":this._leftOffset,r.marginTop=B?"0":this._topOffset,r.marginBottom=this._bottomOffset,r.marginRight=this._rightOffset,N?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=B?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const r=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,s=e.style;e.classList.remove(SH),s.justifyContent=s.alignItems=r.marginTop=r.marginBottom=r.marginLeft=r.marginRight=r.position="",this._overlayRef=null,this._isDisposed=!0}}let $te=(()=>{class i{constructor(e,s,o,a){this._viewportRuler=e,this._document=s,this._platform=o,this._overlayContainer=a}global(){return new Wte}connectedTo(e,s,o){return new Yte(s,o,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new t7(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(Jl),C.LFG(Ve),C.LFG(Jr),C.LFG(xk))},i.\u0275prov=C.Yz7({factory:function(){return new i(C.LFG(Jl),C.LFG(Ve),C.LFG(Jr),C.LFG(xk))},token:i,providedIn:"root"}),i})(),Kte=0,ec=(()=>{class i{constructor(e,s,o,a,D,k,N,B,G,$,re){this.scrollStrategies=e,this._overlayContainer=s,this._componentFactoryResolver=o,this._positionBuilder=a,this._keyboardDispatcher=D,this._injector=k,this._ngZone=N,this._document=B,this._directionality=G,this._location=$,this._outsideClickDispatcher=re}create(e){const s=this._createHostElement(),o=this._createPaneElement(s),a=this._createPortalOutlet(o),D=new GM(e);return D.direction=D.direction||this._directionality.value,new qte(a,s,o,D,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const s=this._document.createElement("div");return s.id="cdk-overlay-"+Kte++,s.classList.add("cdk-overlay-pane"),e.appendChild(s),s}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(C.z2F)),new Wz(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(Vte),C.LFG(xk),C.LFG(C._Vd),C.LFG($te),C.LFG(Ute),C.LFG(C.zs3),C.LFG(C.R0b),C.LFG(Ve),C.LFG(Li),C.LFG(Nt),C.LFG(Gte))},i.\u0275prov=C.Yz7({token:i,factory:i.\u0275fac}),i})();const Xte={provide:new C.OlP("cdk-connected-overlay-scroll-strategy"),deps:[ec],useFactory:function(i){return()=>i.scrollStrategies.reposition()}};let Pg=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({providers:[ec,Xte],imports:[[NM,kg,BR],BR]}),i})();var ene=$e(1555);function DH(...i){if(1===i.length){const r=i[0];if((0,ok.k)(r))return oO(r,null);if((0,ene.K)(r)&&Object.getPrototypeOf(r)===Object.prototype){const e=Object.keys(r);return oO(e.map(s=>r[s]),e)}}if("function"==typeof i[i.length-1]){const r=i.pop();return oO(i=1===i.length&&(0,ok.k)(i[0])?i[0]:i,null).pipe((0,rr.U)(e=>r(...e)))}return oO(i,null)}function oO(i,r){return new $i.y(e=>{const s=i.length;if(0===s)return void e.complete();const o=new Array(s);let a=0,D=0;for(let k=0;k<s;k++){const N=(0,_l.D)(i[k]);let B=!1;e.add(N.subscribe({next:G=>{B||(B=!0,D++),o[k]=G},error:G=>e.error(G),complete:()=>{a++,(a===s||!B)&&(D===s&&e.next(r?r.reduce((G,$,re)=>(G[$]=o[re],G),{}):o),e.complete())}}))}})}let TH=(()=>{class i{constructor(e,s){this._renderer=e,this._elementRef=s,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,s){this._renderer.setProperty(this._elementRef.nativeElement,e,s)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(C.Qsj),C.Y36(C.SBq))},i.\u0275dir=C.lG2({type:i}),i})(),T1=(()=>{class i extends TH{}return i.\u0275fac=function(){let r;return function(s){return(r||(r=C.n5z(i)))(s||i)}}(),i.\u0275dir=C.lG2({type:i,features:[C.qOj]}),i})();const da=new C.OlP("NgValueAccessor"),nne={provide:da,useExisting:(0,C.Gpc)(()=>aO),multi:!0},ine=new C.OlP("CompositionEventMode");let aO=(()=>{class i extends TH{constructor(e,s,o){super(e,s),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=Ct()?Ct().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(C.Qsj),C.Y36(C.SBq),C.Y36(ine,8))},i.\u0275dir=C.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,s){1&e&&C.NdJ("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[C._Bn([nne]),C.qOj]}),i})();function cv(i){return null==i||0===i.length}function kH(i){return null!=i&&"number"==typeof i.length}const Uo=new C.OlP("NgValidators"),uv=new C.OlP("NgAsyncValidators"),sne=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class lO{static min(r){return function(i){return r=>{if(cv(r.value)||cv(i))return null;const e=parseFloat(r.value);return!isNaN(e)&&e<i?{min:{min:i,actual:r.value}}:null}}(r)}static max(r){return function(i){return r=>{if(cv(r.value)||cv(i))return null;const e=parseFloat(r.value);return!isNaN(e)&&e>i?{max:{max:i,actual:r.value}}:null}}(r)}static required(r){return RH(r)}static requiredTrue(r){return function(i){return!0===i.value?null:{required:!0}}(r)}static email(r){return function(i){return cv(i.value)||sne.test(i.value)?null:{email:!0}}(r)}static minLength(r){return function(i){return r=>cv(r.value)||!kH(r.value)?null:r.value.length<i?{minlength:{requiredLength:i,actualLength:r.value.length}}:null}(r)}static maxLength(r){return function(i){return r=>kH(r.value)&&r.value.length>i?{maxlength:{requiredLength:i,actualLength:r.value.length}}:null}(r)}static pattern(r){return function(i){if(!i)return dv;let r,e;return"string"==typeof i?(e="","^"!==i.charAt(0)&&(e+="^"),e+=i,"$"!==i.charAt(i.length-1)&&(e+="$"),r=new RegExp(e)):(e=i.toString(),r=i),s=>{if(cv(s.value))return null;const o=s.value;return r.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(r)}static nullValidator(r){return null}static compose(r){return GH(r)}static composeAsync(r){return qH(r)}}function RH(i){return cv(i.value)?{required:!0}:null}function dv(i){return null}function BH(i){return null!=i}function VH(i){const r=(0,C.QGY)(i)?(0,_l.D)(i):i;return(0,C.CqO)(r),r}function zH(i){let r={};return i.forEach(e=>{r=null!=e?Object.assign(Object.assign({},r),e):r}),0===Object.keys(r).length?null:r}function HH(i,r){return r.map(e=>e(i))}function UH(i){return i.map(r=>function(i){return!i.validate}(r)?r:e=>r.validate(e))}function GH(i){if(!i)return null;const r=i.filter(BH);return 0==r.length?null:function(e){return zH(HH(e,r))}}function n7(i){return null!=i?GH(UH(i)):null}function qH(i){if(!i)return null;const r=i.filter(BH);return 0==r.length?null:function(e){return DH(HH(e,r).map(VH)).pipe((0,rr.U)(zH))}}function r7(i){return null!=i?qH(UH(i)):null}function jH(i,r){return null===i?[r]:Array.isArray(i)?[...i,r]:[i,r]}function YH(i){return i._rawValidators}function WH(i){return i._rawAsyncValidators}function i7(i){return i?Array.isArray(i)?i:[i]:[]}function cO(i,r){return Array.isArray(i)?i.includes(r):i===r}function $H(i,r){const e=i7(r);return i7(i).forEach(o=>{cO(e,o)||e.push(o)}),e}function KH(i,r){return i7(r).filter(e=>!cO(i,e))}let ZH=(()=>{class i{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=n7(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=r7(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,s){return!!this.control&&this.control.hasError(e,s)}getError(e,s){return this.control?this.control.getError(e,s):null}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=C.lG2({type:i}),i})(),tc=(()=>{class i extends ZH{get formDirective(){return null}get path(){return null}}return i.\u0275fac=function(){let r;return function(s){return(r||(r=C.n5z(i)))(s||i)}}(),i.\u0275dir=C.lG2({type:i,features:[C.qOj]}),i})();class Zd extends ZH{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let s7=(()=>{class i extends class{constructor(r){this._cd=r}is(r){var e,s,o;return"submitted"===r?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(o=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===o?void 0:o[r])}}{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(Zd,2))},i.\u0275dir=C.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,s){2&e&&C.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[C.qOj]}),i})();function kk(i,r){l7(i,r),r.valueAccessor.writeValue(i.value),function(i,r){r.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&QH(i,r)})}(i,r),function(i,r){const e=(s,o)=>{r.valueAccessor.writeValue(s),o&&r.viewToModelUpdate(s)};i.registerOnChange(e),r._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,r),function(i,r){r.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&QH(i,r),"submit"!==i.updateOn&&i.markAsTouched()})}(i,r),function(i,r){if(r.valueAccessor.setDisabledState){const e=s=>{r.valueAccessor.setDisabledState(s)};i.registerOnDisabledChange(e),r._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,r)}function hO(i,r,e=!0){const s=()=>{};r.valueAccessor&&(r.valueAccessor.registerOnChange(s),r.valueAccessor.registerOnTouched(s)),pO(i,r),i&&(r._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function fO(i,r){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(r)})}function l7(i,r){const e=YH(i);null!==r.validator?i.setValidators(jH(e,r.validator)):"function"==typeof e&&i.setValidators([e]);const s=WH(i);null!==r.asyncValidator?i.setAsyncValidators(jH(s,r.asyncValidator)):"function"==typeof s&&i.setAsyncValidators([s]);const o=()=>i.updateValueAndValidity();fO(r._rawValidators,o),fO(r._rawAsyncValidators,o)}function pO(i,r){let e=!1;if(null!==i){if(null!==r.validator){const o=YH(i);if(Array.isArray(o)&&o.length>0){const a=o.filter(D=>D!==r.validator);a.length!==o.length&&(e=!0,i.setValidators(a))}}if(null!==r.asyncValidator){const o=WH(i);if(Array.isArray(o)&&o.length>0){const a=o.filter(D=>D!==r.asyncValidator);a.length!==o.length&&(e=!0,i.setAsyncValidators(a))}}}const s=()=>{};return fO(r._rawValidators,s),fO(r._rawAsyncValidators,s),e}function QH(i,r){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function XH(i,r){l7(i,r)}function c7(i,r){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(r,e.currentValue)}function eU(i,r){i._syncPendingControls(),r.forEach(e=>{const s=e.control;"submit"===s.updateOn&&s._pendingChange&&(e.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}function u7(i,r){if(!r)return null;let e,s,o;return Array.isArray(r),r.forEach(a=>{a.constructor===aO?e=a:function(i){return Object.getPrototypeOf(i.constructor)===T1}(a)?s=a:o=a}),o||s||e||null}function mO(i,r){const e=i.indexOf(r);e>-1&&i.splice(e,1)}const Ak="VALID",gO="INVALID",qM="PENDING",Ik="DISABLED";function d7(i){return(f7(i)?i.validators:i)||null}function tU(i){return Array.isArray(i)?n7(i):i||null}function h7(i,r){return(f7(r)?r.asyncValidators:i)||null}function nU(i){return Array.isArray(i)?r7(i):i||null}function f7(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class p7{constructor(r,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=r,this._rawAsyncValidators=e,this._composedValidatorFn=tU(this._rawValidators),this._composedAsyncValidatorFn=nU(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get valid(){return this.status===Ak}get invalid(){return this.status===gO}get pending(){return this.status==qM}get disabled(){return this.status===Ik}get enabled(){return this.status!==Ik}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._rawValidators=r,this._composedValidatorFn=tU(r)}setAsyncValidators(r){this._rawAsyncValidators=r,this._composedAsyncValidatorFn=nU(r)}addValidators(r){this.setValidators($H(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators($H(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(KH(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(KH(r,this._rawAsyncValidators))}hasValidator(r){return cO(this._rawValidators,r)}hasAsyncValidator(r){return cO(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){this.touched=!0,this._parent&&!r.onlySelf&&this._parent.markAsTouched(r)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(r=>r.markAllAsTouched())}markAsUntouched(r={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}markAsDirty(r={}){this.pristine=!1,this._parent&&!r.onlySelf&&this._parent.markAsDirty(r)}markAsPristine(r={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}markAsPending(r={}){this.status=qM,!1!==r.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!r.onlySelf&&this._parent.markAsPending(r)}disable(r={}){const e=this._parentMarkedDirty(r.onlySelf);this.status=Ik,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this._updateValue(),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:e})),this._onDisabledChange.forEach(s=>s(!0))}enable(r={}){const e=this._parentMarkedDirty(r.onlySelf);this.status=Ak,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:e})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(r){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(r){this._parent=r}updateValueAndValidity(r={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ak||this.status===qM)&&this._runAsyncValidator(r.emitEvent)),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(r)}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ik:Ak}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r){if(this.asyncValidator){this.status=qM,this._hasOwnPendingAsyncValidator=!0;const e=VH(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:r})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(r,e={}){this.errors=r,this._updateControlsErrors(!1!==e.emitEvent)}get(r){return function(i,r,e){if(null==r||(Array.isArray(r)||(r=r.split(".")),Array.isArray(r)&&0===r.length))return null;let s=i;return r.forEach(o=>{s=s instanceof m7?s.controls.hasOwnProperty(o)?s.controls[o]:null:s instanceof yne&&s.at(o)||null}),s}(this,r)}getError(r,e){const s=e?this.get(e):this;return s&&s.errors?s.errors[r]:null}hasError(r,e){return!!this.getError(r,e)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(r)}_initObservables(){this.valueChanges=new C.vpe,this.statusChanges=new C.vpe}_calculateStatus(){return this._allControlsDisabled()?Ik:this.errors?gO:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qM)?qM:this._anyControlsHaveStatus(gO)?gO:Ak}_anyControlsHaveStatus(r){return this._anyControls(e=>e.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r={}){this.pristine=!this._anyControlsDirty(),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}_updateTouched(r={}){this.touched=this._anyControlsTouched(),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}_isBoxedValue(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){f7(r)&&null!=r.updateOn&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){return!r&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Rk extends p7{constructor(r=null,e,s){super(d7(e),h7(s,e)),this._onChange=[],this._applyFormState(r),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(r,e={}){this.value=this._pendingValue=r,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(r,e={}){this.setValue(r,e)}reset(r=null,e={}){this._applyFormState(r),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){mO(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){mO(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(r){this._isBoxedValue(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}}class m7 extends p7{constructor(r,e,s){super(d7(e),h7(s,e)),this.controls=r,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(r,e){return this.controls[r]?this.controls[r]:(this.controls[r]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(r,e,s={}){this.registerControl(r,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(r,e={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(r,e,s={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],e&&this.registerControl(r,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(r){return this.controls.hasOwnProperty(r)&&this.controls[r].enabled}setValue(r,e={}){this._checkAllValuesPresent(r),Object.keys(r).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(r[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(r,e={}){null!=r&&(Object.keys(r).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(r[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(r={},e={}){this._forEachChild((s,o)=>{s.reset(r[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(r,e,s)=>(r[s]=e instanceof Rk?e.value:e.getRawValue(),r))}_syncPendingControls(){let r=this._reduceChildren(!1,(e,s)=>!!s._syncPendingControls()||e);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[r])throw new Error(`Cannot find form control with name: ${r}.`)}_forEachChild(r){Object.keys(this.controls).forEach(e=>{const s=this.controls[e];s&&r(s,e)})}_setUpControls(){this._forEachChild(r=>{r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(r){for(const e of Object.keys(this.controls)){const s=this.controls[e];if(this.contains(e)&&r(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(r,e,s)=>((e.enabled||this.disabled)&&(r[s]=e.value),r))}_reduceChildren(r,e){let s=r;return this._forEachChild((o,a)=>{s=e(s,o,a)}),s}_allControlsDisabled(){for(const r of Object.keys(this.controls))if(this.controls[r].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(r){this._forEachChild((e,s)=>{if(void 0===r[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class yne extends p7{constructor(r,e,s){super(d7(e),h7(s,e)),this.controls=r,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(r){return this.controls[r]}push(r,e={}){this.controls.push(r),this._registerControl(r),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(r,e,s={}){this.controls.splice(r,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(r,e={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(r,e,s={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(r,e={}){this._checkAllValuesPresent(r),r.forEach((s,o)=>{this._throwIfControlMissing(o),this.at(o).setValue(s,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(r,e={}){null!=r&&(r.forEach((s,o)=>{this.at(o)&&this.at(o).patchValue(s,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(r=[],e={}){this._forEachChild((s,o)=>{s.reset(r[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(r=>r instanceof Rk?r.value:r.getRawValue())}clear(r={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:r.emitEvent}))}_syncPendingControls(){let r=this.controls.reduce((e,s)=>!!s._syncPendingControls()||e,!1);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(r))throw new Error(`Cannot find form control at index ${r}`)}_forEachChild(r){this.controls.forEach((e,s)=>{r(e,s)})}_updateValue(){this.value=this.controls.filter(r=>r.enabled||this.disabled).map(r=>r.value)}_anyControls(r){return this.controls.some(e=>e.enabled&&r(e))}_setUpControls(){this._forEachChild(r=>this._registerControl(r))}_checkAllValuesPresent(r){this._forEachChild((e,s)=>{if(void 0===r[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const r of this.controls)if(r.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(r){r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)}}const bne={provide:tc,useExisting:(0,C.Gpc)(()=>Fg)},Ok=(()=>Promise.resolve(null))();let Fg=(()=>{class i extends tc{constructor(e,s){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new C.vpe,this.form=new m7({},n7(e),r7(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Ok.then(()=>{const s=this._findContainer(e.path);e.control=s.registerControl(e.name,e.control),kk(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Ok.then(()=>{const s=this._findContainer(e.path);s&&s.removeControl(e.name),mO(this._directives,e)})}addFormGroup(e){Ok.then(()=>{const s=this._findContainer(e.path),o=new m7({});XH(o,e),s.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Ok.then(()=>{const s=this._findContainer(e.path);s&&s.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,s){Ok.then(()=>{this.form.get(e.path).setValue(s)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,eU(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(Uo,10),C.Y36(uv,10))},i.\u0275dir=C.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,s){1&e&&C.NdJ("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[C._Bn([bne]),C.qOj]}),i})();const Cne={provide:Zd,useExisting:(0,C.Gpc)(()=>g7)},sU=(()=>Promise.resolve(null))();let g7=(()=>{class i extends Zd{constructor(e,s,o,a){super(),this.control=new Rk,this._registered=!1,this.update=new C.vpe,this._parent=e,this._setValidators(s),this._setAsyncValidators(o),this.valueAccessor=u7(0,a)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),c7(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(i,r){return[...r.path,i]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){kk(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){sU.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const s=e.isDisabled.currentValue,o=""===s||s&&"false"!==s;sU.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable()})}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(tc,9),C.Y36(Uo,10),C.Y36(uv,10),C.Y36(da,10))},i.\u0275dir=C.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[C._Bn([Cne]),C.qOj,C.TTD]}),i})(),aU=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({}),i})();const _7=new C.OlP("NgModelWithFormControlWarning"),xne={provide:Zd,useExisting:(0,C.Gpc)(()=>v7)};let v7=(()=>{class i extends Zd{constructor(e,s,o,a){super(),this._ngModelWarningConfig=a,this.update=new C.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(s),this.valueAccessor=u7(0,o)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const s=e.form.previousValue;s&&hO(s,this,!1),kk(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}c7(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&hO(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(Uo,10),C.Y36(uv,10),C.Y36(da,10),C.Y36(_7,8))},i.\u0275dir=C.lG2({type:i,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[C._Bn([xne]),C.qOj,C.TTD]}),i._ngModelWarningSentOnce=!1,i})();const kne={provide:tc,useExisting:(0,C.Gpc)(()=>Lg)};let Lg=(()=>{class i extends tc{constructor(e,s){super(),this.validators=e,this.asyncValidators=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new C.vpe,this._setValidators(e),this._setAsyncValidators(s)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(pO(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const s=this.form.get(e.path);return kk(s,e),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),s}getControl(e){return this.form.get(e.path)}removeControl(e){hO(e.control||null,e,!1),mO(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,s){this.form.get(e.path).setValue(s)}onSubmit(e){return this.submitted=!0,eU(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const s=e.control,o=this.form.get(e.path);s!==o&&(hO(s||null,e),o instanceof Rk&&(kk(o,e),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const s=this.form.get(e.path);XH(s,e),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const s=this.form.get(e.path);s&&function(i,r){return pO(i,r)}(s,e)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){l7(this.form,this),this._oldForm&&pO(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(Uo,10),C.Y36(uv,10))},i.\u0275dir=C.lG2({type:i,selectors:[["","formGroup",""]],hostBindings:function(e,s){1&e&&C.NdJ("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[C._Bn([kne]),C.qOj,C.TTD]}),i})();const Hne={provide:Uo,useExisting:(0,C.Gpc)(()=>_O),multi:!0};let _O=(()=>{class i{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?RH(e):null}registerOnValidatorChange(e){this._onChange=e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=C.lG2({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,s){2&e&&C.uIk("required",s.required?"":null)},inputs:{required:"required"},features:[C._Bn([Hne])]}),i})(),CU=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[aU]]}),i})(),Wne=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[CU]}),i})(),$ne=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:_7,useValue:e.warnOnNgModelWithFormControl}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[CU]}),i})();const Kne=["underline"],Zne=["connectionContainer"],Jne=["inputContainer"],Qne=["label"];function Xne(i,r){1&i&&(C.ynx(0),C.TgZ(1,"div",14),C._UZ(2,"div",15),C._UZ(3,"div",16),C._UZ(4,"div",17),C.qZA(),C.TgZ(5,"div",18),C._UZ(6,"div",15),C._UZ(7,"div",16),C._UZ(8,"div",17),C.qZA(),C.BQk())}function ere(i,r){1&i&&(C.TgZ(0,"div",19),C.Hsn(1,1),C.qZA())}function tre(i,r){if(1&i&&(C.ynx(0),C.Hsn(1,2),C.TgZ(2,"span"),C._uU(3),C.qZA(),C.BQk()),2&i){const e=C.oxw(2);C.xp6(3),C.Oqu(e._control.placeholder)}}function nre(i,r){1&i&&C.Hsn(0,3,["*ngSwitchCase","true"])}function rre(i,r){1&i&&(C.TgZ(0,"span",23),C._uU(1," *"),C.qZA())}function ire(i,r){if(1&i){const e=C.EpF();C.TgZ(0,"label",20,21),C.NdJ("cdkObserveContent",function(){return C.CHM(e),C.oxw().updateOutlineGap()}),C.YNc(2,tre,4,1,"ng-container",12),C.YNc(3,nre,1,0,"ng-content",12),C.YNc(4,rre,2,0,"span",22),C.qZA()}if(2&i){const e=C.oxw();C.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),C.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),C.uIk("for",e._control.id)("aria-owns",e._control.id),C.xp6(2),C.Q6J("ngSwitchCase",!1),C.xp6(1),C.Q6J("ngSwitchCase",!0),C.xp6(1),C.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function sre(i,r){1&i&&(C.TgZ(0,"div",24),C.Hsn(1,4),C.qZA())}function ore(i,r){if(1&i&&(C.TgZ(0,"div",25,26),C._UZ(2,"span",27),C.qZA()),2&i){const e=C.oxw();C.xp6(2),C.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function are(i,r){if(1&i&&(C.TgZ(0,"div"),C.Hsn(1,5),C.qZA()),2&i){const e=C.oxw();C.Q6J("@transitionMessages",e._subscriptAnimationState)}}function lre(i,r){if(1&i&&(C.TgZ(0,"div",31),C._uU(1),C.qZA()),2&i){const e=C.oxw(2);C.Q6J("id",e._hintLabelId),C.xp6(1),C.Oqu(e.hintLabel)}}function cre(i,r){if(1&i&&(C.TgZ(0,"div",28),C.YNc(1,lre,2,2,"div",29),C.Hsn(2,6),C._UZ(3,"div",30),C.Hsn(4,7),C.qZA()),2&i){const e=C.oxw();C.Q6J("@transitionMessages",e._subscriptAnimationState),C.xp6(1),C.Q6J("ngIf",e.hintLabel)}}const ure=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],dre=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let hre=0;const SU=new C.OlP("MatError");let fre=(()=>{class i{constructor(e,s){this.id="mat-error-"+hre++,e||s.nativeElement.setAttribute("aria-live","polite")}}return i.\u0275fac=function(e){return new(e||i)(C.$8M("aria-live"),C.Y36(C.SBq))},i.\u0275dir=C.lG2({type:i,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,s){2&e&&C.uIk("id",s.id)},inputs:{id:"id"},features:[C._Bn([{provide:SU,useExisting:i}])]}),i})();const pre={transitionMessages:co("transitionMessages",[Zr("enter",Zn({opacity:1,transform:"translateY(0%)"})),_i("void => enter",[Zn({opacity:0,transform:"translateY(-5px)"}),Ei("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let jM=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=C.lG2({type:i}),i})();const MU=new C.OlP("MatHint");let S7=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=C.lG2({type:i,selectors:[["mat-label"]]}),i})(),gre=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=C.lG2({type:i,selectors:[["mat-placeholder"]]}),i})();const EU=new C.OlP("MatPrefix"),DU=new C.OlP("MatSuffix");let TU=0;const vre=ju(class{constructor(i){this._elementRef=i}},"primary"),yre=new C.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),YM=new C.OlP("MatFormField");let kU=(()=>{class i extends vre{constructor(e,s,o,a,D,k,N,B){super(e),this._changeDetectorRef=s,this._dir=a,this._defaults=D,this._platform=k,this._ngZone=N,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new ln.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+TU++,this._labelId="mat-form-field-label-"+TU++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==B,this.appearance=D&&D.appearance?D.appearance:"legacy",this._hideRequiredMarker=!(!D||null==D.hideRequiredMarker)&&D.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const s=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&s!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=_n(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Ki(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Xn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Xn(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,ss.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Ki(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Ki(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Xn(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const s=this._control?this._control.ngControl:null;return s&&s[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,vl(this._label.nativeElement,"transitionend").pipe(di(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const s=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,o=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;s?e.push(s.id):this._hintLabel&&e.push(this._hintLabelId),o&&e.push(o.id)}else this._errorChildren&&e.push(...this._errorChildren.map(s=>s.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let s=0,o=0;const a=this._connectionContainerRef.nativeElement,D=a.querySelectorAll(".mat-form-field-outline-start"),k=a.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const N=a.getBoundingClientRect();if(0===N.width&&0===N.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const B=this._getStartEnd(N),G=e.children,$=this._getStartEnd(G[0].getBoundingClientRect());let re=0;for(let oe=0;oe<G.length;oe++)re+=G[oe].offsetWidth;s=Math.abs($-B)-5,o=re>0?.75*re+10:0}for(let N=0;N<D.length;N++)D[N].style.width=`${s}px`;for(let N=0;N<k.length;N++)k[N].style.width=`${o}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const s=e.getRootNode();return s&&s!==e}return document.documentElement.contains(e)}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(C.SBq),C.Y36(Li,8),C.Y36(yre,8),C.Y36(Jr),C.Y36(C.R0b),C.Y36(is,8))},i.\u0275cmp=C.Xpm({type:i,selectors:[["mat-form-field"]],contentQueries:function(e,s,o){if(1&e&&(C.Suo(o,jM,5),C.Suo(o,jM,7),C.Suo(o,S7,5),C.Suo(o,S7,7),C.Suo(o,gre,5),C.Suo(o,SU,5),C.Suo(o,MU,5),C.Suo(o,EU,5),C.Suo(o,DU,5)),2&e){let a;C.iGM(a=C.CRH())&&(s._controlNonStatic=a.first),C.iGM(a=C.CRH())&&(s._controlStatic=a.first),C.iGM(a=C.CRH())&&(s._labelChildNonStatic=a.first),C.iGM(a=C.CRH())&&(s._labelChildStatic=a.first),C.iGM(a=C.CRH())&&(s._placeholderChild=a.first),C.iGM(a=C.CRH())&&(s._errorChildren=a),C.iGM(a=C.CRH())&&(s._hintChildren=a),C.iGM(a=C.CRH())&&(s._prefixChildren=a),C.iGM(a=C.CRH())&&(s._suffixChildren=a)}},viewQuery:function(e,s){if(1&e&&(C.Gf(Kne,5),C.Gf(Zne,7),C.Gf(Jne,5),C.Gf(Qne,5)),2&e){let o;C.iGM(o=C.CRH())&&(s.underlineRef=o.first),C.iGM(o=C.CRH())&&(s._connectionContainerRef=o.first),C.iGM(o=C.CRH())&&(s._inputContainerRef=o.first),C.iGM(o=C.CRH())&&(s._label=o.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,s){2&e&&C.ekj("mat-form-field-appearance-standard","standard"==s.appearance)("mat-form-field-appearance-fill","fill"==s.appearance)("mat-form-field-appearance-outline","outline"==s.appearance)("mat-form-field-appearance-legacy","legacy"==s.appearance)("mat-form-field-invalid",s._control.errorState)("mat-form-field-can-float",s._canLabelFloat())("mat-form-field-should-float",s._shouldLabelFloat())("mat-form-field-has-label",s._hasFloatingLabel())("mat-form-field-hide-placeholder",s._hideControlPlaceholder())("mat-form-field-disabled",s._control.disabled)("mat-form-field-autofilled",s._control.autofilled)("mat-focused",s._control.focused)("ng-untouched",s._shouldForward("untouched"))("ng-touched",s._shouldForward("touched"))("ng-pristine",s._shouldForward("pristine"))("ng-dirty",s._shouldForward("dirty"))("ng-valid",s._shouldForward("valid"))("ng-invalid",s._shouldForward("invalid"))("ng-pending",s._shouldForward("pending"))("_mat-animation-noopable",!s._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[C._Bn([{provide:YM,useExisting:i}]),C.qOj],ngContentSelectors:dre,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,s){1&e&&(C.F$t(ure),C.TgZ(0,"div",0),C.TgZ(1,"div",1,2),C.NdJ("click",function(a){return s._control.onContainerClick&&s._control.onContainerClick(a)}),C.YNc(3,Xne,9,0,"ng-container",3),C.YNc(4,ere,2,0,"div",4),C.TgZ(5,"div",5,6),C.Hsn(7),C.TgZ(8,"span",7),C.YNc(9,ire,5,16,"label",8),C.qZA(),C.qZA(),C.YNc(10,sre,2,0,"div",9),C.qZA(),C.YNc(11,ore,3,4,"div",10),C.TgZ(12,"div",11),C.YNc(13,are,2,1,"div",12),C.YNc(14,cre,5,2,"div",13),C.qZA(),C.qZA()),2&e&&(C.xp6(3),C.Q6J("ngIf","outline"==s.appearance),C.xp6(1),C.Q6J("ngIf",s._prefixChildren.length),C.xp6(5),C.Q6J("ngIf",s._hasFloatingLabel()),C.xp6(1),C.Q6J("ngIf",s._suffixChildren.length),C.xp6(1),C.Q6J("ngIf","outline"!=s.appearance),C.xp6(1),C.Q6J("ngSwitch",s._getDisplayedMessages()),C.xp6(1),C.Q6J("ngSwitchCase","error"),C.xp6(1),C.Q6J("ngSwitchCase","hint"))},directives:[Ii,xs,ns,mk],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[pre.transitionMessages]},changeDetection:0}),i})(),M7=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[ps,Jn,gk],Jn]}),i})();const Are={provide:new C.OlP("mat-autocomplete-scroll-strategy"),deps:[ec],useFactory:function(i){return()=>i.scrollStrategies.reposition()}};let Nre=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({providers:[Are],imports:[[Pg,sO,Jn,ps],Ip,sO,Jn]}),i})(),Lre=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[_k,Jn],Jn]}),i})();class RU extends Hs.L{notifyNext(r,e,s,o,a){this.destination.next(e)}notifyError(r,e){this.destination.error(r)}notifyComplete(r){this.destination.complete()}}class Bre extends Hs.L{constructor(r,e,s){super(),this.parent=r,this.outerValue=e,this.outerIndex=s,this.index=0}_next(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)}_error(r){this.parent.notifyError(r,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Vre=$e(7444);function OU(i,r,e,s,o=new Bre(i,e,s)){if(!o.closed)return r instanceof $i.y?r.subscribe(o):(0,Vre.s)(r)(o)}var NU=$e(6693);const PU={};class zre{constructor(r){this.resultSelector=r}call(r,e){return e.subscribe(new Hre(r,this.resultSelector))}}class Hre extends RU{constructor(r,e){super(r),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(r){this.values.push(PU),this.observables.push(r)}_complete(){const r=this.observables,e=r.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let s=0;s<e;s++)this.add(OU(this,r[s],void 0,s))}}notifyComplete(r){0==(this.active-=1)&&this.destination.complete()}notifyNext(r,e,s){const o=this.values,D=this.toRespond?o[s]===PU?--this.toRespond:this.toRespond:0;o[s]=e,0===D&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(r){let e;try{e=this.resultSelector.apply(this,r)}catch(s){return void this.destination.error(s)}this.destination.next(e)}}let Wre=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[Pg,Jn,kg],Jn]}),i})();const HU=["mat-button",""],UU=["*"],Kre=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Zre=ju(Ql(Mc(class{constructor(i){this._elementRef=i}})));let sf=(()=>{class i extends Zre{constructor(e,s,o){super(e),this._focusMonitor=s,this._animationMode=o,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of Kre)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,s){e?this._focusMonitor.focusVia(this._getHostElement(),e,s):this._getHostElement().focus(s)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(s=>this._getHostElement().hasAttribute(s))}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(C.SBq),C.Y36(Ho),C.Y36(is,8))},i.\u0275cmp=C.Xpm({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,s){if(1&e&&C.Gf(Xl,5),2&e){let o;C.iGM(o=C.CRH())&&(s.ripple=o.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,s){2&e&&(C.uIk("disabled",s.disabled||null),C.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-button-disabled",s.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[C.qOj],attrs:HU,ngContentSelectors:UU,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,s){1&e&&(C.F$t(),C.TgZ(0,"span",0),C.Hsn(1),C.qZA(),C._UZ(2,"span",1),C._UZ(3,"span",2)),2&e&&(C.xp6(2),C.ekj("mat-button-ripple-round",s.isRoundButton||s.isIconButton),C.Q6J("matRippleDisabled",s._isRippleDisabled())("matRippleCentered",s.isIconButton)("matRippleTrigger",s._getHostElement()))},directives:[Xl],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),i})(),Nk=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[rf,Jn],Jn]}),i})(),rie=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[Jn,rf],Jn]}),i})();const iie=["*",[["mat-card-footer"]]],sie=["*","mat-card-footer"],oie=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],aie=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let uie=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=C.lG2({type:i,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),i})(),die=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=C.lG2({type:i,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),i})(),hie=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=C.lG2({type:i,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),i})(),fie=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=C.lG2({type:i,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),i})(),pie=(()=>{class i{constructor(e){this._animationMode=e}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(is,8))},i.\u0275cmp=C.Xpm({type:i,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,s){2&e&&C.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode)},exportAs:["matCard"],ngContentSelectors:sie,decls:2,vars:0,template:function(e,s){1&e&&(C.F$t(iie),C.Hsn(0),C.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),i})(),mie=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=C.Xpm({type:i,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:aie,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(e,s){1&e&&(C.F$t(oie),C.Hsn(0),C.TgZ(1,"div",0),C.Hsn(2,1),C.qZA(),C.Hsn(3,2))},encapsulation:2,changeDetection:0}),i})(),gie=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[Jn],Jn]}),i})(),ZU=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({}),i})(),xie=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[rf,Jn,gk,ZU],Jn,ZU]}),i})();const eG=new C.OlP("mat-chips-default-options"),Hie={separatorKeyCodes:[13]};let Uie=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({providers:[nf,{provide:eG,useValue:Hie}],imports:[[Jn]]}),i})();function Bg(i){return function(e){const s=new Gie(i),o=e.lift(s);return s.caught=o}}class Gie{constructor(r){this.selector=r}call(r,e){return e.subscribe(new qie(r,this.selector,this.caught))}}class qie extends Wd.Ds{constructor(r,e,s){super(r),this.selector=e,this.caught=s}error(r){if(!this.isStopped){let e;try{e=this.selector(r,this.caught)}catch(a){return void super.error(a)}this._unsubscribeAndRecycle();const s=new Wd.IY(this);this.add(s);const o=(0,Wd.ft)(e,s);o!==s&&this.add(o)}}}function tG(i){return r=>r.lift(new jie(i))}class jie{constructor(r){this.callback=r}call(r,e){return e.subscribe(new Yie(r,this.callback))}}class Yie extends Hs.L{constructor(r,e){super(r),this.add(new ti.w(e))}}var Wie=$e(8345);const $ie=["*"];function nG(i){return Error(`Unable to find icon with the name "${i}"`)}function rG(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function iG(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}class k1{constructor(r,e,s){this.url=r,this.svgText=e,this.options=s}}let Pk=(()=>{class i{constructor(e,s,o,a){this._httpClient=e,this._sanitizer=s,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=o}addSvgIcon(e,s,o){return this.addSvgIconInNamespace("",e,s,o)}addSvgIconLiteral(e,s,o){return this.addSvgIconLiteralInNamespace("",e,s,o)}addSvgIconInNamespace(e,s,o,a){return this._addSvgIconConfig(e,s,new k1(o,null,a))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,s,o,a){const D=this._sanitizer.sanitize(C.q3G.HTML,o);if(!D)throw iG(o);return this._addSvgIconConfig(e,s,new k1("",D,a))}addSvgIconSet(e,s){return this.addSvgIconSetInNamespace("",e,s)}addSvgIconSetLiteral(e,s){return this.addSvgIconSetLiteralInNamespace("",e,s)}addSvgIconSetInNamespace(e,s,o){return this._addSvgIconSetConfig(e,new k1(s,null,o))}addSvgIconSetLiteralInNamespace(e,s,o){const a=this._sanitizer.sanitize(C.q3G.HTML,s);if(!a)throw iG(s);return this._addSvgIconSetConfig(e,new k1("",a,o))}registerFontClassAlias(e,s=e){return this._fontCssClassesByAlias.set(e,s),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const s=this._sanitizer.sanitize(C.q3G.RESOURCE_URL,e);if(!s)throw rG(e);const o=this._cachedIconsByUrl.get(s);return o?(0,$n.of)(yO(o)):this._loadSvgIconFromConfig(new k1(e,null)).pipe((0,ca.b)(a=>this._cachedIconsByUrl.set(s,a)),(0,rr.U)(a=>yO(a)))}getNamedSvgIcon(e,s=""){const o=sG(s,e);let a=this._svgIconConfigs.get(o);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(s,e),a)return this._svgIconConfigs.set(o,a),this._getSvgFromConfig(a);const D=this._iconSetConfigs.get(s);return D?this._getSvgFromIconSetConfigs(e,D):(0,FV._)(nG(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,$n.of)(yO(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,rr.U)(s=>yO(s)))}_getSvgFromIconSetConfigs(e,s){const o=this._extractIconWithNameFromAnySet(e,s);return o?(0,$n.of)(o):DH(s.filter(D=>!D.svgText).map(D=>this._loadSvgIconSetFromConfig(D).pipe(Bg(k=>{const B=`Loading icon set URL: ${this._sanitizer.sanitize(C.q3G.RESOURCE_URL,D.url)} failed: ${k.message}`;return this._errorHandler.handleError(new Error(B)),(0,$n.of)(null)})))).pipe((0,rr.U)(()=>{const D=this._extractIconWithNameFromAnySet(e,s);if(!D)throw nG(e);return D}))}_extractIconWithNameFromAnySet(e,s){for(let o=s.length-1;o>=0;o--){const a=s[o];if(a.svgText&&a.svgText.indexOf(e)>-1){const D=this._svgElementFromConfig(a),k=this._extractSvgIconFromSet(D,e,a.options);if(k)return k}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,ca.b)(s=>e.svgText=s),(0,rr.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,$n.of)(null):this._fetchIcon(e).pipe((0,ca.b)(s=>e.svgText=s))}_extractSvgIconFromSet(e,s,o){const a=e.querySelector(`[id="${s}"]`);if(!a)return null;const D=a.cloneNode(!0);if(D.removeAttribute("id"),"svg"===D.nodeName.toLowerCase())return this._setSvgAttributes(D,o);if("symbol"===D.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(D),o);const k=this._svgElementFromString("<svg></svg>");return k.appendChild(D),this._setSvgAttributes(k,o)}_svgElementFromString(e){const s=this._document.createElement("DIV");s.innerHTML=e;const o=s.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(e){const s=this._svgElementFromString("<svg></svg>"),o=e.attributes;for(let a=0;a<o.length;a++){const{name:D,value:k}=o[a];"id"!==D&&s.setAttribute(D,k)}for(let a=0;a<e.childNodes.length;a++)e.childNodes[a].nodeType===this._document.ELEMENT_NODE&&s.appendChild(e.childNodes[a].cloneNode(!0));return s}_setSvgAttributes(e,s){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),s&&s.viewBox&&e.setAttribute("viewBox",s.viewBox),e}_fetchIcon(e){var s;const{url:o,options:a}=e,D=null!==(s=null==a?void 0:a.withCredentials)&&void 0!==s&&s;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==o)throw Error(`Cannot fetch icon from URL "${o}".`);const k=this._sanitizer.sanitize(C.q3G.RESOURCE_URL,o);if(!k)throw rG(o);const N=this._inProgressUrlFetches.get(k);if(N)return N;const B=this._httpClient.get(k,{responseType:"text",withCredentials:D}).pipe(tG(()=>this._inProgressUrlFetches.delete(k)),(0,Wie.B)());return this._inProgressUrlFetches.set(k,B),B}_addSvgIconConfig(e,s,o){return this._svgIconConfigs.set(sG(e,s),o),this}_addSvgIconSetConfig(e,s){const o=this._iconSetConfigs.get(e);return o?o.push(s):this._iconSetConfigs.set(e,[s]),this}_svgElementFromConfig(e){if(!e.svgElement){const s=this._svgElementFromString(e.svgText);this._setSvgAttributes(s,e.options),e.svgElement=s}return e.svgElement}_getIconConfigFromResolvers(e,s){for(let o=0;o<this._resolvers.length;o++){const a=this._resolvers[o](s,e);if(a)return Jie(a)?new k1(a.url,null,a.options):new k1(a,null)}}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(Nf,8),C.LFG(rl),C.LFG(Ve,8),C.LFG(C.qLn))},i.\u0275prov=C.Yz7({factory:function(){return new i(C.LFG(Nf,8),C.LFG(rl),C.LFG(Ve,8),C.LFG(C.qLn))},token:i,providedIn:"root"}),i})();function yO(i){return i.cloneNode(!0)}function sG(i,r){return i+":"+r}function Jie(i){return!(!i.url||!i.options)}const Qie=ju(class{constructor(i){this._elementRef=i}}),Xie=new C.OlP("mat-icon-location",{providedIn:"root",factory:function(){const i=(0,C.f3M)(Ve),r=i?i.location:null;return{getPathname:()=>r?r.pathname+r.search:""}}}),oG=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],nse=oG.map(i=>`[${i}]`).join(", "),rse=/^url\(['"]?#(.*?)['"]?\)$/;let $M=(()=>{class i extends Qie{constructor(e,s,o,a,D){super(e),this._iconRegistry=s,this._location=a,this._errorHandler=D,this._inline=!1,this._currentIconFetch=ti.w.EMPTY,o||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=_n(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const s=this._cleanupFontValue(e);s!==this._fontSet&&(this._fontSet=s,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const s=this._cleanupFontValue(e);s!==this._fontIcon&&(this._fontIcon=s,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const s=e.split(":");switch(s.length){case 1:return["",s[0]];case 2:return s;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const s=this._location.getPathname();s!==this._previousPath&&(this._previousPath=s,this._prependPathToReferences(s))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const s=e.querySelectorAll("style");for(let a=0;a<s.length;a++)s[a].textContent+=" ";const o=this._location.getPathname();this._previousPath=o,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(o),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let s=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();s--;){const o=e.childNodes[s];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&e.removeChild(o)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,s=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();s!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),s&&e.classList.add(s),this._previousFontSetClass=s),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const s=this._elementsWithExternalReferences;s&&s.forEach((o,a)=>{o.forEach(D=>{a.setAttribute(D.name,`url('${e}#${D.value}')`)})})}_cacheChildrenWithExternalReferences(e){const s=e.querySelectorAll(nse),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<s.length;a++)oG.forEach(D=>{const k=s[a],N=k.getAttribute(D),B=N?N.match(rse):null;if(B){let G=o.get(k);G||(G=[],o.set(k,G)),G.push({name:D,value:B[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[s,o]=this._splitIconName(e);s&&(this._svgNamespace=s),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,s).pipe(di(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${s}:${o}! ${a.message}`))})}}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(C.SBq),C.Y36(Pk),C.$8M("aria-hidden"),C.Y36(Xie),C.Y36(C.qLn))},i.\u0275cmp=C.Xpm({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,s){2&e&&(C.uIk("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet),C.ekj("mat-icon-inline",s.inline)("mat-icon-no-color","primary"!==s.color&&"accent"!==s.color&&"warn"!==s.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[C.qOj],ngContentSelectors:$ie,decls:1,vars:0,template:function(e,s){1&e&&(C.F$t(),C.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),i})(),D7=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[Jn],Jn]}),i})(),bO=(()=>{class i{constructor(){this.changes=new ln.xQ,this.optionalLabel="Optional"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=C.Yz7({factory:function(){return new i},token:i,providedIn:"root"}),i})();const Sse={provide:bO,deps:[[new C.FiY,new C.tp0,bO]],useFactory:function(i){return i||new bO}};let Ise=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({providers:[Sse,nf],imports:[[Jn,ps,kg,Nk,Jz,D7,rf],Jn]}),i})();const dG=ef({passive:!0});let hG=(()=>{class i{constructor(e,s){this._platform=e,this._ngZone=s,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return kp.E;const s=So(e),o=this._monitoredElements.get(s);if(o)return o.subject;const a=new ln.xQ,D="cdk-text-field-autofilled",k=N=>{"cdk-text-field-autofill-start"!==N.animationName||s.classList.contains(D)?"cdk-text-field-autofill-end"===N.animationName&&s.classList.contains(D)&&(s.classList.remove(D),this._ngZone.run(()=>a.next({target:N.target,isAutofilled:!1}))):(s.classList.add(D),this._ngZone.run(()=>a.next({target:N.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{s.addEventListener("animationstart",k,dG),s.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(s,{subject:a,unlisten:()=>{s.removeEventListener("animationstart",k,dG)}}),a}stopMonitoring(e){const s=So(e),o=this._monitoredElements.get(s);o&&(o.unlisten(),o.subject.complete(),s.classList.remove("cdk-text-field-autofill-monitored"),s.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(s))}ngOnDestroy(){this._monitoredElements.forEach((e,s)=>this.stopMonitoring(s))}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(Jr),C.LFG(C.R0b))},i.\u0275prov=C.Yz7({factory:function(){return new i(C.LFG(Jr),C.LFG(C.R0b))},token:i,providedIn:"root"}),i})(),fG=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[kM]]}),i})();const pG=new C.OlP("MAT_INPUT_VALUE_ACCESSOR"),Ose=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Nse=0;const Pse=eO(class{constructor(i,r,e,s){this._defaultErrorStateMatcher=i,this._parentForm=r,this._parentFormGroup=e,this.ngControl=s}});let Fse=(()=>{class i extends Pse{constructor(e,s,o,a,D,k,N,B,G,$){super(k,a,D,o),this._elementRef=e,this._platform=s,this._autofillMonitor=B,this._formField=$,this._uid="mat-input-"+Nse++,this.focused=!1,this.stateChanges=new ln.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(_e=>$V().has(_e));const re=this._elementRef.nativeElement,oe=re.nodeName.toLowerCase();this._inputValueAccessor=N||re,this._previousNativeValue=this.value,this.id=this.id,s.IOS&&G.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",_e=>{const ze=_e.target;!ze.value&&0===ze.selectionStart&&0===ze.selectionEnd&&(ze.setSelectionRange(1,1),ze.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===oe,this._isTextarea="textarea"===oe,this._isInFormField=!!$,this._isNativeSelect&&(this.controlType=re.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=_n(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=_n(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&$V().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=_n(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,s;const o=(null===(s=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===s?void 0:s.call(e))?null:this.placeholder;if(o!==this._previousPlaceholder){const a=this._elementRef.nativeElement;this._previousPlaceholder=o,o?a.setAttribute("placeholder",o):a.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){Ose.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,s=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&s&&s.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(C.SBq),C.Y36(Jr),C.Y36(Zd,10),C.Y36(Fg,8),C.Y36(Lg,8),C.Y36(nf),C.Y36(pG,10),C.Y36(hG),C.Y36(C.R0b),C.Y36(YM,8))},i.\u0275dir=C.lG2({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(e,s){1&e&&C.NdJ("focus",function(){return s._focusChanged(!0)})("blur",function(){return s._focusChanged(!1)})("input",function(){return s._onInput()}),2&e&&(C.Ikx("disabled",s.disabled)("required",s.required),C.uIk("id",s.id)("data-placeholder",s.placeholder)("readonly",s.readonly&&!s._isNativeSelect||null)("aria-invalid",s.empty&&s.required?null:s.errorState)("aria-required",s.required),C.ekj("mat-input-server",s._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[C._Bn([{provide:jM,useExisting:i}]),C.qOj,C.TTD]}),i})(),Lse=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({providers:[nf],imports:[[fG,M7,Jn],fG,M7]}),i})(),Fk=(()=>{class i{constructor(){this.changes=new ln.xQ,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,s){return`${e} \u2013 ${s}`}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=C.Yz7({factory:function(){return new i},token:i,providedIn:"root"}),i})();const moe={provide:new C.OlP("mat-datepicker-scroll-strategy"),deps:[ec],useFactory:function(i){return()=>i.scrollStrategies.reposition()}};let Moe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({providers:[Fk,moe],imports:[[ps,Nk,Pg,_k,kg,Jn],Ip]}),i})();function Eoe(i,r){}class F7{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const Doe={dialogContainer:co("dialogContainer",[Zr("void, exit",Zn({opacity:0,transform:"scale(0.7)"})),Zr("enter",Zn({transform:"none"})),_i("* => enter",Ei("150ms cubic-bezier(0, 0, 0.2, 1)",Zn({transform:"none",opacity:1}))),_i("* => void, * => exit",Ei("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Zn({opacity:0})))])};let Toe=(()=>{class i extends Ck{constructor(e,s,o,a,D,k){super(),this._elementRef=e,this._focusTrapFactory=s,this._changeDetectorRef=o,this._config=D,this._focusMonitor=k,this._animationStateChanged=new C.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=N=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(N)),this._ariaLabelledBy=D.ariaLabelledBy||null,this._document=a}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const s=Tg(),o=this._elementRef.nativeElement;(!s||s===this._document.body||s===o||o.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=Tg())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,s=Tg();return e===s||e.contains(s)}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(C.SBq),C.Y36(AR),C.Y36(C.sBO),C.Y36(Ve,8),C.Y36(F7),C.Y36(Ho))},i.\u0275dir=C.lG2({type:i,viewQuery:function(e,s){if(1&e&&C.Gf(Sc,7),2&e){let o;C.iGM(o=C.CRH())&&(s._portalOutlet=o.first)}},features:[C.qOj]}),i})(),xoe=(()=>{class i extends Toe{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:s}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:s})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:s}))}_onAnimationStart({toState:e,totalTime:s}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:s}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:s})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return i.\u0275fac=function(){let r;return function(s){return(r||(r=C.n5z(i)))(s||i)}}(),i.\u0275cmp=C.Xpm({type:i,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,s){1&e&&C.WFA("@dialogContainer.start",function(a){return s._onAnimationStart(a)})("@dialogContainer.done",function(a){return s._onAnimationDone(a)}),2&e&&(C.Ikx("id",s._id),C.uIk("role",s._config.role)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledBy)("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null),C.d8E("@dialogContainer",s._state))},features:[C.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,s){1&e&&C.YNc(0,Eoe,0,0,"ng-template",0)},directives:[Sc],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Doe.dialogContainer]}}),i})(),koe=0;class Bk{constructor(r,e,s="mat-dialog-"+koe++){this._overlayRef=r,this._containerInstance=e,this.id=s,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new ln.xQ,this._afterClosed=new ln.xQ,this._beforeClosed=new ln.xQ,this._state=0,e._id=s,e._animationStateChanged.pipe(xr(o=>"opened"===o.state),di(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(xr(o=>"closed"===o.state),di(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),r.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),r.keydownEvents().pipe(xr(o=>27===o.keyCode&&!this.disableClose&&!uo(o))).subscribe(o=>{o.preventDefault(),L7(this,"keyboard")}),r.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():L7(this,"mouse")})}close(r){this._result=r,this._containerInstance._animationStateChanged.pipe(xr(e=>"closing"===e.state),di(1)).subscribe(e=>{this._beforeClosed.next(r),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(r){let e=this._getPositionStrategy();return r&&(r.left||r.right)?r.left?e.left(r.left):e.right(r.right):e.centerHorizontally(),r&&(r.top||r.bottom)?r.top?e.top(r.top):e.bottom(r.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(r="",e=""){return this._overlayRef.updateSize({width:r,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(r){return this._overlayRef.addPanelClass(r),this}removePanelClass(r){return this._overlayRef.removePanelClass(r),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function L7(i,r,e){return void 0!==i._containerInstance&&(i._containerInstance._closeInteractionType=r),i.close(e)}const B7=new C.OlP("MatDialogData"),Aoe=new C.OlP("mat-dialog-default-options"),xG=new C.OlP("mat-dialog-scroll-strategy"),Roe={provide:xG,deps:[ec],useFactory:function(i){return()=>i.scrollStrategies.block()}};let Ooe=(()=>{class i{constructor(e,s,o,a,D,k,N,B,G){this._overlay=e,this._injector=s,this._defaultOptions=o,this._parentDialog=a,this._overlayContainer=D,this._dialogRefConstructor=N,this._dialogContainerType=B,this._dialogDataToken=G,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ln.xQ,this._afterOpenedAtThisLevel=new ln.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=b1(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ki(void 0))),this._scrollStrategy=k}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,s){(s=function(i,r){return Object.assign(Object.assign({},r),i)}(s,this._defaultOptions||new F7)).id&&this.getDialogById(s.id);const o=this._createOverlay(s),a=this._attachDialogContainer(o,s),D=this._attachDialogContent(e,a,o,s);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(D),D.afterClosed().subscribe(()=>this._removeOpenDialog(D)),this.afterOpened.next(D),a._initializeWithAttachedContent(),D}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(s=>s.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const s=this._getOverlayConfig(e);return this._overlay.create(s)}_getOverlayConfig(e){const s=new GM({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(s.backdropClass=e.backdropClass),s}_attachDialogContainer(e,s){const a=C.zs3.create({parent:s&&s.viewContainerRef&&s.viewContainerRef.injector||this._injector,providers:[{provide:F7,useValue:s}]}),D=new BM(this._dialogContainerType,s.viewContainerRef,a,s.componentFactoryResolver);return e.attach(D).instance}_attachDialogContent(e,s,o,a){const D=new this._dialogRefConstructor(o,s,a.id);if(e instanceof C.Rgc)s.attachTemplatePortal(new tf(e,null,{$implicit:a.data,dialogRef:D}));else{const k=this._createInjector(a,D,s),N=s.attachComponentPortal(new BM(e,a.viewContainerRef,k));D.componentInstance=N.instance}return D.updateSize(a.width,a.height).updatePosition(a.position),D}_createInjector(e,s,o){const a=e&&e.viewContainerRef&&e.viewContainerRef.injector,D=[{provide:this._dialogContainerType,useValue:o},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:s}];return e.direction&&(!a||!a.get(Li,null,C.XFs.Optional))&&D.push({provide:Li,useValue:{value:e.direction,change:(0,$n.of)()}}),C.zs3.create({parent:a||this._injector,providers:D})}_removeOpenDialog(e){const s=this.openDialogs.indexOf(e);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const s=e.parentElement.children;for(let o=s.length-1;o>-1;o--){let a=s[o];a!==e&&"SCRIPT"!==a.nodeName&&"STYLE"!==a.nodeName&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let s=e.length;for(;s--;)e[s].close()}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(ec),C.Y36(C.zs3),C.Y36(void 0),C.Y36(void 0),C.Y36(xk),C.Y36(void 0),C.Y36(C.DyG),C.Y36(C.DyG),C.Y36(C.OlP))},i.\u0275dir=C.lG2({type:i}),i})(),Vk=(()=>{class i extends Ooe{constructor(e,s,o,a,D,k,N){super(e,s,a,k,N,D,Bk,xoe,B7)}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(ec),C.LFG(C.zs3),C.LFG(Nt,8),C.LFG(Aoe,8),C.LFG(xG),C.LFG(i,12),C.LFG(xk))},i.\u0275prov=C.Yz7({token:i,factory:i.\u0275fac}),i})(),Foe=(()=>{class i{constructor(e,s,o){this.dialogRef=e,this._elementRef=s,this._dialog=o,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function(i,r){let e=i.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?r.find(s=>s.id===e.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const s=e._matDialogClose||e._matDialogCloseResult;s&&(this.dialogResult=s.currentValue)}_onButtonClick(e){L7(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(Bk,8),C.Y36(C.SBq),C.Y36(Vk))},i.\u0275dir=C.lG2({type:i,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,s){1&e&&C.NdJ("click",function(a){return s._onButtonClick(a)}),2&e&&C.uIk("aria-label",s.ariaLabel||null)("type",s.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[C.TTD]}),i})(),kG=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=C.lG2({type:i,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),i})(),Loe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=C.lG2({type:i,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),i})();let Boe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({providers:[Vk,Roe],imports:[[Pg,kg,Jn],Jn]}),i})(),IG=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[Jn],Jn]}),i})(),qoe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({}),i})(),sae=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[ps,Jn,qoe,kg]]}),i})(),gae=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[nO,Jn],nO,Jn]}),i})(),kae=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[nO,rf,Jn,J8,ps],nO,Jn,J8,IG]}),i})();const Aae=["mat-menu-item",""];function Iae(i,r){1&i&&(C.O4$(),C.TgZ(0,"svg",2),C._UZ(1,"polygon",3),C.qZA())}const jG=["*"];function Rae(i,r){if(1&i){const e=C.EpF();C.TgZ(0,"div",0),C.NdJ("keydown",function(o){return C.CHM(e),C.oxw()._handleKeydown(o)})("click",function(){return C.CHM(e),C.oxw().closed.emit("click")})("@transformMenu.start",function(o){return C.CHM(e),C.oxw()._onAnimationStart(o)})("@transformMenu.done",function(o){return C.CHM(e),C.oxw()._onAnimationDone(o)}),C.TgZ(1,"div",1),C.Hsn(2),C.qZA(),C.qZA()}if(2&i){const e=C.oxw();C.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),C.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const MO={transformMenu:co("transformMenu",[Zr("void",Zn({opacity:0,transform:"scale(0.8)"})),_i("void => enter",Ei("120ms cubic-bezier(0, 0, 0.2, 1)",Zn({opacity:1,transform:"scale(1)"}))),_i("* => void",Ei("100ms 25ms linear",Zn({opacity:0})))]),fadeInItems:co("fadeInItems",[Zr("showing",Zn({opacity:1})),_i("void => *",[Zn({opacity:0}),Ei("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},YG=new C.OlP("MatMenuContent"),q7=new C.OlP("MAT_MENU_PANEL"),Oae=Mc(Ql(class{}));let EO=(()=>{class i extends Oae{constructor(e,s,o,a,D){super(),this._elementRef=e,this._focusMonitor=o,this._parentMenu=a,this._changeDetectorRef=D,this.role="menuitem",this._hovered=new ln.xQ,this._focused=new ln.xQ,this._highlighted=!1,this._triggersSubmenu=!1,a&&a.addItem&&a.addItem(this)}focus(e,s){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,s):this._getHostElement().focus(s),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var e,s;const o=this._elementRef.nativeElement.cloneNode(!0),a=o.querySelectorAll("mat-icon, .material-icons");for(let D=0;D<a.length;D++){const k=a[D];null===(e=k.parentNode)||void 0===e||e.removeChild(k)}return(null===(s=o.textContent)||void 0===s?void 0:s.trim())||""}_setHighlighted(e){var s;this._highlighted=e,null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(C.SBq),C.Y36(Ve),C.Y36(Ho),C.Y36(q7,8),C.Y36(C.sBO))},i.\u0275cmp=C.Xpm({type:i,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,s){1&e&&C.NdJ("click",function(a){return s._checkDisabled(a)})("mouseenter",function(){return s._handleMouseEnter()}),2&e&&(C.uIk("role",s.role)("tabindex",s._getTabIndex())("aria-disabled",s.disabled.toString())("disabled",s.disabled||null),C.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",s._highlighted)("mat-menu-item-submenu-trigger",s._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[C.qOj],attrs:Aae,ngContentSelectors:jG,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,s){1&e&&(C.F$t(),C.Hsn(0),C._UZ(1,"div",0),C.YNc(2,Iae,2,0,"svg",1)),2&e&&(C.xp6(1),C.Q6J("matRippleDisabled",s.disableRipple||s.disabled)("matRippleTrigger",s._getHostElement()),C.xp6(1),C.Q6J("ngIf",s._triggersSubmenu))},directives:[Xl,Ii],encapsulation:2,changeDetection:0}),i})();const WG=new C.OlP("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Pae=0,zk=(()=>{class i{constructor(e,s,o){this._elementRef=e,this._ngZone=s,this._defaultOptions=o,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new C.n_E,this._tabSubscription=ti.w.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new ln.xQ,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new C.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+Pae++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=_n(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=_n(e)}set panelClass(e){const s=this._previousPanelClass;s&&s.length&&s.split(" ").forEach(o=>{this._classList[o]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(o=>{this._classList[o]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new IM(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Ki(this._directDescendantItems),zo(e=>(0,ss.T)(...e.map(s=>s._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Ki(this._directDescendantItems),zo(s=>(0,ss.T)(...s.map(o=>o._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const s=e.keyCode,o=this._keyManager;switch(s){case 27:uo(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:(38===s||40===s)&&o.setFocusOrigin("keyboard"),o.onKeydown(e)}}focusFirstItem(e="program"){this.lazyContent?this._ngZone.onStable.pipe(di(1)).subscribe(()=>this._focusFirstItem(e)):this._focusFirstItem(e)}_focusFirstItem(e){const s=this._keyManager;if(s.setFocusOrigin(e).setFirstItemActive(),!s.activeItem&&this._directDescendantItems.length){let o=this._directDescendantItems.first._getHostElement().parentElement;for(;o;){if("menu"===o.getAttribute("role")){o.focus();break}o=o.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const s=Math.min(this._baseElevation+e,24),o=`${this._elevationPrefix}${s}`,a=Object.keys(this._classList).find(D=>D.startsWith(this._elevationPrefix));(!a||a===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[o]=!0,this._previousElevation=o)}setPositionClasses(e=this.xPosition,s=this.yPosition){const o=this._classList;o["mat-menu-before"]="before"===e,o["mat-menu-after"]="after"===e,o["mat-menu-above"]="above"===s,o["mat-menu-below"]="below"===s}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Ki(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(s=>s._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(C.SBq),C.Y36(C.R0b),C.Y36(WG))},i.\u0275dir=C.lG2({type:i,contentQueries:function(e,s,o){if(1&e&&(C.Suo(o,YG,5),C.Suo(o,EO,5),C.Suo(o,EO,4)),2&e){let a;C.iGM(a=C.CRH())&&(s.lazyContent=a.first),C.iGM(a=C.CRH())&&(s._allItems=a),C.iGM(a=C.CRH())&&(s.items=a)}},viewQuery:function(e,s){if(1&e&&C.Gf(C.Rgc,5),2&e){let o;C.iGM(o=C.CRH())&&(s.templateRef=o.first)}},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),i})(),Fae=(()=>{class i extends zk{constructor(e,s,o){super(e,s,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(C.SBq),C.Y36(C.R0b),C.Y36(WG))},i.\u0275cmp=C.Xpm({type:i,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,s){2&e&&C.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[C._Bn([{provide:q7,useExisting:i}]),C.qOj],ngContentSelectors:jG,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,s){1&e&&(C.F$t(),C.YNc(0,Rae,3,6,"ng-template"))},directives:[Pa],styles:["mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,data:{animation:[MO.transformMenu,MO.fadeInItems]},changeDetection:0}),i})();const $G=new C.OlP("mat-menu-scroll-strategy"),KG={provide:$G,deps:[ec],useFactory:function(i){return()=>i.scrollStrategies.reposition()}},JG=ef({passive:!0});let Bae=(()=>{class i{constructor(e,s,o,a,D,k,N,B){this._overlay=e,this._element=s,this._viewContainerRef=o,this._menuItemInstance=k,this._dir=N,this._focusMonitor=B,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=ti.w.EMPTY,this._hoverSubscription=ti.w.EMPTY,this._menuCloseSubscription=ti.w.EMPTY,this._handleTouchStart=G=>{RR(G)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new C.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new C.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=a,this._parentMaterialMenu=D instanceof zk?D:void 0,s.nativeElement.addEventListener("touchstart",this._handleTouchStart,JG),k&&(k._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(s=>{this._destroyMenu(s),("click"===s||"tab"===s)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(s)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,JG),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const e=this._createOverlay(),s=e.getConfig();this._setPosition(s.positionStrategy),s.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof zk&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(e,s){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,s):this._element.nativeElement.focus(s)}updatePosition(){var e;null===(e=this._overlayRef)||void 0===e||e.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const s=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,s instanceof zk?(s._resetAnimation(),s.lazyContent?s._animationDone.pipe(xr(o=>"void"===o.toState),di(1),Xn(s.lazyContent._attached)).subscribe({next:()=>s.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),s.lazyContent&&s.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let e=0,s=this.menu.parentMenu;for(;s;)e++,s=s.parentMenu;this.menu.setElevation(e)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const e=this._getOverlayConfig();this._subscribeToPositions(e.positionStrategy),this._overlayRef=this._overlay.create(e),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new GM({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e){this.menu.setPositionClasses&&e.positionChanges.subscribe(s=>{this.menu.setPositionClasses("start"===s.connectionPair.overlayX?"after":"before","top"===s.connectionPair.overlayY?"below":"above")})}_setPosition(e){let[s,o]="before"===this.menu.xPosition?["end","start"]:["start","end"],[a,D]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[k,N]=[a,D],[B,G]=[s,o],$=0;this.triggersSubmenu()?(G=s="before"===this.menu.xPosition?"start":"end",o=B="end"===s?"start":"end",$="bottom"===a?8:-8):this.menu.overlapTrigger||(k="top"===a?"bottom":"top",N="top"===D?"bottom":"top"),e.withPositions([{originX:s,originY:k,overlayX:B,overlayY:a,offsetY:$},{originX:o,originY:k,overlayX:G,overlayY:a,offsetY:$},{originX:s,originY:N,overlayX:B,overlayY:D,offsetY:-$},{originX:o,originY:N,overlayX:G,overlayY:D,offsetY:-$}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),s=this._overlayRef.detachments(),o=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,$n.of)(),a=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(xr(D=>D!==this._menuItemInstance),xr(()=>this._menuOpen)):(0,$n.of)();return(0,ss.T)(e,o,a,s)}_handleMousedown(e){IR(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const s=e.keyCode;(13===s||32===s)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===s&&"ltr"===this.dir||37===s&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(xr(e=>e===this._menuItemInstance&&!e.disabled),lk(0,m8.E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof zk&&this.menu._isAnimating?this.menu._animationDone.pipe(di(1),lk(0,m8.E),Xn(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new tf(this.menu.templateRef,this._viewContainerRef)),this._portal}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(ec),C.Y36(C.SBq),C.Y36(C.s_b),C.Y36($G),C.Y36(q7,8),C.Y36(EO,10),C.Y36(Li,8),C.Y36(Ho))},i.\u0275dir=C.lG2({type:i,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(e,s){1&e&&C.NdJ("mousedown",function(a){return s._handleMousedown(a)})("keydown",function(a){return s._handleKeydown(a)})("click",function(a){return s._handleClick(a)}),2&e&&C.uIk("aria-expanded",s.menuOpen||null)("aria-controls",s.menuOpen?s.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),i})(),QG=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({providers:[KG],imports:[Jn]}),i})(),Vae=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({providers:[KG],imports:[[ps,Jn,rf,Pg,QG],Ip,Jn,QG]}),i})();const Xae={provide:new C.OlP("mat-select-scroll-strategy"),deps:[ec],useFactory:function(i){return()=>i.scrollStrategies.reposition()}};let iq=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({providers:[Xae],imports:[[ps,Pg,sO,Jn],Ip,M7,sO,Jn]}),i})();const lle={provide:new C.OlP("mat-tooltip-scroll-strategy"),deps:[ec],useFactory:function(i){return()=>i.scrollStrategies.reposition({scrollThrottle:20})}};let lq=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({providers:[lle],imports:[[_k,ps,Pg,Jn],Jn,Ip]}),i})(),Uk=(()=>{class i{constructor(){this.changes=new ln.xQ,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,s,o)=>{if(0==o||0==s)return`0 of ${o}`;const a=e*s;return`${a+1} \u2013 ${a<(o=Math.max(o,0))?Math.min(a+s,o):a+s} of ${o}`}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=C.Yz7({factory:function(){return new i},token:i,providedIn:"root"}),i})();const Cle={provide:Uk,deps:[[new C.FiY,new C.tp0,Uk]],useFactory:function(i){return i||new Uk}};let Tle=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({providers:[Cle],imports:[[ps,Nk,iq,lq,Jn]]}),i})(),Ole=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[ps,Jn],Jn]}),i})();function Nle(i,r){if(1&i&&(C.O4$(),C._UZ(0,"circle",3)),2&i){const e=C.oxw();C.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),C.uIk("r",e._getCircleRadius())}}function Ple(i,r){if(1&i&&(C.O4$(),C._UZ(0,"circle",3)),2&i){const e=C.oxw();C.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),C.uIk("r",e._getCircleRadius())}}const Vle=ju(class{constructor(i){this._elementRef=i}},"primary"),dq=new C.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class Vg extends Vle{constructor(r,e,s,o,a){super(r),this._document=s,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const D=Vg._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),D.has(s.head)||D.set(s.head,new Set([100])),this._fallbackAnimation=e.EDGE||e.TRIDENT,this._noopAnimations="NoopAnimations"===o&&!!a&&!a._forceAnimations,a&&(a.diameter&&(this.diameter=a.diameter),a.strokeWidth&&(this.strokeWidth=a.strokeWidth))}get diameter(){return this._diameter}set diameter(r){this._diameter=Mi(r),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(r){this._strokeWidth=Mi(r)}get value(){return"determinate"===this.mode?this._value:0}set value(r){this._value=Math.max(0,Math.min(100,Mi(r)))}ngOnInit(){const r=this._elementRef.nativeElement;this._styleRoot=TR(r)||this._document.head,this._attachStyleNode(),r.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const r=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${r} ${r}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const r=this._styleRoot,e=this._diameter,s=Vg._diameters;let o=s.get(r);if(!o||!o.has(e)){const a=this._document.createElement("style");a.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),a.textContent=this._getAnimationText(),r.appendChild(a),o||(o=new Set,s.set(r,o)),o.add(e)}}_getAnimationText(){const r=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*r).replace(/END_VALUE/g,""+.2*r).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Vg.\u0275fac=function(r){return new(r||Vg)(C.Y36(C.SBq),C.Y36(Jr),C.Y36(Ve,8),C.Y36(is,8),C.Y36(dq))},Vg.\u0275cmp=C.Xpm({type:Vg,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(r,e){2&r&&(C.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),C.Udp("width",e.diameter,"px")("height",e.diameter,"px"),C.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[C.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(r,e){1&r&&(C.O4$(),C.TgZ(0,"svg",0),C.YNc(1,Nle,1,9,"circle",1),C.YNc(2,Ple,1,7,"circle",2),C.qZA()),2&r&&(C.Udp("width",e.diameter,"px")("height",e.diameter,"px"),C.Q6J("ngSwitch","indeterminate"===e.mode),C.uIk("viewBox",e._getViewBox()),C.xp6(1),C.Q6J("ngSwitchCase",!0),C.xp6(1),C.Q6J("ngSwitchCase",!1))},directives:[xs,ns],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor;stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),Vg._diameters=new WeakMap;let Ule=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[Jn,ps],Jn]}),i})(),ece=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[rf,Jn],Jn]}),i})(),mce=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[ps,Jn,kM,Ip],Ip,Jn]}),i})(),Dce=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[ps,Jn],Jn]}),i})();const Tce=["thumbContainer"],xce=["toggleBar"],kce=["input"],Ace=function(i){return{enterDuration:i}},Ice=["*"],Rce=new C.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let Oce=0;const Nce={provide:da,useExisting:(0,C.Gpc)(()=>Sq),multi:!0};class Pce{constructor(r,e){this.source=r,this.checked=e}}const Fce=Ng(ju(Mc(Ql(class{constructor(i){this._elementRef=i}}))));let Sq=(()=>{class i extends Fce{constructor(e,s,o,a,D,k){super(e),this._focusMonitor=s,this._changeDetectorRef=o,this.defaults=D,this._onChange=N=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++Oce,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new C.vpe,this.toggleChange=new C.vpe,this.tabIndex=parseInt(a)||0,this.color=this.defaultColor=D.color||"accent",this._noopAnimations="NoopAnimations"===k}get required(){return this._required}set required(e){this._required=_n(e)}get checked(){return this._checked}set checked(e){this._checked=_n(e),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{"keyboard"===e||"program"===e?this._inputElement.nativeElement.focus():e||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(e){e.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(e){e.stopPropagation()}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}focus(e,s){s?this._focusMonitor.focusVia(this._inputElement,s,e):this._inputElement.nativeElement.focus(e)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new Pce(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(C.SBq),C.Y36(Ho),C.Y36(C.sBO),C.$8M("tabindex"),C.Y36(Rce),C.Y36(is,8))},i.\u0275cmp=C.Xpm({type:i,selectors:[["mat-slide-toggle"]],viewQuery:function(e,s){if(1&e&&(C.Gf(Tce,5),C.Gf(xce,5),C.Gf(kce,5)),2&e){let o;C.iGM(o=C.CRH())&&(s._thumbEl=o.first),C.iGM(o=C.CRH())&&(s._thumbBarEl=o.first),C.iGM(o=C.CRH())&&(s._inputElement=o.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:12,hostBindings:function(e,s){2&e&&(C.Ikx("id",s.id),C.uIk("tabindex",s.disabled?null:-1)("aria-label",null)("aria-labelledby",null),C.ekj("mat-checked",s.checked)("mat-disabled",s.disabled)("mat-slide-toggle-label-before","before"==s.labelPosition)("_mat-animation-noopable",s._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],required:"required",checked:"checked",ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[C._Bn([Nce]),C.qOj],ngContentSelectors:Ice,decls:16,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(e,s){if(1&e&&(C.F$t(),C.TgZ(0,"label",0,1),C.TgZ(2,"div",2,3),C.TgZ(4,"input",4,5),C.NdJ("change",function(a){return s._onChangeEvent(a)})("click",function(a){return s._onInputClick(a)}),C.qZA(),C.TgZ(6,"div",6,7),C._UZ(8,"div",8),C.TgZ(9,"div",9),C._UZ(10,"div",10),C.qZA(),C.qZA(),C.qZA(),C.TgZ(11,"span",11,12),C.NdJ("cdkObserveContent",function(){return s._onLabelTextChange()}),C.TgZ(13,"span",13),C._uU(14,"\xa0"),C.qZA(),C.Hsn(15),C.qZA(),C.qZA()),2&e){const o=C.MAs(1),a=C.MAs(12);C.uIk("for",s.inputId),C.xp6(2),C.ekj("mat-slide-toggle-bar-no-side-margin",!a.textContent||!a.textContent.trim()),C.xp6(2),C.Q6J("id",s.inputId)("required",s.required)("tabIndex",s.tabIndex)("checked",s.checked)("disabled",s.disabled),C.uIk("name",s.name)("aria-checked",s.checked.toString())("aria-label",s.ariaLabel)("aria-labelledby",s.ariaLabelledby)("aria-describedby",s.ariaDescribedby),C.xp6(5),C.Q6J("matRippleTrigger",o)("matRippleDisabled",s.disableRipple||s.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",C.VKq(18,Ace,s._noopAnimations?0:150))}},directives:[Xl,mk],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),i})(),Mq=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({}),i})(),Vce=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[Mq,rf,Jn,gk],Mq,Jn]}),i})(),Yce=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[Pg,kg,ps,Nk,Jn],Jn]}),i})(),kO=(()=>{class i{constructor(){this.changes=new ln.xQ}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=C.Yz7({factory:function(){return new i},token:i,providedIn:"root"}),i})();const nue={provide:kO,deps:[[new C.FiY,new C.tp0,kO]],useFactory:function(i){return i||new kO}};let iue=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({providers:[nue],imports:[[ps,Jn]]}),i})(),wue=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[rH,Jn],Jn]}),i})(),tde=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[ps,Jn,kg,rf,gk,_k],Jn]}),i})();const nde=["*",[["mat-toolbar-row"]]],rde=["*","mat-toolbar-row"],ide=ju(class{constructor(i){this._elementRef=i}});let K7=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=C.lG2({type:i,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),i})(),jq=(()=>{class i extends ide{constructor(e,s,o){super(e),this._platform=s,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(C.SBq),C.Y36(Jr),C.Y36(Ve))},i.\u0275cmp=C.Xpm({type:i,selectors:[["mat-toolbar"]],contentQueries:function(e,s,o){if(1&e&&C.Suo(o,K7,5),2&e){let a;C.iGM(a=C.CRH())&&(s._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,s){2&e&&C.ekj("mat-toolbar-multiple-rows",s._toolbarRows.length>0)("mat-toolbar-single-row",0===s._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[C.qOj],ngContentSelectors:rde,decls:2,vars:0,template:function(e,s){1&e&&(C.F$t(nde),C.Hsn(0),C.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),i})(),sde=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[Jn],Jn]}),i})(),Yq=(()=>{class i extends XR{}return i.\u0275fac=function(){let r;return function(s){return(r||(r=C.n5z(i)))(s||i)}}(),i.\u0275dir=C.lG2({type:i,selectors:[["","matTreeNodeDef",""]],inputs:{when:["matTreeNodeDefWhen","when"],data:["matTreeNode","data"]},features:[C._Bn([{provide:XR,useExisting:i}]),C.qOj]}),i})(),Wq=(()=>{class i extends U8{constructor(e,s,o,a){super(e,s,o),this._disabled=!1,this.tabIndex=Number(a)||0,e.nativeElement.classList.add("mat-nested-tree-node")}get disabled(){return this._disabled}set disabled(e){this._disabled=_n(e)}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?e:0}ngOnInit(){super.ngOnInit()}ngDoCheck(){super.ngDoCheck()}ngAfterContentInit(){super.ngAfterContentInit()}ngOnDestroy(){super.ngOnDestroy()}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(C.SBq),C.Y36(Og),C.Y36(C.ZZ4),C.$8M("tabindex"))},i.\u0275dir=C.lG2({type:i,selectors:[["mat-nested-tree-node"]],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex",node:["matNestedTreeNode","node"]},exportAs:["matNestedTreeNode"],features:[C._Bn([{provide:U8,useExisting:i},{provide:Rp,useExisting:i},{provide:QR,useExisting:i}]),C.qOj]}),i})(),IO=(()=>{class i{constructor(e,s){this.viewContainer=e,this._node=s}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(C.s_b),C.Y36(QR,8))},i.\u0275dir=C.lG2({type:i,selectors:[["","matTreeNodeOutlet",""]],features:[C._Bn([{provide:Ek,useExisting:i}])]}),i})(),$q=(()=>{class i extends Og{}return i.\u0275fac=function(){let r;return function(s){return(r||(r=C.n5z(i)))(s||i)}}(),i.\u0275cmp=C.Xpm({type:i,selectors:[["mat-tree"]],viewQuery:function(e,s){if(1&e&&C.Gf(IO,7),2&e){let o;C.iGM(o=C.CRH())&&(s._nodeOutlet=o.first)}},hostAttrs:["role","tree",1,"mat-tree","cdk-tree"],exportAs:["matTree"],features:[C._Bn([{provide:Og,useExisting:i}]),C.qOj],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(e,s){1&e&&C.GkF(0,0)},directives:[IO],styles:[".mat-tree{display:block}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word}.mat-nested-tree-node{border-bottom-width:0}\n"],encapsulation:2}),i})(),Kq=(()=>{class i extends q8{get recursive(){return this._recursive}set recursive(e){this._recursive=_n(e)}}return i.\u0275fac=function(){let r;return function(s){return(r||(r=C.n5z(i)))(s||i)}}(),i.\u0275dir=C.lG2({type:i,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:["matTreeNodeToggleRecursive","recursive"]},features:[C._Bn([{provide:q8,useExisting:i}]),C.qOj]}),i})(),cde=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[iH,Jn],Jn]}),i})(),ude=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[D7],_k,YX,Jz,rH,iH,Fee,Nre,Lre,Wre,Nk,rie,gie,xie,Uie,Ise,Moe,Boe,IG,sae,gae,D7,Lse,kae,Vae,Mte,Tle,Ole,Ule,ece,rf,iq,mce,Dce,Vce,Yce,iue,wue,tde,sde,lq,cde,Pg,kg,BR]}),i})();const Z7=new C.OlP("Window");function dde(){return window}const Zq=new C.OlP("LocalStorage"),hde=new C.OlP("SessionStorage"),fde=[{provide:Zq,useFactory:i=>Jq(i,"localStorage"),deps:[Z7]},{provide:hde,useFactory:i=>Jq(i,"sessionStorage"),deps:[Z7]}];class pde{constructor(){this.length=0}clear(){}getItem(){return null}key(){return null}removeItem(){}setItem(){}}function Jq(i,r){try{return i[r]}catch(e){return new pde}}const RO=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();var mde=$e(2441);function Xq(i,r){let e=!1;return arguments.length>=2&&(e=!0),function(o){return o.lift(new gde(i,r,e))}}class gde{constructor(r,e,s=!1){this.accumulator=r,this.seed=e,this.hasSeed=s}call(r,e){return e.subscribe(new _de(r,this.accumulator,this.seed,this.hasSeed))}}class _de extends Hs.L{constructor(r,e,s,o){super(r),this.accumulator=e,this._seed=s,this.hasSeed=o,this.index=0}get seed(){return this._seed}set seed(r){this.hasSeed=!0,this._seed=r}_next(r){if(this.hasSeed)return this._tryNext(r);this.seed=r,this.destination.next(r)}_tryNext(r){const e=this.index++;let s;try{s=this.accumulator(this.seed,r,e)}catch(o){this.destination.error(o)}this.seed=s,this.destination.next(s)}}function J7(i){return function(e){return 0===i?(0,kp.c)():e.lift(new vde(i))}}class vde{constructor(r){if(this.total=r,this.total<0)throw new VV}call(r,e){return e.subscribe(new yde(r,this.total))}}class yde extends Hs.L{constructor(r,e){super(r),this.total=e,this.ring=new Array,this.count=0}_next(r){const e=this.ring,s=this.total,o=this.count++;e.length<s?e.push(r):e[o%s]=r}_complete(){const r=this.destination;let e=this.count;if(e>0){const s=this.count>=this.total?this.total:this.count,o=this.ring;for(let a=0;a<s;a++){const D=e++%s;r.next(o[D])}}r.complete()}}function ej(i=Cde){return r=>r.lift(new bde(i))}class bde{constructor(r){this.errorFactory=r}call(r,e){return e.subscribe(new wde(r,this.errorFactory))}}class wde extends Hs.L{constructor(r,e){super(r),this.errorFactory=e,this.hasValue=!1}_next(r){this.hasValue=!0,this.destination.next(r)}_complete(){if(this.hasValue)return this.destination.complete();{let r;try{r=this.errorFactory()}catch(e){r=e}this.destination.error(r)}}}function Cde(){return new RO}function tj(i=null){return r=>r.lift(new Sde(i))}class Sde{constructor(r){this.defaultValue=r}call(r,e){return e.subscribe(new Mde(r,this.defaultValue))}}class Mde extends Hs.L{constructor(r,e){super(r),this.defaultValue=e,this.isEmpty=!0}_next(r){this.isEmpty=!1,this.destination.next(r)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var nj=$e(4487);function QM(i,r){const e=arguments.length>=2;return s=>s.pipe(i?xr((o,a)=>i(o,a,s)):nj.y,di(1),e?tj(r):ej(()=>new RO))}var Dde=$e(1307);class zg{constructor(r,e){this.id=r,this.url=e}}class Q7 extends zg{constructor(r,e,s="imperative",o=null){super(r,e),this.navigationTrigger=s,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qk extends zg{constructor(r,e,s){super(r,e),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rj extends zg{constructor(r,e,s){super(r,e),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Tde extends zg{constructor(r,e,s){super(r,e),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xde extends zg{constructor(r,e,s,o){super(r,e),this.urlAfterRedirects=s,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kde extends zg{constructor(r,e,s,o){super(r,e),this.urlAfterRedirects=s,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ade extends zg{constructor(r,e,s,o,a){super(r,e),this.urlAfterRedirects=s,this.state=o,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ide extends zg{constructor(r,e,s,o){super(r,e),this.urlAfterRedirects=s,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rde extends zg{constructor(r,e,s,o){super(r,e),this.urlAfterRedirects=s,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ij{constructor(r){this.route=r}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sj{constructor(r){this.route=r}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ode{constructor(r){this.snapshot=r}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nde{constructor(r){this.snapshot=r}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pde{constructor(r){this.snapshot=r}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fde{constructor(r){this.snapshot=r}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oj{constructor(r,e,s){this.routerEvent=r,this.position=e,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const vi="primary";class Lde{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){const e=this.params[r];return Array.isArray(e)?e[0]:e}return null}getAll(r){if(this.has(r)){const e=this.params[r];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function XM(i){return new Lde(i)}const aj="ngNavigationCancelingError";function X7(i){const r=Error("NavigationCancelingError: "+i);return r[aj]=!0,r}function Vde(i,r,e){const s=e.path.split("/");if(s.length>i.length||"full"===e.pathMatch&&(r.hasChildren()||s.length<i.length))return null;const o={};for(let a=0;a<s.length;a++){const D=s[a],k=i[a];if(D.startsWith(":"))o[D.substring(1)]=k;else if(D!==k.path)return null}return{consumed:i.slice(0,s.length),posParams:o}}function Np(i,r){const e=i?Object.keys(i):void 0,s=r?Object.keys(r):void 0;if(!e||!s||e.length!=s.length)return!1;let o;for(let a=0;a<e.length;a++)if(o=e[a],!lj(i[o],r[o]))return!1;return!0}function lj(i,r){if(Array.isArray(i)&&Array.isArray(r)){if(i.length!==r.length)return!1;const e=[...i].sort(),s=[...r].sort();return e.every((o,a)=>s[a]===o)}return i===r}function cj(i){return Array.prototype.concat.apply([],i)}function uj(i){return i.length>0?i[i.length-1]:null}function wl(i,r){for(const e in i)i.hasOwnProperty(e)&&r(i[e],e)}function Pp(i){return(0,C.CqO)(i)?i:(0,C.QGY)(i)?(0,_l.D)(Promise.resolve(i)):(0,$n.of)(i)}const Ude={exact:function fj(i,r,e){if(!O1(i.segments,r.segments)||!OO(i.segments,r.segments,e)||i.numberOfChildren!==r.numberOfChildren)return!1;for(const s in r.children)if(!i.children[s]||!fj(i.children[s],r.children[s],e))return!1;return!0},subset:pj},dj={exact:function(i,r){return Np(i,r)},subset:function(i,r){return Object.keys(r).length<=Object.keys(i).length&&Object.keys(r).every(e=>lj(i[e],r[e]))},ignored:()=>!0};function hj(i,r,e){return Ude[e.paths](i.root,r.root,e.matrixParams)&&dj[e.queryParams](i.queryParams,r.queryParams)&&!("exact"===e.fragment&&i.fragment!==r.fragment)}function pj(i,r,e){return mj(i,r,r.segments,e)}function mj(i,r,e,s){if(i.segments.length>e.length){const o=i.segments.slice(0,e.length);return!(!O1(o,e)||r.hasChildren()||!OO(o,e,s))}if(i.segments.length===e.length){if(!O1(i.segments,e)||!OO(i.segments,e,s))return!1;for(const o in r.children)if(!i.children[o]||!pj(i.children[o],r.children[o],s))return!1;return!0}{const o=e.slice(0,i.segments.length),a=e.slice(i.segments.length);return!!(O1(i.segments,o)&&OO(i.segments,o,s)&&i.children[vi])&&mj(i.children[vi],r,a,s)}}function OO(i,r,e){return r.every((s,o)=>dj[e](i[o].parameters,s.parameters))}class R1{constructor(r,e,s){this.root=r,this.queryParams=e,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=XM(this.queryParams)),this._queryParamMap}toString(){return Wde.serialize(this)}}class Di{constructor(r,e){this.segments=r,this.children=e,this.parent=null,wl(e,(s,o)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return NO(this)}}class jk{constructor(r,e){this.path=r,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=XM(this.parameters)),this._parameterMap}toString(){return yj(this)}}function O1(i,r){return i.length===r.length&&i.every((e,s)=>e.path===r[s].path)}class eF{}class gj{parse(r){const e=new nhe(r);return new R1(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(r){return`${`/${Yk(r.root,!0)}`}${function(i){const r=Object.keys(i).map(e=>{const s=i[e];return Array.isArray(s)?s.map(o=>`${PO(e)}=${PO(o)}`).join("&"):`${PO(e)}=${PO(s)}`}).filter(e=>!!e);return r.length?`?${r.join("&")}`:""}(r.queryParams)}${"string"==typeof r.fragment?`#${function(i){return encodeURI(i)}(r.fragment)}`:""}`}}const Wde=new gj;function NO(i){return i.segments.map(r=>yj(r)).join("/")}function Yk(i,r){if(!i.hasChildren())return NO(i);if(r){const e=i.children[vi]?Yk(i.children[vi],!1):"",s=[];return wl(i.children,(o,a)=>{a!==vi&&s.push(`${a}:${Yk(o,!1)}`)}),s.length>0?`${e}(${s.join("//")})`:e}{const e=function(i,r){let e=[];return wl(i.children,(s,o)=>{o===vi&&(e=e.concat(r(s,o)))}),wl(i.children,(s,o)=>{o!==vi&&(e=e.concat(r(s,o)))}),e}(i,(s,o)=>o===vi?[Yk(i.children[vi],!1)]:[`${o}:${Yk(s,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[vi]?`${NO(i)}/${e[0]}`:`${NO(i)}/(${e.join("//")})`}}function _j(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function PO(i){return _j(i).replace(/%3B/gi,";")}function tF(i){return _j(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function FO(i){return decodeURIComponent(i)}function vj(i){return FO(i.replace(/\+/g,"%20"))}function yj(i){return`${tF(i.path)}${function(i){return Object.keys(i).map(r=>`;${tF(r)}=${tF(i[r])}`).join("")}(i.parameters)}`}const Jde=/^[^\/()?;=#]+/;function LO(i){const r=i.match(Jde);return r?r[0]:""}const Qde=/^[^=?&#]+/,ehe=/^[^?&#]+/;class nhe{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Di([],{}):new Di([],this.parseChildren())}parseQueryParams(){const r={};if(this.consumeOptional("?"))do{this.parseQueryParam(r)}while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(r.length>0||Object.keys(e).length>0)&&(s[vi]=new Di(r,e)),s}parseSegment(){const r=LO(this.remaining);if(""===r&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(r),new jk(FO(r),this.parseMatrixParams())}parseMatrixParams(){const r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){const e=LO(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const o=LO(this.remaining);o&&(s=o,this.capture(s))}r[FO(e)]=FO(s)}parseQueryParam(r){const e=function(i){const r=i.match(Qde);return r?r[0]:""}(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const D=function(i){const r=i.match(ehe);return r?r[0]:""}(this.remaining);D&&(s=D,this.capture(s))}const o=vj(e),a=vj(s);if(r.hasOwnProperty(o)){let D=r[o];Array.isArray(D)||(D=[D],r[o]=D),D.push(a)}else r[o]=a}parseParens(r){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=LO(this.remaining),o=this.remaining[s.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let a;s.indexOf(":")>-1?(a=s.substr(0,s.indexOf(":")),this.capture(a),this.capture(":")):r&&(a=vi);const D=this.parseChildren();e[a]=1===Object.keys(D).length?D[vi]:new Di([],D),this.consumeOptional("//")}return e}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return!!this.peekStartsWith(r)&&(this.remaining=this.remaining.substring(r.length),!0)}capture(r){if(!this.consumeOptional(r))throw new Error(`Expected "${r}".`)}}class bj{constructor(r){this._root=r}get root(){return this._root.value}parent(r){const e=this.pathFromRoot(r);return e.length>1?e[e.length-2]:null}children(r){const e=nF(r,this._root);return e?e.children.map(s=>s.value):[]}firstChild(r){const e=nF(r,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(r){const e=rF(r,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==r)}pathFromRoot(r){return rF(r,this._root).map(e=>e.value)}}function nF(i,r){if(i===r.value)return r;for(const e of r.children){const s=nF(i,e);if(s)return s}return null}function rF(i,r){if(i===r.value)return[r];for(const e of r.children){const s=rF(i,e);if(s.length)return s.unshift(r),s}return[]}class Hg{constructor(r,e){this.value=r,this.children=e}toString(){return`TreeNode(${this.value})`}}function Wk(i){const r={};return i&&i.children.forEach(e=>r[e.value.outlet]=e),r}class wj extends bj{constructor(r,e){super(r),this.snapshot=e,iF(this,r)}toString(){return this.snapshot.toString()}}function Cj(i,r){const e=function(i,r){const D=new BO([],{},{},"",{},vi,r,null,i.root,-1,{});return new Mj("",new Hg(D,[]))}(i,r),s=new Xc([new jk("",{})]),o=new Xc({}),a=new Xc({}),D=new Xc({}),k=new Xc(""),N=new N1(s,o,D,k,a,vi,r,e.root);return N.snapshot=e.root,new wj(new Hg(N,[]),e)}class N1{constructor(r,e,s,o,a,D,k,N){this.url=r,this.params=e,this.queryParams=s,this.fragment=o,this.data=a,this.outlet=D,this.component=k,this._futureSnapshot=N}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,rr.U)(r=>XM(r)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,rr.U)(r=>XM(r)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Sj(i,r="emptyOnly"){const e=i.pathFromRoot;let s=0;if("always"!==r)for(s=e.length-1;s>=1;){const o=e[s],a=e[s-1];if(o.routeConfig&&""===o.routeConfig.path)s--;else{if(a.component)break;s--}}return function(i){return i.reduce((r,e)=>({params:Object.assign(Object.assign({},r.params),e.params),data:Object.assign(Object.assign({},r.data),e.data),resolve:Object.assign(Object.assign({},r.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(s))}class BO{constructor(r,e,s,o,a,D,k,N,B,G,$){this.url=r,this.params=e,this.queryParams=s,this.fragment=o,this.data=a,this.outlet=D,this.component=k,this.routeConfig=N,this._urlSegment=B,this._lastPathIndex=G,this._resolve=$}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=XM(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=XM(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Mj extends bj{constructor(r,e){super(e),this.url=r,iF(this,e)}toString(){return Ej(this._root)}}function iF(i,r){r.value._routerState=i,r.children.forEach(e=>iF(i,e))}function Ej(i){const r=i.children.length>0?` { ${i.children.map(Ej).join(", ")} } `:"";return`${i.value}${r}`}function sF(i){if(i.snapshot){const r=i.snapshot,e=i._futureSnapshot;i.snapshot=e,Np(r.queryParams,e.queryParams)||i.queryParams.next(e.queryParams),r.fragment!==e.fragment&&i.fragment.next(e.fragment),Np(r.params,e.params)||i.params.next(e.params),function(i,r){if(i.length!==r.length)return!1;for(let e=0;e<i.length;++e)if(!Np(i[e],r[e]))return!1;return!0}(r.url,e.url)||i.url.next(e.url),Np(r.data,e.data)||i.data.next(e.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function oF(i,r){return Np(i.params,r.params)&&function(i,r){return O1(i,r)&&i.every((e,s)=>Np(e.parameters,r[s].parameters))}(i.url,r.url)&&!(!i.parent!=!r.parent)&&(!i.parent||oF(i.parent,r.parent))}function VO(i,r,e){if(e&&i.shouldReuseRoute(r.value,e.value.snapshot)){const s=e.value;s._futureSnapshot=r.value;const o=function(i,r,e){return r.children.map(s=>{for(const o of e.children)if(i.shouldReuseRoute(s.value,o.value.snapshot))return VO(i,s,o);return VO(i,s)})}(i,r,e);return new Hg(s,o)}{if(i.shouldAttach(r.value)){const a=i.retrieve(r.value);if(null!==a){const D=a.route;return Dj(r,D),D}}const s=function(i){return new N1(new Xc(i.url),new Xc(i.params),new Xc(i.queryParams),new Xc(i.fragment),new Xc(i.data),i.outlet,i.component,i)}(r.value),o=r.children.map(a=>VO(i,a));return new Hg(s,o)}}function Dj(i,r){if(i.value.routeConfig!==r.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(i.children.length!==r.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");r.value._futureSnapshot=i.value;for(let e=0;e<i.children.length;++e)Dj(i.children[e],r.children[e])}function zO(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function $k(i){return"object"==typeof i&&null!=i&&i.outlets}function aF(i,r,e,s,o){let a={};return s&&wl(s,(D,k)=>{a[k]=Array.isArray(D)?D.map(N=>`${N}`):`${D}`}),new R1(e.root===i?r:Tj(e.root,i,r),a,o)}function Tj(i,r,e){const s={};return wl(i.children,(o,a)=>{s[a]=o===r?e:Tj(o,r,e)}),new Di(i.segments,s)}class xj{constructor(r,e,s){if(this.isAbsolute=r,this.numberOfDoubleDots=e,this.commands=s,r&&s.length>0&&zO(s[0]))throw new Error("Root segment cannot have matrix parameters");const o=s.find($k);if(o&&o!==uj(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class lF{constructor(r,e,s){this.segmentGroup=r,this.processChildren=e,this.index=s}}function kj(i,r,e){if(i||(i=new Di([],{})),0===i.segments.length&&i.hasChildren())return HO(i,r,e);const s=function(i,r,e){let s=0,o=r;const a={match:!1,pathIndex:0,commandIndex:0};for(;o<i.segments.length;){if(s>=e.length)return a;const D=i.segments[o],k=e[s];if($k(k))break;const N=`${k}`,B=s<e.length-1?e[s+1]:null;if(o>0&&void 0===N)break;if(N&&B&&"object"==typeof B&&void 0===B.outlets){if(!Ij(N,B,D))return a;s+=2}else{if(!Ij(N,{},D))return a;s++}o++}return{match:!0,pathIndex:o,commandIndex:s}}(i,r,e),o=e.slice(s.commandIndex);if(s.match&&s.pathIndex<i.segments.length){const a=new Di(i.segments.slice(0,s.pathIndex),{});return a.children[vi]=new Di(i.segments.slice(s.pathIndex),i.children),HO(a,0,o)}return s.match&&0===o.length?new Di(i.segments,{}):s.match&&!i.hasChildren()?cF(i,r,e):s.match?HO(i,0,o):cF(i,r,e)}function HO(i,r,e){if(0===e.length)return new Di(i.segments,{});{const s=function(i){return $k(i[0])?i[0].outlets:{[vi]:i}}(e),o={};return wl(s,(a,D)=>{"string"==typeof a&&(a=[a]),null!==a&&(o[D]=kj(i.children[D],r,a))}),wl(i.children,(a,D)=>{void 0===s[D]&&(o[D]=a)}),new Di(i.segments,o)}}function cF(i,r,e){const s=i.segments.slice(0,r);let o=0;for(;o<e.length;){const a=e[o];if($k(a)){const N=phe(a.outlets);return new Di(s,N)}if(0===o&&zO(e[0])){s.push(new jk(i.segments[r].path,Aj(e[0]))),o++;continue}const D=$k(a)?a.outlets[vi]:`${a}`,k=o<e.length-1?e[o+1]:null;D&&k&&zO(k)?(s.push(new jk(D,Aj(k))),o+=2):(s.push(new jk(D,{})),o++)}return new Di(s,{})}function phe(i){const r={};return wl(i,(e,s)=>{"string"==typeof e&&(e=[e]),null!==e&&(r[s]=cF(new Di([],{}),0,e))}),r}function Aj(i){const r={};return wl(i,(e,s)=>r[s]=`${e}`),r}function Ij(i,r,e){return i==e.path&&Np(r,e.parameters)}class ghe{constructor(r,e,s,o){this.routeReuseStrategy=r,this.futureState=e,this.currState=s,this.forwardEvent=o}activate(r){const e=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,s,r),sF(this.futureState.root),this.activateChildRoutes(e,s,r)}deactivateChildRoutes(r,e,s){const o=Wk(e);r.children.forEach(a=>{const D=a.value.outlet;this.deactivateRoutes(a,o[D],s),delete o[D]}),wl(o,(a,D)=>{this.deactivateRouteAndItsChildren(a,s)})}deactivateRoutes(r,e,s){const o=r.value,a=e?e.value:null;if(o===a)if(o.component){const D=s.getContext(o.outlet);D&&this.deactivateChildRoutes(r,e,D.children)}else this.deactivateChildRoutes(r,e,s);else a&&this.deactivateRouteAndItsChildren(e,s)}deactivateRouteAndItsChildren(r,e){this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,e):this.deactivateRouteAndOutlet(r,e)}detachAndStoreRouteSubtree(r,e){const s=e.getContext(r.value.outlet);if(s&&s.outlet){const o=s.outlet.detach(),a=s.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:o,route:r,contexts:a})}}deactivateRouteAndOutlet(r,e){const s=e.getContext(r.value.outlet),o=s&&r.value.component?s.children:e,a=Wk(r);for(const D of Object.keys(a))this.deactivateRouteAndItsChildren(a[D],o);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(r,e,s){const o=Wk(e);r.children.forEach(a=>{this.activateRoutes(a,o[a.value.outlet],s),this.forwardEvent(new Fde(a.value.snapshot))}),r.children.length&&this.forwardEvent(new Nde(r.value.snapshot))}activateRoutes(r,e,s){const o=r.value,a=e?e.value:null;if(sF(o),o===a)if(o.component){const D=s.getOrCreateContext(o.outlet);this.activateChildRoutes(r,e,D.children)}else this.activateChildRoutes(r,e,s);else if(o.component){const D=s.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const k=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),D.children.onOutletReAttached(k.contexts),D.attachRef=k.componentRef,D.route=k.route.value,D.outlet&&D.outlet.attach(k.componentRef,k.route.value),Rj(k.route)}else{const k=function(i){for(let r=i.parent;r;r=r.parent){const e=r.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(o.snapshot),N=k?k.module.componentFactoryResolver:null;D.attachRef=null,D.route=o,D.resolver=N,D.outlet&&D.outlet.activateWith(o,N),this.activateChildRoutes(r,null,D.children)}}else this.activateChildRoutes(r,null,s)}}function Rj(i){sF(i.value),i.children.forEach(Rj)}class uF{constructor(r,e){this.routes=r,this.module=e}}function pv(i){return"function"==typeof i}function P1(i){return i instanceof R1}const Kk=Symbol("INITIAL_VALUE");function Zk(){return zo(i=>function(...i){let r,e;return(0,NR.K)(i[i.length-1])&&(e=i.pop()),"function"==typeof i[i.length-1]&&(r=i.pop()),1===i.length&&(0,ok.k)(i[0])&&(i=i[0]),(0,NU.n)(i,e).lift(new zre(r))}(i.map(r=>r.pipe(di(1),Ki(Kk)))).pipe(Xq((r,e)=>{let s=!1;return e.reduce((o,a,D)=>o!==Kk?o:(a===Kk&&(s=!0),s||!1!==a&&D!==e.length-1&&!P1(a)?o:a),r)},Kk),xr(r=>r!==Kk),(0,rr.U)(r=>P1(r)?r:!0===r),di(1)))}let Oj=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=C.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,s){1&e&&C._UZ(0,"router-outlet")},directives:function(){return[KO]},encapsulation:2}),i})();function Nj(i,r=""){for(let e=0;e<i.length;e++){const s=i[e];She(s,Mhe(r,s))}}function She(i,r){i.children&&Nj(i.children,r)}function Mhe(i,r){return r?i||r.path?i&&!r.path?`${i}/`:!i&&r.path?r.path:`${i}/${r.path}`:"":i}function dF(i){const r=i.children&&i.children.map(dF),e=r?Object.assign(Object.assign({},i),{children:r}):Object.assign({},i);return!e.component&&(r||e.loadChildren)&&e.outlet&&e.outlet!==vi&&(e.component=Oj),e}function Qd(i){return i.outlet||vi}function Pj(i,r){const e=i.filter(s=>Qd(s)===r);return e.push(...i.filter(s=>Qd(s)!==r)),e}const Fj={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function UO(i,r,e){var s;if(""===r.path)return"full"===r.pathMatch&&(i.hasChildren()||e.length>0)?Object.assign({},Fj):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const a=(r.matcher||Vde)(e,i,r);if(!a)return Object.assign({},Fj);const D={};wl(a.posParams,(N,B)=>{D[B]=N.path});const k=a.consumed.length>0?Object.assign(Object.assign({},D),a.consumed[a.consumed.length-1].parameters):D;return{matched:!0,consumedSegments:a.consumed,lastChild:a.consumed.length,parameters:k,positionalParamSegments:null!==(s=a.posParams)&&void 0!==s?s:{}}}function GO(i,r,e,s,o="corrected"){if(e.length>0&&function(i,r,e){return e.some(s=>qO(i,r,s)&&Qd(s)!==vi)}(i,e,s)){const D=new Di(r,function(i,r,e,s){const o={};o[vi]=s,s._sourceSegment=i,s._segmentIndexShift=r.length;for(const a of e)if(""===a.path&&Qd(a)!==vi){const D=new Di([],{});D._sourceSegment=i,D._segmentIndexShift=r.length,o[Qd(a)]=D}return o}(i,r,s,new Di(e,i.children)));return D._sourceSegment=i,D._segmentIndexShift=r.length,{segmentGroup:D,slicedSegments:[]}}if(0===e.length&&function(i,r,e){return e.some(s=>qO(i,r,s))}(i,e,s)){const D=new Di(i.segments,function(i,r,e,s,o,a){const D={};for(const k of s)if(qO(i,e,k)&&!o[Qd(k)]){const N=new Di([],{});N._sourceSegment=i,N._segmentIndexShift="legacy"===a?i.segments.length:r.length,D[Qd(k)]=N}return Object.assign(Object.assign({},o),D)}(i,r,e,s,i.children,o));return D._sourceSegment=i,D._segmentIndexShift=r.length,{segmentGroup:D,slicedSegments:e}}const a=new Di(i.segments,i.children);return a._sourceSegment=i,a._segmentIndexShift=r.length,{segmentGroup:a,slicedSegments:e}}function qO(i,r,e){return(!(i.hasChildren()||r.length>0)||"full"!==e.pathMatch)&&""===e.path}function Lj(i,r,e,s){return!!(Qd(i)===s||s!==vi&&qO(r,e,i))&&("**"===i.path||UO(r,i,e).matched)}function Bj(i,r,e){return 0===r.length&&!i.children[e]}class Jk{constructor(r){this.segmentGroup=r||null}}class Vj{constructor(r){this.urlTree=r}}function jO(i){return new $i.y(r=>r.error(new Jk(i)))}function zj(i){return new $i.y(r=>r.error(new Vj(i)))}function khe(i){return new $i.y(r=>r.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class Rhe{constructor(r,e,s,o,a){this.configLoader=e,this.urlSerializer=s,this.urlTree=o,this.config=a,this.allowRedirects=!0,this.ngModule=r.get(C.h0i)}apply(){const r=GO(this.urlTree.root,[],[],this.config).segmentGroup,e=new Di(r.segments,r.children);return this.expandSegmentGroup(this.ngModule,this.config,e,vi).pipe((0,rr.U)(a=>this.createUrlTree(hF(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Bg(a=>{if(a instanceof Vj)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Jk?this.noMatchError(a):a}))}match(r){return this.expandSegmentGroup(this.ngModule,this.config,r.root,vi).pipe((0,rr.U)(o=>this.createUrlTree(hF(o),r.queryParams,r.fragment))).pipe(Bg(o=>{throw o instanceof Jk?this.noMatchError(o):o}))}noMatchError(r){return new Error(`Cannot match any routes. URL Segment: '${r.segmentGroup}'`)}createUrlTree(r,e,s){const o=r.segments.length>0?new Di([],{[vi]:r}):r;return new R1(o,e,s)}expandSegmentGroup(r,e,s,o){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(r,e,s).pipe((0,rr.U)(a=>new Di([],a))):this.expandSegment(r,s,e,s.segments,o,!0)}expandChildren(r,e,s){const o=[];for(const a of Object.keys(s.children))"primary"===a?o.unshift(a):o.push(a);return(0,_l.D)(o).pipe(He(a=>{const D=s.children[a],k=Pj(e,a);return this.expandSegmentGroup(r,k,D,a).pipe((0,rr.U)(N=>({segment:N,outlet:a})))}),Xq((a,D)=>(a[D.outlet]=D.segment,a),{}),function(i,r){const e=arguments.length>=2;return s=>s.pipe(i?xr((o,a)=>i(o,a,s)):nj.y,J7(1),e?tj(r):ej(()=>new RO))}())}expandSegment(r,e,s,o,a,D){return(0,_l.D)(s).pipe(He(k=>this.expandSegmentAgainstRoute(r,e,s,k,o,a,D).pipe(Bg(B=>{if(B instanceof Jk)return(0,$n.of)(null);throw B}))),QM(k=>!!k),Bg((k,N)=>{if(k instanceof RO||"EmptyError"===k.name){if(Bj(e,o,a))return(0,$n.of)(new Di([],{}));throw new Jk(e)}throw k}))}expandSegmentAgainstRoute(r,e,s,o,a,D,k){return Lj(o,e,a,D)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(r,e,o,a,D):k&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(r,e,s,o,a,D):jO(e):jO(e)}expandSegmentAgainstRouteUsingRedirect(r,e,s,o,a,D){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(r,s,o,D):this.expandRegularSegmentAgainstRouteUsingRedirect(r,e,s,o,a,D)}expandWildCardWithParamsAgainstRouteUsingRedirect(r,e,s,o){const a=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?zj(a):this.lineralizeSegments(s,a).pipe((0,Xr.zg)(D=>{const k=new Di(D,{});return this.expandSegment(r,k,e,D,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(r,e,s,o,a,D){const{matched:k,consumedSegments:N,lastChild:B,positionalParamSegments:G}=UO(e,o,a);if(!k)return jO(e);const $=this.applyRedirectCommands(N,o.redirectTo,G);return o.redirectTo.startsWith("/")?zj($):this.lineralizeSegments(o,$).pipe((0,Xr.zg)(re=>this.expandSegment(r,e,s,re.concat(a.slice(B)),D,!1)))}matchSegmentAgainstRoute(r,e,s,o,a){if("**"===s.path)return s.loadChildren?(s._loadedConfig?(0,$n.of)(s._loadedConfig):this.configLoader.load(r.injector,s)).pipe((0,rr.U)(re=>(s._loadedConfig=re,new Di(o,{})))):(0,$n.of)(new Di(o,{}));const{matched:D,consumedSegments:k,lastChild:N}=UO(e,s,o);if(!D)return jO(e);const B=o.slice(N);return this.getChildConfig(r,s,o).pipe((0,Xr.zg)($=>{const re=$.module,oe=$.routes,{segmentGroup:_e,slicedSegments:ze}=GO(e,k,B,oe),mt=new Di(_e.segments,_e.children);if(0===ze.length&&mt.hasChildren())return this.expandChildren(re,oe,mt).pipe((0,rr.U)(fn=>new Di(k,fn)));if(0===oe.length&&0===ze.length)return(0,$n.of)(new Di(k,{}));const Ft=Qd(s)===a;return this.expandSegment(re,mt,oe,ze,Ft?vi:a,!0).pipe((0,rr.U)(dn=>new Di(k.concat(dn.segments),dn.children)))}))}getChildConfig(r,e,s){return e.children?(0,$n.of)(new uF(e.children,r)):e.loadChildren?void 0!==e._loadedConfig?(0,$n.of)(e._loadedConfig):this.runCanLoadGuards(r.injector,e,s).pipe((0,Xr.zg)(o=>o?this.configLoader.load(r.injector,e).pipe((0,rr.U)(a=>(e._loadedConfig=a,a))):function(i){return new $i.y(r=>r.error(X7(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`)))}(e))):(0,$n.of)(new uF([],r))}runCanLoadGuards(r,e,s){const o=e.canLoad;if(!o||0===o.length)return(0,$n.of)(!0);const a=o.map(D=>{const k=r.get(D);let N;if(function(i){return i&&pv(i.canLoad)}(k))N=k.canLoad(e,s);else{if(!pv(k))throw new Error("Invalid CanLoad guard");N=k(e,s)}return Pp(N)});return(0,$n.of)(a).pipe(Zk(),(0,ca.b)(D=>{if(!P1(D))return;const k=X7(`Redirecting to "${this.urlSerializer.serialize(D)}"`);throw k.url=D,k}),(0,rr.U)(D=>!0===D))}lineralizeSegments(r,e){let s=[],o=e.root;for(;;){if(s=s.concat(o.segments),0===o.numberOfChildren)return(0,$n.of)(s);if(o.numberOfChildren>1||!o.children[vi])return khe(r.redirectTo);o=o.children[vi]}}applyRedirectCommands(r,e,s){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),r,s)}applyRedirectCreatreUrlTree(r,e,s,o){const a=this.createSegmentGroup(r,e.root,s,o);return new R1(a,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(r,e){const s={};return wl(r,(o,a)=>{if("string"==typeof o&&o.startsWith(":")){const k=o.substring(1);s[a]=e[k]}else s[a]=o}),s}createSegmentGroup(r,e,s,o){const a=this.createSegments(r,e.segments,s,o);let D={};return wl(e.children,(k,N)=>{D[N]=this.createSegmentGroup(r,k,s,o)}),new Di(a,D)}createSegments(r,e,s,o){return e.map(a=>a.path.startsWith(":")?this.findPosParam(r,a,o):this.findOrReturn(a,s))}findPosParam(r,e,s){const o=s[e.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${r}'. Cannot find '${e.path}'.`);return o}findOrReturn(r,e){let s=0;for(const o of e){if(o.path===r.path)return e.splice(s),o;s++}return r}}function hF(i){const r={};for(const s of Object.keys(i.children)){const a=hF(i.children[s]);(a.segments.length>0||a.hasChildren())&&(r[s]=a)}return function(i){if(1===i.numberOfChildren&&i.children[vi]){const r=i.children[vi];return new Di(i.segments.concat(r.segments),r.children)}return i}(new Di(i.segments,r))}class Hj{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}}class YO{constructor(r,e){this.component=r,this.route=e}}function Phe(i,r,e){const s=i._root;return Qk(s,r?r._root:null,e,[s.value])}function WO(i,r,e){const s=function(i){if(!i)return null;for(let r=i.parent;r;r=r.parent){const e=r.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(r);return(s?s.module.injector:e).get(i)}function Qk(i,r,e,s,o={canDeactivateChecks:[],canActivateChecks:[]}){const a=Wk(r);return i.children.forEach(D=>{(function(i,r,e,s,o={canDeactivateChecks:[],canActivateChecks:[]}){const a=i.value,D=r?r.value:null,k=e?e.getContext(i.value.outlet):null;if(D&&a.routeConfig===D.routeConfig){const N=function(i,r,e){if("function"==typeof e)return e(i,r);switch(e){case"pathParamsChange":return!O1(i.url,r.url);case"pathParamsOrQueryParamsChange":return!O1(i.url,r.url)||!Np(i.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!oF(i,r)||!Np(i.queryParams,r.queryParams);case"paramsChange":default:return!oF(i,r)}}(D,a,a.routeConfig.runGuardsAndResolvers);N?o.canActivateChecks.push(new Hj(s)):(a.data=D.data,a._resolvedData=D._resolvedData),Qk(i,r,a.component?k?k.children:null:e,s,o),N&&k&&k.outlet&&k.outlet.isActivated&&o.canDeactivateChecks.push(new YO(k.outlet.component,D))}else D&&Xk(r,k,o),o.canActivateChecks.push(new Hj(s)),Qk(i,null,a.component?k?k.children:null:e,s,o)})(D,a[D.value.outlet],e,s.concat([D.value]),o),delete a[D.value.outlet]}),wl(a,(D,k)=>Xk(D,e.getContext(k),o)),o}function Xk(i,r,e){const s=Wk(i),o=i.value;wl(s,(a,D)=>{Xk(a,o.component?r?r.children.getContext(D):null:r,e)}),e.canDeactivateChecks.push(new YO(o.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,o))}class $he{}function Uj(i){return new $i.y(r=>r.error(i))}class Zhe{constructor(r,e,s,o,a,D){this.rootComponentType=r,this.config=e,this.urlTree=s,this.url=o,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=D}recognize(){const r=GO(this.urlTree.root,[],[],this.config.filter(D=>void 0===D.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,r,vi);if(null===e)return null;const s=new BO([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},vi,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Hg(s,e),a=new Mj(this.url,o);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(r){const e=r.value,s=Sj(e,this.paramsInheritanceStrategy);e.params=Object.freeze(s.params),e.data=Object.freeze(s.data),r.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(r,e,s){return 0===e.segments.length&&e.hasChildren()?this.processChildren(r,e):this.processSegment(r,e,e.segments,s)}processChildren(r,e){const s=[];for(const a of Object.keys(e.children)){const D=e.children[a],k=Pj(r,a),N=this.processSegmentGroup(k,D,a);if(null===N)return null;s.push(...N)}const o=Gj(s);return function(i){i.sort((r,e)=>r.value.outlet===vi?-1:e.value.outlet===vi?1:r.value.outlet.localeCompare(e.value.outlet))}(o),o}processSegment(r,e,s,o){for(const a of r){const D=this.processSegmentAgainstRoute(a,e,s,o);if(null!==D)return D}return Bj(e,s,o)?[]:null}processSegmentAgainstRoute(r,e,s,o){if(r.redirectTo||!Lj(r,e,s,o))return null;let a,D=[],k=[];if("**"===r.path){const oe=s.length>0?uj(s).parameters:{};a=new BO(s,oe,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Yj(r),Qd(r),r.component,r,qj(e),jj(e)+s.length,Wj(r))}else{const oe=UO(e,r,s);if(!oe.matched)return null;D=oe.consumedSegments,k=s.slice(oe.lastChild),a=new BO(D,oe.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Yj(r),Qd(r),r.component,r,qj(e),jj(e)+D.length,Wj(r))}const N=function(i){return i.children?i.children:i.loadChildren?i._loadedConfig.routes:[]}(r),{segmentGroup:B,slicedSegments:G}=GO(e,D,k,N.filter(oe=>void 0===oe.redirectTo),this.relativeLinkResolution);if(0===G.length&&B.hasChildren()){const oe=this.processChildren(N,B);return null===oe?null:[new Hg(a,oe)]}if(0===N.length&&0===G.length)return[new Hg(a,[])];const $=Qd(r)===o,re=this.processSegment(N,B,G,$?vi:o);return null===re?null:[new Hg(a,re)]}}function Xhe(i){const r=i.value.routeConfig;return r&&""===r.path&&void 0===r.redirectTo}function Gj(i){const r=[],e=new Set;for(const s of i){if(!Xhe(s)){r.push(s);continue}const o=r.find(a=>s.value.routeConfig===a.value.routeConfig);void 0!==o?(o.children.push(...s.children),e.add(o)):r.push(s)}for(const s of e){const o=Gj(s.children);r.push(new Hg(s.value,o))}return r.filter(s=>!e.has(s))}function qj(i){let r=i;for(;r._sourceSegment;)r=r._sourceSegment;return r}function jj(i){let r=i,e=r._segmentIndexShift?r._segmentIndexShift:0;for(;r._sourceSegment;)r=r._sourceSegment,e+=r._segmentIndexShift?r._segmentIndexShift:0;return e-1}function Yj(i){return i.data||{}}function Wj(i){return i.resolve||{}}function fF(i){return zo(r=>{const e=i(r);return e?(0,_l.D)(e).pipe((0,rr.U)(()=>r)):(0,$n.of)(r)})}class afe extends class{shouldDetach(r){return!1}store(r,e){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,e){return r.routeConfig===e.routeConfig}}{}const pF=new C.OlP("ROUTES");class $j{constructor(r,e,s,o){this.loader=r,this.compiler=e,this.onLoadStartListener=s,this.onLoadEndListener=o}load(r,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const o=this.loadModuleFactory(e.loadChildren).pipe((0,rr.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(e);const D=a.create(r);return new uF(cj(D.injector.get(pF,void 0,C.XFs.Self|C.XFs.Optional)).map(dF),D)}),Bg(a=>{throw e._loader$=void 0,a}));return e._loader$=new mde.c(o,()=>new ln.xQ).pipe((0,Dde.x)()),e._loader$}loadModuleFactory(r){return"string"==typeof r?(0,_l.D)(this.loader.load(r)):Pp(r()).pipe((0,Xr.zg)(e=>e instanceof C.YKP?(0,$n.of)(e):(0,_l.D)(this.compiler.compileModuleAsync(e))))}}class lfe{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new eE,this.attachRef=null}}class eE{constructor(){this.contexts=new Map}onChildOutletCreated(r,e){const s=this.getOrCreateContext(r);s.outlet=e,this.contexts.set(r,s)}onChildOutletDestroyed(r){const e=this.getContext(r);e&&(e.outlet=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let e=this.getContext(r);return e||(e=new lfe,this.contexts.set(r,e)),e}getContext(r){return this.contexts.get(r)||null}}class ufe{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,e){return r}}function dfe(i){throw i}function hfe(i,r,e){return r.parse("/")}function Kj(i,r){return(0,$n.of)(null)}const ffe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pfe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let eu=(()=>{class i{constructor(e,s,o,a,D,k,N,B){this.rootComponentType=e,this.urlSerializer=s,this.rootContexts=o,this.location=a,this.config=B,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ln.xQ,this.errorHandler=dfe,this.malformedUriErrorHandler=hfe,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Kj,afterPreactivation:Kj},this.urlHandlingStrategy=new ufe,this.routeReuseStrategy=new afe,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=D.get(C.h0i),this.console=D.get(C.c2e);const re=D.get(C.R0b);this.isNgZoneEnabled=re instanceof C.R0b&&C.R0b.isInAngularZone(),this.resetConfig(B),this.currentUrlTree=new R1(new Di([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new $j(k,N,oe=>this.triggerEvent(new ij(oe)),oe=>this.triggerEvent(new sj(oe))),this.routerState=Cj(this.currentUrlTree,this.rootComponentType),this.transitions=new Xc({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const s=this.events;return e.pipe(xr(o=>0!==o.id),(0,rr.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),zo(o=>{let a=!1,D=!1;return(0,$n.of)(o).pipe((0,ca.b)(k=>{this.currentNavigation={id:k.id,initialUrl:k.currentRawUrl,extractedUrl:k.extractedUrl,trigger:k.source,extras:k.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),zo(k=>{const N=!this.navigated||k.extractedUrl.toString()!==this.browserUrlTree.toString(),B=("reload"===this.onSameUrlNavigation||N)&&this.urlHandlingStrategy.shouldProcessUrl(k.rawUrl);if($O(k.source)&&(this.browserUrlTree=k.rawUrl),B)return(0,$n.of)(k).pipe(zo(G=>{const $=this.transitions.getValue();return s.next(new Q7(G.id,this.serializeUrl(G.extractedUrl),G.source,G.restoredState)),$!==this.transitions.getValue()?kp.E:Promise.resolve(G)}),function(i,r,e,s){return zo(o=>function(i,r,e,s,o){return new Rhe(i,r,e,s,o).apply()}(i,r,e,o.extractedUrl,s).pipe((0,rr.U)(a=>Object.assign(Object.assign({},o),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ca.b)(G=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:G.urlAfterRedirects})}),function(i,r,e,s,o){return(0,Xr.zg)(a=>function(i,r,e,s,o="emptyOnly",a="legacy"){try{const D=new Zhe(i,r,e,s,o,a).recognize();return null===D?Uj(new $he):(0,$n.of)(D)}catch(D){return Uj(D)}}(i,r,a.urlAfterRedirects,e(a.urlAfterRedirects),s,o).pipe((0,rr.U)(D=>Object.assign(Object.assign({},a),{targetSnapshot:D}))))}(this.rootComponentType,this.config,G=>this.serializeUrl(G),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ca.b)(G=>{"eager"===this.urlUpdateStrategy&&(G.extras.skipLocationChange||this.setBrowserUrl(G.urlAfterRedirects,G),this.browserUrlTree=G.urlAfterRedirects);const $=new xde(G.id,this.serializeUrl(G.extractedUrl),this.serializeUrl(G.urlAfterRedirects),G.targetSnapshot);s.next($)}));if(N&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:$,extractedUrl:re,source:oe,restoredState:_e,extras:ze}=k,mt=new Q7($,this.serializeUrl(re),oe,_e);s.next(mt);const Ft=Cj(re,this.rootComponentType).snapshot;return(0,$n.of)(Object.assign(Object.assign({},k),{targetSnapshot:Ft,urlAfterRedirects:re,extras:Object.assign(Object.assign({},ze),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=k.rawUrl,this.browserUrlTree=k.urlAfterRedirects,k.resolve(null),kp.E}),fF(k=>{const{targetSnapshot:N,id:B,extractedUrl:G,rawUrl:$,extras:{skipLocationChange:re,replaceUrl:oe}}=k;return this.hooks.beforePreactivation(N,{navigationId:B,appliedUrlTree:G,rawUrlTree:$,skipLocationChange:!!re,replaceUrl:!!oe})}),(0,ca.b)(k=>{const N=new kde(k.id,this.serializeUrl(k.extractedUrl),this.serializeUrl(k.urlAfterRedirects),k.targetSnapshot);this.triggerEvent(N)}),(0,rr.U)(k=>Object.assign(Object.assign({},k),{guards:Phe(k.targetSnapshot,k.currentSnapshot,this.rootContexts)})),function(i,r){return(0,Xr.zg)(e=>{const{targetSnapshot:s,currentSnapshot:o,guards:{canActivateChecks:a,canDeactivateChecks:D}}=e;return 0===D.length&&0===a.length?(0,$n.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(i,r,e,s){return(0,_l.D)(i).pipe((0,Xr.zg)(o=>function(i,r,e,s,o){const a=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!a||0===a.length)return(0,$n.of)(!0);const D=a.map(k=>{const N=WO(k,r,o);let B;if(function(i){return i&&pv(i.canDeactivate)}(N))B=Pp(N.canDeactivate(i,r,e,s));else{if(!pv(N))throw new Error("Invalid CanDeactivate guard");B=Pp(N(i,r,e,s))}return B.pipe(QM())});return(0,$n.of)(D).pipe(Zk())}(o.component,o.route,e,r,s)),QM(o=>!0!==o,!0))}(D,s,o,i).pipe((0,Xr.zg)(k=>k&&function(i){return"boolean"==typeof i}(k)?function(i,r,e,s){return(0,_l.D)(r).pipe(He(o=>ak(function(i,r){return null!==i&&r&&r(new Ode(i)),(0,$n.of)(!0)}(o.route.parent,s),function(i,r){return null!==i&&r&&r(new Pde(i)),(0,$n.of)(!0)}(o.route,s),function(i,r,e){const s=r[r.length-1],a=r.slice(0,r.length-1).reverse().map(D=>function(i){const r=i.routeConfig?i.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:i,guards:r}:null}(D)).filter(D=>null!==D).map(D=>b1(()=>{const k=D.guards.map(N=>{const B=WO(N,D.node,e);let G;if(function(i){return i&&pv(i.canActivateChild)}(B))G=Pp(B.canActivateChild(s,i));else{if(!pv(B))throw new Error("Invalid CanActivateChild guard");G=Pp(B(s,i))}return G.pipe(QM())});return(0,$n.of)(k).pipe(Zk())}));return(0,$n.of)(a).pipe(Zk())}(i,o.path,e),function(i,r,e){const s=r.routeConfig?r.routeConfig.canActivate:null;if(!s||0===s.length)return(0,$n.of)(!0);const o=s.map(a=>b1(()=>{const D=WO(a,r,e);let k;if(function(i){return i&&pv(i.canActivate)}(D))k=Pp(D.canActivate(r,i));else{if(!pv(D))throw new Error("Invalid CanActivate guard");k=Pp(D(r,i))}return k.pipe(QM())}));return(0,$n.of)(o).pipe(Zk())}(i,o.route,e))),QM(o=>!0!==o,!0))}(s,a,i,r):(0,$n.of)(k)),(0,rr.U)(k=>Object.assign(Object.assign({},e),{guardsResult:k})))})}(this.ngModule.injector,k=>this.triggerEvent(k)),(0,ca.b)(k=>{if(P1(k.guardsResult)){const B=X7(`Redirecting to "${this.serializeUrl(k.guardsResult)}"`);throw B.url=k.guardsResult,B}const N=new Ade(k.id,this.serializeUrl(k.extractedUrl),this.serializeUrl(k.urlAfterRedirects),k.targetSnapshot,!!k.guardsResult);this.triggerEvent(N)}),xr(k=>!!k.guardsResult||(this.restoreHistory(k),this.cancelNavigationTransition(k,""),!1)),fF(k=>{if(k.guards.canActivateChecks.length)return(0,$n.of)(k).pipe((0,ca.b)(N=>{const B=new Ide(N.id,this.serializeUrl(N.extractedUrl),this.serializeUrl(N.urlAfterRedirects),N.targetSnapshot);this.triggerEvent(B)}),zo(N=>{let B=!1;return(0,$n.of)(N).pipe(function(i,r){return(0,Xr.zg)(e=>{const{targetSnapshot:s,guards:{canActivateChecks:o}}=e;if(!o.length)return(0,$n.of)(e);let a=0;return(0,_l.D)(o).pipe(He(D=>function(i,r,e,s){return function(i,r,e,s){const o=Object.keys(i);if(0===o.length)return(0,$n.of)({});const a={};return(0,_l.D)(o).pipe((0,Xr.zg)(D=>function(i,r,e,s){const o=WO(i,r,s);return Pp(o.resolve?o.resolve(r,e):o(r,e))}(i[D],r,e,s).pipe((0,ca.b)(k=>{a[D]=k}))),J7(1),(0,Xr.zg)(()=>Object.keys(a).length===o.length?(0,$n.of)(a):kp.E))}(i._resolve,i,r,s).pipe((0,rr.U)(a=>(i._resolvedData=a,i.data=Object.assign(Object.assign({},i.data),Sj(i,e).resolve),null)))}(D.route,s,i,r)),(0,ca.b)(()=>a++),J7(1),(0,Xr.zg)(D=>a===o.length?(0,$n.of)(e):kp.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ca.b)({next:()=>B=!0,complete:()=>{B||(this.restoreHistory(N),this.cancelNavigationTransition(N,"At least one route resolver didn't emit any value."))}}))}),(0,ca.b)(N=>{const B=new Rde(N.id,this.serializeUrl(N.extractedUrl),this.serializeUrl(N.urlAfterRedirects),N.targetSnapshot);this.triggerEvent(B)}))}),fF(k=>{const{targetSnapshot:N,id:B,extractedUrl:G,rawUrl:$,extras:{skipLocationChange:re,replaceUrl:oe}}=k;return this.hooks.afterPreactivation(N,{navigationId:B,appliedUrlTree:G,rawUrlTree:$,skipLocationChange:!!re,replaceUrl:!!oe})}),(0,rr.U)(k=>{const N=function(i,r,e){const s=VO(i,r._root,e?e._root:void 0);return new wj(s,r)}(this.routeReuseStrategy,k.targetSnapshot,k.currentRouterState);return Object.assign(Object.assign({},k),{targetRouterState:N})}),(0,ca.b)(k=>{this.currentUrlTree=k.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,k.rawUrl),this.routerState=k.targetRouterState,"deferred"===this.urlUpdateStrategy&&(k.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,k),this.browserUrlTree=k.urlAfterRedirects)}),((i,r,e)=>(0,rr.U)(s=>(new ghe(r,s.targetRouterState,s.currentRouterState,e).activate(i),s)))(this.rootContexts,this.routeReuseStrategy,k=>this.triggerEvent(k)),(0,ca.b)({next(){a=!0},complete(){a=!0}}),tG(()=>{if(!a&&!D){const k=`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(o),this.cancelNavigationTransition(o,k)):this.cancelNavigationTransition(o,k)}this.currentNavigation=null}),Bg(k=>{if(D=!0,function(i){return i&&i[aj]}(k)){const N=P1(k.url);N||(this.navigated=!0,this.restoreHistory(o,!0));const B=new rj(o.id,this.serializeUrl(o.extractedUrl),k.message);s.next(B),N?setTimeout(()=>{const G=this.urlHandlingStrategy.merge(k.url,this.rawUrlTree),$={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||$O(o.source)};this.scheduleNavigation(G,"imperative",null,$,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const N=new Tde(o.id,this.serializeUrl(o.extractedUrl),k);s.next(N);try{o.resolve(this.errorHandler(k))}catch(B){o.reject(B)}}return kp.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const s=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:o,state:a,urlTree:D}=s,k={replaceUrl:!0};if(a){const N=Object.assign({},a);delete N.navigationId,delete N.\u0275routerPageId,0!==Object.keys(N).length&&(k.state=N)}this.scheduleNavigation(D,o,a,k)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(e){var s;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(s=e.state)||void 0===s?void 0:s.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,s){if(!e)return!0;const o=s.urlTree.toString()===e.urlTree.toString();return s.transitionId!==e.transitionId||!o||!("hashchange"===s.source&&"popstate"===e.source||"popstate"===s.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Nj(e),this.config=e.map(dF),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,s={}){const{relativeTo:o,queryParams:a,fragment:D,queryParamsHandling:k,preserveFragment:N}=s,B=o||this.routerState.root,G=N?this.currentUrlTree.fragment:D;let $=null;switch(k){case"merge":$=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":$=this.currentUrlTree.queryParams;break;default:$=a||null}return null!==$&&($=this.removeEmptyProps($)),function(i,r,e,s,o){if(0===e.length)return aF(r.root,r.root,r,s,o);const a=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new xj(!0,0,i);let r=0,e=!1;const s=i.reduce((o,a,D)=>{if("object"==typeof a&&null!=a){if(a.outlets){const k={};return wl(a.outlets,(N,B)=>{k[B]="string"==typeof N?N.split("/"):N}),[...o,{outlets:k}]}if(a.segmentPath)return[...o,a.segmentPath]}return"string"!=typeof a?[...o,a]:0===D?(a.split("/").forEach((k,N)=>{0==N&&"."===k||(0==N&&""===k?e=!0:".."===k?r++:""!=k&&o.push(k))}),o):[...o,a]},[]);return new xj(e,r,s)}(e);if(a.toRoot())return aF(r.root,new Di([],{}),r,s,o);const D=function(i,r,e){if(i.isAbsolute)return new lF(r.root,!0,0);if(-1===e.snapshot._lastPathIndex){const a=e.snapshot._urlSegment;return new lF(a,a===r.root,0)}const s=zO(i.commands[0])?0:1;return function(i,r,e){let s=i,o=r,a=e;for(;a>o;){if(a-=o,s=s.parent,!s)throw new Error("Invalid number of '../'");o=s.segments.length}return new lF(s,!1,o-a)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+s,i.numberOfDoubleDots)}(a,r,i),k=D.processChildren?HO(D.segmentGroup,D.index,a.commands):kj(D.segmentGroup,D.index,a.commands);return aF(D.segmentGroup,k,r,s,o)}(B,this.currentUrlTree,e,$,null!=G?G:null)}navigateByUrl(e,s={skipLocationChange:!1}){const o=P1(e)?e:this.parseUrl(e),a=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,s)}navigate(e,s={skipLocationChange:!1}){return function(i){for(let r=0;r<i.length;r++){const e=i[r];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${r}`)}}(e),this.navigateByUrl(this.createUrlTree(e,s),s)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let s;try{s=this.urlSerializer.parse(e)}catch(o){s=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return s}isActive(e,s){let o;if(o=!0===s?Object.assign({},ffe):!1===s?Object.assign({},pfe):s,P1(e))return hj(this.currentUrlTree,e,o);const a=this.parseUrl(e);return hj(this.currentUrlTree,a,o)}removeEmptyProps(e){return Object.keys(e).reduce((s,o)=>{const a=e[o];return null!=a&&(s[o]=a),s},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new qk(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,s,o,a,D){var k,N;if(this.disposed)return Promise.resolve(!1);const B=this.getTransition(),G=$O(s)&&B&&!$O(B.source),oe=(this.lastSuccessfulId===B.id||this.currentNavigation?B.rawUrl:B.urlAfterRedirects).toString()===e.toString();if(G&&oe)return Promise.resolve(!0);let _e,ze,mt;D?(_e=D.resolve,ze=D.reject,mt=D.promise):mt=new Promise((dn,fn)=>{_e=dn,ze=fn});const Ft=++this.navigationId;let Pt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),Pt=o&&o.\u0275routerPageId?o.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(k=this.browserPageId)&&void 0!==k?k:0:(null!==(N=this.browserPageId)&&void 0!==N?N:0)+1):Pt=0,this.setTransition({id:Ft,targetPageId:Pt,source:s,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:a,resolve:_e,reject:ze,promise:mt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),mt.catch(dn=>Promise.reject(dn))}setBrowserUrl(e,s){const o=this.urlSerializer.serialize(e),a=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(o)||s.extras.replaceUrl?this.location.replaceState(o,"",a):this.location.go(o,"",a)}restoreHistory(e,s=!1){var o,a;if("computed"===this.canceledNavigationResolution){const D=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===D?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===D&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(D)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,s){const o=new rj(e.id,this.serializeUrl(e.extractedUrl),s);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,s){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:s}:{navigationId:e}}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(C.DyG),C.LFG(eF),C.LFG(eE),C.LFG(Nt),C.LFG(C.zs3),C.LFG(C.v3s),C.LFG(C.Sil),C.LFG(void 0))},i.\u0275prov=C.Yz7({token:i,factory:i.\u0275fac}),i})();function $O(i){return"imperative"!==i}let KO=(()=>{class i{constructor(e,s,o,a,D){this.parentContexts=e,this.location=s,this.resolver=o,this.changeDetector=D,this.activated=null,this._activatedRoute=null,this.activateEvents=new C.vpe,this.deactivateEvents=new C.vpe,this.name=a||vi,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,s){this.activated=e,this._activatedRoute=s,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const D=(s=s||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),k=this.parentContexts.getOrCreateContext(this.name).children,N=new vfe(e,k,this.location.injector);this.activated=this.location.createComponent(D,this.location.length,N),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(eE),C.Y36(C.s_b),C.Y36(C._Vd),C.$8M("name"),C.Y36(C.sBO))},i.\u0275dir=C.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),i})();class vfe{constructor(r,e,s){this.route=r,this.childContexts=e,this.parent=s}get(r,e){return r===N1?this.route:r===eE?this.childContexts:this.parent.get(r,e)}}class Zj{}class Jj{preload(r,e){return(0,$n.of)(null)}}let Qj=(()=>{class i{constructor(e,s,o,a,D){this.router=e,this.injector=a,this.preloadingStrategy=D,this.loader=new $j(s,o,B=>e.triggerEvent(new ij(B)),B=>e.triggerEvent(new sj(B)))}setUpPreloading(){this.subscription=this.router.events.pipe(xr(e=>e instanceof qk),He(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(C.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,s){const o=[];for(const a of s)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const D=a._loadedConfig;o.push(this.processRoutes(D.module,D.routes))}else a.loadChildren&&!a.canLoad?o.push(this.preloadConfig(e,a)):a.children&&o.push(this.processRoutes(e,a.children));return(0,_l.D)(o).pipe((0,bR.J)(),(0,rr.U)(a=>{}))}preloadConfig(e,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?(0,$n.of)(s._loadedConfig):this.loader.load(e.injector,s)).pipe((0,Xr.zg)(a=>(s._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(eu),C.LFG(C.v3s),C.LFG(C.Sil),C.LFG(C.zs3),C.LFG(Zj))},i.\u0275prov=C.Yz7({token:i,factory:i.\u0275fac}),i})(),_F=(()=>{class i{constructor(e,s,o={}){this.router=e,this.viewportScroller=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Q7?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof qk&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof oj&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,s){this.router.triggerEvent(new oj(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(eu),C.LFG(kc),C.LFG(void 0))},i.\u0275prov=C.Yz7({token:i,factory:i.\u0275fac}),i})();const F1=new C.OlP("ROUTER_CONFIGURATION"),Xj=new C.OlP("ROUTER_FORROOT_GUARD"),wfe=[Nt,{provide:eF,useClass:gj},{provide:eu,useFactory:function(i,r,e,s,o,a,D,k={},N,B){const G=new eu(null,i,r,e,s,o,a,cj(D));return N&&(G.urlHandlingStrategy=N),B&&(G.routeReuseStrategy=B),function(i,r){i.errorHandler&&(r.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(r.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(r.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(r.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(r.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(r.urlUpdateStrategy=i.urlUpdateStrategy)}(k,G),k.enableTracing&&G.events.subscribe($=>{var re,oe;null===(re=console.group)||void 0===re||re.call(console,`Router Event: ${$.constructor.name}`),console.log($.toString()),console.log($),null===(oe=console.groupEnd)||void 0===oe||oe.call(console)}),G},deps:[eF,eE,Nt,C.zs3,C.v3s,C.Sil,pF,F1,[class{},new C.FiY],[class{},new C.FiY]]},eE,{provide:N1,useFactory:function(i){return i.routerState.root},deps:[eu]},{provide:C.v3s,useClass:C.EAV},Qj,Jj,class{preload(r,e){return e().pipe(Bg(()=>(0,$n.of)(null)))}},{provide:F1,useValue:{enableTracing:!1}}];function Cfe(){return new C.PXZ("Router",eu)}let eY=(()=>{class i{constructor(e,s){}static forRoot(e,s){return{ngModule:i,providers:[wfe,tY(e),{provide:Xj,useFactory:Efe,deps:[[eu,new C.FiY,new C.tp0]]},{provide:F1,useValue:s||{}},{provide:Qe,useFactory:Mfe,deps:[ve,[new C.tBr(ut),new C.FiY],F1]},{provide:_F,useFactory:Sfe,deps:[eu,kc,F1]},{provide:Zj,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:Jj},{provide:C.PXZ,multi:!0,useFactory:Cfe},[vF,{provide:C.ip1,multi:!0,useFactory:kfe,deps:[vF]},{provide:nY,useFactory:Afe,deps:[vF]},{provide:C.tb,multi:!0,useExisting:nY}]]}}static forChild(e){return{ngModule:i,providers:[tY(e)]}}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(Xj,8),C.LFG(eu,8))},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({}),i})();function Sfe(i,r,e){return e.scrollOffset&&r.setOffset(e.scrollOffset),new _F(i,r,e)}function Mfe(i,r,e={}){return e.useHash?new Mt(i,r):new ft(i,r)}function Efe(i){return"guarded"}function tY(i){return[{provide:C.deG,multi:!0,useValue:i},{provide:pF,multi:!0,useValue:i}]}let vF=(()=>{class i{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ln.xQ}appInitializer(){return this.injector.get(Ce,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const o=new Promise(k=>s=k),a=this.injector.get(eu),D=this.injector.get(F1);return"disabled"===D.initialNavigation?(a.setUpLocationChangeListener(),s(!0)):"enabled"===D.initialNavigation||"enabledBlocking"===D.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?(0,$n.of)(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),a.initialNavigation()):s(!0),o})}bootstrapListener(e){const s=this.injector.get(F1),o=this.injector.get(Qj),a=this.injector.get(_F),D=this.injector.get(eu),k=this.injector.get(C.z2F);e===k.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&D.initialNavigation(),o.setUpPreloading(),a.init(),D.resetRootComponentType(k.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(C.zs3))},i.\u0275prov=C.Yz7({token:i,factory:i.\u0275fac}),i})();function kfe(i){return i.appInitializer.bind(i)}function Afe(i){return i.bootstrapListener.bind(i)}const nY=new C.OlP("Router Initializer");var _r=$e(8364),Rn=$e(7358),sn=$e(3751);function ZO(i,r){return!i.selection.empty&&(r&&r(i.tr.deleteSelection().scrollIntoView()),!0)}function rY(i,r,e){var o=i.selection.$cursor;if(!o||(e?!e.endOfTextblock("backward",i):o.parentOffset>0))return!1;var a=sY(o);if(!a){var D=o.blockRange(),k=D&&(0,_r.liftTarget)(D);return null!=k&&(r&&r(i.tr.lift(D,k).scrollIntoView()),!0)}var N=a.nodeBefore;if(!N.type.spec.isolating&&uY(i,a,r))return!0;if(0==o.parent.content.size&&(nE(N,"end")||sn.qv.isSelectable(N))){if(r){var B=i.tr.deleteRange(o.before(),o.after());B.setSelection(nE(N,"end")?sn.Y1.findFrom(B.doc.resolve(B.mapping.map(a.pos,-1)),-1):sn.qv.create(B.doc,a.pos-N.nodeSize)),r(B.scrollIntoView())}return!0}return!(!N.isAtom||a.depth!=o.depth-1||(r&&r(i.tr.delete(a.pos-N.nodeSize,a.pos).scrollIntoView()),0))}function nE(i,r,e){for(;i;i="start"==r?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(e&&1!=i.childCount)return!1}return!1}function iY(i,r,e){var s=i.selection,o=s.$head,D=o;if(!s.empty)return!1;if(o.parent.isTextblock){if(e?!e.endOfTextblock("backward",i):o.parentOffset>0)return!1;D=sY(o)}var k=D&&D.nodeBefore;return!(!k||!sn.qv.isSelectable(k)||(r&&r(i.tr.setSelection(sn.qv.create(i.doc,D.pos-k.nodeSize)).scrollIntoView()),0))}function sY(i){if(!i.parent.type.spec.isolating)for(var r=i.depth-1;r>=0;r--){if(i.index(r)>0)return i.doc.resolve(i.before(r+1));if(i.node(r).type.spec.isolating)break}return null}function oY(i){if(!i.parent.type.spec.isolating)for(var r=i.depth-1;r>=0;r--){var e=i.node(r);if(i.index(r)+1<e.childCount)return i.doc.resolve(i.after(r+1));if(e.type.spec.isolating)break}return null}function eA(i,r){var o,e=i.selection,s=e instanceof sn.qv;if(s){if(e.node.isTextblock||!(0,_r.canJoin)(i.doc,e.from))return!1;o=e.from}else if(null==(o=(0,_r.joinPoint)(i.doc,e.from,-1)))return!1;if(r){var a=i.tr.join(o);s&&a.setSelection(sn.qv.create(a.doc,o-i.doc.resolve(o).nodeBefore.nodeSize)),r(a.scrollIntoView())}return!0}function Nfe(i,r){var s,e=i.selection;if(e instanceof sn.qv){if(e.node.isTextblock||!(0,_r.canJoin)(i.doc,e.to))return!1;s=e.to}else if(null==(s=(0,_r.joinPoint)(i.doc,e.to,1)))return!1;return r&&r(i.tr.join(s).scrollIntoView()),!0}function tA(i,r){var e=i.selection,a=e.$from.blockRange(e.$to),D=a&&(0,_r.liftTarget)(a);return null!=D&&(r&&r(i.tr.lift(a,D).scrollIntoView()),!0)}function aY(i,r){var e=i.selection,s=e.$head;return!(!s.parent.type.spec.code||!s.sameParent(e.$anchor)||(r&&r(i.tr.insertText("\n").scrollIntoView()),0))}function yF(i){for(var r=0;r<i.edgeCount;r++){var s=i.edge(r).type;if(s.isTextblock&&!s.hasRequiredAttrs())return s}return null}function lY(i,r){var e=i.selection,s=e.$head;if(!s.parent.type.spec.code||!s.sameParent(e.$anchor))return!1;var a=s.node(-1),D=s.indexAfter(-1),k=yF(a.contentMatchAt(D));if(!a.canReplaceWith(D,D,k))return!1;if(r){var N=s.after(),B=i.tr.replaceWith(N,N,k.createAndFill());B.setSelection(sn.Y1.near(B.doc.resolve(N),1)),r(B.scrollIntoView())}return!0}function nA(i,r){var a,e=i.selection,s=e.$from,D=s.sharedDepth(e.to);return 0!=D&&(a=s.before(D),r&&r(i.tr.setSelection(sn.qv.create(i.doc,a))),!0)}function uY(i,r,e){var a,D,s=r.nodeBefore,o=r.nodeAfter;if(s.type.spec.isolating||o.type.spec.isolating)return!1;if(function(i,r,e){var s=r.nodeBefore,o=r.nodeAfter,a=r.index();return!(!(s&&o&&s.type.compatibleContent(o.type))||(!s.content.size&&r.parent.canReplace(a-1,a)?(e&&e(i.tr.delete(r.pos-s.nodeSize,r.pos).scrollIntoView()),0):!r.parent.canReplace(a,a+1)||!o.isTextblock&&!(0,_r.canJoin)(i.doc,r.pos)||(e&&e(i.tr.clearIncompatible(r.pos,s.type,s.contentMatchAt(s.childCount)).join(r.pos).scrollIntoView()),0)))}(i,r,e))return!0;var k=r.parent.canReplace(r.index(),r.index()+1);if(k&&(a=(D=s.contentMatchAt(s.childCount)).findWrapping(o.type))&&D.matchType(a[0]||o.type).validEnd){if(e){for(var N=r.pos+o.nodeSize,B=Rn.HY.empty,G=a.length-1;G>=0;G--)B=Rn.HY.from(a[G].create(null,B));B=Rn.HY.from(s.copy(B));var $=i.tr.step(new _r.ReplaceAroundStep(r.pos-1,N,r.pos,N,new Rn.p2(B,1,0),a.length,!0)),re=N+2*a.length;(0,_r.canJoin)($.doc,re)&&$.join(re),e($.scrollIntoView())}return!0}var oe=sn.Y1.findFrom(r,1),_e=oe&&oe.$from.blockRange(oe.$to),ze=_e&&(0,_r.liftTarget)(_e);if(null!=ze&&ze>=r.depth)return e&&e(i.tr.lift(_e,ze).scrollIntoView()),!0;if(k&&nE(o,"start",!0)&&nE(s,"end")){for(var mt=s,Ft=[];Ft.push(mt),!mt.isTextblock;)mt=mt.lastChild;for(var Pt=o,dn=1;!Pt.isTextblock;Pt=Pt.firstChild)dn++;if(mt.canReplace(mt.childCount,mt.childCount,Pt.content)){if(e){for(var fn=Rn.HY.empty,Hn=Ft.length-1;Hn>=0;Hn--)fn=Rn.HY.from(Ft[Hn].copy(fn));e(i.tr.step(new _r.ReplaceAroundStep(r.pos-Ft.length,r.pos+o.nodeSize,r.pos+dn,r.pos+o.nodeSize-dn,new Rn.p2(fn,Ft.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function bF(i,r){return function(e,s){var o=e.selection,k=o.$from.blockRange(o.$to),N=k&&(0,_r.findWrapping)(k,i,r);return!!N&&(s&&s(e.tr.wrap(k,N).scrollIntoView()),!0)}}function JO(i,r){return function(e,s){var o=e.selection,a=o.from,D=o.to,k=!1;return e.doc.nodesBetween(a,D,function(N,B){if(k)return!1;if(N.isTextblock&&!N.hasMarkup(i,r))if(N.type==i)k=!0;else{var G=e.doc.resolve(B),$=G.index();k=G.parent.canReplaceWith($,$+1,i)}}),!!k&&(s&&s(e.tr.setBlockType(a,D,i,r).scrollIntoView()),!0)}}function Fp(i,r){return function(e,s){var o=e.selection,D=o.$cursor,k=o.ranges;if(o.empty&&!D||!function(i,r,e){for(var s=function(D){var k=r[D],N=k.$from,B=k.$to,G=0==N.depth&&i.type.allowsMarkType(e);if(i.nodesBetween(N.pos,B.pos,function($){if(G)return!1;G=$.inlineContent&&$.type.allowsMarkType(e)}),G)return{v:!0}},o=0;o<r.length;o++){var a=s(o);if(a)return a.v}return!1}(e.doc,k,i))return!1;if(s)if(D)i.isInSet(e.storedMarks||D.marks())?s(e.tr.removeStoredMark(i)):s(e.tr.addStoredMark(i.create(r)));else{for(var N=!1,B=e.tr,G=0;!N&&G<k.length;G++){var $=k[G];N=e.doc.rangeHasMark($.$from.pos,$.$to.pos,i)}for(var _e=0;_e<k.length;_e++){var ze=k[_e],mt=ze.$from,Ft=ze.$to;if(N)B.removeMark(mt.pos,Ft.pos,i);else{var Pt=mt.pos,dn=Ft.pos,fn=mt.nodeAfter,Hn=Ft.nodeBefore,er=fn&&fn.isText?/^\s*/.exec(fn.text)[0].length:0,Sr=Hn&&Hn.isText?/\s*$/.exec(Hn.text)[0].length:0;Pt+er<dn&&(Pt+=er,dn-=Sr),B.addMark(Pt,dn,i.create(r))}}s(B.scrollIntoView())}return!0}}function L1(){for(var i=[],r=arguments.length;r--;)i[r]=arguments[r];return function(e,s,o){for(var a=0;a<i.length;a++)if(i[a](e,s,o))return!0;return!1}}var dY=L1(ZO,rY,iY),hY=L1(ZO,function(i,r,e){var o=i.selection.$cursor;if(!o||(e?!e.endOfTextblock("forward",i):o.parentOffset<o.parent.content.size))return!1;var a=oY(o);if(!a)return!1;var D=a.nodeAfter;if(uY(i,a,r))return!0;if(0==o.parent.content.size&&(nE(D,"start")||sn.qv.isSelectable(D))){if(r){var k=i.tr.deleteRange(o.before(),o.after());k.setSelection(nE(D,"start")?sn.Y1.findFrom(k.doc.resolve(k.mapping.map(a.pos)),1):sn.qv.create(k.doc,k.mapping.map(a.pos))),r(k.scrollIntoView())}return!0}return!(!D.isAtom||a.depth!=o.depth-1||(r&&r(i.tr.delete(a.pos,a.pos+D.nodeSize).scrollIntoView()),0))},function(i,r,e){var s=i.selection,o=s.$head,D=o;if(!s.empty)return!1;if(o.parent.isTextblock){if(e?!e.endOfTextblock("forward",i):o.parentOffset<o.parent.content.size)return!1;D=oY(o)}var k=D&&D.nodeAfter;return!(!k||!sn.qv.isSelectable(k)||(r&&r(i.tr.setSelection(sn.qv.create(i.doc,D.pos)).scrollIntoView()),0))}),Ug={Enter:L1(aY,function(i,r){var e=i.selection,s=e.$from,o=e.$to;if(e instanceof sn.C1||s.parent.inlineContent||o.parent.inlineContent)return!1;var a=yF(o.parent.contentMatchAt(o.indexAfter()));if(!a||!a.isTextblock)return!1;if(r){var D=(!s.parentOffset&&o.index()<o.parent.childCount?s:o).pos,k=i.tr.insert(D,a.createAndFill());k.setSelection(sn.Bs.create(k.doc,D+1)),r(k.scrollIntoView())}return!0},function(i,r){var s=i.selection.$cursor;if(!s||s.parent.content.size)return!1;if(s.depth>1&&s.after()!=s.end(-1)){var o=s.before();if((0,_r.canSplit)(i.doc,o))return r&&r(i.tr.split(o).scrollIntoView()),!0}var a=s.blockRange(),D=a&&(0,_r.liftTarget)(a);return null!=D&&(r&&r(i.tr.lift(a,D).scrollIntoView()),!0)},function(i,r){var e=i.selection,s=e.$from,o=e.$to;if(i.selection instanceof sn.qv&&i.selection.node.isBlock)return!(!s.parentOffset||!(0,_r.canSplit)(i.doc,s.pos)||(r&&r(i.tr.split(s.pos).scrollIntoView()),0));if(!s.parent.isBlock)return!1;if(r){var a=o.parentOffset==o.parent.content.size,D=i.tr;(i.selection instanceof sn.Bs||i.selection instanceof sn.C1)&&D.deleteSelection();var k=0==s.depth?null:yF(s.node(-1).contentMatchAt(s.indexAfter(-1))),N=a&&k?[{type:k}]:null,B=(0,_r.canSplit)(D.doc,D.mapping.map(s.pos),1,N);if(!N&&!B&&(0,_r.canSplit)(D.doc,D.mapping.map(s.pos),1,k&&[{type:k}])&&(N=[{type:k}],B=!0),B&&(D.split(D.mapping.map(s.pos),1,N),!a&&!s.parentOffset&&s.parent.type!=k)){var G=D.mapping.map(s.before()),$=D.doc.resolve(G);s.node(-1).canReplaceWith($.index(),$.index()+1,k)&&D.setNodeMarkup(D.mapping.map(s.before()),k)}r(D.scrollIntoView())}return!0}),"Mod-Enter":lY,Backspace:dY,"Mod-Backspace":dY,Delete:hY,"Mod-Delete":hY,"Mod-a":function(i,r){return r&&r(i.tr.setSelection(new sn.C1(i.doc))),!0}},fY={"Ctrl-h":Ug.Backspace,"Alt-Backspace":Ug["Mod-Backspace"],"Ctrl-d":Ug.Delete,"Ctrl-Alt-Backspace":Ug["Mod-Delete"],"Alt-Delete":Ug["Mod-Delete"],"Alt-d":Ug["Mod-Delete"]};for(var pY in Ug)fY[pY]=Ug[pY];var Ufe=("undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform())?fY:Ug;function Ia(){var i=arguments[0];"string"==typeof i&&(i=document.createElement(i));var r=1,e=arguments[1];if(e&&"object"==typeof e&&null==e.nodeType&&!Array.isArray(e)){for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=e[s];"string"==typeof o?i.setAttribute(s,o):null!=o&&(i[s]=o)}r++}for(;r<arguments.length;r++)mY(i,arguments[r]);return i}function mY(i,r){if("string"==typeof r)i.appendChild(document.createTextNode(r));else if(null!=r)if(null!=r.nodeType)i.appendChild(r);else{if(!Array.isArray(r))throw new RangeError("Unsupported child node: "+r);for(var e=0;e<r.length;e++)mY(i,r[e])}}var Cl=function(){};Cl.prototype.append=function(r){return r.length?(r=Cl.from(r),!this.length&&r||r.length<200&&this.leafAppend(r)||this.length<200&&r.leafPrepend(this)||this.appendInner(r)):this},Cl.prototype.prepend=function(r){return r.length?Cl.from(r).append(this):this},Cl.prototype.appendInner=function(r){return new Gfe(this,r)},Cl.prototype.slice=function(r,e){return void 0===r&&(r=0),void 0===e&&(e=this.length),r>=e?Cl.empty:this.sliceInner(Math.max(0,r),Math.min(this.length,e))},Cl.prototype.get=function(r){if(!(r<0||r>=this.length))return this.getInner(r)},Cl.prototype.forEach=function(r,e,s){void 0===e&&(e=0),void 0===s&&(s=this.length),e<=s?this.forEachInner(r,e,s,0):this.forEachInvertedInner(r,e,s,0)},Cl.prototype.map=function(r,e,s){void 0===e&&(e=0),void 0===s&&(s=this.length);var o=[];return this.forEach(function(a,D){return o.push(r(a,D))},e,s),o},Cl.from=function(r){return r instanceof Cl?r:r&&r.length?new gY(r):Cl.empty};var gY=function(i){function r(s){i.call(this),this.values=s}i&&(r.__proto__=i),(r.prototype=Object.create(i&&i.prototype)).constructor=r;var e={length:{configurable:!0},depth:{configurable:!0}};return r.prototype.flatten=function(){return this.values},r.prototype.sliceInner=function(o,a){return 0==o&&a==this.length?this:new r(this.values.slice(o,a))},r.prototype.getInner=function(o){return this.values[o]},r.prototype.forEachInner=function(o,a,D,k){for(var N=a;N<D;N++)if(!1===o(this.values[N],k+N))return!1},r.prototype.forEachInvertedInner=function(o,a,D,k){for(var N=a-1;N>=D;N--)if(!1===o(this.values[N],k+N))return!1},r.prototype.leafAppend=function(o){if(this.length+o.length<=200)return new r(this.values.concat(o.flatten()))},r.prototype.leafPrepend=function(o){if(this.length+o.length<=200)return new r(o.flatten().concat(this.values))},e.length.get=function(){return this.values.length},e.depth.get=function(){return 0},Object.defineProperties(r.prototype,e),r}(Cl);Cl.empty=new gY([]);var Gfe=function(i){function r(e,s){i.call(this),this.left=e,this.right=s,this.length=e.length+s.length,this.depth=Math.max(e.depth,s.depth)+1}return i&&(r.__proto__=i),(r.prototype=Object.create(i&&i.prototype)).constructor=r,r.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},r.prototype.getInner=function(s){return s<this.left.length?this.left.get(s):this.right.get(s-this.left.length)},r.prototype.forEachInner=function(s,o,a,D){var k=this.left.length;if(o<k&&!1===this.left.forEachInner(s,o,Math.min(a,k),D)||a>k&&!1===this.right.forEachInner(s,Math.max(o-k,0),Math.min(this.length,a)-k,D+k))return!1},r.prototype.forEachInvertedInner=function(s,o,a,D){var k=this.left.length;if(o>k&&!1===this.right.forEachInvertedInner(s,o-k,Math.max(a,k)-k,D+k)||a<k&&!1===this.left.forEachInvertedInner(s,Math.min(o,k),a,D))return!1},r.prototype.sliceInner=function(s,o){if(0==s&&o==this.length)return this;var a=this.left.length;return o<=a?this.left.slice(s,o):s>=a?this.right.slice(s-a,o-a):this.left.slice(s,a).append(this.right.slice(0,o-a))},r.prototype.leafAppend=function(s){var o=this.right.leafAppend(s);if(o)return new r(this.left,o)},r.prototype.leafPrepend=function(s){var o=this.left.leafPrepend(s);if(o)return new r(o,this.right)},r.prototype.appendInner=function(s){return this.left.depth>=Math.max(this.right.depth,s.depth)+1?new r(this.left,new r(this.right,s)):new r(this,s)},r}(Cl);const _Y=Cl;var Sl=function(r,e){this.items=r,this.eventCount=e};Sl.prototype.popEvent=function(r,e){var D,k,s=this;if(0==this.eventCount)return null;for(var o=this.items.length;;o--)if(this.items.get(o-1).selection){--o;break}e&&(D=this.remapping(o,this.items.length),k=D.maps.length);var B,G,N=r.tr,$=[],re=[];return this.items.forEach(function(oe,_e){if(!oe.step)return D||(D=s.remapping(o,_e+1),k=D.maps.length),k--,void re.push(oe);if(D){re.push(new Lp(oe.map));var mt,ze=oe.step.map(D.slice(k));ze&&N.maybeStep(ze).doc&&$.push(new Lp(mt=N.mapping.maps[N.mapping.maps.length-1],null,null,$.length+re.length)),k--,mt&&D.appendMap(mt,k)}else N.maybeStep(oe.step);return oe.selection?(B=D?oe.selection.map(D.slice(k)):oe.selection,G=new Sl(s.items.slice(0,o).append(re.reverse().concat($)),s.eventCount-1),!1):void 0},this.items.length,0),{remaining:G,transform:N,selection:B}},Sl.prototype.addTransform=function(r,e,s,o){for(var a=[],D=this.eventCount,k=this.items,N=!o&&k.length?k.get(k.length-1):null,B=0;B<r.steps.length;B++){var re,G=r.steps[B].invert(r.docs[B]),$=new Lp(r.mapping.maps[B],G,e);(re=N&&N.merge($))&&($=re,B?a.pop():k=k.slice(0,k.length-1)),a.push($),e&&(D++,e=null),o||(N=$)}var oe=D-s.depth;return oe>Wfe&&(k=function(i,r){var e;return i.forEach(function(s,o){if(s.selection&&0==r--)return e=o,!1}),i.slice(e)}(k,oe),D-=oe),new Sl(k.append(a),D)},Sl.prototype.remapping=function(r,e){var s=new _r.Mapping;return this.items.forEach(function(o,a){s.appendMap(o.map,null!=o.mirrorOffset&&a-o.mirrorOffset>=r?s.maps.length-o.mirrorOffset:null)},r,e),s},Sl.prototype.addMaps=function(r){return 0==this.eventCount?this:new Sl(this.items.append(r.map(function(e){return new Lp(e)})),this.eventCount)},Sl.prototype.rebased=function(r,e){if(!this.eventCount)return this;var s=[],o=Math.max(0,this.items.length-e),a=r.mapping,D=r.steps.length,k=this.eventCount;this.items.forEach(function(oe){oe.selection&&k--},o);var N=e;this.items.forEach(function(oe){var _e=a.getMirror(--N);if(null!=_e){D=Math.min(D,_e);var ze=a.maps[_e];if(oe.step){var mt=r.steps[_e].invert(r.docs[_e]),Ft=oe.selection&&oe.selection.map(a.slice(N+1,_e));Ft&&k++,s.push(new Lp(ze,mt,Ft))}else s.push(new Lp(ze))}},o);for(var B=[],G=e;G<D;G++)B.push(new Lp(a.maps[G]));var $=this.items.slice(0,o).append(B).append(s),re=new Sl($,k);return re.emptyItemCount()>500&&(re=re.compress(this.items.length-s.length)),re},Sl.prototype.emptyItemCount=function(){var r=0;return this.items.forEach(function(e){e.step||r++}),r},Sl.prototype.compress=function(r){void 0===r&&(r=this.items.length);var e=this.remapping(0,r),s=e.maps.length,o=[],a=0;return this.items.forEach(function(D,k){if(k>=r)o.push(D),D.selection&&a++;else if(D.step){var N=D.step.map(e.slice(s)),B=N&&N.getMap();if(s--,B&&e.appendMap(B,s),N){var G=D.selection&&D.selection.map(e.slice(s));G&&a++;var re,$=new Lp(B.invert(),N,G),oe=o.length-1;(re=o.length&&o[oe].merge($))?o[oe]=re:o.push($)}}else D.map&&s--},this.items.length,0),new Sl(_Y.from(o.reverse()),a)},Sl.empty=new Sl(_Y.empty,0);var Lp=function(r,e,s,o){this.map=r,this.step=e,this.selection=s,this.mirrorOffset=o};Lp.prototype.merge=function(r){if(this.step&&r.step&&!r.selection){var e=r.step.merge(this.step);if(e)return new Lp(e.getMap().invert(),e,this.selection)}};var mv=function(r,e,s,o){this.done=r,this.undone=e,this.prevRanges=s,this.prevTime=o},Wfe=20;function vY(i){var r=[];return i.forEach(function(e,s,o,a){return r.push(o,a)}),r}function wF(i,r){if(!i)return null;for(var e=[],s=0;s<i.length;s+=2){var o=r.map(i[s],1),a=r.map(i[s+1],-1);o<=a&&e.push(o,a)}return e}function yY(i,r,e,s){var o=XO(r),a=Bp.get(r).spec.config,D=(s?i.undone:i.done).popEvent(r,o);if(D){var k=D.selection.resolve(D.transform.doc),N=(s?i.done:i.undone).addTransform(D.transform,r.selection.getBookmark(),a,o),B=new mv(s?N:D.remaining,s?D.remaining:N,null,0);e(D.transform.setSelection(k).setMeta(Bp,{redo:s,historyState:B}).scrollIntoView())}}var CF=!1,bY=null;function XO(i){var r=i.plugins;if(bY!=r){CF=!1,bY=r;for(var e=0;e<r.length;e++)if(r[e].spec.historyPreserveItems){CF=!0;break}}return CF}var Bp=new sn.H$("history"),wY=new sn.H$("closeHistory");function rE(i,r){var e=Bp.getState(i);return!(!e||0==e.done.eventCount||(r&&yY(e,i,r,!1),0))}function B1(i,r){var e=Bp.getState(i);return!(!e||0==e.undone.eventCount||(r&&yY(e,i,r,!0),0))}var rA="http://www.w3.org/2000/svg",SF="ProseMirror-icon";var tu="ProseMirror-menu",ki=function(r){this.spec=r};function iA(i,r){return i._props.translate?i._props.translate(r):r}ki.prototype.render=function(r){var e=this.spec,s=e.render?e.render(r):e.icon?function(i){var r=document.createElement("div");if(r.className=SF,i.path){var e="pm-icon-"+function(i){for(var r=0,e=0;e<i.length;e++)r=(r<<5)-r+i.charCodeAt(e)|0;return r}(i.path).toString(16);document.getElementById(e)||function(i,r){var e=document.getElementById(SF+"-collection");e||((e=document.createElementNS(rA,"svg")).id=SF+"-collection",e.style.display="none",document.body.insertBefore(e,document.body.firstChild));var s=document.createElementNS(rA,"symbol");s.id=i,s.setAttribute("viewBox","0 0 "+r.width+" "+r.height),s.appendChild(document.createElementNS(rA,"path")).setAttribute("d",r.path),e.appendChild(s)}(e,i);var s=r.appendChild(document.createElementNS(rA,"svg"));s.style.width=i.width/i.height+"em",s.appendChild(document.createElementNS(rA,"use")).setAttributeNS("http://www.w3.org/1999/xlink","href",/([^#]*)/.exec(document.location)[1]+"#"+e)}else i.dom?r.appendChild(i.dom.cloneNode(!0)):(r.appendChild(document.createElement("span")).textContent=i.text||"",i.css&&(r.firstChild.style.cssText=i.css));return r}(e.icon):e.label?Ia("div",null,iA(r,e.label)):null;if(!s)throw new RangeError("MenuItem without icon or label property");if(e.title){var o="function"==typeof e.title?e.title(r.state):e.title;s.setAttribute("title",iA(r,o))}return e.class&&s.classList.add(e.class),e.css&&(s.style.cssText+=e.css),s.addEventListener("mousedown",function(D){D.preventDefault(),s.classList.contains(tu+"-disabled")||e.run(r.state,r.dispatch,r,D)}),{dom:s,update:function(D){if(e.select){var k=e.select(D);if(s.style.display=k?"":"none",!k)return!1}var N=!0;if(e.enable&&(N=e.enable(D)||!1,EF(s,tu+"-disabled",!N)),e.active){var B=N&&e.active(D)||!1;EF(s,tu+"-active",B)}return!0}}};var sA={time:0,node:null};function CY(i){sA.time=Date.now(),sA.node=i.target}function SY(i){return Date.now()-100<sA.time&&sA.node&&i.contains(sA.node)}var iE=function(r,e){this.options=e||{},this.content=Array.isArray(r)?r:[r]};function MY(i,r){for(var e=[],s=[],o=0;o<i.length;o++){var a=i[o].render(r),k=a.update;e.push(Ia("div",{class:tu+"-dropdown-item"},a.dom)),s.push(k)}return{dom:e,update:EY(s,e)}}function EY(i,r){return function(e){for(var s=!1,o=0;o<i.length;o++){var a=i[o](e);r[o].style.display=a?"":"none",a&&(s=!0)}return s}}iE.prototype.render=function(r){var e=this,s=MY(this.content,r),o=Ia("div",{class:tu+"-dropdown "+(this.options.class||""),style:this.options.css},iA(r,this.options.label));this.options.title&&o.setAttribute("title",iA(r,this.options.title));var a=Ia("div",{class:tu+"-dropdown-wrap"},o),D=null,k=null,N=function(){D&&D.close()&&(D=null,window.removeEventListener("mousedown",k))};return o.addEventListener("mousedown",function(G){G.preventDefault(),CY(G),D?N():(D=e.expand(a,s.dom),window.addEventListener("mousedown",k=function(){SY(a)||N()}))}),{dom:a,update:function(G){var $=s.update(G);return a.style.display=$?"":"none",$}}},iE.prototype.expand=function(r,e){var s=Ia("div",{class:tu+"-dropdown-menu "+(this.options.class||"")},e),o=!1;return r.appendChild(s),{close:function(){if(!o)return o=!0,r.removeChild(s),!0},node:s}};var DY=function(r,e){this.options=e||{},this.content=Array.isArray(r)?r:[r]};DY.prototype.render=function(r){var e=MY(this.content,r),s=Ia("div",{class:tu+"-submenu-label"},iA(r,this.options.label)),o=Ia("div",{class:tu+"-submenu-wrap"},s,Ia("div",{class:tu+"-submenu"},e.dom)),a=null;return s.addEventListener("mousedown",function(k){k.preventDefault(),CY(k),EF(o,tu+"-submenu-wrap-active"),a||window.addEventListener("mousedown",a=function(){SY(o)||(o.classList.remove(tu+"-submenu-wrap-active"),window.removeEventListener("mousedown",a),a=null)})}),{dom:o,update:function(k){var N=e.update(k);return o.style.display=N?"":"none",N}}};var Xd={join:{width:800,height:900,path:"M0 75h800v125h-800z M0 825h800v-125h-800z M250 400h100v-100h100v100h100v100h-100v100h-100v-100h-100z"},lift:{width:1024,height:1024,path:"M219 310v329q0 7-5 12t-12 5q-8 0-13-5l-164-164q-5-5-5-13t5-13l164-164q5-5 13-5 7 0 12 5t5 12zM1024 749v109q0 7-5 12t-12 5h-987q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h987q7 0 12 5t5 12zM1024 530v109q0 7-5 12t-12 5h-621q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h621q7 0 12 5t5 12zM1024 310v109q0 7-5 12t-12 5h-621q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h621q7 0 12 5t5 12zM1024 91v109q0 7-5 12t-12 5h-987q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h987q7 0 12 5t5 12z"},selectParentNode:{text:"\u2b1a",css:"font-weight: bold"},undo:{width:1024,height:1024,path:"M761 1024c113-206 132-520-313-509v253l-384-384 384-384v248c534-13 594 472 313 775z"},redo:{width:1024,height:1024,path:"M576 248v-248l384 384-384 384v-253c-446-10-427 303-313 509-280-303-221-789 313-775z"},strong:{width:805,height:1024,path:"M317 869q42 18 80 18 214 0 214-191 0-65-23-102-15-25-35-42t-38-26-46-14-48-6-54-1q-41 0-57 5 0 30-0 90t-0 90q0 4-0 38t-0 55 2 47 6 38zM309 442q24 4 62 4 46 0 81-7t62-25 42-51 14-81q0-40-16-70t-45-46-61-24-70-8q-28 0-74 7 0 28 2 86t2 86q0 15-0 45t-0 45q0 26 0 39zM0 950l1-53q8-2 48-9t60-15q4-6 7-15t4-19 3-18 1-21 0-19v-37q0-561-12-585-2-4-12-8t-25-6-28-4-27-2-17-1l-2-47q56-1 194-6t213-5q13 0 39 0t38 0q40 0 78 7t73 24 61 40 42 59 16 78q0 29-9 54t-22 41-36 32-41 25-48 22q88 20 146 76t58 141q0 57-20 102t-53 74-78 48-93 27-100 8q-25 0-75-1t-75-1q-60 0-175 6t-132 6z"},em:{width:585,height:1024,path:"M0 949l9-48q3-1 46-12t63-21q16-20 23-57 0-4 35-165t65-310 29-169v-14q-13-7-31-10t-39-4-33-3l10-58q18 1 68 3t85 4 68 1q27 0 56-1t69-4 56-3q-2 22-10 50-17 5-58 16t-62 19q-4 10-8 24t-5 22-4 26-3 24q-15 84-50 239t-44 203q-1 5-7 33t-11 51-9 47-3 32l0 10q9 2 105 17-1 25-9 56-6 0-18 0t-18 0q-16 0-49-5t-49-5q-78-1-117-1-29 0-81 5t-69 6z"},code:{width:896,height:1024,path:"M608 192l-96 96 224 224-224 224 96 96 288-320-288-320zM288 192l-288 320 288 320 96-96-224-224 224-224-96-96z"},link:{width:951,height:1024,path:"M832 694q0-22-16-38l-118-118q-16-16-38-16-24 0-41 18 1 1 10 10t12 12 8 10 7 14 2 15q0 22-16 38t-38 16q-8 0-15-2t-14-7-10-8-12-12-10-10q-18 17-18 41 0 22 16 38l117 118q15 15 38 15 22 0 38-14l84-83q16-16 16-38zM430 292q0-22-16-38l-117-118q-16-16-38-16-22 0-38 15l-84 83q-16 16-16 38 0 22 16 38l118 118q15 15 38 15 24 0 41-17-1-1-10-10t-12-12-8-10-7-14-2-15q0-22 16-38t38-16q8 0 15 2t14 7 10 8 12 12 10 10q18-17 18-41zM941 694q0 68-48 116l-84 83q-47 47-116 47-69 0-116-48l-117-118q-47-47-47-116 0-70 50-119l-50-50q-49 50-118 50-68 0-116-48l-118-118q-48-48-48-116t48-116l84-83q47-47 116-47 69 0 116 48l117 118q47 47 47 116 0 70-50 119l50 50q49-50 118-50 68 0 116 48l118 118q48 48 48 116z"},bulletList:{width:768,height:896,path:"M0 512h128v-128h-128v128zM0 256h128v-128h-128v128zM0 768h128v-128h-128v128zM256 512h512v-128h-512v128zM256 256h512v-128h-512v128zM256 768h512v-128h-512v128z"},orderedList:{width:768,height:896,path:"M320 512h448v-128h-448v128zM320 768h448v-128h-448v128zM320 128v128h448v-128h-448zM79 384h78v-256h-36l-85 23v50l43-2v185zM189 590c0-36-12-78-96-78-33 0-64 6-83 16l1 66c21-10 42-15 67-15s32 11 32 28c0 26-30 58-110 112v50h192v-67l-91 2c49-30 87-66 87-113l1-1z"},blockquote:{width:640,height:896,path:"M0 448v256h256v-256h-128c0 0 0-128 128-128v-128c0 0-256 0-256 256zM640 320v-128c0 0-256 0-256 256v256h256v-256h-128c0 0 0-128 128-128z"}},rpe=new ki({title:"Join with above block",run:eA,select:function(i){return eA(i)},icon:Xd.join}),ipe=new ki({title:"Lift out of enclosing block",run:tA,select:function(i){return tA(i)},icon:Xd.lift}),spe=new ki({title:"Select parent node",run:nA,select:function(i){return nA(i)},icon:Xd.selectParentNode}),ope=new ki({title:"Undo last change",run:rE,enable:function(i){return rE(i)},icon:Xd.undo}),ape=new ki({title:"Redo last undone change",run:B1,enable:function(i){return B1(i)},icon:Xd.redo});function MF(i,r){var e=JO(i,r.attrs),s={run:e,enable:function(D){return e(D)},active:function(D){var k=D.selection,N=k.$from,B=k.to,G=k.node;return G?G.hasMarkup(i,r.attrs):B<=N.end()&&N.parent.hasMarkup(i,r.attrs)}};for(var o in r)s[o]=r[o];return new ki(s)}function EF(i,r,e){e?i.classList.add(r):i.classList.remove(r)}var e6="ProseMirror-menubar",oA=function(r,e){var s=this;this.editorView=r,this.options=e,this.wrapper=Ia("div",{class:e6+"-wrapper"}),this.menu=this.wrapper.appendChild(Ia("div",{class:e6})),this.menu.className=e6,this.spacer=null,r.dom.parentNode.replaceChild(this.wrapper,r.dom),this.wrapper.appendChild(r.dom),this.maxHeight=0,this.widthForMaxHeight=0,this.floating=!1;var o=function(i,r){for(var e=document.createDocumentFragment(),s=[],o=[],a=0;a<r.length;a++){for(var D=r[a],k=[],N=[],B=0;B<D.length;B++){var G=D[B].render(i),re=G.update,oe=Ia("span",{class:tu+"item"},G.dom);e.appendChild(oe),N.push(oe),k.push(re)}k.length&&(s.push(EY(k,N)),a<r.length-1&&o.push(e.appendChild(Ia("span",{class:tu+"separator"}))))}return{dom:e,update:function(ze){for(var mt=!1,Ft=!1,Pt=0;Pt<s.length;Pt++){var dn=s[Pt](ze);Pt&&(o[Pt-1].style.display=Ft&&dn?"":"none"),Ft=dn,dn&&(mt=!0)}return mt}}}(this.editorView,this.options.content),a=o.dom;if(this.contentUpdate=o.update,this.menu.appendChild(a),this.update(),e.floating&&!function(){if("undefined"==typeof navigator)return!1;var i=navigator.userAgent;return!/Edge\/\d/.test(i)&&/AppleWebKit/.test(i)&&/Mobile\/\w+/.test(i)}()){this.updateFloat();var k=function(i){for(var r=[window],e=i.parentNode;e;e=e.parentNode)r.push(e);return r}(this.wrapper);this.scrollFunc=function(N){var B=s.editorView.root;(B.body||B).contains(s.wrapper)?s.updateFloat(N.target.getBoundingClientRect&&N.target):k.forEach(function(G){return G.removeEventListener("scroll",s.scrollFunc)})},k.forEach(function(N){return N.addEventListener("scroll",s.scrollFunc)})}};oA.prototype.update=function(){this.contentUpdate(this.editorView.state),this.floating?this.updateScrollCursor():(this.menu.offsetWidth!=this.widthForMaxHeight&&(this.widthForMaxHeight=this.menu.offsetWidth,this.maxHeight=0),this.menu.offsetHeight>this.maxHeight&&(this.maxHeight=this.menu.offsetHeight,this.menu.style.minHeight=this.maxHeight+"px"))},oA.prototype.updateScrollCursor=function(){var r=this.editorView.root.getSelection();if(r.focusNode){var e=r.getRangeAt(0).getClientRects(),s=e[function(i){return i.anchorNode==i.focusNode?i.anchorOffset>i.focusOffset:i.anchorNode.compareDocumentPosition(i.focusNode)==Node.DOCUMENT_POSITION_FOLLOWING}(r)?0:e.length-1];if(s){var o=this.menu.getBoundingClientRect();if(s.top<o.bottom&&s.bottom>o.top){var a=function(i){for(var r=i.parentNode;r;r=r.parentNode)if(r.scrollHeight>r.clientHeight)return r}(this.wrapper);a&&(a.scrollTop-=o.bottom-s.top)}}}},oA.prototype.updateFloat=function(r){var e=this.wrapper,s=e.getBoundingClientRect(),o=r?Math.max(0,r.getBoundingClientRect().top):0;if(this.floating)s.top>=o||s.bottom<this.menu.offsetHeight+10?(this.floating=!1,this.menu.style.position=this.menu.style.left=this.menu.style.top=this.menu.style.width="",this.menu.style.display="",this.spacer.parentNode.removeChild(this.spacer),this.spacer=null):(this.menu.style.left=s.left+(e.offsetWidth-e.clientWidth)/2+"px",this.menu.style.display=s.top>window.innerHeight?"none":"",r&&(this.menu.style.top=o+"px"));else if(s.top<o&&s.bottom>=this.menu.offsetHeight+10){this.floating=!0;var D=this.menu.getBoundingClientRect();this.menu.style.left=D.left+"px",this.menu.style.width=D.width+"px",r&&(this.menu.style.top=o+"px"),this.menu.style.position="fixed",this.spacer=Ia("div",{class:e6+"-spacer",style:"height: "+D.height+"px"}),e.insertBefore(this.spacer,this.menu)}},oA.prototype.destroy=function(){this.wrapper.parentNode&&this.wrapper.parentNode.replaceChild(this.editorView.dom,this.wrapper)};for(var fpe=["p",0],ppe=["blockquote",0],mpe=["hr"],gpe=["pre",["code",0]],_pe=["br"],V1={doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:function(){return fpe}},blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:function(){return ppe}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return mpe}},heading:{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:function(r){return["h"+r.attrs.level,0]}},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:function(){return gpe}},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:function(r){return{src:r.getAttribute("src"),title:r.getAttribute("title"),alt:r.getAttribute("alt")}}}],toDOM:function(r){var e=r.attrs;return["img",{src:e.src,alt:e.alt,title:e.title}]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function(){return _pe}}},vpe=["em",0],ype=["strong",0],bpe=["code",0],TY={link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(r){return{href:r.getAttribute("href"),title:r.getAttribute("title")}}}],toDOM:function(r){var e=r.attrs;return["a",{href:e.href,title:e.title},0]}},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:function(){return vpe}},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:function(i){return"normal"!=i.style.fontWeight&&null}},{style:"font-weight",getAttrs:function(i){return/^(bold(er)?|[5-9]\d{2,})$/.test(i)&&null}}],toDOM:function(){return ype}},code:{parseDOM:[{tag:"code"}],toDOM:function(){return bpe}}},gv=(new Rn.V_({nodes:V1,marks:TY}),{8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"}),t6={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},xY="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),wpe="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),Cpe="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),kY="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),Spe="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Mpe=xY&&(kY||+xY[1]<57)||Cpe&&kY,Ml=0;Ml<10;Ml++)gv[48+Ml]=gv[96+Ml]=String(Ml);for(Ml=1;Ml<=24;Ml++)gv[Ml+111]="F"+Ml;for(Ml=65;Ml<=90;Ml++)gv[Ml]=String.fromCharCode(Ml+32),t6[Ml]=String.fromCharCode(Ml);for(var DF in gv)t6.hasOwnProperty(DF)||(t6[DF]=gv[DF]);var Dpe="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function Tpe(i){var r=i.split(/-(?!$)/),e=r[r.length-1];"Space"==e&&(e=" ");for(var s,o,a,D,k=0;k<r.length-1;k++){var N=r[k];if(/^(cmd|meta|m)$/i.test(N))D=!0;else if(/^a(lt)?$/i.test(N))s=!0;else if(/^(c|ctrl|control)$/i.test(N))o=!0;else if(/^s(hift)?$/i.test(N))a=!0;else{if(!/^mod$/i.test(N))throw new Error("Unrecognized modifier name: "+N);Dpe?D=!0:o=!0}}return s&&(e="Alt-"+e),o&&(e="Ctrl-"+e),D&&(e="Meta-"+e),a&&(e="Shift-"+e),e}function TF(i,r,e){return r.altKey&&(i="Alt-"+i),r.ctrlKey&&(i="Ctrl-"+i),r.metaKey&&(i="Meta-"+i),!1!==e&&r.shiftKey&&(i="Shift-"+i),i}function n6(i){return new sn.Sy({props:{handleKeyDown:xF(i)}})}function xF(i){var r=function(i){var r=Object.create(null);for(var e in i)r[Tpe(e)]=i[e];return r}(i);return function(e,s){var D,o=function(i){var e=!(Mpe&&(i.ctrlKey||i.altKey||i.metaKey)||(wpe||Spe)&&i.shiftKey&&i.key&&1==i.key.length)&&i.key||(i.shiftKey?t6:gv)[i.keyCode]||i.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(s),a=1==o.length&&" "!=o,k=r[TF(o,s,!a)];if(k&&k(e.state,e.dispatch,e))return!0;if(a&&(s.shiftKey||s.altKey||s.metaKey||o.charCodeAt(0)>127)&&(D=gv[s.keyCode])&&D!=o){var N=r[TF(D,s,!0)];if(N&&N(e.state,e.dispatch,e))return!0}else if(a&&s.shiftKey){var B=r[TF(o,s,!0)];if(B&&B(e.state,e.dispatch,e))return!0}return!1}}var kn={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var kF=/Edge\/(\d+)/.exec(navigator.userAgent),AY=/MSIE \d/.test(navigator.userAgent),AF=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);kn.mac=/Mac/.test(navigator.platform);var IF=kn.ie=!!(AY||AF||kF);kn.ie_version=AY?document.documentMode||6:AF?+AF[1]:kF?+kF[1]:null,kn.gecko=!IF&&/gecko\/(\d+)/i.test(navigator.userAgent),kn.gecko_version=kn.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var RF=!IF&&/Chrome\/(\d+)/.exec(navigator.userAgent);kn.chrome=!!RF,kn.chrome_version=RF&&+RF[1],kn.safari=!IF&&/Apple Computer/.test(navigator.vendor),kn.ios=kn.safari&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),kn.android=/Android \d/.test(navigator.userAgent),kn.webkit="webkitFontSmoothing"in document.documentElement.style,kn.webkit_version=kn.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var eh=function(i){for(var r=0;;r++)if(!(i=i.previousSibling))return r},OF=function(i){var r=i.assignedSlot||i.parentNode;return r&&11==r.nodeType?r.host:r},IY=null,Gg=function(i,r,e){var s=IY||(IY=document.createRange());return s.setEnd(i,null==e?i.nodeValue.length:e),s.setStart(i,r||0),s},r6=function(i,r,e,s){return e&&(RY(i,r,e,s,-1)||RY(i,r,e,s,1))},kpe=/^(img|br|input|textarea|hr)$/i;function RY(i,r,e,s,o){for(;;){if(i==e&&r==s)return!0;if(r==(o<0?0:Vp(i))){var a=i.parentNode;if(1!=a.nodeType||Ipe(i)||kpe.test(i.nodeName)||"false"==i.contentEditable)return!1;r=eh(i)+(o<0?0:1),i=a}else{if(1!=i.nodeType)return!1;if("false"==(i=i.childNodes[r+(o<0?-1:0)]).contentEditable)return!1;r=o<0?Vp(i):0}}}function Vp(i){return 3==i.nodeType?i.nodeValue.length:i.childNodes.length}function Ipe(i){for(var r,e=i;e&&!(r=e.pmViewDesc);e=e.parentNode);return r&&r.node&&r.node.isBlock&&(r.dom==i||r.contentDOM==i)}var NF=function(i){var r=i.isCollapsed;return r&&kn.chrome&&i.rangeCount&&!i.getRangeAt(0).collapsed&&(r=!1),r};function sE(i,r){var e=document.createEvent("Event");return e.initEvent("keydown",!0,!0),e.keyCode=i,e.key=e.code=r,e}function Rpe(i){return{left:0,right:i.documentElement.clientWidth,top:0,bottom:i.documentElement.clientHeight}}function _v(i,r){return"number"==typeof i?i:i[r]}function Ope(i){var r=i.getBoundingClientRect();return{left:r.left,right:r.left+i.clientWidth*(r.width/i.offsetWidth||1),top:r.top,bottom:r.top+i.clientHeight*(r.height/i.offsetHeight||1)}}function NY(i){for(var r=[],e=i.ownerDocument;i&&(r.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),i!=e);i=OF(i));return r}function PY(i,r){for(var e=0;e<i.length;e++){var s=i[e],o=s.dom,a=s.top,D=s.left;o.scrollTop!=a+r&&(o.scrollTop=a+r),o.scrollLeft!=D&&(o.scrollLeft=D)}}var oE=null;function FY(i,r){for(var e,o,s=2e8,a=0,D=r.top,k=r.top,N=i.firstChild,B=0;N;N=N.nextSibling,B++){var G=void 0;if(1==N.nodeType)G=N.getClientRects();else{if(3!=N.nodeType)continue;G=Gg(N).getClientRects()}for(var $=0;$<G.length;$++){var re=G[$];if(re.top<=D&&re.bottom>=k){D=Math.max(re.bottom,D),k=Math.min(re.top,k);var oe=re.left>r.left?re.left-r.left:re.right<r.left?r.left-re.right:0;if(oe<s){e=N,s=oe,o=oe&&3==e.nodeType?{left:re.right<r.left?re.right:re.left,top:r.top}:r,1==N.nodeType&&oe&&(a=B+(r.left>=(re.left+re.right)/2?1:0));continue}}!e&&(r.left>=re.right&&r.top>=re.top||r.left>=re.left&&r.top>=re.bottom)&&(a=B+1)}}return e&&3==e.nodeType?function(i,r){for(var e=i.nodeValue.length,s=document.createRange(),o=0;o<e;o++){s.setEnd(i,o+1),s.setStart(i,o);var a=vv(s,1);if(a.top!=a.bottom&&PF(r,a))return{node:i,offset:o+(r.left>=(a.left+a.right)/2?1:0)}}return{node:i,offset:0}}(e,o):!e||s&&1==e.nodeType?{node:i,offset:a}:FY(e,o)}function PF(i,r){return i.left>=r.left-1&&i.left<=r.right+1&&i.top>=r.top-1&&i.top<=r.bottom+1}function LY(i,r,e){var s=i.childNodes.length;if(s&&e.top<e.bottom)for(var o=Math.max(0,Math.min(s-1,Math.floor(s*(r.top-e.top)/(e.bottom-e.top))-2)),a=o;;){var D=i.childNodes[a];if(1==D.nodeType)for(var k=D.getClientRects(),N=0;N<k.length;N++){var B=k[N];if(PF(r,B))return LY(D,r,B)}if((a=(a+1)%s)==o)break}return i}function Hpe(i,r){var e,s,a,D,o=i.root;if(o.caretPositionFromPoint)try{var k=o.caretPositionFromPoint(r.left,r.top);k&&(a=(e=k).offsetNode,D=e.offset)}catch(mt){}if(!a&&o.caretRangeFromPoint){var N=o.caretRangeFromPoint(r.left,r.top);N&&(a=(s=N).startContainer,D=s.startOffset)}var G,B=o.elementFromPoint(r.left,r.top+1);if(!B||!i.dom.contains(1!=B.nodeType?B.parentNode:B)){var $=i.dom.getBoundingClientRect();if(!PF(r,$)||!(B=LY(i.dom,r,$)))return null}if(kn.safari)for(var re=B;a&&re;re=OF(re))re.draggable&&(a=D=null);if(B=function(i,r){var e=i.parentNode;return e&&/^li$/i.test(e.nodeName)&&r.left<i.getBoundingClientRect().left?e:i}(B,r),a){if(kn.gecko&&1==a.nodeType&&(D=Math.min(D,a.childNodes.length))<a.childNodes.length){var _e,oe=a.childNodes[D];"IMG"==oe.nodeName&&(_e=oe.getBoundingClientRect()).right<=r.left&&_e.bottom>r.top&&D++}a==i.dom&&D==a.childNodes.length-1&&1==a.lastChild.nodeType&&r.top>a.lastChild.getBoundingClientRect().bottom?G=i.state.doc.content.size:(0==D||1!=a.nodeType||"BR"!=a.childNodes[D-1].nodeName)&&(G=function(i,r,e,s){for(var o=-1,a=r;a!=i.dom;){var D=i.docView.nearestDesc(a,!0);if(!D)return null;if(D.node.isBlock&&D.parent){var k=D.dom.getBoundingClientRect();if(k.left>s.left||k.top>s.top)o=D.posBefore;else{if(!(k.right<s.left||k.bottom<s.top))break;o=D.posAfter}}a=D.dom.parentNode}return o>-1?o:i.docView.posFromDOM(r,e)}(i,a,D,r))}null==G&&(G=function(i,r,e){var s=FY(r,e),o=s.node,a=s.offset,D=-1;if(1==o.nodeType&&!o.firstChild){var k=o.getBoundingClientRect();D=k.left!=k.right&&e.left>(k.left+k.right)/2?1:-1}return i.docView.posFromDOM(o,a,D)}(i,B,r));var ze=i.docView.nearestDesc(B,!0);return{pos:G,inside:ze?ze.posAtStart-ze.border:-1}}function vv(i,r){var e=i.getClientRects();return e.length?e[r<0?0:e.length-1]:i.getBoundingClientRect()}var Upe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function BY(i,r,e){var s=i.docView.domFromPos(r,e<0?-1:1),o=s.node,a=s.offset,D=kn.webkit||kn.gecko;if(3==o.nodeType){if(!D||!Upe.test(o.nodeValue)&&(e<0?a:a!=o.nodeValue.length)){var G=a,$=a,re=e<0?1:-1;return e<0&&!a?($++,re=-1):e>=0&&a==o.nodeValue.length?(G--,re=1):e<0?G--:$++,aA(vv(Gg(o,G,$),re),re<0)}var k=vv(Gg(o,a,a),e);if(kn.gecko&&a&&/\s/.test(o.nodeValue[a-1])&&a<o.nodeValue.length){var N=vv(Gg(o,a-1,a-1),-1);if(N.top==k.top){var B=vv(Gg(o,a,a+1),-1);if(B.top!=k.top)return aA(B,B.left<N.left)}}return k}if(!i.state.doc.resolve(r).parent.inlineContent){if(a&&(e<0||a==Vp(o))){var oe=o.childNodes[a-1];if(1==oe.nodeType)return FF(oe.getBoundingClientRect(),!1)}if(a<Vp(o)){var _e=o.childNodes[a];if(1==_e.nodeType)return FF(_e.getBoundingClientRect(),!0)}return FF(o.getBoundingClientRect(),e>=0)}if(a&&(e<0||a==Vp(o))){var ze=o.childNodes[a-1],mt=3==ze.nodeType?Gg(ze,Vp(ze)-(D?0:1)):1!=ze.nodeType||"BR"==ze.nodeName&&ze.nextSibling?null:ze;if(mt)return aA(vv(mt,1),!1)}if(a<Vp(o)){var Ft=o.childNodes[a],Pt=3==Ft.nodeType?Gg(Ft,0,D?0:1):1==Ft.nodeType?Ft:null;if(Pt)return aA(vv(Pt,-1),!0)}return aA(vv(3==o.nodeType?Gg(o):o,-e),e>=0)}function aA(i,r){if(0==i.width)return i;var e=r?i.left:i.right;return{top:i.top,bottom:i.bottom,left:e,right:e}}function FF(i,r){if(0==i.height)return i;var e=r?i.top:i.bottom;return{top:e,bottom:e,left:i.left,right:i.right}}function VY(i,r,e){var s=i.state,o=i.root.activeElement;s!=r&&i.updateState(r),o!=i.dom&&i.focus();try{return e()}finally{s!=r&&i.updateState(s),o!=i.dom&&o&&o.focus()}}var qpe=/[\u0590-\u08ac]/,zY=null,HY=null,UY=!1;var ws=function(r,e,s,o){this.parent=r,this.children=e,this.dom=s,s.pmViewDesc=this,this.contentDOM=o,this.dirty=0},zp={beforePosition:{configurable:!0},size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0}};ws.prototype.matchesWidget=function(){return!1},ws.prototype.matchesMark=function(){return!1},ws.prototype.matchesNode=function(){return!1},ws.prototype.matchesHack=function(r){return!1},zp.beforePosition.get=function(){return!1},ws.prototype.parseRule=function(){return null},ws.prototype.stopEvent=function(){return!1},zp.size.get=function(){for(var i=0,r=0;r<this.children.length;r++)i+=this.children[r].size;return i},zp.border.get=function(){return 0},ws.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var r=0;r<this.children.length;r++)this.children[r].destroy()},ws.prototype.posBeforeChild=function(r){for(var e=0,s=this.posAtStart;e<this.children.length;e++){var o=this.children[e];if(o==r)return s;s+=o.size}},zp.posBefore.get=function(){return this.parent.posBeforeChild(this)},zp.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},zp.posAfter.get=function(){return this.posBefore+this.size},zp.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},ws.prototype.localPosFromDOM=function(r,e,s){if(this.contentDOM&&this.contentDOM.contains(1==r.nodeType?r:r.parentNode)){if(s<0){var o,a;if(r==this.contentDOM)o=r.childNodes[e-1];else{for(;r.parentNode!=this.contentDOM;)r=r.parentNode;o=r.previousSibling}for(;o&&(!(a=o.pmViewDesc)||a.parent!=this);)o=o.previousSibling;return o?this.posBeforeChild(a)+a.size:this.posAtStart}var D,k;if(r==this.contentDOM)D=r.childNodes[e];else{for(;r.parentNode!=this.contentDOM;)r=r.parentNode;D=r.nextSibling}for(;D&&(!(k=D.pmViewDesc)||k.parent!=this);)D=D.nextSibling;return D?this.posBeforeChild(k):this.posAtEnd}var N;if(r==this.dom&&this.contentDOM)N=e>eh(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))N=2&r.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(var B=r;;B=B.parentNode){if(B==this.dom){N=!1;break}if(B.parentNode.firstChild!=B)break}if(null==N&&e==r.childNodes.length)for(var G=r;;G=G.parentNode){if(G==this.dom){N=!0;break}if(G.parentNode.lastChild!=G)break}}return(null==N?s>0:N)?this.posAtEnd:this.posAtStart},ws.prototype.nearestDesc=function(r,e){for(var s=!0,o=r;o;o=o.parentNode){var a=this.getDesc(o);if(a&&(!e||a.node)){if(!s||!a.nodeDOM||(1==a.nodeDOM.nodeType?a.nodeDOM.contains(1==r.nodeType?r:r.parentNode):a.nodeDOM==r))return a;s=!1}}},ws.prototype.getDesc=function(r){for(var e=r.pmViewDesc,s=e;s;s=s.parent)if(s==this)return e},ws.prototype.posFromDOM=function(r,e,s){for(var o=r;o;o=o.parentNode){var a=this.getDesc(o);if(a)return a.localPosFromDOM(r,e,s)}return-1},ws.prototype.descAt=function(r){for(var e=0,s=0;e<this.children.length;e++){var o=this.children[e],a=s+o.size;if(s==r&&a!=s){for(;!o.border&&o.children.length;)o=o.children[0];return o}if(r<a)return o.descAt(r-s-o.border);s=a}},ws.prototype.domFromPos=function(r,e){if(!this.contentDOM)return{node:this.dom,offset:0};for(var s=0,o=0,a=!0;;o++,a=!1){for(;o<this.children.length&&(this.children[o].beforePosition||this.children[o].dom.parentNode!=this.contentDOM);)s+=this.children[o++].size;var D=o==this.children.length?null:this.children[o];if(s==r&&(0==e||!D||!D.size||D.border||e<0&&a)||D&&D.domAtom&&r<s+D.size)return{node:this.contentDOM,offset:D?eh(D.dom):this.contentDOM.childNodes.length};if(!D)throw new Error("Invalid position "+r);var k=s+D.size;if(!D.domAtom&&(e<0&&!D.border?k>=r:k>r)&&(k>r||o+1>=this.children.length||!this.children[o+1].beforePosition))return D.domFromPos(r-s-D.border,e);s=k}},ws.prototype.parseRange=function(r,e,s){if(void 0===s&&(s=0),0==this.children.length)return{node:this.contentDOM,from:r,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var o=-1,a=-1,D=s,k=0;;k++){var N=this.children[k],B=D+N.size;if(-1==o&&r<=B){var G=D+N.border;if(r>=G&&e<=B-N.border&&N.node&&N.contentDOM&&this.contentDOM.contains(N.contentDOM))return N.parseRange(r,e,G);r=D;for(var $=k;$>0;$--){var re=this.children[$-1];if(re.size&&re.dom.parentNode==this.contentDOM&&!re.emptyChildAt(1)){o=eh(re.dom)+1;break}r-=re.size}-1==o&&(o=0)}if(o>-1&&(B>e||k==this.children.length-1)){e=B;for(var oe=k+1;oe<this.children.length;oe++){var _e=this.children[oe];if(_e.size&&_e.dom.parentNode==this.contentDOM&&!_e.emptyChildAt(-1)){a=eh(_e.dom);break}e+=_e.size}-1==a&&(a=this.contentDOM.childNodes.length);break}D=B}return{node:this.contentDOM,from:r,to:e,fromOffset:o,toOffset:a}},ws.prototype.emptyChildAt=function(r){if(this.border||!this.contentDOM||!this.children.length)return!1;var e=this.children[r<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(r)},ws.prototype.domAfterPos=function(r){var e=this.domFromPos(r,0),s=e.node,o=e.offset;if(1!=s.nodeType||o==s.childNodes.length)throw new RangeError("No node after pos "+r);return s.childNodes[o]},ws.prototype.setSelection=function(r,e,s,o){for(var a=Math.min(r,e),D=Math.max(r,e),k=0,N=0;k<this.children.length;k++){var B=this.children[k],G=N+B.size;if(a>N&&D<G)return B.setSelection(r-N-B.border,e-N-B.border,s,o);N=G}var $=this.domFromPos(r,r?-1:1),re=e==r?$:this.domFromPos(e,e?-1:1),oe=s.getSelection(),_e=!1;if((kn.gecko||kn.safari)&&r==e){var ze=$.node,mt=$.offset;if(3==ze.nodeType){if((_e=mt&&"\n"==ze.nodeValue[mt-1])&&mt==ze.nodeValue.length)for(var Ft=ze,Pt=void 0;Ft;Ft=Ft.parentNode){if(Pt=Ft.nextSibling){"BR"==Pt.nodeName&&($=re={node:Pt.parentNode,offset:eh(Pt)+1});break}var dn=Ft.pmViewDesc;if(dn&&dn.node&&dn.node.isBlock)break}}else{var fn=ze.childNodes[mt-1];_e=fn&&("BR"==fn.nodeName||"false"==fn.contentEditable)}}if(kn.gecko&&oe.focusNode&&oe.focusNode!=re.node&&1==oe.focusNode.nodeType){var Hn=oe.focusNode.childNodes[oe.focusOffset];Hn&&"false"==Hn.contentEditable&&(o=!0)}if(o||_e&&kn.safari||!r6($.node,$.offset,oe.anchorNode,oe.anchorOffset)||!r6(re.node,re.offset,oe.focusNode,oe.focusOffset)){var er=!1;if((oe.extend||r==e)&&!_e){oe.collapse($.node,$.offset);try{r!=e&&oe.extend(re.node,re.offset),er=!0}catch(Br){if(!(Br instanceof DOMException))throw Br}}if(!er){if(r>e){var Sr=$;$=re,re=Sr}var yr=document.createRange();yr.setEnd(re.node,re.offset),yr.setStart($.node,$.offset),oe.removeAllRanges(),oe.addRange(yr)}}},ws.prototype.ignoreMutation=function(r){return!this.contentDOM&&"selection"!=r.type},zp.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},ws.prototype.markDirty=function(r,e){for(var s=0,o=0;o<this.children.length;o++){var a=this.children[o],D=s+a.size;if(s==D?r<=D&&e>=s:r<D&&e>s){var k=s+a.border,N=D-a.border;if(r>=k&&e<=N)return this.dirty=r==s||e==D?2:1,void(r!=k||e!=N||!a.contentLost&&a.dom.parentNode==this.contentDOM?a.markDirty(r-k,e-k):a.dirty=3);a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM?2:3}s=D}this.dirty=2},ws.prototype.markParentsDirty=function(){for(var r=1,e=this.parent;e;e=e.parent,r++){var s=1==r?2:1;e.dirty<s&&(e.dirty=s)}},zp.domAtom.get=function(){return!1},Object.defineProperties(ws.prototype,zp);var bv=[],Wpe=function(i){function r(s,o,a,D){var k,N=o.type.toDOM;if("function"==typeof N&&(N=N(a,function(){return k?k.parent?k.parent.posBeforeChild(k):void 0:D})),!o.type.spec.raw){if(1!=N.nodeType){var B=document.createElement("span");B.appendChild(N),N=B}N.contentEditable=!1,N.classList.add("ProseMirror-widget")}i.call(this,s,bv,N,null),this.widget=o,k=this}i&&(r.__proto__=i),(r.prototype=Object.create(i&&i.prototype)).constructor=r;var e={beforePosition:{configurable:!0},domAtom:{configurable:!0}};return e.beforePosition.get=function(){return this.widget.type.side<0},r.prototype.matchesWidget=function(o){return 0==this.dirty&&o.type.eq(this.widget.type)},r.prototype.parseRule=function(){return{ignore:!0}},r.prototype.stopEvent=function(o){var a=this.widget.spec.stopEvent;return!!a&&a(o)},r.prototype.ignoreMutation=function(o){return"selection"!=o.type||this.widget.spec.ignoreSelection},e.domAtom.get=function(){return!0},Object.defineProperties(r.prototype,e),r}(ws),$pe=function(i){function r(s,o,a,D){i.call(this,s,bv,o,null),this.textDOM=a,this.text=D}i&&(r.__proto__=i),(r.prototype=Object.create(i&&i.prototype)).constructor=r;var e={size:{configurable:!0}};return e.size.get=function(){return this.text.length},r.prototype.localPosFromDOM=function(o,a){return o!=this.textDOM?this.posAtStart+(a?this.size:0):this.posAtStart+a},r.prototype.domFromPos=function(o){return{node:this.textDOM,offset:o}},r.prototype.ignoreMutation=function(o){return"characterData"===o.type&&o.target.nodeValue==o.oldValue},Object.defineProperties(r.prototype,e),r}(ws),LF=function(i){function r(e,s,o,a){i.call(this,e,[],o,a),this.mark=s}return i&&(r.__proto__=i),(r.prototype=Object.create(i&&i.prototype)).constructor=r,r.create=function(s,o,a,D){var k=D.nodeViews[o.type.name],N=k&&k(o,D,a);return(!N||!N.dom)&&(N=Rn.PW.renderSpec(document,o.type.spec.toDOM(o,a))),new r(s,o,N.dom,N.contentDOM||N.dom)},r.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},r.prototype.matchesMark=function(s){return 3!=this.dirty&&this.mark.eq(s)},r.prototype.markDirty=function(s,o){if(i.prototype.markDirty.call(this,s,o),0!=this.dirty){for(var a=this.parent;!a.node;)a=a.parent;a.dirty<this.dirty&&(a.dirty=this.dirty),this.dirty=0}},r.prototype.slice=function(s,o,a){var D=r.create(this.parent,this.mark,!0,a),k=this.children,N=this.size;o<N&&(k=zF(k,o,N,a)),s>0&&(k=zF(k,0,s,a));for(var B=0;B<k.length;B++)k[B].parent=D;return D.children=k,D},r}(ws),cA=function(i){function r(s,o,a,D,k,N,B,G,$){i.call(this,s,o.isLeaf?bv:[],k,N),this.nodeDOM=B,this.node=o,this.outerDeco=a,this.innerDeco=D,N&&this.updateChildren(G,$)}i&&(r.__proto__=i),(r.prototype=Object.create(i&&i.prototype)).constructor=r;var e={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return r.create=function(o,a,D,k,N,B){var G,re,$=N.nodeViews[a.type.name],oe=$&&$(a,N,function(){return re?re.parent?re.parent.posBeforeChild(re):void 0:B},D,k),_e=oe&&oe.dom,ze=oe&&oe.contentDOM;if(a.isText)if(_e){if(3!=_e.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else _e=document.createTextNode(a.text);else _e||(_e=(G=Rn.PW.renderSpec(document,a.type.spec.toDOM(a))).dom,ze=G.contentDOM);!ze&&!a.isText&&"BR"!=_e.nodeName&&(_e.hasAttribute("contenteditable")||(_e.contentEditable=!1),a.type.spec.draggable&&(_e.draggable=!0));var mt=_e;return _e=$Y(_e,D,a),oe?re=new Zpe(o,a,D,k,_e,ze,mt,oe,N,B+1):a.isText?new jY(o,a,D,k,_e,mt,N):new r(o,a,D,k,_e,ze,mt,N,B+1)},r.prototype.parseRule=function(){var o=this;if(this.node.type.spec.reparseInView)return null;var a={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(a.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?a.contentElement=this.contentDOM:a.getContent=function(){return o.contentDOM?Rn.HY.empty:o.node.content},a},r.prototype.matchesNode=function(o,a,D){return 0==this.dirty&&o.eq(this.node)&&VF(a,this.outerDeco)&&D.eq(this.innerDeco)},e.size.get=function(){return this.node.nodeSize},e.border.get=function(){return this.node.isLeaf?0:1},r.prototype.updateChildren=function(o,a){var D=this,k=this.node.inlineContent,N=a,B=o.composing&&this.localCompositionInfo(o,a),G=B&&B.pos>-1?B:null,$=B&&B.pos<0,re=new th(this,G&&G.node);(function(i,r,e,s){var o=r.locals(i),a=0;if(0!=o.length)for(var N=0,B=[],G=null,$=0;;){if(N<o.length&&o[N].to==a){for(var re=o[N++],oe=void 0;N<o.length&&o[N].to==a;)(oe||(oe=[re])).push(o[N++]);if(oe){oe.sort(Xpe);for(var _e=0;_e<oe.length;_e++)e(oe[_e],$,!!G)}else e(re,$,!!G)}var ze=void 0,mt=void 0;if(G)mt=-1,ze=G,G=null;else{if(!($<i.childCount))break;mt=$,ze=i.child($++)}for(var Ft=0;Ft<B.length;Ft++)B[Ft].to<=a&&B.splice(Ft--,1);for(;N<o.length&&o[N].from<=a&&o[N].to>a;)B.push(o[N++]);var Pt=a+ze.nodeSize;if(ze.isText){var dn=Pt;N<o.length&&o[N].from<dn&&(dn=o[N].from);for(var fn=0;fn<B.length;fn++)B[fn].to<dn&&(dn=B[fn].to);dn<Pt&&(G=ze.cut(dn-a),ze=ze.cut(0,dn-a),Pt=dn,mt=-1)}s(ze,B.length?ze.isInline&&!ze.isLeaf?B.filter(function(er){return!er.inline}):B.slice():bv,r.forChild(a,ze),mt),a=Pt}else for(var D=0;D<i.childCount;D++){var k=i.child(D);s(k,o,r.forChild(a,k),D),a+=k.nodeSize}})(this.node,this.innerDeco,function(oe,_e,ze){oe.spec.marks?re.syncToMarks(oe.spec.marks,k,o):oe.type.side>=0&&!ze&&re.syncToMarks(_e==D.node.childCount?Rn.vc.none:D.node.child(_e).marks,k,o),re.placeWidget(oe,o,N)},function(oe,_e,ze,mt){var Ft;re.syncToMarks(oe.marks,k,o),re.findNodeMatch(oe,_e,ze,mt)||$&&o.state.selection.from>N&&o.state.selection.to<N+oe.nodeSize&&(Ft=re.findIndexWithChild(B.node))>-1&&re.updateNodeAt(oe,_e,ze,Ft,o)||re.updateNextNode(oe,_e,ze,o,mt)||re.addNode(oe,_e,ze,o,N),N+=oe.nodeSize}),re.syncToMarks(bv,k,o),this.node.isTextblock&&re.addTextblockHacks(),re.destroyRest(),(re.changed||2==this.dirty)&&(G&&this.protectLocalComposition(o,G),YY(this.contentDOM,this.children,o),kn.ios&&function(i){if("UL"==i.nodeName||"OL"==i.nodeName){var r=i.style.cssText;i.style.cssText=r+"; list-style: square !important",window.getComputedStyle(i),i.style.cssText=r}}(this.dom))},r.prototype.localCompositionInfo=function(o,a){var D=o.state.selection,k=D.from,N=D.to;if(!(!(o.state.selection instanceof sn.Bs)||k<a||N>a+this.node.content.size)){var B=o.root.getSelection(),G=function(i,r){for(;;){if(3==i.nodeType)return i;if(1==i.nodeType&&r>0){if(i.childNodes.length>r&&3==i.childNodes[r].nodeType)return i.childNodes[r];r=Vp(i=i.childNodes[r-1])}else{if(!(1==i.nodeType&&r<i.childNodes.length))return null;i=i.childNodes[r],r=0}}}(B.focusNode,B.focusOffset);if(G&&this.dom.contains(G.parentNode)){if(this.node.inlineContent){var $=G.nodeValue,re=function(i,r,e,s){for(var o=0,a=0;o<i.childCount&&a<=s;){var D=i.child(o++),k=a;if(a+=D.nodeSize,D.isText){for(var N=D.text;o<i.childCount;){var B=i.child(o++);if(a+=B.nodeSize,!B.isText)break;N+=B.text}if(a>=e){var G=N.lastIndexOf(r,s-k);if(G>=0&&G+r.length+k>=e)return k+G}}}return-1}(this.node.content,$,k-a,N-a);return re<0?null:{node:G,pos:re,text:$}}return{node:G,pos:-1}}}},r.prototype.protectLocalComposition=function(o,a){var D=a.node,k=a.pos,N=a.text;if(!this.getDesc(D)){for(var B=D;B.parentNode!=this.contentDOM;B=B.parentNode){for(;B.previousSibling;)B.parentNode.removeChild(B.previousSibling);for(;B.nextSibling;)B.parentNode.removeChild(B.nextSibling);B.pmViewDesc&&(B.pmViewDesc=null)}var G=new $pe(this,B,D,N);o.compositionNodes.push(G),this.children=zF(this.children,k,k+N.length,o,G)}},r.prototype.update=function(o,a,D,k){return!(3==this.dirty||!o.sameMarkup(this.node)||(this.updateInner(o,a,D,k),0))},r.prototype.updateInner=function(o,a,D,k){this.updateOuterDeco(a),this.node=o,this.innerDeco=D,this.contentDOM&&this.updateChildren(k,this.posAtStart),this.dirty=0},r.prototype.updateOuterDeco=function(o){if(!VF(o,this.outerDeco)){var a=1!=this.nodeDOM.nodeType,D=this.dom;this.dom=WY(this.dom,this.nodeDOM,BF(this.outerDeco,this.node,a),BF(o,this.node,a)),this.dom!=D&&(D.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=o}},r.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)},r.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")},e.domAtom.get=function(){return this.node.isAtom},Object.defineProperties(r.prototype,e),r}(ws);function qY(i,r,e,s,o){return $Y(s,r,i),new cA(null,i,r,e,s,s,s,o,0)}var jY=function(i){function r(s,o,a,D,k,N,B){i.call(this,s,o,a,D,k,null,N,B)}i&&(r.__proto__=i),(r.prototype=Object.create(i&&i.prototype)).constructor=r;var e={domAtom:{configurable:!0}};return r.prototype.parseRule=function(){for(var o=this.nodeDOM.parentNode;o&&o!=this.dom&&!o.pmIsDeco;)o=o.parentNode;return{skip:o||!0}},r.prototype.update=function(o,a,D,k){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!o.sameMarkup(this.node)||(this.updateOuterDeco(a),(0!=this.dirty||o.text!=this.node.text)&&o.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=o.text,k.trackWrites==this.nodeDOM&&(k.trackWrites=null)),this.node=o,this.dirty=0,0))},r.prototype.inParent=function(){for(var o=this.parent.contentDOM,a=this.nodeDOM;a;a=a.parentNode)if(a==o)return!0;return!1},r.prototype.domFromPos=function(o){return{node:this.nodeDOM,offset:o}},r.prototype.localPosFromDOM=function(o,a,D){return o==this.nodeDOM?this.posAtStart+Math.min(a,this.node.text.length):i.prototype.localPosFromDOM.call(this,o,a,D)},r.prototype.ignoreMutation=function(o){return"characterData"!=o.type&&"selection"!=o.type},r.prototype.slice=function(o,a,D){var k=this.node.cut(o,a),N=document.createTextNode(k.text);return new r(this.parent,k,this.outerDeco,this.innerDeco,N,N,D)},r.prototype.markDirty=function(o,a){i.prototype.markDirty.call(this,o,a),this.dom!=this.nodeDOM&&(0==o||a==this.nodeDOM.nodeValue.length)&&(this.dirty=3)},e.domAtom.get=function(){return!1},Object.defineProperties(r.prototype,e),r}(cA),Kpe=function(i){function r(){i.apply(this,arguments)}i&&(r.__proto__=i),(r.prototype=Object.create(i&&i.prototype)).constructor=r;var e={domAtom:{configurable:!0}};return r.prototype.parseRule=function(){return{ignore:!0}},r.prototype.matchesHack=function(o){return 0==this.dirty&&this.dom.nodeName==o},e.domAtom.get=function(){return!0},Object.defineProperties(r.prototype,e),r}(ws),Zpe=function(i){function r(e,s,o,a,D,k,N,B,G,$){i.call(this,e,s,o,a,D,k,N,G,$),this.spec=B}return i&&(r.__proto__=i),(r.prototype=Object.create(i&&i.prototype)).constructor=r,r.prototype.update=function(s,o,a,D){if(3==this.dirty)return!1;if(this.spec.update){var k=this.spec.update(s,o,a);return k&&this.updateInner(s,o,a,D),k}return!(!this.contentDOM&&!s.isLeaf)&&i.prototype.update.call(this,s,o,a,D)},r.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():i.prototype.selectNode.call(this)},r.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():i.prototype.deselectNode.call(this)},r.prototype.setSelection=function(s,o,a,D){this.spec.setSelection?this.spec.setSelection(s,o,a):i.prototype.setSelection.call(this,s,o,a,D)},r.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),i.prototype.destroy.call(this)},r.prototype.stopEvent=function(s){return!!this.spec.stopEvent&&this.spec.stopEvent(s)},r.prototype.ignoreMutation=function(s){return this.spec.ignoreMutation?this.spec.ignoreMutation(s):i.prototype.ignoreMutation.call(this,s)},r}(cA);function YY(i,r,e){for(var s=i.firstChild,o=!1,a=0;a<r.length;a++){var D=r[a],k=D.dom;if(k.parentNode==i){for(;k!=s;)s=KY(s),o=!0;s=s.nextSibling}else o=!0,i.insertBefore(k,s);if(D instanceof LF){var N=s?s.previousSibling:i.lastChild;YY(D.contentDOM,D.children,e),s=N?N.nextSibling:i.firstChild}}for(;s;)s=KY(s),o=!0;o&&e.trackWrites==i&&(e.trackWrites=null)}function uA(i){i&&(this.nodeName=i)}uA.prototype=Object.create(null);var z1=[new uA];function BF(i,r,e){if(0==i.length)return z1;for(var s=e?z1[0]:new uA,o=[s],a=0;a<i.length;a++){var D=i[a].type.attrs;if(D)for(var k in D.nodeName&&o.push(s=new uA(D.nodeName)),D){var N=D[k];null!=N&&(e&&1==o.length&&o.push(s=new uA(r.isInline?"span":"div")),"class"==k?s.class=(s.class?s.class+" ":"")+N:"style"==k?s.style=(s.style?s.style+";":"")+N:"nodeName"!=k&&(s[k]=N))}}return o}function WY(i,r,e,s){if(e==z1&&s==z1)return r;for(var o=r,a=0;a<s.length;a++){var D=s[a],k=e[a];if(a){var N=void 0;k&&k.nodeName==D.nodeName&&o!=i&&(N=o.parentNode)&&N.tagName.toLowerCase()==D.nodeName||((N=document.createElement(D.nodeName)).pmIsDeco=!0,N.appendChild(o),k=z1[0]),o=N}Jpe(o,k||z1[0],D)}return o}function Jpe(i,r,e){for(var s in r)"class"!=s&&"style"!=s&&"nodeName"!=s&&!(s in e)&&i.removeAttribute(s);for(var o in e)"class"!=o&&"style"!=o&&"nodeName"!=o&&e[o]!=r[o]&&i.setAttribute(o,e[o]);if(r.class!=e.class){for(var a=r.class?r.class.split(" ").filter(Boolean):bv,D=e.class?e.class.split(" ").filter(Boolean):bv,k=0;k<a.length;k++)-1==D.indexOf(a[k])&&i.classList.remove(a[k]);for(var N=0;N<D.length;N++)-1==a.indexOf(D[N])&&i.classList.add(D[N])}if(r.style!=e.style){if(r.style)for(var G,B=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;G=B.exec(r.style);)i.style.removeProperty(G[1]);e.style&&(i.style.cssText+=e.style)}}function $Y(i,r,e){return WY(i,i,z1,BF(r,e,1!=i.nodeType))}function VF(i,r){if(i.length!=r.length)return!1;for(var e=0;e<i.length;e++)if(!i[e].type.eq(r[e].type))return!1;return!0}function KY(i){var r=i.nextSibling;return i.parentNode.removeChild(i),r}var th=function(r,e){this.top=r,this.lock=e,this.index=0,this.stack=[],this.changed=!1,this.preMatch=function(i,r){for(var e=i.childCount,s=r.length,o=new Map;e>0&&s>0;s--){var a=r[s-1],D=a.node;if(D){if(D!=i.child(e-1))break;--e,o.set(a,e)}}return{index:e,matched:o}}(r.node.content,r.children)};function Xpe(i,r){return i.type.side-r.type.side}function zF(i,r,e,s,o){for(var a=[],D=0,k=0;D<i.length;D++){var N=i[D],B=k,G=k+=N.size;B>=e||G<=r?a.push(N):(B<r&&a.push(N.slice(0,r-B,s)),o&&(a.push(o),o=null),G>e&&a.push(N.slice(e-B,N.size,s)))}return a}function ZY(i,r){var e=i.root.getSelection(),s=i.state.doc;if(!e.focusNode)return null;var o=i.docView.nearestDesc(e.focusNode),a=o&&0==o.size,D=i.docView.posFromDOM(e.focusNode,e.focusOffset);if(D<0)return null;var N,B,k=s.resolve(D);if(NF(e)){for(N=k;o&&!o.node;)o=o.parent;if(o&&o.node.isAtom&&sn.qv.isSelectable(o.node)&&o.parent&&(!o.node.isInline||!function(i,r,e){for(var s=0==r,o=r==Vp(i);s||o;){if(i==e)return!0;var a=eh(i);if(!(i=i.parentNode))return!1;s=s&&0==a,o=o&&a==Vp(i)}}(e.focusNode,e.focusOffset,o.dom))){var G=o.posBefore;B=new sn.qv(D==G?k:s.resolve(G))}}else{var $=i.docView.posFromDOM(e.anchorNode,e.anchorOffset);if($<0)return null;N=s.resolve($)}return B||(B=UF(i,N,k,"pointer"==r||i.state.selection.head<k.pos&&!a?1:-1)),B}function JY(i){return i.editable?i.hasFocus():GF(i)&&document.activeElement&&document.activeElement.contains(i.dom)}function wv(i,r){var e=i.state.selection;if(tW(i,e),JY(i)){if(!r&&i.mouseDown&&i.mouseDown.allowDefault)return i.mouseDown.delayedSelectionSync=!0,void i.domObserver.setCurSelection();if(i.domObserver.disconnectSelection(),i.cursorWrapper)!function(i){var r=i.root.getSelection(),e=document.createRange(),s=i.cursorWrapper.dom,o="IMG"==s.nodeName;o?e.setEnd(s.parentNode,eh(s)+1):e.setEnd(s,0),e.collapse(!1),r.removeAllRanges(),r.addRange(e),!o&&!i.state.selection.visible&&kn.ie&&kn.ie_version<=11&&(s.disabled=!0,s.disabled=!1)}(i);else{var a,D,s=e.anchor,o=e.head;QY&&!(e instanceof sn.Bs)&&(e.$from.parent.inlineContent||(a=XY(i,e.from)),!e.empty&&!e.$from.parent.inlineContent&&(D=XY(i,e.to))),i.docView.setSelection(s,o,i.root,r),QY&&(a&&eW(a),D&&eW(D)),e.visible?i.dom.classList.remove("ProseMirror-hideselection"):(i.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(i){var r=i.dom.ownerDocument;r.removeEventListener("selectionchange",i.hideSelectionGuard);var e=i.root.getSelection(),s=e.anchorNode,o=e.anchorOffset;r.addEventListener("selectionchange",i.hideSelectionGuard=function(){(e.anchorNode!=s||e.anchorOffset!=o)&&(r.removeEventListener("selectionchange",i.hideSelectionGuard),setTimeout(function(){(!JY(i)||i.state.selection.visible)&&i.dom.classList.remove("ProseMirror-hideselection")},20))})}(i))}i.domObserver.setCurSelection(),i.domObserver.connectSelection()}}th.prototype.destroyBetween=function(r,e){if(r!=e){for(var s=r;s<e;s++)this.top.children[s].destroy();this.top.children.splice(r,e-r),this.changed=!0}},th.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},th.prototype.syncToMarks=function(r,e,s){for(var o=0,a=this.stack.length>>1,D=Math.min(a,r.length);o<D&&(o==a-1?this.top:this.stack[o+1<<1]).matchesMark(r[o])&&!1!==r[o].type.spec.spanning;)o++;for(;o<a;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),a--;for(;a<r.length;){this.stack.push(this.top,this.index+1);for(var k=-1,N=this.index;N<Math.min(this.index+3,this.top.children.length);N++)if(this.top.children[N].matchesMark(r[a])){k=N;break}if(k>-1)k>this.index&&(this.changed=!0,this.destroyBetween(this.index,k)),this.top=this.top.children[this.index];else{var B=LF.create(this.top,r[a],e,s);this.top.children.splice(this.index,0,B),this.top=B,this.changed=!0}this.index=0,a++}},th.prototype.findNodeMatch=function(r,e,s,o){var a=this.top.children,D=-1;if(o>=this.preMatch.index){for(var k=this.index;k<a.length;k++)if(a[k].matchesNode(r,e,s)){D=k;break}}else for(var N=this.index,B=Math.min(a.length,N+1);N<B;N++){var G=a[N];if(G.matchesNode(r,e,s)&&!this.preMatch.matched.has(G)){D=N;break}}return!(D<0||(this.destroyBetween(this.index,D),this.index++,0))},th.prototype.updateNodeAt=function(r,e,s,o,a){return!!this.top.children[o].update(r,e,s,a)&&(this.destroyBetween(this.index,o),this.index=o+1,!0)},th.prototype.findIndexWithChild=function(r){for(;;){var e=r.parentNode;if(!e)return-1;if(e==this.top.contentDOM){var s=r.pmViewDesc;if(s)for(var o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==s)return o;return-1}r=e}},th.prototype.updateNextNode=function(r,e,s,o,a){for(var D=this.index;D<this.top.children.length;D++){var k=this.top.children[D];if(k instanceof cA){var N=this.preMatch.matched.get(k);if(null!=N&&N!=a)return!1;var B=k.dom;if((!this.lock||!(B==this.lock||1==B.nodeType&&B.contains(this.lock.parentNode))||r.isText&&k.node&&k.node.isText&&k.nodeDOM.nodeValue==r.text&&3!=k.dirty&&VF(e,k.outerDeco))&&k.update(r,e,s,o))return this.destroyBetween(this.index,D),k.dom!=B&&(this.changed=!0),this.index++,!0;break}}return!1},th.prototype.addNode=function(r,e,s,o,a){this.top.children.splice(this.index++,0,cA.create(this.top,r,e,s,o,a)),this.changed=!0},th.prototype.placeWidget=function(r,e,s){var o=this.index<this.top.children.length?this.top.children[this.index]:null;if(!o||!o.matchesWidget(r)||r!=o.widget&&o.widget.type.toDOM.parentNode){var a=new Wpe(this.top,r,e,s);this.top.children.splice(this.index++,0,a),this.changed=!0}else this.index++},th.prototype.addTextblockHacks=function(){for(var r=this.top.children[this.index-1];r instanceof LF;)r=r.children[r.children.length-1];(!r||!(r instanceof jY)||/\n$/.test(r.node.text))&&((kn.safari||kn.chrome)&&r&&"false"==r.dom.contentEditable&&this.addHackNode("IMG"),this.addHackNode("BR"))},th.prototype.addHackNode=function(r){if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack(r))this.index++;else{var e=document.createElement(r);"IMG"==r&&(e.className="ProseMirror-separator"),this.top.children.splice(this.index++,0,new Kpe(this.top,bv,e,null)),this.changed=!0}};var QY=kn.safari||kn.chrome&&kn.chrome_version<63;function XY(i,r){var e=i.docView.domFromPos(r,0),s=e.node,o=e.offset,a=o<s.childNodes.length?s.childNodes[o]:null,D=o?s.childNodes[o-1]:null;if(kn.safari&&a&&"false"==a.contentEditable)return HF(a);if(!(a&&"false"!=a.contentEditable||D&&"false"!=D.contentEditable)){if(a)return HF(a);if(D)return HF(D)}}function HF(i){return i.contentEditable="true",kn.safari&&i.draggable&&(i.draggable=!1,i.wasDraggable=!0),i}function eW(i){i.contentEditable="false",i.wasDraggable&&(i.draggable=!0,i.wasDraggable=null)}function tW(i,r){if(r instanceof sn.qv){var e=i.docView.descAt(r.from);e!=i.lastSelectedViewDesc&&(nW(i),e&&e.selectNode(),i.lastSelectedViewDesc=e)}else nW(i)}function nW(i){i.lastSelectedViewDesc&&(i.lastSelectedViewDesc.parent&&i.lastSelectedViewDesc.deselectNode(),i.lastSelectedViewDesc=null)}function UF(i,r,e,s){return i.someProp("createSelectionBetween",function(o){return o(i,r,e)})||sn.Bs.between(r,e,s)}function GF(i){var r=i.root.getSelection();if(!r.anchorNode)return!1;try{return i.dom.contains(3==r.anchorNode.nodeType?r.anchorNode.parentNode:r.anchorNode)&&(i.editable||i.dom.contains(3==r.focusNode.nodeType?r.focusNode.parentNode:r.focusNode))}catch(e){return!1}}function qF(i,r){var e=i.selection,s=e.$anchor,o=e.$head,a=r>0?s.max(o):s.min(o),D=a.parent.inlineContent?a.depth?i.doc.resolve(r>0?a.after():a.before()):null:a;return D&&sn.Y1.findFrom(D,r)}function H1(i,r){return i.dispatch(i.state.tr.setSelection(r).scrollIntoView()),!0}function rW(i,r,e){var s=i.state.selection;if(!(s instanceof sn.Bs)){if(s instanceof sn.qv&&s.node.isInline)return H1(i,new sn.Bs(r>0?s.$to:s.$from));var B=qF(i.state,r);return!!B&&H1(i,B)}if(!s.empty||e.indexOf("s")>-1)return!1;if(i.endOfTextblock(r>0?"right":"left")){var o=qF(i.state,r);return!!(o&&o instanceof sn.qv)&&H1(i,o)}if(!(kn.mac&&e.indexOf("m")>-1)){var k,a=s.$head,D=a.textOffset?null:r<0?a.nodeBefore:a.nodeAfter;if(!D||D.isText)return!1;var N=r<0?a.pos-D.nodeSize:a.pos;return!!(D.isAtom||(k=i.docView.descAt(N))&&!k.contentDOM)&&(sn.qv.isSelectable(D)?H1(i,new sn.qv(r<0?i.state.doc.resolve(a.pos-D.nodeSize):a)):!!kn.webkit&&H1(i,new sn.Bs(i.state.doc.resolve(r<0?N:N+D.nodeSize))))}}function i6(i){return 3==i.nodeType?i.nodeValue.length:i.childNodes.length}function dA(i){var r=i.pmViewDesc;return r&&0==r.size&&(i.nextSibling||"BR"!=i.nodeName)}function jF(i){var r=i.root.getSelection(),e=r.focusNode,s=r.focusOffset;if(e){var o,a,D=!1;for(kn.gecko&&1==e.nodeType&&s<i6(e)&&dA(e.childNodes[s])&&(D=!0);;)if(s>0){if(1!=e.nodeType)break;var k=e.childNodes[s-1];if(dA(k))o=e,a=--s;else{if(3!=k.nodeType)break;s=(e=k).nodeValue.length}}else{if(iW(e))break;for(var N=e.previousSibling;N&&dA(N);)o=e.parentNode,a=eh(N),N=N.previousSibling;if(N)s=i6(e=N);else{if((e=e.parentNode)==i.dom)break;s=0}}D?WF(i,r,e,s):o&&WF(i,r,o,a)}}function YF(i){var r=i.root.getSelection(),e=r.focusNode,s=r.focusOffset;if(e){for(var a,D,o=i6(e);;)if(s<o){if(1!=e.nodeType)break;if(!dA(e.childNodes[s]))break;a=e,D=++s}else{if(iW(e))break;for(var N=e.nextSibling;N&&dA(N);)a=N.parentNode,D=eh(N)+1,N=N.nextSibling;if(N)s=0,o=i6(e=N);else{if((e=e.parentNode)==i.dom)break;s=o=0}}a&&WF(i,r,a,D)}}function iW(i){var r=i.pmViewDesc;return r&&r.node&&r.node.isBlock}function WF(i,r,e,s){if(NF(r)){var o=document.createRange();o.setEnd(e,s),o.setStart(e,s),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,s);i.domObserver.setCurSelection();var a=i.state;setTimeout(function(){i.state==a&&wv(i)},50)}function sW(i,r,e){var s=i.state.selection;if(s instanceof sn.Bs&&!s.empty||e.indexOf("s")>-1||kn.mac&&e.indexOf("m")>-1)return!1;var o=s.$from,a=s.$to;if(!o.parent.inlineContent||i.endOfTextblock(r<0?"up":"down")){var D=qF(i.state,r);if(D&&D instanceof sn.qv)return H1(i,D)}if(!o.parent.inlineContent){var k=r<0?o:a,N=s instanceof sn.C1?sn.Y1.near(k,r):sn.Y1.findFrom(k,r);return!!N&&H1(i,N)}return!1}function oW(i,r){if(!(i.state.selection instanceof sn.Bs))return!0;var e=i.state.selection,s=e.$head,a=e.empty;if(!s.sameParent(e.$anchor))return!0;if(!a)return!1;if(i.endOfTextblock(r>0?"forward":"backward"))return!0;var D=!s.textOffset&&(r<0?s.nodeBefore:s.nodeAfter);if(D&&!D.isText){var k=i.state.tr;return r<0?k.delete(s.pos-D.nodeSize,s.pos):k.delete(s.pos,s.pos+D.nodeSize),i.dispatch(k),!0}return!1}function aW(i,r,e){i.domObserver.stop(),r.contentEditable=e,i.domObserver.start()}function hme(i){var r=i.pmViewDesc;if(r)return r.parseRule();if("BR"==i.nodeName&&i.parentNode){if(kn.safari&&/^(ul|ol)$/i.test(i.parentNode.nodeName)){var e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}if(i.parentNode.lastChild==i||kn.safari&&/^(tr|table)$/i.test(i.parentNode.nodeName))return{ignore:!0}}else if("IMG"==i.nodeName&&i.getAttribute("mark-placeholder"))return{ignore:!0}}function lW(i,r,e){return Math.max(e.anchor,e.head)>r.content.size?null:UF(i,r.resolve(e.anchor),r.resolve(e.head))}function $F(i,r,e){for(var s=i.depth,o=r?i.end():i.pos;s>0&&(r||i.indexAfter(s)==i.node(s).childCount);)s--,o++,r=!1;if(e)for(var a=i.node(s).maybeChild(i.indexAfter(s));a&&!a.isLeaf;)a=a.firstChild,o++;return o}function cW(i,r){for(var e=[],s=r.content,o=r.openStart,a=r.openEnd;o>1&&a>1&&1==s.childCount&&1==s.firstChild.childCount;){o--,a--;var D=s.firstChild;e.push(D.type.name,D.attrs!=D.type.defaultAttrs?D.attrs:null),s=D.content}var k=i.someProp("clipboardSerializer")||Rn.PW.fromSchema(i.state.schema),N=gW(),B=N.createElement("div");B.appendChild(k.serializeFragment(s,{document:N}));for(var $,G=B.firstChild;G&&1==G.nodeType&&($=pW[G.nodeName.toLowerCase()]);){for(var re=$.length-1;re>=0;re--){for(var oe=N.createElement($[re]);B.firstChild;)oe.appendChild(B.firstChild);B.appendChild(oe),"tbody"!=$[re]&&(o++,a++)}G=B.firstChild}return G&&1==G.nodeType&&G.setAttribute("data-pm-slice",o+" "+a+" "+JSON.stringify(e)),{dom:B,text:i.someProp("clipboardTextSerializer",function(ze){return ze(r)})||r.content.textBetween(0,r.content.size,"\n\n")}}function uW(i,r,e,s,o){var a,k,D=o.parent.type.spec.code;if(!e&&!r)return null;var N=r&&(s||D||!e);if(N){if(i.someProp("transformPastedText",function(Ft){r=Ft(r,D||s)}),D)return new Rn.p2(Rn.HY.from(i.state.schema.text(r.replace(/\r\n?/g,"\n"))),0,0);var B=i.someProp("clipboardTextParser",function(Ft){return Ft(r,o,s)});if(B)k=B;else{var G=o.marks(),re=i.state.schema,oe=Rn.PW.fromSchema(re);a=document.createElement("div"),r.trim().split(/(?:\r\n?|\n)+/).forEach(function(Ft){a.appendChild(document.createElement("p")).appendChild(oe.serializeNode(re.text(Ft,G)))})}}else i.someProp("transformPastedHTML",function(Ft){e=Ft(e)}),a=function(i){var r=/^(\s*<meta [^>]*>)*/.exec(i);r&&(i=i.slice(r[0].length));var o,e=gW().createElement("div"),s=/<([a-z][^>\s]+)/i.exec(i);if((o=s&&pW[s[1].toLowerCase()])&&(i=o.map(function(D){return"<"+D+">"}).join("")+i+o.map(function(D){return"</"+D+">"}).reverse().join("")),e.innerHTML=i,o)for(var a=0;a<o.length;a++)e=e.querySelector(o[a])||e;return e}(e),kn.webkit&&function(i){for(var r=i.querySelectorAll(kn.chrome?"span:not([class]):not([style])":"span.Apple-converted-space"),e=0;e<r.length;e++){var s=r[e];1==s.childNodes.length&&"\xa0"==s.textContent&&s.parentNode&&s.parentNode.replaceChild(i.ownerDocument.createTextNode(" "),s)}}(a);var _e=a&&a.querySelector("[data-pm-slice]"),ze=_e&&/^(\d+) (\d+) (.*)/.exec(_e.getAttribute("data-pm-slice"));if(!k){var mt=i.someProp("clipboardParser")||i.someProp("domParser")||Rn.aw.fromSchema(i.state.schema);k=mt.parseSlice(a,{preserveWhitespace:!(!N&&!ze),context:o})}return k=ze?function(i,r){if(!i.size)return i;var s,e=i.content.firstChild.type.schema;try{s=JSON.parse(r)}catch(B){return i}for(var o=i.content,a=i.openStart,D=i.openEnd,k=s.length-2;k>=0;k-=2){var N=e.nodes[s[k]];if(!N||N.hasRequiredAttrs())break;o=Rn.HY.from(N.create(s[k+1],o)),a++,D++}return new Rn.p2(o,a,D)}(function(i,r,e){return r<i.openStart&&(i=new Rn.p2(KF(i.content,-1,r,i.openStart,0,i.openEnd),r,i.openEnd)),e<i.openEnd&&(i=new Rn.p2(KF(i.content,1,e,i.openEnd,0,0),i.openStart,e)),i}(k,+ze[1],+ze[2]),ze[3]):Rn.p2.maxOpen(function(i,r){if(i.childCount<2)return i;for(var e=function(a){var k=r.node(a).contentMatchAt(r.index(a)),N=void 0,B=[];if(i.forEach(function(G){if(B){var re,$=k.findWrapping(G.type);if(!$)return B=null;if(re=B.length&&N.length&&hW($,N,G,B[B.length-1],0))B[B.length-1]=re;else{B.length&&(B[B.length-1]=fW(B[B.length-1],N.length));var oe=dW(G,$);B.push(oe),k=k.matchType(oe.type,oe.attrs),N=$}}}),B)return{v:Rn.HY.from(B)}},s=r.depth;s>=0;s--){var o=e(s);if(o)return o.v}return i}(k.content,o),!1),i.someProp("transformPasted",function(Ft){k=Ft(k)}),k}function dW(i,r,e){void 0===e&&(e=0);for(var s=r.length-1;s>=e;s--)i=r[s].create(null,Rn.HY.from(i));return i}function hW(i,r,e,s,o){if(o<i.length&&o<r.length&&i[o]==r[o]){var a=hW(i,r,e,s.lastChild,o+1);if(a)return s.copy(s.content.replaceChild(s.childCount-1,a));if(s.contentMatchAt(s.childCount).matchType(o==i.length-1?e.type:i[o+1]))return s.copy(s.content.append(Rn.HY.from(dW(e,i,o+1))))}}function fW(i,r){if(0==r)return i;var e=i.content.replaceChild(i.childCount-1,fW(i.lastChild,r-1)),s=i.contentMatchAt(i.childCount).fillBefore(Rn.HY.empty,!0);return i.copy(e.append(s))}function KF(i,r,e,s,o,a){var D=r<0?i.firstChild:i.lastChild,k=D.content;return o<s-1&&(k=KF(k,r,e,s,o+1,a)),o>=e&&(k=r<0?D.contentMatchAt(0).fillBefore(k,i.childCount>1||a<=o).append(k):k.append(D.contentMatchAt(D.childCount).fillBefore(Rn.HY.empty,!0))),i.replaceChild(r<0?0:i.childCount-1,D.copy(k))}var pW={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},mW=null;function gW(){return mW||(mW=document.implementation.createHTMLDocument("title"))}var Cme={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},ZF=kn.ie&&kn.ie_version<=11,JF=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};JF.prototype.set=function(r){this.anchorNode=r.anchorNode,this.anchorOffset=r.anchorOffset,this.focusNode=r.focusNode,this.focusOffset=r.focusOffset},JF.prototype.eq=function(r){return r.anchorNode==this.anchorNode&&r.anchorOffset==this.anchorOffset&&r.focusNode==this.focusNode&&r.focusOffset==this.focusOffset};var Wu=function(r,e){var s=this;this.view=r,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver(function(o){for(var a=0;a<o.length;a++)s.queue.push(o[a]);kn.ie&&kn.ie_version<=11&&o.some(function(D){return"childList"==D.type&&D.removedNodes.length||"characterData"==D.type&&D.oldValue.length>D.target.nodeValue.length})?s.flushSoon():s.flush()}),this.currentSelection=new JF,ZF&&(this.onCharData=function(o){s.queue.push({target:o.target,type:"characterData",oldValue:o.prevValue}),s.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};Wu.prototype.flushSoon=function(){var r=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(function(){r.flushingSoon=-1,r.flush()},20))},Wu.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},Wu.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,Cme),ZF&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},Wu.prototype.stop=function(){var r=this;if(this.observer){var e=this.observer.takeRecords();if(e.length){for(var s=0;s<e.length;s++)this.queue.push(e[s]);window.setTimeout(function(){return r.flush()},20)}this.observer.disconnect()}ZF&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},Wu.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},Wu.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},Wu.prototype.suppressSelectionUpdates=function(){var r=this;this.suppressingSelectionUpdates=!0,setTimeout(function(){return r.suppressingSelectionUpdates=!1},50)},Wu.prototype.onSelectionChange=function(){if(function(i){return(!i.editable||i.root.activeElement==i.dom)&&GF(i)}(this.view)){if(this.suppressingSelectionUpdates)return wv(this.view);if(kn.ie&&kn.ie_version<=11&&!this.view.state.selection.empty){var r=this.view.root.getSelection();if(r.focusNode&&r6(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset))return this.flushSoon()}this.flush()}},Wu.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},Wu.prototype.ignoreSelectionChange=function(r){if(0==r.rangeCount)return!0;var e=r.getRangeAt(0).commonAncestorContainer,s=this.view.docView.nearestDesc(e);return s&&s.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})?(this.setCurSelection(),!0):void 0},Wu.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var r=this.observer?this.observer.takeRecords():[];this.queue.length&&(r=this.queue.concat(r),this.queue.length=0);var e=this.view.root.getSelection(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&GF(this.view)&&!this.ignoreSelectionChange(e),o=-1,a=-1,D=!1,k=[];if(this.view.editable)for(var N=0;N<r.length;N++){var B=this.registerMutation(r[N],k);B&&(o=o<0?B.from:Math.min(B.from,o),a=a<0?B.to:Math.max(B.to,a),B.typeOver&&(D=!0))}if(kn.gecko&&k.length>1){var G=k.filter(function(oe){return"BR"==oe.nodeName});if(2==G.length){var $=G[0],re=G[1];$.parentNode&&$.parentNode.parentNode==re.parentNode?re.remove():$.remove()}}(o>-1||s)&&(o>-1&&(this.view.docView.markDirty(o,a),function(i){_W||(_W=!0,"normal"==getComputedStyle(i.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))}(this.view)),this.handleDOMChange(o,a,D,k),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(e)||wv(this.view),this.currentSelection.set(e))}},Wu.prototype.registerMutation=function(r,e){if(e.indexOf(r.target)>-1)return null;var s=this.view.docView.nearestDesc(r.target);if("attributes"==r.type&&(s==this.view.docView||"contenteditable"==r.attributeName||"style"==r.attributeName&&!r.oldValue&&!r.target.getAttribute("style"))||!s||s.ignoreMutation(r))return null;if("childList"==r.type){for(var o=0;o<r.addedNodes.length;o++)e.push(r.addedNodes[o]);if(s.contentDOM&&s.contentDOM!=s.dom&&!s.contentDOM.contains(r.target))return{from:s.posBefore,to:s.posAfter};var a=r.previousSibling,D=r.nextSibling;if(kn.ie&&kn.ie_version<=11&&r.addedNodes.length)for(var k=0;k<r.addedNodes.length;k++){var N=r.addedNodes[k],B=N.previousSibling,G=N.nextSibling;(!B||Array.prototype.indexOf.call(r.addedNodes,B)<0)&&(a=B),(!G||Array.prototype.indexOf.call(r.addedNodes,G)<0)&&(D=G)}var $=a&&a.parentNode==r.target?eh(a)+1:0,re=s.localPosFromDOM(r.target,$,-1),oe=D&&D.parentNode==r.target?eh(D):r.target.childNodes.length;return{from:re,to:s.localPosFromDOM(r.target,oe,1)}}return"attributes"==r.type?{from:s.posAtStart-s.border,to:s.posAtEnd+s.border}:{from:s.posAtStart,to:s.posAtEnd,typeOver:r.target.nodeValue==r.oldValue}};var _W=!1,nu={},Ec={};function U1(i,r){i.lastSelectionOrigin=r,i.lastSelectionTime=Date.now()}function QF(i){i.someProp("handleDOMEvents",function(r){for(var e in r)i.eventHandlers[e]||i.dom.addEventListener(e,i.eventHandlers[e]=function(s){return XF(i,s)})})}function XF(i,r){return i.someProp("handleDOMEvents",function(e){var s=e[r.type];return!!s&&(s(i,r)||r.defaultPrevented)})}function s6(i){return{left:i.clientX,top:i.clientY}}function eL(i,r,e,s,o){if(-1==s)return!1;for(var a=i.state.doc.resolve(s),D=function(B){if(i.someProp(r,function(G){return B>a.depth?G(i,e,a.nodeAfter,a.before(B),o,!0):G(i,e,a.node(B),a.before(B),o,!1)}))return{v:!0}},k=a.depth+1;k>0;k--){var N=D(k);if(N)return N.v}return!1}function aE(i,r,e){i.focused||i.focus();var s=i.state.tr.setSelection(r);"pointer"==e&&s.setMeta("pointer",!0),i.dispatch(s)}function Rme(i,r,e,s){return eL(i,"handleDoubleClickOn",r,e,s)||i.someProp("handleDoubleClick",function(o){return o(i,r,s)})}function Ome(i,r,e,s){return eL(i,"handleTripleClickOn",r,e,s)||i.someProp("handleTripleClick",function(o){return o(i,r,s)})||function(i,r,e){if(0!=e.button)return!1;var s=i.state.doc;if(-1==r)return!!s.inlineContent&&(aE(i,sn.Bs.create(s,0,s.content.size),"pointer"),!0);for(var o=s.resolve(r),a=o.depth+1;a>0;a--){var D=a>o.depth?o.nodeAfter:o.node(a),k=o.before(a);if(D.inlineContent)aE(i,sn.Bs.create(s,k+1,k+1+D.content.size),"pointer");else{if(!sn.qv.isSelectable(D))continue;aE(i,sn.qv.create(s,k),"pointer")}return!0}}(i,e,s)}function tL(i){return a6(i)}Ec.keydown=function(i,r){if(i.shiftKey=16==r.keyCode||r.shiftKey,!yW(i,r))if(229!=r.keyCode&&i.domObserver.forceFlush(),i.lastKeyCode=r.keyCode,i.lastKeyCodeTime=Date.now(),!kn.ios||13!=r.keyCode||r.ctrlKey||r.altKey||r.metaKey)i.someProp("handleKeyDown",function(s){return s(i,r)})||function(i,r){var e=r.keyCode,s=function(i){var r="";return i.ctrlKey&&(r+="c"),i.metaKey&&(r+="m"),i.altKey&&(r+="a"),i.shiftKey&&(r+="s"),r}(r);return 8==e||kn.mac&&72==e&&"c"==s?oW(i,-1)||jF(i):46==e||kn.mac&&68==e&&"c"==s?oW(i,1)||YF(i):13==e||27==e||(37==e?rW(i,-1,s)||jF(i):39==e?rW(i,1,s)||YF(i):38==e?sW(i,-1,s)||jF(i):40==e?function(i){if(kn.safari&&!(i.state.selection.$head.parentOffset>0)){var r=i.root.getSelection(),e=r.focusNode;if(e&&1==e.nodeType&&0==r.focusOffset&&e.firstChild&&"false"==e.firstChild.contentEditable){var o=e.firstChild;aW(i,o,!0),setTimeout(function(){return aW(i,o,!1)},20)}}}(i)||sW(i,1,s)||YF(i):s==(kn.mac?"m":"c")&&(66==e||73==e||89==e||90==e))}(i,r)?r.preventDefault():U1(i,"key");else{var e=Date.now();i.lastIOSEnter=e,i.lastIOSEnterFallbackTimeout=setTimeout(function(){i.lastIOSEnter==e&&(i.someProp("handleKeyDown",function(s){return s(i,sE(13,"Enter"))}),i.lastIOSEnter=0)},200)}},Ec.keyup=function(i,r){16==r.keyCode&&(i.shiftKey=!1)},Ec.keypress=function(i,r){if(!(yW(i,r)||!r.charCode||r.ctrlKey&&!r.altKey||kn.mac&&r.metaKey)){if(i.someProp("handleKeyPress",function(o){return o(i,r)}))return void r.preventDefault();var e=i.state.selection;if(!(e instanceof sn.Bs&&e.$from.sameParent(e.$to))){var s=String.fromCharCode(r.charCode);i.someProp("handleTextInput",function(o){return o(i,e.$from.pos,e.$to.pos,s)})||i.dispatch(i.state.tr.insertText(s).scrollIntoView()),r.preventDefault()}}};var vW=kn.mac?"metaKey":"ctrlKey";nu.mousedown=function(i,r){i.shiftKey=r.shiftKey;var e=tL(i),s=Date.now(),o="singleClick";s-i.lastClick.time<500&&function(i,r){var e=r.x-i.clientX,s=r.y-i.clientY;return e*e+s*s<100}(r,i.lastClick)&&!r[vW]&&("singleClick"==i.lastClick.type?o="doubleClick":"doubleClick"==i.lastClick.type&&(o="tripleClick")),i.lastClick={time:s,x:r.clientX,y:r.clientY,type:o};var a=i.posAtCoords(s6(r));!a||("singleClick"==o?(i.mouseDown&&i.mouseDown.done(),i.mouseDown=new o6(i,a,r,e)):("doubleClick"==o?Rme:Ome)(i,a.pos,a.inside,r)?r.preventDefault():U1(i,"pointer"))};var o6=function(r,e,s,o){var D,k,a=this;if(this.view=r,this.startDoc=r.state.doc,this.pos=e,this.event=s,this.flushed=o,this.selectNode=s[vW],this.allowDefault=s.shiftKey,this.delayedSelectionSync=!1,e.inside>-1)D=r.state.doc.nodeAt(e.inside),k=e.inside;else{var N=r.state.doc.resolve(e.pos);D=N.parent,k=N.depth?N.before():0}this.mightDrag=null;var B=o?null:s.target,G=B?r.docView.nearestDesc(B,!0):null;this.target=G?G.dom:null;var re=r.state.selection;(0==s.button&&D.type.spec.draggable&&!1!==D.type.spec.selectable||re instanceof sn.qv&&re.from<=k&&re.to>k)&&(this.mightDrag={node:D,pos:k,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&kn.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(function(){a.view.mouseDown==a&&a.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),r.root.addEventListener("mouseup",this.up=this.up.bind(this)),r.root.addEventListener("mousemove",this.move=this.move.bind(this)),U1(r,"pointer")};function yW(i,r){return!!i.composing||!!(kn.safari&&Math.abs(r.timeStamp-i.compositionEndedAt)<500)&&(i.compositionEndedAt=-2e8,!0)}o6.prototype.done=function(){var r=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(function(){return wv(r.view)}),this.view.mouseDown=null},o6.prototype.up=function(r){if(this.done(),this.view.dom.contains(3==r.target.nodeType?r.target.parentNode:r.target)){var e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(s6(r))),this.allowDefault||!e?U1(this.view,"pointer"):function(i,r,e,s,o){return eL(i,"handleClickOn",r,e,s)||i.someProp("handleClick",function(a){return a(i,r,s)})||(o?function(i,r){if(-1==r)return!1;var s,o,e=i.state.selection;e instanceof sn.qv&&(s=e.node);for(var a=i.state.doc.resolve(r),D=a.depth+1;D>0;D--){var k=D>a.depth?a.nodeAfter:a.node(D);if(sn.qv.isSelectable(k)){o=s&&e.$from.depth>0&&D>=e.$from.depth&&a.before(e.$from.depth+1)==e.$from.pos?a.before(e.$from.depth):a.before(D);break}}return null!=o&&(aE(i,sn.qv.create(i.state.doc,o),"pointer"),!0)}(i,e):function(i,r){if(-1==r)return!1;var e=i.state.doc.resolve(r),s=e.nodeAfter;return!!(s&&s.isAtom&&sn.qv.isSelectable(s))&&(aE(i,new sn.qv(e),"pointer"),!0)}(i,e))}(this.view,e.pos,e.inside,r,this.selectNode)?r.preventDefault():0==r.button&&(this.flushed||kn.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||kn.chrome&&!(this.view.state.selection instanceof sn.Bs)&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(aE(this.view,sn.Y1.near(this.view.state.doc.resolve(e.pos)),"pointer"),r.preventDefault()):U1(this.view,"pointer")}},o6.prototype.move=function(r){!this.allowDefault&&(Math.abs(this.event.x-r.clientX)>4||Math.abs(this.event.y-r.clientY)>4)&&(this.allowDefault=!0),U1(this.view,"pointer"),0==r.buttons&&this.done()},nu.touchdown=function(i){tL(i),U1(i,"pointer")},nu.contextmenu=function(i){return tL(i)};var Pme=kn.android?5e3:-1;function bW(i,r){clearTimeout(i.composingTimeout),r>-1&&(i.composingTimeout=setTimeout(function(){return a6(i)},r))}function wW(i){for(i.composing&&(i.composing=!1,i.compositionEndedAt=function(){var i=document.createEvent("Event");return i.initEvent("event",!0,!0),i.timeStamp}());i.compositionNodes.length>0;)i.compositionNodes.pop().markParentsDirty()}function a6(i,r){if(i.domObserver.forceFlush(),wW(i),r||i.docView.dirty){var e=ZY(i);return e&&!e.eq(i.state.selection)?i.dispatch(i.state.tr.setSelection(e)):i.updateState(i.state),!0}return!1}Ec.compositionstart=Ec.compositionupdate=function(i){if(!i.composing){i.domObserver.flush();var r=i.state,e=r.selection.$from;if(r.selection.empty&&(r.storedMarks||!e.textOffset&&e.parentOffset&&e.nodeBefore.marks.some(function(k){return!1===k.type.spec.inclusive})))i.markCursor=i.state.storedMarks||e.marks(),a6(i,!0),i.markCursor=null;else if(a6(i),kn.gecko&&r.selection.empty&&e.parentOffset&&!e.textOffset&&e.nodeBefore.marks.length)for(var s=i.root.getSelection(),o=s.focusNode,a=s.focusOffset;o&&1==o.nodeType&&0!=a;){var D=a<0?o.lastChild:o.childNodes[a-1];if(!D)break;if(3==D.nodeType){s.collapse(D,D.nodeValue.length);break}o=D,a=-1}i.composing=!0}bW(i,Pme)},Ec.compositionend=function(i,r){i.composing&&(i.composing=!1,i.compositionEndedAt=r.timeStamp,bW(i,20))};var lE=kn.ie&&kn.ie_version<15||kn.ios&&kn.webkit_version<604;function nL(i,r,e,s){var o=uW(i,r,e,i.shiftKey,i.state.selection.$from);if(i.someProp("handlePaste",function(k){return k(i,s,o||Rn.p2.empty)}))return!0;if(!o)return!1;var a=function(i){return 0==i.openStart&&0==i.openEnd&&1==i.content.childCount?i.content.firstChild:null}(o),D=a?i.state.tr.replaceSelectionWith(a,i.shiftKey):i.state.tr.replaceSelection(o);return i.dispatch(D.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}nu.copy=Ec.cut=function(i,r){var e=i.state.selection,s="cut"==r.type;if(!e.empty){var o=lE?null:r.clipboardData,D=cW(i,e.content()),k=D.dom,N=D.text;o?(r.preventDefault(),o.clearData(),o.setData("text/html",k.innerHTML),o.setData("text/plain",N)):function(i,r){if(i.dom.parentNode){var e=i.dom.parentNode.appendChild(document.createElement("div"));e.appendChild(r),e.style.cssText="position: fixed; left: -10000px; top: 10px";var s=getSelection(),o=document.createRange();o.selectNodeContents(r),i.dom.blur(),s.removeAllRanges(),s.addRange(o),setTimeout(function(){e.parentNode&&e.parentNode.removeChild(e),i.focus()},50)}}(i,k),s&&i.dispatch(i.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},Ec.paste=function(i,r){var e=lE?null:r.clipboardData;e&&nL(i,e.getData("text/plain"),e.getData("text/html"),r)?r.preventDefault():function(i,r){if(i.dom.parentNode){var e=i.shiftKey||i.state.selection.$from.parent.type.spec.code,s=i.dom.parentNode.appendChild(document.createElement(e?"textarea":"div"));e||(s.contentEditable="true"),s.style.cssText="position: fixed; left: -10000px; top: 10px",s.focus(),setTimeout(function(){i.focus(),s.parentNode&&s.parentNode.removeChild(s),e?nL(i,s.value,null,r):nL(i,s.textContent,s.innerHTML,r)},50)}}(i,r)};var zme=function(r,e){this.slice=r,this.move=e},CW=kn.mac?"altKey":"ctrlKey";for(var SW in nu.dragstart=function(i,r){var e=i.mouseDown;if(e&&e.done(),r.dataTransfer){var s=i.state.selection,o=s.empty?null:i.posAtCoords(s6(r));if(!(o&&o.pos>=s.from&&o.pos<=(s instanceof sn.qv?s.to-1:s.to)))if(e&&e.mightDrag)i.dispatch(i.state.tr.setSelection(sn.qv.create(i.state.doc,e.mightDrag.pos)));else if(r.target&&1==r.target.nodeType){var a=i.docView.nearestDesc(r.target,!0);a&&a.node.type.spec.draggable&&a!=i.docView&&i.dispatch(i.state.tr.setSelection(sn.qv.create(i.state.doc,a.posBefore)))}var D=i.state.selection.content(),k=cW(i,D),N=k.dom,B=k.text;r.dataTransfer.clearData(),r.dataTransfer.setData(lE?"Text":"text/html",N.innerHTML),r.dataTransfer.effectAllowed="copyMove",lE||r.dataTransfer.setData("text/plain",B),i.dragging=new zme(D,!r[CW])}},nu.dragend=function(i){var r=i.dragging;window.setTimeout(function(){i.dragging==r&&(i.dragging=null)},50)},Ec.dragover=Ec.dragenter=function(i,r){return r.preventDefault()},Ec.drop=function(i,r){var e=i.dragging;if(i.dragging=null,r.dataTransfer){var s=i.posAtCoords(s6(r));if(s){var o=i.state.doc.resolve(s.pos);if(o){var a=e&&e.slice;a?i.someProp("transformPasted",function(_e){a=_e(a)}):a=uW(i,r.dataTransfer.getData(lE?"Text":"text/plain"),lE?null:r.dataTransfer.getData("text/html"),!1,o);var D=e&&!r[CW];if(i.someProp("handleDrop",function(_e){return _e(i,r,a||Rn.p2.empty,D)}))return void r.preventDefault();if(a){r.preventDefault();var k=a?(0,_r.dropPoint)(i.state.doc,o.pos,a):o.pos;null==k&&(k=o.pos);var N=i.state.tr;D&&N.deleteSelection();var B=N.mapping.map(k),G=0==a.openStart&&0==a.openEnd&&1==a.content.childCount,$=N.doc;if(G?N.replaceRangeWith(B,B,a.content.firstChild):N.replaceRange(B,B,a),!N.doc.eq($)){var re=N.doc.resolve(B);if(G&&sn.qv.isSelectable(a.content.firstChild)&&re.nodeAfter&&re.nodeAfter.sameMarkup(a.content.firstChild))N.setSelection(new sn.qv(re));else{var oe=N.mapping.map(k);N.mapping.maps[N.mapping.maps.length-1].forEach(function(_e,ze,mt,Ft){return oe=Ft}),N.setSelection(UF(i,re,N.doc.resolve(oe)))}i.focus(),i.dispatch(N.setMeta("uiEvent","drop"))}}}}}},nu.focus=function(i){i.focused||(i.domObserver.stop(),i.dom.classList.add("ProseMirror-focused"),i.domObserver.start(),i.focused=!0,setTimeout(function(){i.docView&&i.hasFocus()&&!i.domObserver.currentSelection.eq(i.root.getSelection())&&wv(i)},20))},nu.blur=function(i,r){i.focused&&(i.domObserver.stop(),i.dom.classList.remove("ProseMirror-focused"),i.domObserver.start(),r.relatedTarget&&i.dom.contains(r.relatedTarget)&&i.domObserver.currentSelection.set({}),i.focused=!1)},nu.beforeinput=function(i,r){if(kn.chrome&&kn.android&&"deleteContentBackward"==r.inputType){var e=i.domChangeCount;setTimeout(function(){if(i.domChangeCount==e&&(i.dom.blur(),i.focus(),!i.someProp("handleKeyDown",function(a){return a(i,sE(8,"Backspace"))}))){var o=i.state.selection.$cursor;o&&o.pos>0&&i.dispatch(i.state.tr.delete(o.pos-1,o.pos).scrollIntoView())}},50)}},Ec)nu[SW]=Ec[SW];function hA(i,r){if(i==r)return!0;for(var e in i)if(i[e]!==r[e])return!1;for(var s in r)if(!(s in i))return!1;return!0}var fA=function(r,e){this.spec=e||G1,this.side=this.spec.side||0,this.toDOM=r};fA.prototype.map=function(r,e,s,o){var a=r.mapResult(e.from+o,this.side<0?-1:1),D=a.pos;return a.deleted?null:new ho(D-s,D-s,this)},fA.prototype.valid=function(){return!0},fA.prototype.eq=function(r){return this==r||r instanceof fA&&(this.spec.key&&this.spec.key==r.spec.key||this.toDOM==r.toDOM&&hA(this.spec,r.spec))};var lf=function(r,e){this.spec=e||G1,this.attrs=r};lf.prototype.map=function(r,e,s,o){var a=r.map(e.from+o,this.spec.inclusiveStart?-1:1)-s,D=r.map(e.to+o,this.spec.inclusiveEnd?1:-1)-s;return a>=D?null:new ho(a,D,this)},lf.prototype.valid=function(r,e){return e.from<e.to},lf.prototype.eq=function(r){return this==r||r instanceof lf&&hA(this.attrs,r.attrs)&&hA(this.spec,r.spec)},lf.is=function(r){return r.type instanceof lf};var pA=function(r,e){this.spec=e||G1,this.attrs=r};pA.prototype.map=function(r,e,s,o){var a=r.mapResult(e.from+o,1);if(a.deleted)return null;var D=r.mapResult(e.to+o,-1);return D.deleted||D.pos<=a.pos?null:new ho(a.pos-s,D.pos-s,this)},pA.prototype.valid=function(r,e){var s=r.content.findIndex(e.from),a=s.offset;return a==e.from&&a+r.child(s.index).nodeSize==e.to},pA.prototype.eq=function(r){return this==r||r instanceof pA&&hA(this.attrs,r.attrs)&&hA(this.spec,r.spec)};var ho=function(r,e,s){this.from=r,this.to=e,this.type=s},rL={spec:{configurable:!0},inline:{configurable:!0}};ho.prototype.copy=function(r,e){return new ho(r,e,this.type)},ho.prototype.eq=function(r,e){return void 0===e&&(e=0),this.type.eq(r.type)&&this.from+e==r.from&&this.to+e==r.to},ho.prototype.map=function(r,e,s){return this.type.map(r,this,e,s)},ho.widget=function(r,e,s){return new ho(r,r,new fA(e,s))},ho.inline=function(r,e,s,o){return new ho(r,e,new lf(s,o))},ho.node=function(r,e,s,o){return new ho(r,e,new pA(s,o))},rL.spec.get=function(){return this.type.spec},rL.inline.get=function(){return this.type instanceof lf},Object.defineProperties(ho.prototype,rL);var l6=[],G1={},Hi=function(r,e){this.local=r&&r.length?r:l6,this.children=e&&e.length?e:l6};Hi.create=function(r,e){return e.length?c6(e,r,0,G1):El},Hi.prototype.find=function(r,e,s){var o=[];return this.findInner(null==r?0:r,null==e?1e9:e,o,0,s),o},Hi.prototype.findInner=function(r,e,s,o,a){for(var D=0;D<this.local.length;D++){var k=this.local[D];k.from<=e&&k.to>=r&&(!a||a(k.spec))&&s.push(k.copy(k.from+o,k.to+o))}for(var N=0;N<this.children.length;N+=3)if(this.children[N]<e&&this.children[N+1]>r){var B=this.children[N]+1;this.children[N+2].findInner(r-B,e-B,s,o+B,a)}},Hi.prototype.map=function(r,e,s){return this==El||0==r.maps.length?this:this.mapInner(r,e,0,0,s||G1)},Hi.prototype.mapInner=function(r,e,s,o,a){for(var D,k=0;k<this.local.length;k++){var N=this.local[k].map(r,s,o);N&&N.type.valid(e,N)?(D||(D=[])).push(N):a.onRemove&&a.onRemove(this.local[k].spec)}return this.children.length?function(i,r,e,s,o,a,D){for(var k=i.slice(),N=function(Fs,Cs,fs,lu){for(var Oa=0;Oa<k.length;Oa+=3){var Nn=k[Oa+1],hr=void 0;-1==Nn||Fs>Nn+a||(Cs>=k[Oa]+a?k[Oa+1]=-1:fs>=o&&(hr=lu-fs-(Cs-Fs))&&(k[Oa]+=hr,k[Oa+1]+=hr))}},B=0;B<e.maps.length;B++)e.maps[B].forEach(N);for(var G=!1,$=0;$<k.length;$+=3)if(-1==k[$+1]){var re=e.map(i[$]+a),oe=re-o;if(oe<0||oe>=s.content.size){G=!0;continue}var ze=e.map(i[$+1]+a,-1)-o,mt=s.content.findIndex(oe),Pt=mt.offset,dn=s.maybeChild(mt.index);if(dn&&Pt==oe&&Pt+dn.nodeSize==ze){var fn=k[$+2].mapInner(e,dn,re+1,i[$]+a+1,D);fn!=El?(k[$]=oe,k[$+1]=ze,k[$+2]=fn):(k[$+1]=-2,G=!0)}else G=!0}if(G){var er=c6(function(i,r,e,s,o,a,D){function k(B,G){for(var $=0;$<B.local.length;$++){var re=B.local[$].map(s,o,G);re?e.push(re):D.onRemove&&D.onRemove(B.local[$].spec)}for(var oe=0;oe<B.children.length;oe+=3)k(B.children[oe+2],B.children[oe]+G+1)}for(var N=0;N<i.length;N+=3)-1==i[N+1]&&k(i[N+2],r[N]+a+1);return e}(k,i,r||[],e,o,a,D),s,0,D);r=er.local;for(var Sr=0;Sr<k.length;Sr+=3)k[Sr+1]<0&&(k.splice(Sr,3),Sr-=3);for(var yr=0,Br=0;yr<er.children.length;yr+=3){for(var Ur=er.children[yr];Br<k.length&&k[Br]<Ur;)Br+=3;k.splice(Br,0,er.children[yr],er.children[yr+1],er.children[yr+2])}}return new Hi(r&&r.sort(q1),k)}(this.children,D,r,e,s,o,a):D?new Hi(D.sort(q1)):El},Hi.prototype.add=function(r,e){return e.length?this==El?Hi.create(r,e):this.addInner(r,e,0):this},Hi.prototype.addInner=function(r,e,s){var a,o=this,D=0;r.forEach(function(B,G){var re,$=G+s;if(re=EW(e,B,$)){for(a||(a=o.children.slice());D<a.length&&a[D]<G;)D+=3;a[D]==G?a[D+2]=a[D+2].addInner(B,re,$+1):a.splice(D,0,G,G+B.nodeSize,c6(re,B,$+1,G1)),D+=3}});for(var k=MW(D?DW(e):e,-s),N=0;N<k.length;N++)k[N].type.valid(r,k[N])||k.splice(N--,1);return new Hi(k.length?this.local.concat(k).sort(q1):this.local,a||this.children)},Hi.prototype.remove=function(r){return 0==r.length||this==El?this:this.removeInner(r,0)},Hi.prototype.removeInner=function(r,e){for(var s=this.children,o=this.local,a=0;a<s.length;a+=3){for(var D=void 0,k=s[a]+e,N=s[a+1]+e,B=0,G=void 0;B<r.length;B++)(G=r[B])&&G.from>k&&G.to<N&&(r[B]=null,(D||(D=[])).push(G));if(D){s==this.children&&(s=this.children.slice());var $=s[a+2].removeInner(D,k+1);$!=El?s[a+2]=$:(s.splice(a,3),a-=3)}}if(o.length)for(var re=0,oe=void 0;re<r.length;re++)if(oe=r[re])for(var _e=0;_e<o.length;_e++)o[_e].eq(oe,e)&&(o==this.local&&(o=this.local.slice()),o.splice(_e--,1));return s==this.children&&o==this.local?this:o.length||s.length?new Hi(o,s):El},Hi.prototype.forChild=function(r,e){if(this==El)return this;if(e.isLeaf)return Hi.empty;for(var s,o,a=0;a<this.children.length;a+=3)if(this.children[a]>=r){this.children[a]==r&&(s=this.children[a+2]);break}for(var D=r+1,k=D+e.content.size,N=0;N<this.local.length;N++){var B=this.local[N];if(B.from<k&&B.to>D&&B.type instanceof lf){var G=Math.max(D,B.from)-D,$=Math.min(k,B.to)-D;G<$&&(o||(o=[])).push(B.copy(G,$))}}if(o){var re=new Hi(o.sort(q1));return s?new nh([re,s]):re}return s||El},Hi.prototype.eq=function(r){if(this==r)return!0;if(!(r instanceof Hi)||this.local.length!=r.local.length||this.children.length!=r.children.length)return!1;for(var e=0;e<this.local.length;e++)if(!this.local[e].eq(r.local[e]))return!1;for(var s=0;s<this.children.length;s+=3)if(this.children[s]!=r.children[s]||this.children[s+1]!=r.children[s+1]||!this.children[s+2].eq(r.children[s+2]))return!1;return!0},Hi.prototype.locals=function(r){return iL(this.localsInner(r))},Hi.prototype.localsInner=function(r){if(this==El)return l6;if(r.inlineContent||!this.local.some(lf.is))return this.local;for(var e=[],s=0;s<this.local.length;s++)this.local[s].type instanceof lf||e.push(this.local[s]);return e};var El=new Hi;Hi.empty=El,Hi.removeOverlap=iL;var nh=function(r){this.members=r};function MW(i,r){if(!r||!i.length)return i;for(var e=[],s=0;s<i.length;s++){var o=i[s];e.push(new ho(o.from+r,o.to+r,o.type))}return e}function EW(i,r,e){if(r.isLeaf)return null;for(var s=e+r.nodeSize,o=null,a=0,D=void 0;a<i.length;a++)(D=i[a])&&D.from>e&&D.to<s&&((o||(o=[])).push(D),i[a]=null);return o}function DW(i){for(var r=[],e=0;e<i.length;e++)null!=i[e]&&r.push(i[e]);return r}function c6(i,r,e,s){var o=[],a=!1;r.forEach(function(N,B){var G=EW(i,N,B+e);if(G){a=!0;var $=c6(G,N,e+B+1,s);$!=El&&o.push(B,B+N.nodeSize,$)}});for(var D=MW(a?DW(i):i,-e).sort(q1),k=0;k<D.length;k++)D[k].type.valid(r,D[k])||(s.onRemove&&s.onRemove(D[k].spec),D.splice(k--,1));return D.length||o.length?new Hi(D,o):El}function q1(i,r){return i.from-r.from||i.to-r.to}function iL(i){for(var r=i,e=0;e<r.length-1;e++){var s=r[e];if(s.from!=s.to)for(var o=e+1;o<r.length;o++){var a=r[o];if(a.from!=s.from){a.from<s.to&&(r==i&&(r=i.slice()),r[e]=s.copy(s.from,a.from),TW(r,o,s.copy(a.from,s.to)));break}a.to!=s.to&&(r==i&&(r=i.slice()),r[o]=a.copy(a.from,s.to),TW(r,o+1,a.copy(s.to,a.to)))}}return r}function TW(i,r,e){for(;r<i.length&&q1(e,i[r])>0;)r++;i.splice(r,0,e)}function sL(i){var r=[];return i.someProp("decorations",function(e){var s=e(i.state);s&&s!=El&&r.push(s)}),i.cursorWrapper&&r.push(Hi.create(i.state.doc,[i.cursorWrapper.deco])),nh.from(r)}nh.prototype.map=function(r,e){var s=this.members.map(function(o){return o.map(r,e,G1)});return nh.from(s)},nh.prototype.forChild=function(r,e){if(e.isLeaf)return Hi.empty;for(var s=[],o=0;o<this.members.length;o++){var a=this.members[o].forChild(r,e);a!=El&&(a instanceof nh?s=s.concat(a.members):s.push(a))}return nh.from(s)},nh.prototype.eq=function(r){if(!(r instanceof nh)||r.members.length!=this.members.length)return!1;for(var e=0;e<this.members.length;e++)if(!this.members[e].eq(r.members[e]))return!1;return!0},nh.prototype.locals=function(r){for(var e,s=!0,o=0;o<this.members.length;o++){var a=this.members[o].localsInner(r);if(a.length)if(e){s&&(e=e.slice(),s=!1);for(var D=0;D<a.length;D++)e.push(a[D])}else e=a}return e?iL(s?e:e.sort(q1)):l6},nh.from=function(r){switch(r.length){case 0:return El;case 1:return r[0];default:return new nh(r)}};var aL,lL,Go=function(r,e){this._props=e,this.state=e.state,this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=r&&r.mount||document.createElement("div"),r&&(r.appendChild?r.appendChild(this.dom):r.apply?r(this.dom):r.mount&&(this.mounted=!0)),this.editable=AW(this),this.markCursor=null,this.cursorWrapper=null,kW(this),this.nodeViews=IW(this),this.docView=qY(this.state.doc,xW(this),sL(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(i){i.shiftKey=!1,i.mouseDown=null,i.lastKeyCode=null,i.lastKeyCodeTime=0,i.lastClick={time:0,x:0,y:0,type:""},i.lastSelectionOrigin=null,i.lastSelectionTime=0,i.lastIOSEnter=0,i.lastIOSEnterFallbackTimeout=null,i.lastAndroidDelete=0,i.composing=!1,i.composingTimeout=null,i.compositionNodes=[],i.compositionEndedAt=-2e8,i.domObserver=new Wu(i,function(s,o,a,D){return function(i,r,e,s,o){if(r<0){var a=i.lastSelectionTime>Date.now()-50?i.lastSelectionOrigin:null,D=ZY(i,a);if(D&&!i.state.selection.eq(D)){var k=i.state.tr.setSelection(D);"pointer"==a?k.setMeta("pointer",!0):"key"==a&&k.scrollIntoView(),i.dispatch(k)}}else{var N=i.state.doc.resolve(r),B=N.sharedDepth(e);r=N.before(B+1),e=i.state.doc.resolve(e).after(B+1);var G=i.state.selection,$=function(i,r,e){var s=i.docView.parseRange(r,e),o=s.node,a=s.fromOffset,D=s.toOffset,k=s.from,N=s.to,B=i.root.getSelection(),G=null,$=B.anchorNode;if($&&i.dom.contains(1==$.nodeType?$:$.parentNode)&&(G=[{node:$,offset:B.anchorOffset}],NF(B)||G.push({node:B.focusNode,offset:B.focusOffset})),kn.chrome&&8===i.lastKeyCode)for(var re=D;re>a;re--){var oe=o.childNodes[re-1],_e=oe.pmViewDesc;if("BR"==oe.nodeName&&!_e){D=re;break}if(!_e||_e.size)break}var ze=i.state.doc,mt=i.someProp("domParser")||Rn.aw.fromSchema(i.state.schema),Ft=ze.resolve(k),Pt=null,dn=mt.parse(o,{topNode:Ft.parent,topMatch:Ft.parent.contentMatchAt(Ft.index()),topOpen:!0,from:a,to:D,preserveWhitespace:!Ft.parent.type.spec.code||"full",editableContent:!0,findPositions:G,ruleFromNode:hme,context:Ft});if(G&&null!=G[0].pos){var fn=G[0].pos,Hn=G[1]&&G[1].pos;null==Hn&&(Hn=fn),Pt={anchor:fn+k,head:Hn+k}}return{doc:dn,sel:Pt,from:k,to:N}}(i,r,e);if(kn.chrome&&i.cursorWrapper&&$.sel&&$.sel.anchor==i.cursorWrapper.deco.from){var re=i.cursorWrapper.deco.type.toDOM.nextSibling,oe=re&&re.nodeValue?re.nodeValue.length:1;$.sel={anchor:$.sel.anchor+oe,head:$.sel.anchor+oe}}var mt,Ft,_e=i.state.doc,ze=_e.slice($.from,$.to);8===i.lastKeyCode&&Date.now()-100<i.lastKeyCodeTime?(mt=i.state.selection.to,Ft="end"):(mt=i.state.selection.from,Ft="start"),i.lastKeyCode=null;var Pt=function(i,r,e,s,o){var a=i.findDiffStart(r,e);if(null==a)return null;var D=i.findDiffEnd(r,e+i.size,e+r.size),k=D.a,N=D.b;return"end"==o&&(s-=k+Math.max(0,a-Math.min(k,N))-a),k<a&&i.size<r.size?(N=(a-=s<=a&&s>=k?a-s:0)+(N-k),k=a):N<a&&(k=(a-=s<=a&&s>=N?a-s:0)+(k-N),N=a),{start:a,endA:k,endB:N}}(ze.content,$.doc.content,$.from,mt,Ft);if(!Pt){if(!(s&&G instanceof sn.Bs&&!G.empty&&G.$head.sameParent(G.$anchor))||i.composing||$.sel&&$.sel.anchor!=$.sel.head){if((kn.ios&&i.lastIOSEnter>Date.now()-225||kn.android)&&o.some(function(Nn){return"DIV"==Nn.nodeName||"P"==Nn.nodeName})&&i.someProp("handleKeyDown",function(Nn){return Nn(i,sE(13,"Enter"))}))return void(i.lastIOSEnter=0);if($.sel){var dn=lW(i,i.state.doc,$.sel);dn&&!dn.eq(i.state.selection)&&i.dispatch(i.state.tr.setSelection(dn))}return}Pt={start:G.from,endA:G.to,endB:G.to}}i.domChangeCount++,i.state.selection.from<i.state.selection.to&&Pt.start==Pt.endB&&i.state.selection instanceof sn.Bs&&(Pt.start>i.state.selection.from&&Pt.start<=i.state.selection.from+2?Pt.start=i.state.selection.from:Pt.endA<i.state.selection.to&&Pt.endA>=i.state.selection.to-2&&(Pt.endB+=i.state.selection.to-Pt.endA,Pt.endA=i.state.selection.to)),kn.ie&&kn.ie_version<=11&&Pt.endB==Pt.start+1&&Pt.endA==Pt.start&&Pt.start>$.from&&" \xa0"==$.doc.textBetween(Pt.start-$.from-1,Pt.start-$.from+1)&&(Pt.start--,Pt.endA--,Pt.endB--);var Sr,fn=$.doc.resolveNoCache(Pt.start-$.from),Hn=$.doc.resolveNoCache(Pt.endB-$.from),er=fn.sameParent(Hn)&&fn.parent.inlineContent;if((kn.ios&&i.lastIOSEnter>Date.now()-225&&(!er||o.some(function(Nn){return"DIV"==Nn.nodeName||"P"==Nn.nodeName}))||!er&&fn.pos<$.doc.content.size&&(Sr=sn.Y1.findFrom($.doc.resolve(fn.pos+1),1,!0))&&Sr.head==Hn.pos)&&i.someProp("handleKeyDown",function(Nn){return Nn(i,sE(13,"Enter"))}))i.lastIOSEnter=0;else if(i.state.selection.anchor>Pt.start&&function(i,r,e,s,o){if(!s.parent.isTextblock||e-r<=o.pos-s.pos||$F(s,!0,!1)<o.pos)return!1;var a=i.resolve(r);if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;var D=i.resolve($F(a,!0,!0));return!(!D.parent.isTextblock||D.pos>e||$F(D,!0,!1)<e)&&s.parent.content.cut(s.parentOffset).eq(D.parent.content)}(_e,Pt.start,Pt.endA,fn,Hn)&&i.someProp("handleKeyDown",function(Nn){return Nn(i,sE(8,"Backspace"))}))kn.android&&kn.chrome&&i.domObserver.suppressSelectionUpdates();else{kn.chrome&&kn.android&&Pt.toB==Pt.from&&(i.lastAndroidDelete=Date.now()),kn.android&&!er&&fn.start()!=Hn.start()&&0==Hn.parentOffset&&fn.depth==Hn.depth&&$.sel&&$.sel.anchor==$.sel.head&&$.sel.head==Pt.endA&&(Pt.endB-=2,Hn=$.doc.resolveNoCache(Pt.endB-$.from),setTimeout(function(){i.someProp("handleKeyDown",function(Nn){return Nn(i,sE(13,"Enter"))})},20));var Ur,Fs,Cs,fs,yr=Pt.start,Br=Pt.endA;if(er)if(fn.pos==Hn.pos)kn.ie&&kn.ie_version<=11&&0==fn.parentOffset&&(i.domObserver.suppressSelectionUpdates(),setTimeout(function(){return wv(i)},20)),Ur=i.state.tr.delete(yr,Br),Fs=_e.resolve(Pt.start).marksAcross(_e.resolve(Pt.endA));else if(Pt.endA==Pt.endB&&(fs=_e.resolve(Pt.start))&&(Cs=function(i,r){for(var D,k,N,e=i.firstChild.marks,s=r.firstChild.marks,o=e,a=s,B=0;B<s.length;B++)o=s[B].removeFromSet(o);for(var G=0;G<e.length;G++)a=e[G].removeFromSet(a);if(1==o.length&&0==a.length)k=o[0],D="add",N=function(oe){return oe.mark(k.addToSet(oe.marks))};else{if(0!=o.length||1!=a.length)return null;k=a[0],D="remove",N=function(oe){return oe.mark(k.removeFromSet(oe.marks))}}for(var $=[],re=0;re<r.childCount;re++)$.push(N(r.child(re)));if(Rn.HY.from($).eq(i))return{mark:k,type:D}}(fn.parent.content.cut(fn.parentOffset,Hn.parentOffset),fs.parent.content.cut(fs.parentOffset,Pt.endA-fs.start()))))Ur=i.state.tr,"add"==Cs.type?Ur.addMark(yr,Br,Cs.mark):Ur.removeMark(yr,Br,Cs.mark);else if(fn.parent.child(fn.index()).isText&&fn.index()==Hn.index()-(Hn.textOffset?0:1)){var lu=fn.parent.textBetween(fn.parentOffset,Hn.parentOffset);if(i.someProp("handleTextInput",function(Nn){return Nn(i,yr,Br,lu)}))return;Ur=i.state.tr.insertText(lu,yr,Br)}if(Ur||(Ur=i.state.tr.replace(yr,Br,$.doc.slice(Pt.start-$.from,Pt.endB-$.from))),$.sel){var Oa=lW(i,Ur.doc,$.sel);Oa&&!(kn.chrome&&kn.android&&i.composing&&Oa.empty&&(Pt.start!=Pt.endB||i.lastAndroidDelete<Date.now()-100)&&(Oa.head==yr||Oa.head==Ur.mapping.map(Br)-1)||kn.ie&&Oa.empty&&Oa.head==yr)&&Ur.setSelection(Oa)}Fs&&Ur.ensureMarks(Fs),i.dispatch(Ur.scrollIntoView())}}}(i,s,o,a,D)}),i.domObserver.start(),i.domChangeCount=0,i.eventHandlers=Object.create(null);var r=function(s){var o=nu[s];i.dom.addEventListener(s,i.eventHandlers[s]=function(a){(function(i,r){if(!r.bubbles)return!0;if(r.defaultPrevented)return!1;for(var e=r.target;e!=i.dom;e=e.parentNode)if(!e||11==e.nodeType||e.pmViewDesc&&e.pmViewDesc.stopEvent(r))return!1;return!0})(i,a)&&!XF(i,a)&&(i.editable||!(a.type in Ec))&&o(i,a)})};for(var e in nu)r(e);kn.safari&&i.dom.addEventListener("input",function(){return null}),QF(i)}(this),this.pluginViews=[],this.updatePluginViews()},oL={props:{configurable:!0},root:{configurable:!0}};function xW(i){var r=Object.create(null);return r.class="ProseMirror",r.contenteditable=String(i.editable),r.translate="no",i.someProp("attributes",function(e){if("function"==typeof e&&(e=e(i.state)),e)for(var s in e)"class"==s?r.class+=" "+e[s]:!r[s]&&"contenteditable"!=s&&"nodeName"!=s&&(r[s]=String(e[s]))}),[ho.node(0,i.state.doc.content.size,r)]}function kW(i){if(i.markCursor){var r=document.createElement("img");r.className="ProseMirror-separator",r.setAttribute("mark-placeholder","true"),i.cursorWrapper={dom:r,deco:ho.widget(i.state.selection.head,r,{raw:!0,marks:i.markCursor})}}else i.cursorWrapper=null}function AW(i){return!i.someProp("editable",function(r){return!1===r(i.state)})}function IW(i){var r={};return i.someProp("nodeViews",function(e){for(var s in e)Object.prototype.hasOwnProperty.call(r,s)||(r[s]=e[s])}),r}if(oL.props.get=function(){if(this._props.state!=this.state){var i=this._props;for(var r in this._props={},i)this._props[r]=i[r];this._props.state=this.state}return this._props},Go.prototype.update=function(r){r.handleDOMEvents!=this._props.handleDOMEvents&&QF(this),this._props=r,this.updateStateInner(r.state,!0)},Go.prototype.setProps=function(r){var e={};for(var s in this._props)e[s]=this._props[s];for(var o in e.state=this.state,r)e[o]=r[o];this.update(e)},Go.prototype.updateState=function(r){this.updateStateInner(r,this.state.plugins!=r.plugins)},Go.prototype.updateStateInner=function(r,e){var s=this,o=this.state,a=!1,D=!1;if(r.storedMarks&&this.composing&&(wW(this),D=!0),this.state=r,e){var k=IW(this);(function(i,r){var e=0,s=0;for(var o in i){if(i[o]!=r[o])return!0;e++}for(var a in r)s++;return e!=s})(k,this.nodeViews)&&(this.nodeViews=k,a=!0),QF(this)}this.editable=AW(this),kW(this);var N=sL(this),B=xW(this),G=e?"reset":r.scrollToSelection>o.scrollToSelection?"to selection":"preserve",$=a||!this.docView.matchesNode(r.doc,B,N);($||!r.selection.eq(o.selection))&&(D=!0);var re="preserve"==G&&D&&null==this.dom.style.overflowAnchor&&function(i){for(var s,o,r=i.dom.getBoundingClientRect(),e=Math.max(0,r.top),a=(r.left+r.right)/2,D=e+1;D<Math.min(innerHeight,r.bottom);D+=5){var k=i.root.elementFromPoint(a,D);if(k!=i.dom&&i.dom.contains(k)){var N=k.getBoundingClientRect();if(N.top>=e-20){s=k,o=N.top;break}}}return{refDOM:s,refTop:o,stack:NY(i.dom)}}(this);if(D){this.domObserver.stop();var oe=$&&(kn.ie||kn.chrome)&&!this.composing&&!o.selection.empty&&!r.selection.empty&&function(i,r){var e=Math.min(i.$anchor.sharedDepth(i.head),r.$anchor.sharedDepth(r.head));return i.$anchor.start(e)!=r.$anchor.start(e)}(o.selection,r.selection);if($){var _e=kn.chrome?this.trackWrites=this.root.getSelection().focusNode:null;(a||!this.docView.update(r.doc,B,N,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=qY(r.doc,B,N,this.dom,this)),_e&&!this.trackWrites&&(oe=!0)}oe||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&function(i){var r=i.docView.domFromPos(i.state.selection.anchor,0),e=i.root.getSelection();return r6(r.node,r.offset,e.anchorNode,e.anchorOffset)}(this))?wv(this,oe):(tW(this,r.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(o),"reset"==G)this.dom.scrollTop=0;else if("to selection"==G){var ze=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",function(mt){return mt(s)})||function(i,r,e){for(var s=i.someProp("scrollThreshold")||0,o=i.someProp("scrollMargin")||5,a=i.dom.ownerDocument,D=e||i.dom;D;D=OF(D))if(1==D.nodeType){var k=D==a.body||1!=D.nodeType,N=k?Rpe(a):Ope(D),B=0,G=0;if(r.top<N.top+_v(s,"top")?G=-(N.top-r.top+_v(o,"top")):r.bottom>N.bottom-_v(s,"bottom")&&(G=r.bottom-N.bottom+_v(o,"bottom")),r.left<N.left+_v(s,"left")?B=-(N.left-r.left+_v(o,"left")):r.right>N.right-_v(s,"right")&&(B=r.right-N.right+_v(o,"right")),B||G)if(k)a.defaultView.scrollBy(B,G);else{var $=D.scrollLeft,re=D.scrollTop;G&&(D.scrollTop+=G),B&&(D.scrollLeft+=B);var oe=D.scrollLeft-$,_e=D.scrollTop-re;r={left:r.left-oe,top:r.top-_e,right:r.right-oe,bottom:r.bottom-_e}}if(k)break}}(this,r.selection instanceof sn.qv?this.docView.domAfterPos(r.selection.from).getBoundingClientRect():this.coordsAtPos(r.selection.head,1),ze)}else re&&function(i){var r=i.refDOM,e=i.refTop,s=i.stack,o=r?r.getBoundingClientRect().top:0;PY(s,0==o?0:o-e)}(re)},Go.prototype.destroyPluginViews=function(){for(var r;r=this.pluginViews.pop();)r.destroy&&r.destroy()},Go.prototype.updatePluginViews=function(r){if(r&&r.plugins==this.state.plugins)for(var o=0;o<this.pluginViews.length;o++){var a=this.pluginViews[o];a.update&&a.update(this,r)}else{this.destroyPluginViews();for(var e=0;e<this.state.plugins.length;e++){var s=this.state.plugins[e];s.spec.view&&this.pluginViews.push(s.spec.view(this))}}},Go.prototype.someProp=function(r,e){var o,s=this._props&&this._props[r];if(null!=s&&(o=e?e(s):s))return o;var a=this.state.plugins;if(a)for(var D=0;D<a.length;D++){var k=a[D].props[r];if(null!=k&&(o=e?e(k):k))return o}},Go.prototype.hasFocus=function(){return this.root.activeElement==this.dom},Go.prototype.focus=function(){this.domObserver.stop(),this.editable&&function(i){if(i.setActive)return i.setActive();if(oE)return i.focus(oE);var r=NY(i);i.focus(null==oE?{get preventScroll(){return oE={preventScroll:!0},!0}}:void 0),oE||(oE=!1,PY(r,0))}(this.dom),wv(this),this.domObserver.start()},oL.root.get=function(){var i=this._root;if(null==i)for(var r=this.dom.parentNode;r;r=r.parentNode)if(9==r.nodeType||11==r.nodeType&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=function(){return document.getSelection()}),this._root=r;return i||document},Go.prototype.posAtCoords=function(r){return Hpe(this,r)},Go.prototype.coordsAtPos=function(r,e){return void 0===e&&(e=1),BY(this,r,e)},Go.prototype.domAtPos=function(r,e){return void 0===e&&(e=0),this.docView.domFromPos(r,e)},Go.prototype.nodeDOM=function(r){var e=this.docView.descAt(r);return e?e.nodeDOM:null},Go.prototype.posAtDOM=function(r,e,s){void 0===s&&(s=-1);var o=this.docView.posFromDOM(r,e,s);if(null==o)throw new RangeError("DOM position not inside the editor");return o},Go.prototype.endOfTextblock=function(r,e){return function(i,r,e){return zY==r&&HY==e?UY:(zY=r,HY=e,UY="up"==e||"down"==e?function(i,r,e){var s=r.selection,o="up"==e?s.$from:s.$to;return VY(i,r,function(){for(var D=i.docView.domFromPos(o.pos,"up"==e?-1:1).node;;){var k=i.docView.nearestDesc(D,!0);if(!k)break;if(k.node.isBlock){D=k.dom;break}D=k.dom.parentNode}for(var N=BY(i,o.pos,1),B=D.firstChild;B;B=B.nextSibling){var G=void 0;if(1==B.nodeType)G=B.getClientRects();else{if(3!=B.nodeType)continue;G=Gg(B,0,B.nodeValue.length).getClientRects()}for(var $=0;$<G.length;$++){var re=G[$];if(re.bottom>re.top&&("up"==e?re.bottom<N.top+1:re.top>N.bottom-1))return!1}}return!0})}(i,r,e):function(i,r,e){var o=r.selection.$head;if(!o.parent.isTextblock)return!1;var a=o.parentOffset,D=!a,k=a==o.parent.content.size,N=i.root.getSelection();return qpe.test(o.parent.textContent)&&N.modify?VY(i,r,function(){var B=N.getRangeAt(0),G=N.focusNode,$=N.focusOffset,re=N.caretBidiLevel;N.modify("move",e,"character");var _e=!(o.depth?i.docView.domAfterPos(o.before()):i.dom).contains(1==N.focusNode.nodeType?N.focusNode:N.focusNode.parentNode)||G==N.focusNode&&$==N.focusOffset;return N.removeAllRanges(),N.addRange(B),null!=re&&(N.caretBidiLevel=re),_e}):"left"==e||"backward"==e?D:k}(i,r,e))}(this,e||this.state,r)},Go.prototype.destroy=function(){!this.docView||(function(i){for(var r in i.domObserver.stop(),i.eventHandlers)i.dom.removeEventListener(r,i.eventHandlers[r]);clearTimeout(i.composingTimeout),clearTimeout(i.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],sL(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},Go.prototype.dispatchEvent=function(r){return function(i,r){!XF(i,r)&&nu[r.type]&&(i.editable||!(r.type in Ec))&&nu[r.type](i,r)}(this,r)},Go.prototype.dispatch=function(r){var e=this._props.dispatchTransaction;e?e.call(this,r):this.updateState(this.state.apply(r))},Object.defineProperties(Go.prototype,oL),"undefined"!=typeof WeakMap){var RW=new WeakMap;aL=function(i){return RW.get(i)},lL=function(i,r){return RW.set(i,r),r}}else{var mA=[],u6=0;aL=function(i){for(var r=0;r<mA.length;r+=2)if(mA[r]==i)return mA[r+1]},lL=function(i,r){return 10==u6&&(u6=0),mA[u6++]=i,mA[u6++]=r}}var cE=function(r,e,s,o){this.left=r,this.top=e,this.right=s,this.bottom=o},Xi=function(r,e,s,o){this.width=r,this.height=e,this.map=s,this.problems=o};function Kme(i){if(i.colwidth)return i.colwidth.slice();for(var r=[],e=0;e<i.colspan;e++)r.push(0);return r}function OW(i,r){var e=i.getAttribute("data-colwidth"),s=e&&/^\d+(,\d+)*$/.test(e)?e.split(",").map(function(B){return Number(B)}):null,o=Number(i.getAttribute("colspan")||1),a={colspan:o,rowspan:Number(i.getAttribute("rowspan")||1),colwidth:s&&s.length==o?s:null};for(var D in r){var k=r[D].getFromDOM,N=k&&k(i);null!=N&&(a[D]=N)}return a}function NW(i,r){var e={};for(var s in 1!=i.attrs.colspan&&(e.colspan=i.attrs.colspan),1!=i.attrs.rowspan&&(e.rowspan=i.attrs.rowspan),i.attrs.colwidth&&(e["data-colwidth"]=i.attrs.colwidth.join(",")),r){var o=r[s].setDOMAttr;o&&o(i.attrs[s],e)}return e}function rc(i){var r=i.cached.tableNodeTypes;if(!r)for(var e in r=i.cached.tableNodeTypes={},i.nodes){var s=i.nodes[e],o=s.spec.tableRole;o&&(r[o]=s)}return r}Xi.prototype.findCell=function(r){for(var e=0;e<this.map.length;e++){var s=this.map[e];if(s==r){for(var o=e%this.width,a=e/this.width|0,D=o+1,k=a+1,N=1;D<this.width&&this.map[e+N]==s;N++)D++;for(var B=1;k<this.height&&this.map[e+this.width*B]==s;B++)k++;return new cE(o,a,D,k)}}throw new RangeError("No cell with offset "+r+" found")},Xi.prototype.colCount=function(r){for(var e=0;e<this.map.length;e++)if(this.map[e]==r)return e%this.width;throw new RangeError("No cell with offset "+r+" found")},Xi.prototype.nextCell=function(r,e,s){var o=this.findCell(r),a=o.left,D=o.right,k=o.top,N=o.bottom;return"horiz"==e?(s<0?0==a:D==this.width)?null:this.map[k*this.width+(s<0?a-1:D)]:(s<0?0==k:N==this.height)?null:this.map[a+this.width*(s<0?k-1:N)]},Xi.prototype.rectBetween=function(r,e){var s=this.findCell(r),o=s.left,a=s.right,D=s.top,k=s.bottom,N=this.findCell(e),G=N.right,$=N.top,re=N.bottom;return new cE(Math.min(o,N.left),Math.min(D,$),Math.max(a,G),Math.max(k,re))},Xi.prototype.cellsInRect=function(r){for(var e=[],s={},o=r.top;o<r.bottom;o++)for(var a=r.left;a<r.right;a++){var D=o*this.width+a,k=this.map[D];s[k]||(s[k]=!0,(a!=r.left||!a||this.map[D-1]!=k)&&(o!=r.top||!o||this.map[D-this.width]!=k)&&e.push(k))}return e},Xi.prototype.positionAt=function(r,e,s){for(var o=0,a=0;;o++){var D=a+s.child(o).nodeSize;if(o==r){for(var k=e+r*this.width,N=(r+1)*this.width;k<N&&this.map[k]<a;)k++;return k==N?D-1:this.map[k]}a=D}},Xi.get=function(r){return aL(r)||lL(r,function(i){if("table"!=i.type.spec.tableRole)throw new RangeError("Not a table node: "+i.type.name);for(var r=function(i){for(var r=-1,e=!1,s=0;s<i.childCount;s++){var o=i.child(s),a=0;if(e)for(var D=0;D<s;D++)for(var k=i.child(D),N=0;N<k.childCount;N++){var B=k.child(N);D+B.attrs.rowspan>s&&(a+=B.attrs.colspan)}for(var G=0;G<o.childCount;G++){var $=o.child(G);a+=$.attrs.colspan,$.attrs.rowspan>1&&(e=!0)}-1==r?r=a:r!=a&&(r=Math.max(r,a))}return r}(i),e=i.childCount,s=[],o=0,a=null,D=[],k=0,N=r*e;k<N;k++)s[k]=0;for(var B=0,G=0;B<e;B++){var $=i.child(B);G++;for(var re=0;;re++){for(;o<s.length&&0!=s[o];)o++;if(re==$.childCount)break;for(var oe=$.child(re),_e=oe.attrs,ze=_e.colspan,mt=_e.rowspan,Ft=_e.colwidth,Pt=0;Pt<mt;Pt++){if(Pt+B>=e){(a||(a=[])).push({type:"overlong_rowspan",pos:G,n:mt-Pt});break}for(var dn=o+Pt*r,fn=0;fn<ze;fn++){0==s[dn+fn]?s[dn+fn]=G:(a||(a=[])).push({type:"collision",row:B,pos:G,n:ze-fn});var Hn=Ft&&Ft[fn];if(Hn){var er=(dn+fn)%r*2,Sr=D[er];null==Sr||Sr!=Hn&&1==D[er+1]?(D[er]=Hn,D[er+1]=1):Sr==Hn&&D[er+1]++}}}o+=ze,G+=oe.nodeSize}for(var yr=(B+1)*r,Br=0;o<yr;)0==s[o++]&&Br++;Br&&(a||(a=[])).push({type:"missing",row:B,n:Br}),G++}for(var Ur=new Xi(r,e,s,a),Fs=!1,Cs=0;!Fs&&Cs<D.length;Cs+=2)null!=D[Cs]&&D[Cs+1]<e&&(Fs=!0);return Fs&&function(i,r,e){i.problems||(i.problems=[]);for(var s=0,o={};s<i.map.length;s++){var a=i.map[s];if(!o[a]){o[a]=!0;for(var D=e.nodeAt(a),k=null,N=0;N<D.attrs.colspan;N++){var G=r[(s+N)%i.width*2];null!=G&&(!D.attrs.colwidth||D.attrs.colwidth[N]!=G)&&((k||(k=Kme(D.attrs)))[N]=G)}k&&i.problems.unshift({type:"colwidth mismatch",pos:a,colwidth:k})}}}(Ur,D,i),Ur}(r))};var Cv=new sn.H$("selectingCells");function uE(i){for(var r=i.depth-1;r>0;r--)if("row"==i.node(r).type.spec.tableRole)return i.node(0).resolve(i.before(r+1));return null}function cf(i){for(var r=i.selection.$head,e=r.depth;e>0;e--)if("row"==r.node(e).type.spec.tableRole)return!0;return!1}function d6(i){var r=i.selection;return r.$anchorCell?r.$anchorCell.pos>r.$headCell.pos?r.$anchorCell:r.$headCell:r.node&&"cell"==r.node.type.spec.tableRole?r.$anchor:uE(r.$head)||function(i){for(var r=i.nodeAfter,e=i.pos;r;r=r.firstChild,e++){var s=r.type.spec.tableRole;if("cell"==s||"header_cell"==s)return i.doc.resolve(e)}for(var o=i.nodeBefore,a=i.pos;o;o=o.lastChild,a--){var D=o.type.spec.tableRole;if("cell"==D||"header_cell"==D)return i.doc.resolve(a-o.nodeSize)}}(r.$head)}function cL(i){return"row"==i.parent.type.spec.tableRole&&i.nodeAfter}function uL(i,r){return i.depth==r.depth&&i.pos>=r.start(-1)&&i.pos<=r.end(-1)}function PW(i,r,e){var s=i.start(-1),a=Xi.get(i.node(-1)).nextCell(i.pos-s,r,e);return null==a?null:i.node(0).resolve(s+a)}function Za(i,r,e){var s={};for(var o in i)s[o]=i[o];return s[r]=e,s}function j1(i,r,e){void 0===e&&(e=1);var s=Za(i,"colspan",i.colspan-e);return s.colwidth&&(s.colwidth=s.colwidth.slice(),s.colwidth.splice(r,e),s.colwidth.some(function(o){return o>0})||(s.colwidth=null)),s}function FW(i,r,e){void 0===e&&(e=1);var s=Za(i,"colspan",i.colspan+e);if(s.colwidth){s.colwidth=s.colwidth.slice();for(var o=0;o<e;o++)s.colwidth.splice(r,0,0)}return s}var $s=function(i){function r(e,s){void 0===s&&(s=e);var o=e.node(-1),a=Xi.get(o),D=e.start(-1),k=a.rectBetween(e.pos-D,s.pos-D),N=e.node(0),B=a.cellsInRect(k).filter(function($){return $!=s.pos-D});B.unshift(s.pos-D);var G=B.map(function($){var re=o.nodeAt($),oe=$+D+1;return new sn.xm(N.resolve(oe),N.resolve(oe+re.content.size))});i.call(this,G[0].$from,G[0].$to,G),this.$anchorCell=e,this.$headCell=s}return i&&(r.__proto__=i),(r.prototype=Object.create(i&&i.prototype)).constructor=r,r.prototype.map=function(s,o){var a=s.resolve(o.map(this.$anchorCell.pos)),D=s.resolve(o.map(this.$headCell.pos));if(cL(a)&&cL(D)&&uL(a,D)){var k=this.$anchorCell.node(-1)!=a.node(-1);return k&&this.isRowSelection()?r.rowSelection(a,D):k&&this.isColSelection()?r.colSelection(a,D):new r(a,D)}return sn.Bs.between(a,D)},r.prototype.content=function(){for(var s=this.$anchorCell.node(-1),o=Xi.get(s),a=this.$anchorCell.start(-1),D=o.rectBetween(this.$anchorCell.pos-a,this.$headCell.pos-a),k={},N=[],B=D.top;B<D.bottom;B++){for(var G=[],$=B*o.width+D.left,re=D.left;re<D.right;re++,$++){var oe=o.map[$];if(!k[oe]){k[oe]=!0;var _e=o.findCell(oe),ze=s.nodeAt(oe),mt=D.left-_e.left,Ft=_e.right-D.right;if(mt>0||Ft>0){var Pt=ze.attrs;mt>0&&(Pt=j1(Pt,0,mt)),Ft>0&&(Pt=j1(Pt,Pt.colspan-Ft,Ft)),ze=_e.left<D.left?ze.type.createAndFill(Pt):ze.type.create(Pt,ze.content)}if(_e.top<D.top||_e.bottom>D.bottom){var dn=Za(ze.attrs,"rowspan",Math.min(_e.bottom,D.bottom)-Math.max(_e.top,D.top));ze=_e.top<D.top?ze.type.createAndFill(dn):ze.type.create(dn,ze.content)}G.push(ze)}}N.push(s.child(B).copy(Rn.HY.from(G)))}var fn=this.isColSelection()&&this.isRowSelection()?s:N;return new Rn.p2(Rn.HY.from(fn),1,1)},r.prototype.replace=function(s,o){void 0===o&&(o=Rn.p2.empty);for(var a=s.steps.length,D=this.ranges,k=0;k<D.length;k++){var N=D[k],B=N.$from,G=N.$to,$=s.mapping.slice(a);s.replace($.map(B.pos),$.map(G.pos),k?Rn.p2.empty:o)}var re=i.findFrom(s.doc.resolve(s.mapping.slice(a).map(this.to)),-1);re&&s.setSelection(re)},r.prototype.replaceWith=function(s,o){this.replace(s,new Rn.p2(Rn.HY.from(o),0,0))},r.prototype.forEachCell=function(s){for(var o=this.$anchorCell.node(-1),a=Xi.get(o),D=this.$anchorCell.start(-1),k=a.cellsInRect(a.rectBetween(this.$anchorCell.pos-D,this.$headCell.pos-D)),N=0;N<k.length;N++)s(o.nodeAt(k[N]),D+k[N])},r.prototype.isColSelection=function(){var s=this.$anchorCell.index(-1),o=this.$headCell.index(-1);return!(Math.min(s,o)>0)&&Math.max(s+this.$anchorCell.nodeAfter.attrs.rowspan,o+this.$headCell.nodeAfter.attrs.rowspan)==this.$headCell.node(-1).childCount},r.colSelection=function(s,o){void 0===o&&(o=s);var a=Xi.get(s.node(-1)),D=s.start(-1),k=a.findCell(s.pos-D),N=a.findCell(o.pos-D),B=s.node(0);return k.top<=N.top?(k.top>0&&(s=B.resolve(D+a.map[k.left])),N.bottom<a.height&&(o=B.resolve(D+a.map[a.width*(a.height-1)+N.right-1]))):(N.top>0&&(o=B.resolve(D+a.map[N.left])),k.bottom<a.height&&(s=B.resolve(D+a.map[a.width*(a.height-1)+k.right-1]))),new r(s,o)},r.prototype.isRowSelection=function(){var s=Xi.get(this.$anchorCell.node(-1)),o=this.$anchorCell.start(-1),a=s.colCount(this.$anchorCell.pos-o),D=s.colCount(this.$headCell.pos-o);return!(Math.min(a,D)>0)&&Math.max(a+this.$anchorCell.nodeAfter.attrs.colspan,D+this.$headCell.nodeAfter.attrs.colspan)==s.width},r.prototype.eq=function(s){return s instanceof r&&s.$anchorCell.pos==this.$anchorCell.pos&&s.$headCell.pos==this.$headCell.pos},r.rowSelection=function(s,o){void 0===o&&(o=s);var a=Xi.get(s.node(-1)),D=s.start(-1),k=a.findCell(s.pos-D),N=a.findCell(o.pos-D),B=s.node(0);return k.left<=N.left?(k.left>0&&(s=B.resolve(D+a.map[k.top*a.width])),N.right<a.width&&(o=B.resolve(D+a.map[a.width*(N.top+1)-1]))):(N.left>0&&(o=B.resolve(D+a.map[N.top*a.width])),k.right<a.width&&(s=B.resolve(D+a.map[a.width*(k.top+1)-1]))),new r(s,o)},r.prototype.toJSON=function(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}},r.fromJSON=function(s,o){return new r(s.resolve(o.anchor),s.resolve(o.head))},r.create=function(s,o,a){return void 0===a&&(a=o),new r(s.resolve(o),s.resolve(a))},r.prototype.getBookmark=function(){return new h6(this.$anchorCell.pos,this.$headCell.pos)},r}(sn.Y1);$s.prototype.visible=!1,sn.Y1.jsonID("cell",$s);var h6=function(r,e){this.anchor=r,this.head=e};function tge(i){if(!(i.selection instanceof $s))return null;var r=[];return i.selection.forEachCell(function(e,s){r.push(ho.node(s,s+e.nodeSize,{class:"selectedCell"}))}),Hi.create(i.doc,r)}function dL(i,r){var e=i.createAndFill();return new _r.Transform(e).replace(0,e.content.size,r).doc}function LW(i,r,e,s,o,a,D,k){if(0==D||D==r.height)return!1;for(var N=!1,B=o;B<a;B++){var G=D*r.width+B,$=r.map[G];if(r.map[G-r.width]==$){N=!0;var re=e.nodeAt($),oe=r.findCell($),_e=oe.top,ze=oe.left;i.setNodeMarkup(i.mapping.slice(k).map($+s),null,Za(re.attrs,"rowspan",D-_e)),i.insert(i.mapping.slice(k).map(r.positionAt(D,ze,e)),re.type.createAndFill(Za(re.attrs,"rowspan",_e+re.attrs.rowspan-D))),B+=re.attrs.colspan-1}}return N}function BW(i,r,e,s,o,a,D,k){if(0==D||D==r.width)return!1;for(var N=!1,B=o;B<a;B++){var G=B*r.width+D,$=r.map[G];if(r.map[G-1]==$){N=!0;var re=e.nodeAt($),oe=r.colCount($),_e=i.mapping.slice(k).map($+s);i.setNodeMarkup(_e,null,j1(re.attrs,D-oe,re.attrs.colspan-(D-oe))),i.insert(_e+re.nodeSize,re.type.createAndFill(j1(re.attrs,0,D-oe))),B+=re.attrs.rowspan-1}}return N}function VW(i,r,e,s,o){var a=e?i.doc.nodeAt(e-1):i.doc,D=Xi.get(a),k=s.top,N=s.left,B=N+o.width,G=k+o.height,$=i.tr,re=0;function oe(){a=e?$.doc.nodeAt(e-1):$.doc,D=Xi.get(a),re=$.mapping.maps.length}(function(i,r,e,s,o,a,D){var B,G,N=rc(i.doc.type.schema);if(o>r.width)for(var $=0,re=0;$<r.height;$++){var oe=e.child($);re+=oe.nodeSize;var ze,_e=[];ze=null==oe.lastChild||oe.lastChild.type==N.cell?B||(B=N.cell.createAndFill()):G||(G=N.header_cell.createAndFill());for(var mt=r.width;mt<o;mt++)_e.push(ze);i.insert(i.mapping.slice(D).map(re-1+s),_e)}if(a>r.height){for(var Ft=[],Pt=0,dn=(r.height-1)*r.width;Pt<Math.max(r.width,o);Pt++){var fn=!(Pt>=r.width)&&e.nodeAt(r.map[dn+Pt]).type==N.header_cell;Ft.push(fn?G||(G=N.header_cell.createAndFill()):B||(B=N.cell.createAndFill()))}for(var Hn=N.row.create(null,Rn.HY.from(Ft)),er=[],Sr=r.height;Sr<a;Sr++)er.push(Hn);i.insert(i.mapping.slice(D).map(s+e.nodeSize-2),er)}return!(!B&&!G)})($,D,a,e,B,G,re)&&oe(),LW($,D,a,e,N,B,k,re)&&oe(),LW($,D,a,e,N,B,G,re)&&oe(),BW($,D,a,e,k,G,N,re)&&oe(),BW($,D,a,e,k,G,B,re)&&oe();for(var _e=k;_e<G;_e++){var ze=D.positionAt(_e,N,a),mt=D.positionAt(_e,B,a);$.replace($.mapping.slice(re).map(ze+e),$.mapping.slice(re).map(mt+e),new Rn.p2(o.rows[_e-k],0,0))}oe(),$.setSelection(new $s($.doc.resolve(e+D.positionAt(k,N,a)),$.doc.resolve(e+D.positionAt(G-1,B-1,a)))),r($)}h6.prototype.map=function(r){return new h6(r.map(this.anchor),r.map(this.head))},h6.prototype.resolve=function(r){var e=r.resolve(this.anchor),s=r.resolve(this.head);return"row"==e.parent.type.spec.tableRole&&"row"==s.parent.type.spec.tableRole&&e.index()<e.parent.childCount&&s.index()<s.parent.childCount&&uL(e,s)?new $s(e,s):sn.Y1.near(s,1)};var cge=xF({ArrowLeft:p6("horiz",-1),ArrowRight:p6("horiz",1),ArrowUp:p6("vert",-1),ArrowDown:p6("vert",1),"Shift-ArrowLeft":m6("horiz",-1),"Shift-ArrowRight":m6("horiz",1),"Shift-ArrowUp":m6("vert",-1),"Shift-ArrowDown":m6("vert",1),Backspace:g6,"Mod-Backspace":g6,Delete:g6,"Mod-Delete":g6});function f6(i,r,e){return!e.eq(i.selection)&&(r&&r(i.tr.setSelection(e).scrollIntoView()),!0)}function p6(i,r){return function(e,s,o){var a=e.selection;if(a instanceof $s)return f6(e,s,sn.Y1.near(a.$headCell,r));if("horiz"!=i&&!a.empty)return!1;var D=zW(o,i,r);if(null==D)return!1;if("horiz"==i)return f6(e,s,sn.Y1.near(e.doc.resolve(a.head+r),r));var B,k=e.doc.resolve(D),N=PW(k,i,r);return B=N?sn.Y1.near(N,1):r<0?sn.Y1.near(e.doc.resolve(k.before(-1)),-1):sn.Y1.near(e.doc.resolve(k.after(-1)),1),f6(e,s,B)}}function m6(i,r){return function(e,s,o){var a=e.selection;if(!(a instanceof $s)){var D=zW(o,i,r);if(null==D)return!1;a=new $s(e.doc.resolve(D))}var k=PW(a.$headCell,i,r);return!!k&&f6(e,s,new $s(a.$anchorCell,k))}}function g6(i,r){var e=i.selection;if(!(e instanceof $s))return!1;if(r){var s=i.tr,o=rc(i.schema).cell.createAndFill().content;e.forEachCell(function(a,D){a.content.eq(o)||s.replace(s.mapping.map(D+1),s.mapping.map(D+a.nodeSize-1),new Rn.p2(o,0,0))}),s.docChanged&&r(s)}return!0}function uge(i,r){var s=uE(i.state.doc.resolve(r));return!!s&&(i.dispatch(i.state.tr.setSelection(new $s(s))),!0)}function dge(i,r,e){if(!cf(i.state))return!1;var s=function(i){if(!i.size)return null;for(var r=i.content,e=i.openStart,s=i.openEnd;1==r.childCount&&(e>0&&s>0||"table"==r.firstChild.type.spec.tableRole);)e--,s--,r=r.firstChild.content;var o=r.firstChild,a=o.type.spec.tableRole,D=o.type.schema,k=[];if("row"==a)for(var N=0;N<r.childCount;N++){var B=r.child(N).content,G=N?0:Math.max(0,e-1),$=N<r.childCount-1?0:Math.max(0,s-1);(G||$)&&(B=dL(rc(D).row,new Rn.p2(B,G,$)).content),k.push(B)}else{if("cell"!=a&&"header_cell"!=a)return null;k.push(e||s?dL(rc(D).row,new Rn.p2(r,e,s)).content:r)}return function(i,r){for(var e=[],s=0;s<r.length;s++)for(var o=r[s],a=o.childCount-1;a>=0;a--)for(var D=o.child(a).attrs,k=D.rowspan,N=D.colspan,B=s;B<s+k;B++)e[B]=(e[B]||0)+N;for(var G=0,$=0;$<e.length;$++)G=Math.max(G,e[$]);for(var re=0;re<e.length;re++)if(re>=r.length&&r.push(Rn.HY.empty),e[re]<G){for(var oe=rc(i).cell.createAndFill(),_e=[],ze=e[re];ze<G;ze++)_e.push(oe);r[re]=r[re].append(Rn.HY.from(_e))}return{height:r.length,width:G,rows:r}}(D,k)}(e),o=i.state.selection;if(o instanceof $s){s||(s={width:1,height:1,rows:[Rn.HY.from(dL(rc(i.state.schema).cell,e))]});var a=o.$anchorCell.node(-1),D=o.$anchorCell.start(-1),k=Xi.get(a).rectBetween(o.$anchorCell.pos-D,o.$headCell.pos-D);return s=function(i,r,e){var s=i.width,o=i.height,a=i.rows;if(s!=r){for(var D=[],k=[],N=0;N<a.length;N++){for(var B=a[N],G=[],$=D[N]||0,re=0;$<r;re++){var oe=B.child(re%B.childCount);$+oe.attrs.colspan>r&&(oe=oe.type.create(j1(oe.attrs,oe.attrs.colspan,$+oe.attrs.colspan-r),oe.content)),G.push(oe),$+=oe.attrs.colspan;for(var _e=1;_e<oe.attrs.rowspan;_e++)D[N+_e]=(D[N+_e]||0)+oe.attrs.colspan}k.push(Rn.HY.from(G))}a=k,s=r}if(o!=e){for(var ze=[],mt=0,Ft=0;mt<e;mt++,Ft++){for(var Pt=[],dn=a[Ft%o],fn=0;fn<dn.childCount;fn++){var Hn=dn.child(fn);mt+Hn.attrs.rowspan>e&&(Hn=Hn.type.create(Za(Hn.attrs,"rowspan",Math.max(1,e-Hn.attrs.rowspan)),Hn.content)),Pt.push(Hn)}ze.push(Rn.HY.from(Pt))}a=ze,o=e}return{width:s,height:o,rows:a}}(s,k.right-k.left,k.bottom-k.top),VW(i.state,i.dispatch,D,k,s),!0}if(s){var N=d6(i.state),B=N.start(-1);return VW(i.state,i.dispatch,B,Xi.get(N.node(-1)).findCell(N.pos-B),s),!0}return!1}function hge(i,r){if(!r.ctrlKey&&!r.metaKey){var s,e=HW(i,r.target);if(r.shiftKey&&i.state.selection instanceof $s)o(i.state.selection.$anchorCell,r),r.preventDefault();else if(r.shiftKey&&e&&null!=(s=uE(i.state.selection.$anchor))&&hL(i,r).pos!=s.pos)o(s,r),r.preventDefault();else if(!e)return;i.root.addEventListener("mouseup",a),i.root.addEventListener("dragstart",a),i.root.addEventListener("mousemove",D)}function o(k,N){var B=hL(i,N),G=null==Cv.getState(i.state);if(!B||!uL(k,B)){if(!G)return;B=k}var $=new $s(k,B);if(G||!i.state.selection.eq($)){var re=i.state.tr.setSelection($);G&&re.setMeta(Cv,k.pos),i.dispatch(re)}}function a(){i.root.removeEventListener("mouseup",a),i.root.removeEventListener("dragstart",a),i.root.removeEventListener("mousemove",D),null!=Cv.getState(i.state)&&i.dispatch(i.state.tr.setMeta(Cv,-1))}function D(k){var B,N=Cv.getState(i.state);if(null!=N)B=i.state.doc.resolve(N);else if(HW(i,k.target)!=e&&!(B=hL(i,r)))return a();B&&o(B,k)}}function zW(i,r,e){if(!(i.state.selection instanceof sn.Bs))return null;for(var o=i.state.selection.$head,a=o.depth-1;a>=0;a--){var D=o.node(a);if((e<0?o.index(a):o.indexAfter(a))!=(e<0?0:D.childCount))return null;if("cell"==D.type.spec.tableRole||"header_cell"==D.type.spec.tableRole){var N=o.before(a);return i.endOfTextblock("vert"==r?e>0?"down":"up":e>0?"right":"left")?N:null}}return null}function HW(i,r){for(;r&&r!=i.dom;r=r.parentNode)if("TD"==r.nodeName||"TH"==r.nodeName)return r}function hL(i,r){var e=i.posAtCoords({left:r.clientX,top:r.clientY});return e&&e?uE(i.state.doc.resolve(e.pos)):null}var fge=new sn.H$("fix-tables");function UW(i,r,e,s){var o=i.childCount,a=r.childCount;e:for(var D=0,k=0;D<a;D++){for(var N=r.child(D),B=k,G=Math.min(o,D+3);B<G;B++)if(i.child(B)==N){k=B+1,e+=N.nodeSize;continue e}s(N,e),k<o&&i.child(k).sameMarkup(N)?UW(i.child(k),N,e+1,s):N.nodesBetween(0,N.content.size,s,e+1),e+=N.nodeSize}}function pge(i,r){var e,s=function(o,a){"table"==o.type.spec.tableRole&&(e=function(i,r,e,s){var o=Xi.get(r);if(!o.problems)return s;s||(s=i.tr);for(var a=[],D=0;D<o.height;D++)a.push(0);for(var k=0;k<o.problems.length;k++){var N=o.problems[k];if("collision"==N.type){for(var B=r.nodeAt(N.pos),G=0;G<B.attrs.rowspan;G++)a[N.row+G]+=N.n;s.setNodeMarkup(s.mapping.map(e+1+N.pos),null,j1(B.attrs,B.attrs.colspan-N.n,N.n))}else if("missing"==N.type)a[N.row]+=N.n;else if("overlong_rowspan"==N.type){var $=r.nodeAt(N.pos);s.setNodeMarkup(s.mapping.map(e+1+N.pos),null,Za($.attrs,"rowspan",$.attrs.rowspan-N.n))}else if("colwidth mismatch"==N.type){var re=r.nodeAt(N.pos);s.setNodeMarkup(s.mapping.map(e+1+N.pos),null,Za(re.attrs,"colwidth",N.colwidth))}}for(var oe,_e,ze=0;ze<a.length;ze++)a[ze]&&(null==oe&&(oe=ze),_e=ze);for(var mt=0,Ft=e+1;mt<o.height;mt++){var Pt=r.child(mt),dn=Ft+Pt.nodeSize,fn=a[mt];if(fn>0){var Hn="cell";Pt.firstChild&&(Hn=Pt.firstChild.type.spec.tableRole);for(var er=[],Sr=0;Sr<fn;Sr++)er.push(rc(i.schema)[Hn].createAndFill());s.insert(s.mapping.map(0!=mt&&oe!=mt-1||_e!=mt?dn-1:Ft+1),er)}Ft=dn}return s.setMeta(fge,{fixTables:!0})}(i,o,a,e))};return r?r.doc!=i.doc&&UW(r.doc,i.doc,0,s):i.doc.descendants(s),e}function Hp(i){var D,r=i.selection,e=d6(i),s=e.node(-1),o=e.start(-1),a=Xi.get(s);return(D=r instanceof $s?a.rectBetween(r.$anchorCell.pos-o,r.$headCell.pos-o):a.findCell(e.pos-o)).tableStart=o,D.map=a,D.table=s,D}function GW(i,r,e){var s=r.map,o=r.tableStart,a=r.table,D=e>0?-1:0;(function(i,r,e){for(var s=rc(r.type.schema).header_cell,o=0;o<i.height;o++)if(r.nodeAt(i.map[e+o*i.width]).type!=s)return!1;return!0})(s,a,e+D)&&(D=0==e||e==s.width?null:0);for(var k=0;k<s.height;k++){var N=k*s.width+e;if(e>0&&e<s.width&&s.map[N-1]==s.map[N]){var B=s.map[N],G=a.nodeAt(B);i.setNodeMarkup(i.mapping.map(o+B),null,FW(G.attrs,e-s.colCount(B))),k+=G.attrs.rowspan-1}else{var $=null==D?rc(a.type.schema).cell:a.nodeAt(s.map[N+D]).type,re=s.positionAt(k,e,a);i.insert(i.mapping.map(o+re),$.createAndFill())}}return i}function qW(i,r){if(!cf(i))return!1;if(r){var e=Hp(i);r(GW(i.tr,e,e.left))}return!0}function jW(i,r){if(!cf(i))return!1;if(r){var e=Hp(i);r(GW(i.tr,e,e.right))}return!0}function gge(i,r,e){for(var s=r.map,o=r.table,a=r.tableStart,D=i.mapping.maps.length,k=0;k<s.height;){var N=k*s.width+e,B=s.map[N],G=o.nodeAt(B);if(e>0&&s.map[N-1]==B||e<s.width-1&&s.map[N+1]==B)i.setNodeMarkup(i.mapping.slice(D).map(a+B),null,j1(G.attrs,e-s.colCount(B)));else{var $=i.mapping.slice(D).map(a+B);i.delete($,$+G.nodeSize)}k+=G.attrs.rowspan}}function YW(i,r){if(!cf(i))return!1;if(r){var e=Hp(i),s=i.tr;if(0==e.left&&e.right==e.map.width)return!1;for(var o=e.right-1;gge(s,e,o),o!=e.left;o--)e.table=e.tableStart?s.doc.nodeAt(e.tableStart-1):s.doc,e.map=Xi.get(e.table);r(s)}return!0}function WW(i,r,e){for(var s=r.map,o=r.tableStart,a=r.table,D=o,k=0;k<e;k++)D+=a.child(k).nodeSize;var N=[],B=e>0?-1:0;(function(i,r,e){for(var s=rc(r.type.schema).header_cell,o=0;o<i.width;o++)if(r.nodeAt(i.map[o+e*i.width]).type!=s)return!1;return!0})(s,a,e+B)&&(B=0==e||e==s.height?null:0);for(var G=0,$=s.width*e;G<s.width;G++,$++)if(e>0&&e<s.height&&s.map[$]==s.map[$-s.width]){var re=s.map[$],oe=a.nodeAt(re).attrs;i.setNodeMarkup(o+re,null,Za(oe,"rowspan",oe.rowspan+1)),G+=oe.colspan-1}else{var _e=null==B?rc(a.type.schema).cell:a.nodeAt(s.map[$+B*s.width]).type;N.push(_e.createAndFill())}return i.insert(D,rc(a.type.schema).row.create(null,N)),i}function $W(i,r){if(!cf(i))return!1;if(r){var e=Hp(i);r(WW(i.tr,e,e.top))}return!0}function KW(i,r){if(!cf(i))return!1;if(r){var e=Hp(i);r(WW(i.tr,e,e.bottom))}return!0}function vge(i,r,e){for(var s=r.map,o=r.table,a=r.tableStart,D=0,k=0;k<e;k++)D+=o.child(k).nodeSize;var N=D+o.child(e).nodeSize,B=i.mapping.maps.length;i.delete(D+a,N+a);for(var G=0,$=e*s.width;G<s.width;G++,$++){var re=s.map[$];if(e>0&&re==s.map[$-s.width]){var oe=o.nodeAt(re).attrs;i.setNodeMarkup(i.mapping.slice(B).map(re+a),null,Za(oe,"rowspan",oe.rowspan-1)),G+=oe.colspan-1}else if(e<s.width&&re==s.map[$+s.width]){var _e=o.nodeAt(re),ze=_e.type.create(Za(_e.attrs,"rowspan",_e.attrs.rowspan-1),_e.content),mt=s.positionAt(e+1,G,o);i.insert(i.mapping.slice(B).map(a+mt),ze),G+=_e.attrs.colspan-1}}}function ZW(i,r){if(!cf(i))return!1;if(r){var e=Hp(i),s=i.tr;if(0==e.top&&e.bottom==e.map.height)return!1;for(var o=e.bottom-1;vge(s,e,o),o!=e.top;o--)e.table=e.tableStart?s.doc.nodeAt(e.tableStart-1):s.doc,e.map=Xi.get(e.table);r(s)}return!0}function JW(i){var r=i.content;return 1==r.childCount&&r.firstChild.isTextblock&&0==r.firstChild.childCount}function QW(i,r){var e=i.selection;if(!(e instanceof $s)||e.$anchorCell.pos==e.$headCell.pos)return!1;var s=Hp(i),o=s.map;if(function(i,r){for(var e=i.width,s=i.height,o=i.map,a=r.top*e+r.left,D=a,k=(r.bottom-1)*e+r.left,N=a+(r.right-r.left-1),B=r.top;B<r.bottom;B++){if(r.left>0&&o[D]==o[D-1]||r.right<e&&o[N]==o[N+1])return!0;D+=e,N+=e}for(var G=r.left;G<r.right;G++){if(r.top>0&&o[a]==o[a-e]||r.bottom<s&&o[k]==o[k+e])return!0;a++,k++}return!1}(o,s))return!1;if(r){for(var N,B,a=i.tr,D={},k=Rn.HY.empty,G=s.top;G<s.bottom;G++)for(var $=s.left;$<s.right;$++){var re=o.map[G*o.width+$],oe=s.table.nodeAt(re);if(!D[re])if(D[re]=!0,null==N)N=re,B=oe;else{JW(oe)||(k=k.append(oe.content));var _e=a.mapping.map(re+s.tableStart);a.delete(_e,_e+oe.nodeSize)}}if(a.setNodeMarkup(N+s.tableStart,null,Za(FW(B.attrs,B.attrs.colspan,s.right-s.left-B.attrs.colspan),"rowspan",s.bottom-s.top)),k.size){var ze=N+1+B.content.size,mt=JW(B)?N+1:ze;a.replaceWith(mt+s.tableStart,ze+s.tableStart,k)}a.setSelection(new $s(a.doc.resolve(N+s.tableStart))),r(a)}return!0}function XW(i,r){var e=rc(i.schema);return function(i){return function(r,e){var o,a,s=r.selection;if(s instanceof $s){if(s.$anchorCell.pos!=s.$headCell.pos)return!1;o=s.$anchorCell.nodeAfter,a=s.$anchorCell.pos}else{if(!(o=function(i){for(var r=i.depth;r>0;r--){var e=i.node(r).type.spec.tableRole;if("cell"===e||"header_cell"===e)return i.node(r)}return null}(s.$from)))return!1;a=uE(s.$from).pos}if(1==o.attrs.colspan&&1==o.attrs.rowspan)return!1;if(e){var D=o.attrs,k=[],N=D.colwidth;D.rowspan>1&&(D=Za(D,"rowspan",1)),D.colspan>1&&(D=Za(D,"colspan",1));for(var B=Hp(r),G=r.tr,$=0;$<B.right-B.left;$++)k.push(N?Za(D,"colwidth",N&&N[$]?[N[$]]:null):D);for(var re,oe=B.top;oe<B.bottom;oe++){var _e=B.map.positionAt(oe,B.left,B.table);oe==B.top&&(_e+=o.nodeSize);for(var ze=B.left,mt=0;ze<B.right;ze++,mt++)ze==B.left&&oe==B.top||G.insert(re=G.mapping.map(_e+B.tableStart,1),i({node:o,row:oe,col:ze}).createAndFill(k[mt]))}G.setNodeMarkup(a,i({node:o,row:B.top,col:B.left}),k[0]),s instanceof $s&&G.setSelection(new $s(G.doc.resolve(s.$anchorCell.pos),re&&G.doc.resolve(re))),e(G)}return!0}}(function(s){return e[s.node.type.spec.tableRole]})(i,r)}function _6(i,r){return function(e,s){if(!cf(e))return!1;var o=d6(e);if(o.nodeAfter.attrs[i]===r)return!1;if(s){var a=e.tr;e.selection instanceof $s?e.selection.forEachCell(function(D,k){D.attrs[i]!==r&&a.setNodeMarkup(k,null,Za(D.attrs,i,r))}):a.setNodeMarkup(o.pos,null,Za(o.nodeAfter.attrs,i,r)),s(a)}return!0}}function e$(i,r,e){for(var s=r.map.cellsInRect({left:0,top:0,right:"row"==i?r.map.width:1,bottom:"column"==i?r.map.height:1}),o=0;o<s.length;o++){var a=r.table.nodeAt(s[o]);if(a&&a.type!==e.header_cell)return!1}return!0}function fL(i,r){return(r=r||{useDeprecatedLogic:!1}).useDeprecatedLogic?function(i){return function(r,e){if(!cf(r))return!1;if(e){for(var s=rc(r.schema),o=Hp(r),a=r.tr,D=o.map.cellsInRect("column"==i?new cE(o.left,0,o.right,o.map.height):"row"==i?new cE(0,o.top,o.map.width,o.bottom):o),k=D.map(function(G){return o.table.nodeAt(G)}),N=0;N<D.length;N++)k[N].type==s.header_cell&&a.setNodeMarkup(o.tableStart+D[N],s.cell,k[N].attrs);if(0==a.steps.length)for(var B=0;B<D.length;B++)a.setNodeMarkup(o.tableStart+D[B],s.header_cell,k[B].attrs);e(a)}return!0}}(i):function(e,s){if(!cf(e))return!1;if(s){var o=rc(e.schema),a=Hp(e),D=e.tr,k=e$("row",a,o),N=e$("column",a,o),G=("column"===i?k:"row"===i&&N)?1:0,$="column"==i?new cE(0,G,1,a.map.height):"row"==i?new cE(G,0,a.map.width,1):a,re="column"==i?N?o.cell:o.header_cell:"row"==i?k?o.cell:o.header_cell:o.cell;a.map.cellsInRect($).forEach(function(oe){var _e=oe+a.tableStart,ze=D.doc.nodeAt(_e);ze&&D.setNodeMarkup(_e,re,ze.attrs)}),s(D)}return!0}}var t$=fL("row",{useDeprecatedLogic:!0}),n$=fL("column",{useDeprecatedLogic:!0}),r$=fL("cell",{useDeprecatedLogic:!0});function i$(i){return function(r,e){if(!cf(r))return!1;var s=function(i,r){if(r<0){var e=i.nodeBefore;if(e)return i.pos-e.nodeSize;for(var s=i.index(-1)-1,o=i.before();s>=0;s--){var a=i.node(-1).child(s);if(a.childCount)return o-1-a.lastChild.nodeSize;o-=a.nodeSize}}else{if(i.index()<i.parent.childCount-1)return i.pos+i.nodeAfter.nodeSize;for(var D=i.node(-1),k=i.indexAfter(-1),N=i.after();k<D.childCount;k++){var B=D.child(k);if(B.childCount)return N+1;N+=B.nodeSize}}}(d6(r),i);if(null!=s){if(e){var o=r.doc.resolve(s);e(r.tr.setSelection(sn.Bs.between(o,function(i){return i.node(0).resolve(i.pos+i.nodeAfter.nodeSize)}(o))).scrollIntoView())}return!0}}}function s$(i,r){for(var e=i.selection.$anchor,s=e.depth;s>0;s--)if("table"==e.node(s).type.spec.tableRole)return r&&r(i.tr.delete(e.before(s),e.after(s)).scrollIntoView()),!0;return!1}var pL=function(r,e){this.node=r,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),mL(r,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))};function mL(i,r,e,s,o,a){for(var D=0,k=!0,N=r.firstChild,B=i.firstChild,G=0,$=0;G<B.childCount;G++)for(var re=B.child(G).attrs,oe=re.colspan,_e=re.colwidth,ze=0;ze<oe;ze++,$++){var mt=o==$?a:_e&&_e[ze],Ft=mt?mt+"px":"";D+=mt||s,mt||(k=!1),N?(N.style.width!=Ft&&(N.style.width=Ft),N=N.nextSibling):r.appendChild(document.createElement("col")).style.width=Ft}for(;N;){var Pt=N.nextSibling;N.parentNode.removeChild(N),N=Pt}k?(e.style.width=D+"px",e.style.minWidth=""):(e.style.width="",e.style.minWidth=D+"px")}pL.prototype.update=function(r){return r.type==this.node.type&&(this.node=r,mL(r,this.colgroup,this.table,this.cellMinWidth),!0)},pL.prototype.ignoreMutation=function(r){return"attributes"==r.type&&(r.target==this.table||this.colgroup.contains(r.target))};var rh=new sn.H$("tableColumnResizing");function Sge(i){void 0===i&&(i={});var r=i.handleWidth;void 0===r&&(r=5);var e=i.cellMinWidth;void 0===e&&(e=25);var s=i.View;void 0===s&&(s=pL);var o=i.lastColumnResizable;return void 0===o&&(o=!0),new sn.Sy({key:rh,state:{init:function(k,N){return this.spec.props.nodeViews[rc(N.schema).table.name]=function(B,G){return new s(B,e,G)},new gA(-1,!1)},apply:function(k,N){return N.apply(k)}},props:{attributes:function(k){return rh.getState(k).activeHandle>-1?{class:"resize-cursor"}:null},handleDOMEvents:{mousemove:function(k,N){!function(i,r,e,s,o){var a=rh.getState(i.state);if(!a.dragging){var D=function(i){for(;i&&"TD"!=i.nodeName&&"TH"!=i.nodeName;)i=i.classList.contains("ProseMirror")?null:i.parentNode;return i}(r.target),k=-1;if(D){var N=D.getBoundingClientRect(),G=N.right;r.clientX-N.left<=e?k=o$(i,r,"left"):G-r.clientX<=e&&(k=o$(i,r,"right"))}if(k!=a.activeHandle){if(!o&&-1!==k){var $=i.state.doc.resolve(k),re=$.node(-1),oe=Xi.get(re),_e=$.start(-1);if(oe.colCount($.pos-_e)+$.nodeAfter.attrs.colspan-1==oe.width-1)return}l$(i,k)}}}(k,N,r,0,o)},mouseleave:function(k){!function(i){var r=rh.getState(i.state);r.activeHandle>-1&&!r.dragging&&l$(i,-1)}(k)},mousedown:function(k,N){!function(i,r,e){var s=rh.getState(i.state);if(-1==s.activeHandle||s.dragging)return!1;var o=i.state.doc.nodeAt(s.activeHandle),a=function(i,r,e){var s=e.colspan,o=e.colwidth,a=o&&o[o.length-1];if(a)return a;var D=i.domAtPos(r),N=D.node.childNodes[D.offset].offsetWidth,B=s;if(o)for(var G=0;G<s;G++)o[G]&&(N-=o[G],B--);return N/B}(i,s.activeHandle,o.attrs);function D(N){window.removeEventListener("mouseup",D),window.removeEventListener("mousemove",k);var B=rh.getState(i.state);B.dragging&&(function(i,r,e){for(var s=i.state.doc.resolve(r),o=s.node(-1),a=Xi.get(o),D=s.start(-1),k=a.colCount(s.pos-D)+s.nodeAfter.attrs.colspan-1,N=i.state.tr,B=0;B<a.height;B++){var G=B*a.width+k;if(!B||a.map[G]!=a.map[G-a.width]){var $=a.map[G],oe=o.nodeAt($).attrs,_e=1==oe.colspan?0:k-a.colCount($);if(!oe.colwidth||oe.colwidth[_e]!=e){var ze=oe.colwidth?oe.colwidth.slice():Ige(oe.colspan);ze[_e]=e,N.setNodeMarkup(D+$,null,Za(oe,"colwidth",ze))}}}N.docChanged&&i.dispatch(N)}(i,B.activeHandle,a$(B.dragging,N,e)),i.dispatch(i.state.tr.setMeta(rh,{setDragging:null})))}function k(N){if(!N.which)return D(N);var B=rh.getState(i.state),G=a$(B.dragging,N,e);!function(i,r,e,s){for(var o=i.state.doc.resolve(r),a=o.node(-1),D=o.start(-1),k=Xi.get(a).colCount(o.pos-D)+o.nodeAfter.attrs.colspan-1,N=i.domAtPos(o.start(-1)).node;"TABLE"!=N.nodeName;)N=N.parentNode;mL(a,N.firstChild,N,s,k,e)}(i,B.activeHandle,G,e)}i.dispatch(i.state.tr.setMeta(rh,{setDragging:{startX:r.clientX,startWidth:a}})),window.addEventListener("mouseup",D),window.addEventListener("mousemove",k),r.preventDefault()}(k,N,e)}},decorations:function(k){var N=rh.getState(k);if(N.activeHandle>-1)return function(i,r){for(var e=[],s=i.doc.resolve(r),o=s.node(-1),a=Xi.get(o),D=s.start(-1),k=a.colCount(s.pos-D)+s.nodeAfter.attrs.colspan,N=0;N<a.height;N++){var B=k+N*a.width-1;if(!(k!=a.width&&a.map[B]==a.map[B+1]||0!=N&&a.map[B-1]==a.map[B-1-a.width])){var G=a.map[B],$=D+G+o.nodeAt(G).nodeSize-1,re=document.createElement("div");re.className="column-resize-handle",e.push(ho.widget($,re))}}return Hi.create(i.doc,e)}(k,N.activeHandle)},nodeViews:{}}})}var gA=function(r,e){this.activeHandle=r,this.dragging=e};function o$(i,r,e){var s=i.posAtCoords({left:r.clientX,top:r.clientY});if(!s)return-1;var a=uE(i.state.doc.resolve(s.pos));if(!a)return-1;if("right"==e)return a.pos;var D=Xi.get(a.node(-1)),k=a.start(-1),N=D.map.indexOf(a.pos-k);return N%D.width==0?-1:k+D.map[N-1]}function a$(i,r,e){return Math.max(e,i.startWidth+(r.clientX-i.startX))}function l$(i,r){i.dispatch(i.state.tr.setMeta(rh,{setHandle:r}))}function Ige(i){for(var r=[],e=0;e<i;e++)r.push(0);return r}function Oge(i){void 0===i&&(i={});var r=i.allowTableNodeSelection;return void 0===r&&(r=!1),new sn.Sy({key:Cv,state:{init:function(){return null},apply:function(s,o){var a=s.getMeta(Cv);if(null!=a)return-1==a?null:a;if(null==o||!s.docChanged)return o;var D=s.mapping.mapResult(o);return D.deleted?null:D.pos}},props:{decorations:tge,handleDOMEvents:{mousedown:hge},createSelectionBetween:function(s){if(null!=Cv.getState(s.state))return s.state.selection},handleTripleClick:uge,handleKeyDown:cge,handlePaste:dge},appendTransaction:function(s,o,a){return function(i,r,e){var a,D,s=(r||i).selection,o=(r||i).doc;if(s instanceof sn.qv&&(D=s.node.type.spec.tableRole)){if("cell"==D||"header_cell"==D)a=$s.create(o,s.from);else if("row"==D){var k=o.resolve(s.from+1);a=$s.rowSelection(k,k)}else if(!e){var N=Xi.get(s.node),B=s.from+1;a=$s.create(o,B+1,B+N.map[N.width*N.height-1])}}else s instanceof sn.Bs&&function(i){var r=i.$from,e=i.$to;if(r.pos==e.pos||r.pos<r.pos-6)return!1;for(var s=r.pos,o=e.pos,a=r.depth;a>=0&&!(r.after(a+1)<r.end(a));a--,s++);for(var D=e.depth;D>=0&&!(e.before(D+1)>e.start(D));D--,o--);return s==o&&/row|table/.test(r.node(a).type.spec.tableRole)}(s)?a=sn.Bs.create(o,s.from):s instanceof sn.Bs&&function(i){for(var s,o,r=i.$from,e=i.$to,a=r.depth;a>0;a--){var D=r.node(a);if("cell"===D.type.spec.tableRole||"header_cell"===D.type.spec.tableRole){s=D;break}}for(var k=e.depth;k>0;k--){var N=e.node(k);if("cell"===N.type.spec.tableRole||"header_cell"===N.type.spec.tableRole){o=N;break}}return s!==o&&0===e.parentOffset}(s)&&(a=sn.Bs.create(o,s.$from.start(),s.$from.end()));return a&&(r||(r=i.tr)).setSelection(a),r}(a,pge(a,o),r)}})}gA.prototype.apply=function(r){var e=this,s=r.getMeta(rh);if(s&&null!=s.setHandle)return new gA(s.setHandle,null);if(s&&void 0!==s.setDragging)return new gA(e.activeHandle,s.setDragging);if(e.activeHandle>-1&&r.docChanged){var o=r.mapping.map(e.activeHandle,-1);cL(r.doc.resolve(o))||(o=null),e=new gA(o,e.dragging)}return e};const Nge={attrs:{class:{default:"comment"},id:{default:""},group:{default:""},viewid:{default:""},conversation:{default:[]}},inclusive:!1,excludes:"",parseDOM:[{tag:"span",getAttrs:i=>({class:i.getAttribute("class"),id:i.dataset.id,group:i.dataset.group,viewid:i.dataset.viewid,conversation:JSON.parse(i.dataset.conversation)})}],toDOM:i=>["span",{class:i.attrs.class,"data-id":i.attrs.id,"data-conversation":JSON.stringify(i.attrs.conversation),"data-viewid":i.attrs.viewid,"data-group":i.attrs.group}]},Pge={attrs:{class:{default:"insertion"},id:{default:""},user:{default:0},username:{default:""},date:{default:0},group:{default:""},viewid:{default:""},style:{default:null}},inclusive:!1,group:"track",parseDOM:[{tag:"span",getAttrs:i=>({src:i.getAttribute("class"),style:i.getAttribute("style"),id:i.dataset.id,user:i.dataset.user,username:i.dataset.username,date:parseInt(i.dataset.date),group:i.dataset.group,viewid:i.dataset.viewid})}],toDOM:i=>["span",{class:i.attrs.class,"data-id":i.attrs.id,"data-user":i.attrs.user,"data-username":i.attrs.username,"data-date":i.attrs.date,"data-group":i.attrs.group,"data-viewid":i.attrs.viewid,style:i.attrs.style}]},Fge={attrs:{class:{default:"deletion"},id:{default:""},user:{default:0},username:{default:""},date:{default:0},group:{default:""},viewid:{default:""},style:{default:null}},inclusive:!1,group:"track",parseDOM:[{tag:"span",getAttrs:i=>({class:i.getAttribute("class"),style:i.getAttribute("style"),id:i.dataset.id,user:i.dataset.user,username:i.dataset.username,date:parseInt(i.dataset.date),group:i.dataset.group,viewid:i.dataset.viewid,color:i.dataset.color})}],toDOM:i=>["span",{class:i.attrs.class,"data-id":i.attrs.id,"data-user":i.attrs.user,"data-username":i.attrs.username,"data-date":i.attrs.date,"data-group":i.attrs.group,"data-viewid":i.attrs.viewid,style:i.attrs.style}]};var fo=$e(4414);const Lge={format_change:{attrs:{class:{default:"format-change"},id:{default:""},user:{default:0},username:{default:""},date:{default:0},before:{default:[]},after:{default:[]},group:{default:""},viewid:{default:""}},inclusive:!1,group:"track",parseDOM:[{tag:"span",getAttrs:i=>({class:i.getAttribute("class"),id:i.dataset.id,user:i.dataset.user,username:i.dataset.username,date:parseInt(i.dataset.date),before:fo.SchemaHelpers.parseFormatList(i.dataset.before),after:fo.SchemaHelpers.parseFormatList(i.dataset.after),group:i.dataset.group,viewid:i.dataset.viewid})}],toDOM:i=>["span",{class:i.attrs.class,"data-id":i.attrs.id,"data-user":i.attrs.user,"data-username":i.attrs.username,"data-date":i.attrs.date,"data-before":JSON.stringify(i.attrs.before),"data-after":JSON.stringify(i.attrs.after),"data-group":i.attrs.group,"data-viewid":i.attrs.viewid}]},insertion:Pge,deletion:Fge},Bge={author:{content:"inline*",group:"block",priority:0,defining:!0,attrs:{id:{default:""},track:{default:[]},group:{default:""},viewid:{default:""}},parseDOM:[{tag:"p.author",getAttrs(i,r){Object.assign(i,{id:i.dom.dataset.id,track:fo.SchemaHelpers.parseTracks(i.dom.dataset.track),group:i.dom.dataset.group,viewid:i.dom.dataset.viewid}),r()}}],toDOM(i,r){i.node.attrs.track&&i.node.attrs.track.length&&Object.assign(i.value[1],{"data-id":i.node.attrs.id,"data-track":JSON.stringify(i.node.attrs.track),"data-group":i.node.attrs.group,"data-viewid":i.node.attrs.viewid}),r()}},title:{content:"inline*",group:"block",priority:0,defining:!0,attrs:{id:{default:""},track:{default:[]},group:{default:""},viewid:{default:""}},parseDOM:[{tag:"p.title",getAttrs(i,r){Object.assign(i,{id:i.dom.dataset.id,track:fo.SchemaHelpers.parseTracks(i.dom.dataset.track),group:i.dom.dataset.group,viewid:i.dom.dataset.viewid}),r()}}],toDOM(i,r){i.node.attrs.track&&i.node.attrs.track.length&&Object.assign(i.value[1],{"data-id":i.node.attrs.id,"data-track":JSON.stringify(i.node.attrs.track),"data-group":i.node.attrs.group,"data-viewid":i.node.attrs.viewid}),r()}},subtitle:{content:"inline*",group:"block",priority:0,defining:!0,attrs:{id:{default:""},track:{default:[]},group:{default:""},viewid:{default:""}},parseDOM:[{tag:"p.cst",getAttrs(i,r){Object.assign(i,{id:i.dom.dataset.id,track:fo.SchemaHelpers.parseTracks(i.dom.dataset.track),group:i.dom.dataset.group,viewid:i.dom.dataset.viewid}),r()}}],toDOM(i,r){i.node.attrs.track&&i.node.attrs.track.length&&Object.assign(i.value[1],{"data-id":i.node.attrs.id,"data-track":JSON.stringify(i.node.attrs.track),"data-group":i.node.attrs.group,"data-viewid":i.node.attrs.viewid}),r()}},epigraphProse:{content:"inline*",group:"block",priority:0,defining:!0,attrs:{id:{default:""},track:{default:[]},group:{default:""},viewid:{default:""}},parseDOM:[{tag:"p.epigraph-prose",getAttrs(i,r){Object.assign(i,{id:i.dom.dataset.id,track:fo.SchemaHelpers.parseTracks(i.dom.dataset.track),group:i.dom.dataset.group,viewid:i.dom.dataset.viewid}),r()}}],toDOM(i,r){i.node.attrs.track&&i.node.attrs.track.length&&Object.assign(i.value[1],{"data-id":i.node.attrs.id,"data-track":JSON.stringify(i.node.attrs.track),"data-group":i.node.attrs.group,"data-viewid":i.node.attrs.viewid}),r()}},epigraphPoetry:{content:"inline*",group:"block",priority:0,defining:!0,attrs:{id:{default:""},track:{default:[]},group:{default:""},viewid:{default:""}},parseDOM:[{tag:"p.epigraph-poetry",getAttrs(i,r){Object.assign(i,{id:i.dom.dataset.id,track:fo.SchemaHelpers.parseTracks(i.dom.dataset.track),group:i.dom.dataset.group,viewid:i.dom.dataset.viewid}),r()}}],toDOM(i,r){i.node.attrs.track&&i.node.attrs.track.length&&Object.assign(i.value[1],{"data-id":i.node.attrs.id,"data-track":JSON.stringify(i.node.attrs.track),"data-group":i.node.attrs.group,"data-viewid":i.node.attrs.viewid}),r()}},paragraphCont:{content:"inline*",group:"block",priority:0,defining:!0,attrs:{id:{default:""},track:{default:[]},group:{default:""},viewid:{default:""}},parseDOM:[{tag:"p.paragraph-cont",getAttrs(i,r){Object.assign(i,{id:i.dom.dataset.id,track:fo.SchemaHelpers.parseTracks(i.dom.dataset.track),group:i.dom.dataset.group,viewid:i.dom.dataset.viewid}),r()}}],toDOM(i,r){i.node.attrs.track&&i.node.attrs.track.length&&Object.assign(i.value[1],{"data-id":i.node.attrs.id,"data-track":JSON.stringify(i.node.attrs.track),"data-group":i.node.attrs.group,"data-viewid":i.node.attrs.viewid}),r()}},extractProse:{content:"inline*",group:"block",priority:0,defining:!0,attrs:{id:{default:""},track:{default:[]},group:{default:""},viewid:{default:""}},parseDOM:[{tag:"p.extract-prose",getAttrs(i,r){Object.assign(i,{id:i.dom.dataset.id,track:fo.SchemaHelpers.parseTracks(i.dom.dataset.track),group:i.dom.dataset.group,viewid:i.dom.dataset.viewid}),r()}}],toDOM(i,r){i.node.attrs.track&&i.node.attrs.track.length&&Object.assign(i.value[1],{"data-id":i.node.attrs.id,"data-track":JSON.stringify(i.node.attrs.track),"data-group":i.node.attrs.group,"data-viewid":i.node.attrs.viewid}),r()}},extractPoetry:{content:"inline*",group:"block",priority:0,defining:!0,attrs:{id:{default:""},track:{default:[]},group:{default:""},viewid:{default:""}},parseDOM:[{tag:"p.extract-poetry",getAttrs(i,r){Object.assign(i,{id:i.dom.dataset.id,track:fo.SchemaHelpers.parseTracks(i.dom.dataset.track),group:i.dom.dataset.group,viewid:i.dom.dataset.viewid}),r()}}],toDOM(i,r){i.node.attrs.track&&i.node.attrs.track.length&&Object.assign(i.value[1],{"data-id":i.node.attrs.id,"data-track":JSON.stringify(i.node.attrs.track),"data-group":i.node.attrs.group,"data-viewid":i.node.attrs.viewid}),r()}},orderedlist:{group:"block",content:"list_item+",attrs:{id:{default:""},track:{default:[]},group:{default:""},viewid:{default:""}},parseDOM:[{tag:"ol",getAttrs(i,r){Object.assign(i,{id:i.dom.dataset.id,track:fo.SchemaHelpers.parseTracks(i.dom.dataset.track),group:i.dom.dataset.group,viewid:i.dom.dataset.viewid}),r()}}],toDOM(i,r){i.node.attrs.track&&i.node.attrs.track.length&&Object.assign(i.value[1],{"data-id":i.node.attrs.id,"data-track":JSON.stringify(i.node.attrs.track),"data-group":i.node.attrs.group,"data-viewid":i.node.attrs.viewid}),r()}},sourceNote:{content:"inline*",group:"block",priority:0,defining:!0,attrs:{id:{default:""},track:{default:[]},group:{default:""},viewid:{default:""}},parseDOM:[{tag:"p.source-note",getAttrs(i,r){Object.assign(i,{id:i.dom.dataset.id,track:fo.SchemaHelpers.parseTracks(i.dom.dataset.track),group:i.dom.dataset.group,viewid:i.dom.dataset.viewid}),r()}}],toDOM(i,r){i.node.attrs.track&&i.node.attrs.track.length&&Object.assign(i.value[1],{"data-id":i.node.attrs.id,"data-track":JSON.stringify(i.node.attrs.track),"data-group":i.node.attrs.group,"data-viewid":i.node.attrs.viewid}),r()}},heading:{attrs:{id:{default:""},track:{default:[]},group:{default:""},viewid:{default:""}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h2",getAttrs(i,r){Object.assign(i,{id:i.dom.dataset.id,track:fo.SchemaHelpers.parseTracks(i.dom.dataset.track),group:i.dom.dataset.group,viewid:i.dom.dataset.viewid}),r()}},{tag:"h3",getAttrs(i,r){Object.assign(i,{id:i.dom.dataset.id,track:fo.SchemaHelpers.parseTracks(i.dom.dataset.track),group:i.dom.dataset.group,viewid:i.dom.dataset.viewid}),r()}},{tag:"h4",getAttrs(i,r){Object.assign(i,{id:i.dom.dataset.id,track:fo.SchemaHelpers.parseTracks(i.dom.dataset.track),group:i.dom.dataset.group,viewid:i.dom.dataset.viewid}),r()}}],toDOM(i,r){i.node.attrs.track&&i.node.attrs.track.length&&Object.assign(i.value[1],{"data-id":i.node.attrs.id,"data-track":JSON.stringify(i.node.attrs.track),"data-group":i.node.attrs.group,"data-viewid":i.node.attrs.viewid}),r()}},customTagBlock:{content:"inline*",group:"block",priority:0,defining:!0,attrs:{id:{default:""},track:{default:[]},group:{default:""},viewid:{default:""}},parseDOM:[{tag:'p[data-type="block"]',getAttrs(i,r){Object.assign(i,{id:i.dom.dataset.id,track:fo.SchemaHelpers.parseTracks(i.dom.dataset.track),group:i.dom.dataset.group,viewid:i.dom.dataset.viewid}),r()}}],toDOM(i,r){i.node.attrs.track&&i.node.attrs.track.length&&Object.assign(i.value[1],{"data-id":i.node.attrs.id,"data-track":JSON.stringify(i.node.attrs.track),"data-group":i.node.attrs.group,"data-viewid":i.node.attrs.viewid}),r()}}},Vge=["ol",0],zge=["ul",0],Hge=["li",0],Uge=Object.assign(Object.assign({doc:{content:"block+"},paragraph:{content:"inline*",group:"block",attrs:{align:{default:"set-align-left"},id:{default:""},track:{default:[]},group:{default:""},viewid:{default:""}},parseDOM:[{tag:"p",getAttrs:i=>({id:i.dataset.id,track:fo.SchemaHelpers.parseTracks(i.dataset.track),group:i.dataset.group,viewid:i.dataset.viewid})}],toDOM:i=>["p",{class:i.attrs.align,"data-id":i.attrs.id,"data-track":JSON.stringify(i.attrs.track),"data-group":i.attrs.group,"data-viewid":i.attrs.viewid},0]},video:{inline:!0,attrs:{src:{default:"https://www.youtube.com/watch?v=TgbqBx4NthI&list=RDMMTgbqBx4NthI&start_radio=1&ab_channel=CHMusicChannel"}},group:"inline",draggable:!0,parseDOM:[{tag:"iframe",getAttrs:i=>({src:i.getAttribute("src")})}],toDOM(i){let{src:r}=i.attrs;return["iframe",{controls:"",width:200,height:180,src:r}]}},math_inline:{group:"inline math",content:"text*",inline:!0,atom:!0,toDOM:()=>["math-inline",{class:"math-node"},0],parseDOM:[{tag:"math-inline"}]},math_display:{group:"block math",content:"text*",atom:!0,code:!0,toDOM:()=>["math-display",{class:"math-node"},0],parseDOM:[{tag:"math-display"}]},text:{group:"inline"},blockquote:V1.blockquote,code_block:V1.code_block,hard_break:V1.hard_break,heading:V1.heading,horizontal_rule:V1.horizontal_rule,image:V1.image,ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:i=>({order:i.hasAttribute("start")?+i.getAttribute("start"):1})}],toDOM:i=>1==i.attrs.order?Vge:["ol",{start:i.attrs.order},0]},bullet_list:{group:"block",content:"list_item+",parseDOM:[{tag:"ul"}],toDOM:()=>zge},list_item:{content:"paragraph block*",parseDOM:[{tag:"li"}],toDOM:()=>Hge,defining:!0}},function(i){var r=i.cellAttributes||{},e={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(var s in r)e[s]={default:r[s].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:i.tableGroup,parseDOM:[{tag:"table"}],toDOM:function(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:function(){return["tr",0]}},table_cell:{content:i.cellContent,attrs:e,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:function(o){return OW(o,r)}}],toDOM:function(a){return["td",NW(a,r),0]}},table_header:{content:i.cellContent,attrs:e,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:function(o){return OW(o,r)}}],toDOM:function(a){return["th",NW(a,r),0]}}}}({tableGroup:"block",cellContent:"block+",cellAttributes:{background:{default:null,getFromDOM:i=>i.style.backgroundColor||null,setDOMAttr(i,r){i&&(r.style=(r.style||"")+`background-color: ${i};`)}}}})),Bge),Gge=Object.assign(Object.assign({math_select:{toDOM:()=>["math-select",0],parseDOM:[{tag:"math-select"}]},subscript:{toDOM:()=>["sub",0],parseDOM:[{tag:"sub"}]},superscript:{toDOM:()=>["sup",0],parseDOM:[{tag:"sup"}]},comment:Nge},Lge),TY),Sv=new Rn.V_({nodes:Uge,marks:Gge});function qge(i,r){if(1&i){const e=C.EpF();C.TgZ(0,"div",6),C.NdJ("mouseenter",function(o){return C.CHM(e),C.oxw(2).tablePickerHover(o)})("click",function(){return C.CHM(e),C.oxw(2).chooseSize()}),C.qZA()}if(2&i){const e=r.$implicit,s=C.oxw().$implicit,o=C.oxw();C.Udp("background",o.idsToHover.includes(o.SIZE*s+e)?"gray":"white"),C.Q6J("id",o.SIZE*s+e)}}const c$=function(){return[0,1,2,3,4,5,6,7]};function jge(i,r){1&i&&(C.TgZ(0,"div",4),C.YNc(1,qge,1,3,"div",5),C.qZA()),2&i&&(C.xp6(1),C.Q6J("ngForOf",C.DdM(1,c$)))}let Yge=(()=>{class i{constructor(e,s){this.dialogRef=e,this.data=s,this.SIZE=8,this.idsToHover=[],this.selectedRow=0,this.selectedCell=0,this.blockHover=!1}tablePickerHover(e){var s;if(this.blockHover)return;let o=null===(s=null==e?void 0:e.target)||void 0===s?void 0:s.id;if(o){this.idsToHover=[],this.selectedRow=Math.floor(o/this.SIZE)+1,this.selectedCell=Math.floor(o%this.SIZE)+1;for(let a=0;a<this.selectedRow;a++)for(let D=0;D<this.selectedCell;D++)this.idsToHover.push(a*this.SIZE+D)}}chooseSize(){this.data.rows=this.selectedRow,this.data.cols=this.selectedCell,this.dialogRef.close(this.data)}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(Bk),C.Y36(B7))},i.\u0275cmp=C.Xpm({type:i,selectors:[["app-table-size-picker"]],decls:5,vars:4,consts:[["mat-dialog-content",""],[1,"table-size-picker"],["class","table-size-picker-row",4,"ngFor","ngForOf"],[1,"size-bar"],[1,"table-size-picker-row"],["class","table-size-picker-cell",3,"id","background","mouseenter","click",4,"ngFor","ngForOf"],[1,"table-size-picker-cell",3,"id","mouseenter","click"]],template:function(e,s){1&e&&(C.TgZ(0,"div",0),C.TgZ(1,"div",1),C.YNc(2,jge,2,2,"div",2),C.TgZ(3,"div",3),C._uU(4),C.qZA(),C.qZA(),C.qZA()),2&e&&(C.xp6(2),C.Q6J("ngForOf",C.DdM(3,c$)),C.xp6(2),C.AsE(" ",s.selectedRow," x ",s.selectedCell," "))},directives:[kG,ni],styles:[".table-size-picker[_ngcontent-%COMP%]{width:174px;height:220px;border:1px solid gray;padding:5px;margin:20px}.table-size-picker[_ngcontent-%COMP%]   .table-size-picker-row[_ngcontent-%COMP%]{overflow:auto}.table-size-picker[_ngcontent-%COMP%]   .table-size-picker-row[_ngcontent-%COMP%]:not(:first-child){margin-top:3px}.table-size-picker[_ngcontent-%COMP%]   .table-size-picker-cell[_ngcontent-%COMP%]{width:18px;height:18px;border:1px solid gray;float:left;cursor:pointer}.table-size-picker[_ngcontent-%COMP%]   .table-size-picker-cell[_ngcontent-%COMP%]:not(:first-child){margin-left:2px}.table-size-picker[_ngcontent-%COMP%]   .size-bar[_ngcontent-%COMP%]{width:100%;height:36px;margin-top:5px;background:lightblue;display:flex;justify-content:center;align-items:center}"]}),i})();const Y1=Math.floor,gL=(Math,Math.abs),Wge=(Math,Math,Math.log10),Mv=(Math,Math,Math,(i,r)=>i<r?i:r),qg=(i,r)=>i>r?i:r,u$=(Math,Math,i=>0!==i?i<0:1/i<0),d$=("undefined"==typeof window||void 0!==window.performance&&window,"undefined"==typeof crypto?null:crypto),$ge=null!==d$?i=>{const r=new ArrayBuffer(i),e=new Uint8Array(r);return d$.getRandomValues(e),r}:i=>{const r=new ArrayBuffer(i),e=new Uint8Array(r);for(let s=0;s<i;s++)e[s]=Math.ceil(4294967295*Math.random()>>>0);return r},_L=Math.random,h$=()=>new Uint32Array($ge(4))[0],vL=i=>i[Y1(_L()*i.length)],Kge=[1e7]+-1e3+-4e3+-8e3+-1e11,_A=()=>Kge.replace(/[018]/g,i=>(i^h$()&15>>i/4).toString(16));function Zge(i,r){1&i&&(C.TgZ(0,"p"),C._uU(1,"Enter katex mathematical expresion.See "),C.TgZ(2,"a",7),C._uU(3,"https://katex.org/docs/supported.html"),C.qZA(),C.qZA())}function Jge(i,r){1&i&&(C.TgZ(0,"p"),C._uU(1,"White your comment here : "),C.qZA())}function Qge(i,r){1&i&&(C.TgZ(0,"p"),C._uU(1,"Enter video url.Atention url must be embedable (youtube case: contain /embed) : https://www.youtube.com/embed/GDae7zmUHlc Tutorial on how to get embeded videos form youtube : https://www.youtube.com/watch?v=ZnuwB35GYMY&ab_channel=Techoist"),C.qZA())}function Xge(i,r){1&i&&(C.TgZ(0,"mat-label"),C._uU(1,"expresion..."),C.qZA())}function e0e(i,r){1&i&&(C.TgZ(0,"mat-label"),C._uU(1,"Video embed link"),C.qZA())}function t0e(i,r){1&i&&(C.TgZ(0,"mat-label"),C._uU(1,"Comment..."),C.qZA())}function n0e(i,r){if(1&i&&(C.TgZ(0,"mat-error"),C._uU(1),C.qZA()),2&i){const e=C.oxw();C.xp6(1),C.Oqu(e.getErrorMessage())}}let vA=(()=>{class i{constructor(e,s){this.dialogRef=e,this.data=s,this.text=new Rk("",[lO.required]),this.type=s.type}onNoClick(){this.dialogRef.close()}getErrorMessage(){return this.text.hasError("required")?"You must enter a value":""}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(Bk),C.Y36(B7))},i.\u0275cmp=C.Xpm({type:i,selectors:[["app-add-comment-dialog"]],decls:15,vars:12,consts:[["mat-dialog-content","",1,"dialog-container"],[4,"ngIf"],["appearance","fill"],["matInput","","required","",3,"ngModel","formControl","ngModelChange"],["mat-dialog-actions","","align","end"],["color","warn","mat-stroked-button","",3,"click"],["color","primary","mat-stroked-button","","cdkFocusInitial","",3,"mat-dialog-close"],["href","https://katex.org/docs/supported.html ","target","_blank"]],template:function(e,s){1&e&&(C.TgZ(0,"div",0),C.YNc(1,Zge,4,0,"p",1),C.YNc(2,Jge,2,0,"p",1),C.YNc(3,Qge,2,0,"p",1),C.TgZ(4,"mat-form-field",2),C.YNc(5,Xge,2,0,"mat-label",1),C.YNc(6,e0e,2,0,"mat-label",1),C.YNc(7,t0e,2,0,"mat-label",1),C.TgZ(8,"input",3),C.NdJ("ngModelChange",function(a){return s.data.url=a}),C.qZA(),C.YNc(9,n0e,2,1,"mat-error",1),C.qZA(),C.qZA(),C.TgZ(10,"div",4),C.TgZ(11,"button",5),C.NdJ("click",function(){return s.onNoClick()}),C._uU(12,"Cancel"),C.qZA(),C.TgZ(13,"button",6),C._uU(14,"Confirm"),C.qZA(),C.qZA()),2&e&&(C.xp6(1),C.Q6J("ngIf","mathinline"==s.type),C.xp6(1),C.Q6J("ngIf","comment"==s.type),C.xp6(1),C.Q6J("ngIf","video"==s.type),C.xp6(1),C.Udp("width","100%"),C.xp6(1),C.Q6J("ngIf","mathinline"==s.type),C.xp6(1),C.Q6J("ngIf","video"==s.type),C.xp6(1),C.Q6J("ngIf","comment"==s.type),C.xp6(1),C.Q6J("ngModel",s.data.url)("formControl",s.text),C.xp6(1),C.Q6J("ngIf",s.text.invalid),C.xp6(4),C.Q6J("mat-dialog-close",s.data.url))},directives:[kG,Ii,kU,Fse,aO,_O,s7,v7,Loe,sf,Foe,S7,fre],styles:[""]}),i})();const c0e={width:1024,height:1024,path:"M512 219q-116 0-218 39t-161 107-59 145q0 64 40 122t115 100l49 28-15 54q-13 52-40 98 86-36 157-97l24-21 32 3q39 4 74 4 116 0 218-39t161-107 59-145-59-145-161-107-218-39zM1024 512q0 99-68 183t-186 133-257 48q-40 0-82-4-113 100-262 138-28 8-65 12h-2q-8 0-15-6t-9-15v-0q-1-2-0-6t1-5 2-5l3-5t4-4 4-5q4-4 17-19t19-21 17-22 18-29 15-33 14-43q-89-50-141-125t-51-160q0-99 68-183t186-133 257-48 257 48 186 133 68 183z"};let yA;function f$(i,r){let e={active:s=>function(i,r){let{from:e,$from:s,to:o,empty:a}=i.selection;return a?!!r.isInSet(i.storedMarks||s.marks()):i.doc.rangeHasMark(e,o,r)}(s,i),enable:!0};for(let s in r)e[s]=r[s];return function(i,r){let e={label:r.title,run:i};for(let s in r)e[s]=r[s];return(!r.enable||!0===r.enable)&&!r.select&&(e[r.enable?"enable":"select"]=s=>i(s)),new ki(e)}(Fp(i),e)}function dE(i){return function(r,e){let s=r.selection;if(e){let o=r.tr;r.tr.doc.nodesBetween(s.from,s.to,(a,D,k,N)=>{a.attrs.align&&(o=o.setNodeMarkup(D,a.type,{align:i}))}),e(o)}return!0}}function p$(i){return function(r,e,s){if(e&&r.selection.empty){let a,{from:D}=r.selection,N=r.schema.nodes[i];yA.open(vA,{width:"auto",data:{url:a,type:"mathinline"}}).afterClosed().subscribe(G=>{a=G;let $=N.create(void 0,r.schema.text(a)),re=s.state.tr.replaceSelectionWith($);s.dispatch(re),"math_display"==i&&s.dispatch(s.state.tr.setSelection(sn.qv.create(re.doc,D-1)))})}return!0}}const g0e=i=>(r,e)=>{const{selection:{}}=r;let k,D=_A();return yA.open(vA,{width:"auto",data:{url:k,type:"comment"}}).afterClosed().subscribe(B=>{k=B;let $={id:_A(),comment:k};B&&(i.set(D,[$]),Fp(r.schema.marks.comment,{id:D})(r,e))}),!0},v0e=new ki({title:"Add mathematic expresions to the document",label:"InlineMath",run:p$("math_inline"),enable:i=>i.tr.selection.empty}),y0e=new ki({title:"Add mathematic expresions to the document",label:"BlockMath",run:p$("math_display"),enable:i=>i.tr.selection.empty}),b0e=f$(Sv.marks.superscript,{title:"Toggle superscript",icon:{width:18,height:18,path:"M12.714 15.3a.972.972 0 0 1-.1 1.4.713.713 0 0 1-.6.3.908.908 0 0 1-.7-.3l-4.8-5.2-4.8 5.2a.908.908 0 0 1-.7.3.908.908 0 0 1-.7-.3 1.07 1.07 0 0 1-.1-1.4l4.9-5.3-4.8-5.3a.972.972 0 0 1 .1-1.4.972.972 0 0 1 1.4.1l4.8 5.2 4.8-5.2a1.07 1.07 0 0 1 1.4-.1 1.063 1.063 0 0 1 .1 1.4l-5 5.3zm5.3-13.8v3a.472.472 0 0 1-.5.5h-2a.472.472 0 0 1-.5-.5.472.472 0 0 1 .5-.5h1.5v-.5h-.5a.472.472 0 0 1-.5-.5.472.472 0 0 1 .5-.5h.5V2h-1.5a.472.472 0 0 1-.5-.5.472.472 0 0 1 .5-.5h2a.472.472 0 0 1 .5.5z"}}),w0e=f$(Sv.marks.subscript,{title:"Toggle subscript",icon:{width:18,height:18,path:"M12.714 13.255a.972.972 0 0 1-.1 1.4.713.713 0 0 1-.6.3.908.908 0 0 1-.7-.3l-4.8-5.2-4.8 5.2a.908.908 0 0 1-.7.3.908.908 0 0 1-.7-.3 1.07 1.07 0 0 1-.1-1.4l4.9-5.3-4.8-5.3a.972.972 0 0 1 .1-1.4.972.972 0 0 1 1.4.1l4.8 5.2 4.8-5.2a1.07 1.07 0 0 1 1.4-.1 1.063 1.063 0 0 1 .1 1.4l-5 5.3zm5.3.2v3a.472.472 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h1.5v-.5h-.5a.5.5 0 0 1 0-1h.5v-.5h-1.5a.5.5 0 0 1 0-1h2a.472.472 0 0 1 .5.5z"}}),C0e=new ki({title:"Align element to left",run:dE("set-align-left"),enable:i=>!0,select:i=>dE("set-align-left")(i),icon:{width:35,height:35,path:"M19.502,5H0.167V0h19.334L19.502,5L19.502,5z M0.167,8.889v5H31.5v-5H0.167z M19.502,17.777H0.167v5h19.334L19.502,17.777   L19.502,17.777z M0.167,31.668H31.5v-5H0.167V31.668z"}}),S0e=new ki({title:"Align element to center",run:dE("set-align-center"),enable:i=>!0,select:i=>dE("set-align-left")(i),icon:{width:35,height:35,path:"M25.501,5H6.167V0h19.334V5z M0.168,8.889v5H31.5v-5H0.168z M6.167,17.777v5h19.334v-5H6.167z M0.168,31.668H31.5v-5H0.168   V31.668z"}}),M0e=new ki({title:"Align element to right",run:dE("set-align-right"),enable:i=>!0,select:i=>dE("set-align-right")(i),icon:{width:35,height:35,path:"M31.501,0v5H12.167V0H31.501z M0.167,13.889h31.334v-5H0.167V13.889z M12.167,22.777h19.334v-5H12.167V22.777z    M0.167,31.668h31.334v-5H0.167V31.668z"}}),E0e=new ki({title:"Add video element",run:function(i,r,e){if(r){let s,o=i.schema.nodes.video;yA.open(vA,{width:"500px",data:{url:s,type:"video"}}).afterClosed().subscribe(D=>{if(!D)return;s=D;let k=o.create({src:s});null==e||e.dispatch(e.state.tr.replaceSelectionWith(k)),null==e||e.focus()})}return!0},enable:i=>function(i,r){let e=i.selection.$from;for(let s=e.depth;s>=0;s--){let o=e.index(s);if(e.node(s).canReplaceWith(o,o,r))return!0}return!1}(i,i.schema.nodes.video),icon:{width:80,height:53,path:"M57,6H1C0.448,6,0,6.447,0,7v44c0,0.553,0.448,1,1,1h56c0.552,0,1-0.447,1-1V7C58,6.447,57.552,6,57,6z M10,50H2v-9h8V50z   M10,39H2v-9h8V39z M10,28H2v-9h8V28z M10,17H2V8h8V17z M36.537,29.844l-11,7C25.374,36.947,25.187,37,25,37  c-0.166,0-0.331-0.041-0.481-0.123C24.199,36.701,24,36.365,24,36V22c0-0.365,0.199-0.701,0.519-0.877  c0.32-0.175,0.71-0.162,1.019,0.033l11,7C36.825,28.34,37,28.658,37,29S36.825,29.66,36.537,29.844z M56,50h-8v-9h8V50z M56,39h-8  v-9h8V39z M56,28h-8v-9h8V28z M56,17h-8V8h8V17z"}});let T0e=[new ki({label:"Insert table",run:function(i,r,e){if(r){let s,o;yA.open(Yge,{width:"275px",data:{rows:s,cols:o}}).afterClosed().subscribe(D=>{const{rows:k,cols:N}=D;let B=Rn.HY.fromArray(new Array(N).fill(i.schema.nodes.table_cell.createAndFill(),0,N)),G=Rn.HY.fromArray(new Array(k).fill(i.schema.nodes.table_row.create(void 0,B),0,k));const $=i.tr.replaceSelectionWith(i.schema.nodes.table.create(void 0,G));return r&&r($),!0})}}}),new ki({label:"Insert column before",enable:qW,run:qW}),new ki({label:"Insert column after",enable:jW,run:jW}),new ki({label:"Delete column",enable:YW,run:YW}),new ki({label:"Insert row before",enable:$W,run:$W}),new ki({label:"Insert row after",enable:KW,run:KW}),new ki({label:"Delete row",enable:ZW,run:ZW}),new ki({label:"Delete table",enable:s$,run:s$}),new ki({label:"Merge cells",enable:QW,run:QW}),new ki({label:"Split cell",enable:XW,run:XW}),new ki({label:"Toggle header column",enable:n$,run:n$}),new ki({label:"Toggle header row",enable:t$,run:t$}),new ki({label:"Toggle header cells",enable:r$,run:r$}),new ki({label:"Make cell green",enable:_6("background","#dfd"),run:_6("background","#dfd")}),new ki({label:"Make cell not-green",enable:_6("background",null),run:_6("background",null)})];const uf=()=>new Map,v6=i=>{const r=uf();return i.forEach((e,s)=>{r.set(s,e)}),r},$u=(i,r,e)=>{let s=i.get(r);return void 0===s&&i.set(r,s=e()),s},hE=()=>new Set,yL=i=>i[i.length-1],R0e=(i,r)=>{for(let e=0;e<r.length;e++)i.push(r[e])},m$=Array.from;class fE{constructor(){this._observers=uf()}on(r,e){$u(this._observers,r,hE).add(e)}once(r,e){const s=(...o)=>{this.off(r,s),e(...o)};this.on(r,s)}off(r,e){const s=this._observers.get(r);void 0!==s&&(s.delete(e),0===s.size&&this._observers.delete(r))}emit(r,e){return m$((this._observers.get(r)||uf()).values()).forEach(s=>s(...e))}destroy(){this._observers=uf()}}const N0e=String.fromCharCode,F0e=/^\s*/g,B0e=/([A-Z])/g,g$=(i,r)=>(i=>i.replace(F0e,""))(i.replace(B0e,e=>`${r}${(i=>i.toLowerCase())(e)}`)),_$="undefined"!=typeof TextEncoder?new TextEncoder:null,v$=_$?i=>_$.encode(i):i=>{const r=unescape(encodeURIComponent(i)),e=r.length,s=new Uint8Array(e);for(let o=0;o<e;o++)s[o]=r.codePointAt(o);return s};let y6="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});y6&&1===y6.decode(new Uint8Array).length&&(y6=null);let b$=new class{constructor(){this.map=new Map}setItem(r,e){this.map.set(r,e)}getItem(r){return this.map.get(r)}},w$=!0;try{"undefined"!=typeof localStorage&&(b$=localStorage,w$=!1)}catch(i){}const C$=b$,b6="undefined"!=typeof process&&process.release&&/node|io\.js/.test(process.release.name),bL="undefined"!=typeof window&&!b6;let Up;"undefined"!=typeof navigator&&/Mac/.test(navigator.platform);const U0e=[],CL=i=>(i=>void 0===i?null:i)(b6?process.env[i.toUpperCase()]:C$.getItem(i)),S$=((i=>{(()=>{if(void 0===Up)if(b6){Up=uf();const i=process.argv;let r=null;for(let e=0;e<i.length;e++){const s=i[e];"-"===s[0]?(null!==r&&Up.set(r,""),r=s):null!==r?(Up.set(r,s),r=null):U0e.push(s)}null!==r&&Up.set(r,"")}else"object"==typeof location?(Up=uf(),(location.search||"?").slice(1).split("&").forEach(i=>{if(0!==i.length){const[r,e]=i.split("=");Up.set(`--${g$(r,"-")}`,e),Up.set(`-${g$(r,"-")}`,e)}})):Up=uf();return Up})().has("--production")||CL(i)})("production"),i=>new Uint8Array(i)),SL=(i,r,e)=>new Uint8Array(i,r,e),M$=bL?i=>{let r="";for(let e=0;e<i.byteLength;e++)r+=N0e(i[e]);return btoa(r)}:i=>Buffer.from(i.buffer,i.byteOffset,i.byteLength).toString("base64"),E$=bL?i=>{const r=atob(i),e=S$(r.length);for(let s=0;s<r.length;s++)e[s]=r.charCodeAt(s);return e}:i=>{const r=Buffer.from(i,"base64");return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)},Ku=128,u_e=Number.isInteger||(i=>"number"==typeof i&&isFinite(i)&&Y1(i)===i);class pE{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const Ja=()=>new pE,Ps=i=>{const r=new Uint8Array((i=>{let r=i.cpos;for(let e=0;e<i.bufs.length;e++)r+=i.bufs[e].length;return r})(i));let e=0;for(let s=0;s<i.bufs.length;s++){const o=i.bufs[s];r.set(o,e),e+=o.length}return r.set(SL(i.cbuf.buffer,0,i.cpos),e),r},qo=(i,r)=>{const e=i.cbuf.length;i.cpos===e&&(i.bufs.push(i.cbuf),i.cbuf=new Uint8Array(2*e),i.cpos=0),i.cbuf[i.cpos++]=r},wA=qo,vr=(i,r)=>{for(;r>127;)qo(i,Ku|127&r),r>>>=7;qo(i,127&r)},CA=(i,r)=>{const e=u$(r);for(e&&(r=-r),qo(i,(r>63?Ku:0)|(e?64:0)|63&r),r>>>=6;r>0;)qo(i,(r>127?Ku:0)|127&r),r>>>=7},Gp=(i,r)=>{const e=unescape(encodeURIComponent(r)),s=e.length;vr(i,s);for(let o=0;o<s;o++)qo(i,e.codePointAt(o))},SA=(i,r)=>{const e=i.cbuf.length,s=i.cpos,o=Mv(e-s,r.length),a=r.length-o;i.cbuf.set(r.subarray(0,o),s),i.cpos+=o,a>0&&(i.bufs.push(i.cbuf),i.cbuf=new Uint8Array(qg(2*e,a)),i.cbuf.set(r.subarray(o)),i.cpos=a)},jo=(i,r)=>{vr(i,r.byteLength),SA(i,r)},C6=(i,r)=>{((i,r)=>{const e=i.cbuf.length;e-i.cpos<r&&(i.bufs.push(SL(i.cbuf.buffer,0,i.cpos)),i.cbuf=new Uint8Array(2*qg(e,r)),i.cpos=0)})(i,r);const e=new DataView(i.cbuf.buffer,i.cpos,r);return i.cpos+=r,e},k$=new DataView(new ArrayBuffer(4)),mE=(i,r)=>{switch(typeof r){case"string":qo(i,119),Gp(i,r);break;case"number":u_e(r)&&r<=2147483647?(qo(i,125),CA(i,r)):(i=>(k$.setFloat32(0,i),k$.getFloat32(0)===i))(r)?(qo(i,124),((i,r)=>{C6(i,4).setFloat32(0,r,!1)})(i,r)):(qo(i,123),((i,r)=>{C6(i,8).setFloat64(0,r,!1)})(i,r));break;case"bigint":qo(i,122),((i,r)=>{C6(i,8).setBigInt64(0,r,!1)})(i,r);break;case"object":if(null===r)qo(i,126);else if(r instanceof Array){qo(i,117),vr(i,r.length);for(let e=0;e<r.length;e++)mE(i,r[e])}else if(r instanceof Uint8Array)qo(i,116),jo(i,r);else{qo(i,118);const e=Object.keys(r);vr(i,e.length);for(let s=0;s<e.length;s++){const o=e[s];Gp(i,o),mE(i,r[o])}}break;case"boolean":qo(i,r?120:121);break;default:qo(i,127)}};class A$ extends pE{constructor(r){super(),this.w=r,this.s=null,this.count=0}write(r){this.s===r?this.count++:(this.count>0&&vr(this,this.count-1),this.count=1,this.w(this,r),this.s=r)}}const S6=i=>{i.count>0&&(CA(i.encoder,1===i.count?i.s:-i.s),i.count>1&&vr(i.encoder,i.count-2))};class M6{constructor(){this.encoder=new pE,this.s=0,this.count=0}write(r){this.s===r?this.count++:(S6(this),this.count=1,this.s=r)}toUint8Array(){return S6(this),Ps(this.encoder)}}const I$=i=>{i.count>0&&(CA(i.encoder,i.diff<<1|(1===i.count?0:1)),i.count>1&&vr(i.encoder,i.count-2))};class xL{constructor(){this.encoder=new pE,this.s=0,this.count=0,this.diff=0}write(r){this.diff===r-this.s?(this.s=r,this.count++):(I$(this),this.count=1,this.diff=r-this.s,this.s=r)}toUint8Array(){return I$(this),Ps(this.encoder)}}class __e{constructor(){this.sarr=[],this.s="",this.lensE=new M6}write(r){this.s+=r,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(r.length)}toUint8Array(){const r=new pE;return this.sarr.push(this.s),this.s="",Gp(r,this.sarr.join("")),SA(r,this.lensE.toUint8Array()),Ps(r)}}class E6{constructor(r){this.arr=r,this.pos=0}}const Zu=i=>new E6(i),Dl=i=>((i,r)=>{const e=SL(i.arr.buffer,i.pos+i.arr.byteOffset,r);return i.pos+=r,e})(i,Lr(i)),$1=i=>i.arr[i.pos++],Lr=i=>{let r=0,e=0;for(;;){const s=i.arr[i.pos++];if(r|=(127&s)<<e,e+=7,s<Ku)return r>>>0;if(e>35)throw new Error("Integer out of range!")}},K1=i=>{let r=i.arr[i.pos++],e=63&r,s=6;const o=(64&r)>0?-1:1;if(0==(r&Ku))return o*e;for(;;){if(r=i.arr[i.pos++],e|=(127&r)<<s,s+=7,r<Ku)return o*(e>>>0);if(s>41)throw new Error("Integer out of range!")}},qp=i=>{let r=Lr(i);if(0===r)return"";{let e=String.fromCodePoint($1(i));if(--r<100)for(;r--;)e+=String.fromCodePoint($1(i));else for(;r>0;){const s=r<1e4?r:1e4,o=i.arr.subarray(i.pos,i.pos+s);i.pos+=s,e+=String.fromCodePoint.apply(null,o),r-=s}return decodeURIComponent(escape(e))}},D6=(i,r)=>{const e=new DataView(i.arr.buffer,i.arr.byteOffset+i.pos,r);return i.pos+=r,e},w_e=[i=>{},i=>null,K1,i=>D6(i,4).getFloat32(0,!1),i=>D6(i,8).getFloat64(0,!1),i=>D6(i,8).getBigInt64(0,!1),i=>!1,i=>!0,qp,i=>{const r=Lr(i),e={};for(let s=0;s<r;s++)e[qp(i)]=gE(i);return e},i=>{const r=Lr(i),e=[];for(let s=0;s<r;s++)e.push(gE(i));return e},Dl],gE=i=>w_e[127-$1(i)](i);class N$ extends E6{constructor(r,e){super(r),this.reader=e,this.s=null,this.count=0}read(){return 0===this.count&&(this.s=this.reader(this),this.count=(i=>i.pos!==i.arr.length)(this)?Lr(this)+1:-1),this.count--,this.s}}class T6 extends E6{constructor(r){super(r),this.s=0,this.count=0}read(){if(0===this.count){this.s=K1(this);const r=u$(this.s);this.count=1,r&&(this.s=-this.s,this.count=Lr(this)+2)}return this.count--,this.s}}class kL extends E6{constructor(r){super(r),this.s=0,this.count=0,this.diff=0}read(){if(0===this.count){const r=K1(this),e=1&r;this.diff=r>>1,this.count=1,e&&(this.count=Lr(this)+2)}return this.s+=this.diff,this.count--,this.s}}class C_e{constructor(r){this.decoder=new T6(r),this.str=qp(this.decoder),this.spos=0}read(){const r=this.spos+this.decoder.read(),e=this.str.slice(this.spos,r);return this.spos=r,e}}const Z1=i=>new Error(i),df=()=>{throw Z1("Method unimplemented")},ih=()=>{throw Z1("Unexpected case")},P$=Object.keys,x6=i=>P$(i).length,F$=(i,r)=>Object.prototype.hasOwnProperty.call(i,r),AL=(i,r,e=0)=>{try{for(;e<i.length;e++)i[e](...r)}finally{e<i.length&&AL(i,r,e+1)}},E_e=()=>{},MA=(i,r)=>{if(null==i||null==r)return((i,r)=>i===r)(i,r);if(i.constructor!==r.constructor)return!1;if(i===r)return!0;switch(i.constructor){case ArrayBuffer:i=new Uint8Array(i),r=new Uint8Array(r);case Uint8Array:if(i.byteLength!==r.byteLength)return!1;for(let e=0;e<i.length;e++)if(i[e]!==r[e])return!1;break;case Set:if(i.size!==r.size)return!1;for(const e of i)if(!r.has(e))return!1;break;case Map:if(i.size!==r.size)return!1;for(const e of i.keys())if(!r.has(e)||!MA(i.get(e),r.get(e)))return!1;break;case Object:if(x6(i)!==x6(r))return!1;for(const e in i)if(!F$(i,e)||!MA(i[e],r[e]))return!1;break;case Array:if(i.length!==r.length)return!1;for(let e=0;e<i.length;e++)if(!MA(i[e],r[e]))return!1;break;default:return!1}return!0},Yg=Symbol;class L${constructor(r,e){this.left=r,this.right=e}}const Wg=(i,r)=>new L$(i,r),sh="undefined"!=typeof document?document:{},N_e=("undefined"!=typeof DOMParser&&new DOMParser,i=>((i,r)=>{const e=[];for(const[s,o]of i)e.push(r(o,s));return e})(i,(r,e)=>`${e}:${r};`).join("")),jp=Date.now,ru=Yg(),Ev=Yg(),IL=Yg(),k6=Yg(),RL=Yg(),A6=Yg(),OL=Yg(),EA=Yg(),DA=Yg(),U$={[ru]:Wg("font-weight","bold"),[Ev]:Wg("font-weight","normal"),[IL]:Wg("color","blue"),[RL]:Wg("color","green"),[k6]:Wg("color","grey"),[A6]:Wg("color","red"),[OL]:Wg("color","purple"),[EA]:Wg("color","orange"),[DA]:Wg("color","black")},P_e={[ru]:"\x1b[1m",[Ev]:"\x1b[2m",[IL]:"\x1b[34m",[RL]:"\x1b[32m",[k6]:"\x1b[37m",[A6]:"\x1b[31m",[OL]:"\x1b[35m",[EA]:"\x1b[38;5;208m",[DA]:"\x1b[0m"},I6=b6?i=>{const r=[],e=[];let s=0;for(;s<i.length;s++){const o=i[s],a=P_e[o];if(void 0!==a)r.push(a);else{if(o.constructor!==String&&o.constructor!==Number)break;r.push(o)}}for(s>0&&(r.push("\x1b[0m"),e.push(r.join("")));s<i.length;s++){const o=i[s];o instanceof Symbol||e.push(o)}return e}:i=>{const r=[],e=[],s=uf();let o=[],a=0;for(;a<i.length;a++){const D=i[a],k=U$[D];if(void 0!==k)s.set(k.left,k.right);else{if(D.constructor!==String&&D.constructor!==Number)break;{const N=N_e(s);a>0||N.length>0?(r.push("%c"+D),e.push(N)):r.push(D)}}}for(a>0&&(o=e,o.unshift(r.join("")));a<i.length;a++){const D=i[a];D instanceof Symbol||o.push(D)}return o},G$=(...i)=>{console.log(...I6(i)),Yp.forEach(r=>r.print(i))},Yp=new Set,W$=[RL,OL,EA,IL];let NL=0,$$=jp();const K$=i=>({[Symbol.iterator](){return this},next:i}),PL=(i,r)=>K$(()=>{const{done:e,value:s}=i.next();return{done:e,value:e?void 0:r(s)}});class FL{constructor(r,e){this.clock=r,this.len=e}}class _E{constructor(){this.clients=new Map}}const $g=(i,r,e)=>r.clients.forEach((s,o)=>{const a=i.doc.store.clients.get(o);for(let D=0;D<s.length;D++){const k=s[D];fK(i,a,k.clock,k.len,e)}}),TA=(i,r)=>{const e=i.clients.get(r.client);return void 0!==e&&null!==((i,r)=>{let e=0,s=i.length-1;for(;e<=s;){const o=Y1((e+s)/2),a=i[o],D=a.clock;if(D<=r){if(r<D+a.len)return o;e=o+1}else s=o-1}return null})(e,r.clock)},LL=i=>{i.clients.forEach(r=>{let e,s;for(r.sort((o,a)=>o.clock-a.clock),e=1,s=1;e<r.length;e++){const o=r[s-1],a=r[e];o.clock+o.len>=a.clock?o.len=qg(o.len,a.clock+a.len-o.clock):(s<e&&(r[s]=a),s++)}r.length=s})},xA=i=>{const r=new _E;for(let e=0;e<i.length;e++)i[e].clients.forEach((s,o)=>{if(!r.clients.has(o)){const a=s.slice();for(let D=e+1;D<i.length;D++)R0e(a,i[D].clients.get(o)||[]);r.clients.set(o,a)}});return LL(r),r},kA=(i,r,e,s)=>{$u(i.clients,r,()=>[]).push(new FL(e,s))},R6=()=>new _E,Z$=i=>{const r=R6();return i.clients.forEach((e,s)=>{const o=[];for(let a=0;a<e.length;a++){const D=e[a];if(D.deleted){const k=D.id.clock;let N=D.length;if(a+1<e.length)for(let B=e[a+1];a+1<e.length&&B.deleted;B=e[1+ ++a])N+=B.length;o.push(new FL(k,N))}}o.length>0&&r.clients.set(s,o)}),r},Wp=(i,r)=>{vr(i.restEncoder,r.clients.size),r.clients.forEach((e,s)=>{i.resetDsCurVal(),vr(i.restEncoder,s);const o=e.length;vr(i.restEncoder,o);for(let a=0;a<o;a++){const D=e[a];i.writeDsClock(D.clock),i.writeDsLen(D.len)}})},J1=i=>{const r=new _E,e=Lr(i.restDecoder);for(let s=0;s<e;s++){i.resetDsCurVal();const o=Lr(i.restDecoder),a=Lr(i.restDecoder);if(a>0){const D=$u(r.clients,o,()=>[]);for(let k=0;k<a;k++)D.push(new FL(i.readDsClock(),i.readDsLen()))}}return r},J$=(i,r,e)=>{const s=new _E,o=Lr(i.restDecoder);for(let a=0;a<o;a++){i.resetDsCurVal();const D=Lr(i.restDecoder),k=Lr(i.restDecoder),N=e.clients.get(D)||[],B=Eo(e,D);for(let G=0;G<k;G++){const $=i.readDsClock(),re=$+i.readDsLen();if($<B){B<re&&kA(s,D,B,re-B);let oe=hf(N,$),_e=N[oe];for(!_e.deleted&&_e.id.clock<$&&(N.splice(oe+1,0,K6(r,_e,$-_e.id.clock)),oe++);oe<N.length&&(_e=N[oe++],_e.id.clock<re);)_e.deleted||(re<_e.id.clock+_e.length&&N.splice(oe,0,K6(r,_e,re-_e.id.clock)),_e.delete(r))}else kA(s,D,$,re-$)}}if(s.clients.size>0){const a=new Dv;return vr(a.restEncoder,0),Wp(a,s),a.toUint8Array()}return null},Q$=h$;class Q1 extends fE{constructor({guid:r=_A(),gc:e=!0,gcFilter:s=(()=>!0),meta:o=null,autoLoad:a=!1}={}){super(),this.gc=e,this.gcFilter=s,this.clientID=Q$(),this.guid=r,this.share=new Map,this.store=new uK,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=a,this.autoLoad=a,this.meta=o}load(){const r=this._item;null!==r&&!this.shouldLoad&&Ts(r.parent.doc,e=>{e.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Array.from(this.subdocs).map(r=>r.guid))}transact(r,e=null){Ts(this,r,e)}get(r,e=ic){const s=$u(this.share,r,()=>{const a=new e;return a._integrate(this,null),a}),o=s.constructor;if(e!==ic&&o!==e){if(o===ic){const a=new e;a._map=s._map,s._map.forEach(D=>{for(;null!==D;D=D.left)D.parent=a}),a._start=s._start;for(let D=a._start;null!==D;D=D.right)D.parent=a;return a._length=s._length,this.share.set(r,a),a._integrate(this,null),a}throw new Error(`Type with the name ${r} has already been defined with a different constructor`)}return s}getArray(r=""){return this.get(r,xv)}getText(r=""){return this.get(r,nw)}getMap(r=""){return this.get(r,tw)}getXmlFragment(r=""){return this.get(r,rw)}toJSON(){const r={};return this.share.forEach((e,s)=>{r[s]=e.toJSON()}),r}destroy(){m$(this.subdocs).forEach(e=>e.destroy());const r=this._item;if(null!==r){this._item=null;const e=r.content;r.deleted?e.doc=null:(e.doc=new Q1(cw({guid:this.guid},e.opts)),e.doc._item=r),Ts(r.parent.doc,s=>{r.deleted||s.subdocsAdded.add(e.doc),s.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}on(r,e){super.on(r,e)}off(r,e){super.off(r,e)}}class AA{constructor(r){this.restDecoder=r}resetDsCurVal(){}readDsClock(){return Lr(this.restDecoder)}readDsLen(){return Lr(this.restDecoder)}}class X1 extends AA{readLeftID(){return Hr(Lr(this.restDecoder),Lr(this.restDecoder))}readRightID(){return Hr(Lr(this.restDecoder),Lr(this.restDecoder))}readClient(){return Lr(this.restDecoder)}readInfo(){return $1(this.restDecoder)}readString(){return qp(this.restDecoder)}readParentInfo(){return 1===Lr(this.restDecoder)}readTypeRef(){return Lr(this.restDecoder)}readLen(){return Lr(this.restDecoder)}readAny(){return gE(this.restDecoder)}readBuf(){return(i=>{const r=S$(i.byteLength);return r.set(i),r})(Dl(this.restDecoder))}readJSON(){return JSON.parse(qp(this.restDecoder))}readKey(){return qp(this.restDecoder)}}class Kg extends class{constructor(r){this.dsCurrVal=0,this.restDecoder=r}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=Lr(this.restDecoder),this.dsCurrVal}readDsLen(){const r=Lr(this.restDecoder)+1;return this.dsCurrVal+=r,r}}{constructor(r){super(r),this.keys=[],Lr(r),this.keyClockDecoder=new kL(Dl(r)),this.clientDecoder=new T6(Dl(r)),this.leftClockDecoder=new kL(Dl(r)),this.rightClockDecoder=new kL(Dl(r)),this.infoDecoder=new N$(Dl(r),$1),this.stringDecoder=new C_e(Dl(r)),this.parentInfoDecoder=new N$(Dl(r),$1),this.typeRefDecoder=new T6(Dl(r)),this.lenDecoder=new T6(Dl(r))}readLeftID(){return new bE(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new bE(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return 1===this.parentInfoDecoder.read()}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return gE(this.restDecoder)}readBuf(){return Dl(this.restDecoder)}readJSON(){return gE(this.restDecoder)}readKey(){const r=this.keyClockDecoder.read();if(r<this.keys.length)return this.keys[r];{const e=this.stringDecoder.read();return this.keys.push(e),e}}}class vE{constructor(){this.restEncoder=Ja()}toUint8Array(){return Ps(this.restEncoder)}resetDsCurVal(){}writeDsClock(r){vr(this.restEncoder,r)}writeDsLen(r){vr(this.restEncoder,r)}}class yE extends vE{writeLeftID(r){vr(this.restEncoder,r.client),vr(this.restEncoder,r.clock)}writeRightID(r){vr(this.restEncoder,r.client),vr(this.restEncoder,r.clock)}writeClient(r){vr(this.restEncoder,r)}writeInfo(r){wA(this.restEncoder,r)}writeString(r){Gp(this.restEncoder,r)}writeParentInfo(r){vr(this.restEncoder,r?1:0)}writeTypeRef(r){vr(this.restEncoder,r)}writeLen(r){vr(this.restEncoder,r)}writeAny(r){mE(this.restEncoder,r)}writeBuf(r){jo(this.restEncoder,r)}writeJSON(r){Gp(this.restEncoder,JSON.stringify(r))}writeKey(r){Gp(this.restEncoder,r)}}class O6{constructor(){this.restEncoder=Ja(),this.dsCurrVal=0}toUint8Array(){return Ps(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(r){const e=r-this.dsCurrVal;this.dsCurrVal=r,vr(this.restEncoder,e)}writeDsLen(r){0===r&&ih(),vr(this.restEncoder,r-1),this.dsCurrVal+=r}}class Dv extends O6{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new xL,this.clientEncoder=new M6,this.leftClockEncoder=new xL,this.rightClockEncoder=new xL,this.infoEncoder=new A$(wA),this.stringEncoder=new __e,this.parentInfoEncoder=new A$(wA),this.typeRefEncoder=new M6,this.lenEncoder=new M6}toUint8Array(){const r=Ja();return vr(r,0),jo(r,this.keyClockEncoder.toUint8Array()),jo(r,this.clientEncoder.toUint8Array()),jo(r,this.leftClockEncoder.toUint8Array()),jo(r,this.rightClockEncoder.toUint8Array()),jo(r,Ps(this.infoEncoder)),jo(r,this.stringEncoder.toUint8Array()),jo(r,Ps(this.parentInfoEncoder)),jo(r,this.typeRefEncoder.toUint8Array()),jo(r,this.lenEncoder.toUint8Array()),SA(r,Ps(this.restEncoder)),Ps(r)}writeLeftID(r){this.clientEncoder.write(r.client),this.leftClockEncoder.write(r.clock)}writeRightID(r){this.clientEncoder.write(r.client),this.rightClockEncoder.write(r.clock)}writeClient(r){this.clientEncoder.write(r)}writeInfo(r){this.infoEncoder.write(r)}writeString(r){this.stringEncoder.write(r)}writeParentInfo(r){this.parentInfoEncoder.write(r?1:0)}writeTypeRef(r){this.typeRefEncoder.write(r)}writeLen(r){this.lenEncoder.write(r)}writeAny(r){mE(this.restEncoder,r)}writeBuf(r){jo(this.restEncoder,r)}writeJSON(r){mE(this.restEncoder,r)}writeKey(r){void 0===this.keyMap.get(r)?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(r)):this.keyClockEncoder.write(this.keyClock++)}}const BL=(i,r,e)=>{const s=new Map;e.forEach((o,a)=>{Eo(r,a)>o&&s.set(a,o)}),NA(r).forEach((o,a)=>{e.has(a)||s.set(a,0)}),vr(i.restEncoder,s.size),Array.from(s.entries()).sort((o,a)=>a[0]-o[0]).forEach(([o,a])=>{((i,r,e,s)=>{s=qg(s,r[0].id.clock);const o=hf(r,s);vr(i.restEncoder,r.length-o),i.writeClient(e),vr(i.restEncoder,s);const a=r[o];a.write(i,s-a.id.clock);for(let D=o+1;D<r.length;D++)r[D].write(i,0)})(i,r.clients.get(o),o,a)})},VL=(i,r,e,s=Kg)=>{const o=Zu(r);((i,r,e,s=new Kg(i))=>{Ts(r,o=>{o.local=!1;let a=!1;const D=o.doc,k=D.store,N=((i,r)=>{const e=uf(),s=Lr(i.restDecoder);for(let o=0;o<s;o++){const a=Lr(i.restDecoder),D=new Array(a),k=i.readClient();let N=Lr(i.restDecoder);e.set(k,{i:0,refs:D});for(let B=0;B<a;B++){const G=i.readInfo();switch(31&G){case 0:{const $=i.readLen();D[B]=new ah(Hr(k,N),$),N+=$;break}case 10:{const $=Lr(i.restDecoder);D[B]=new Ju(Hr(k,N),$),N+=$;break}default:{const $=0==(192&G),re=new cs(Hr(k,N),null,(G&Ku)===Ku?i.readLeftID():null,null,64==(64&G)?i.readRightID():null,$?i.readParentInfo()?r.get(i.readString()):i.readLeftID():null,$&&32==(32&G)?i.readString():null,UK(i,G));D[B]=re,N+=re.length}}}}return e})(s,D),B=((i,r,e)=>{const s=[];let o=Array.from(e.keys()).sort((oe,_e)=>oe-_e);if(0===o.length)return null;const a=()=>{if(0===o.length)return null;let oe=e.get(o[o.length-1]);for(;oe.refs.length===oe.i;){if(o.pop(),!(o.length>0))return null;oe=e.get(o[o.length-1])}return oe};let D=a();if(null===D&&0===s.length)return null;const k=new uK,N=new Map,B=(oe,_e)=>{const ze=N.get(oe);(null==ze||ze>_e)&&N.set(oe,_e)};let G=D.refs[D.i++];const $=new Map,re=()=>{for(const oe of s){const _e=oe.id.client,ze=e.get(_e);ze?(ze.i--,k.clients.set(_e,ze.refs.slice(ze.i)),e.delete(_e),ze.i=0,ze.refs=[]):k.clients.set(_e,[oe]),o=o.filter(mt=>mt!==_e)}s.length=0};for(;;){if(G.constructor!==Ju){const _e=$u($,G.id.client,()=>Eo(r,G.id.client))-G.id.clock;if(_e<0)s.push(G),B(G.id.client,G.id.clock-1),re();else{const ze=G.getMissing(i,r);if(null!==ze){s.push(G);const mt=e.get(ze)||{refs:[],i:0};if(mt.refs.length!==mt.i){G=mt.refs[mt.i++];continue}B(ze,Eo(r,ze)),re()}else(0===_e||_e<G.length)&&(G.integrate(i,_e),$.set(G.id.client,G.id.clock+G.length))}}if(s.length>0)G=s.pop();else if(null!==D&&D.i<D.refs.length)G=D.refs[D.i++];else{if(D=a(),null===D)break;G=D.refs[D.i++]}}if(k.clients.size>0){const oe=new Dv;return BL(oe,k,new Map),vr(oe.restEncoder,0),{missing:N,update:oe.toUint8Array()}}return null})(o,k,N),G=k.pendingStructs;if(G){for(const[re,oe]of G.missing)if(oe<Eo(k,re)){a=!0;break}if(B){for(const[re,oe]of B.missing){const _e=G.missing.get(re);(null==_e||_e>oe)&&G.missing.set(re,oe)}G.update=V6([G.update,B.update])}}else k.pendingStructs=B;const $=J$(s,o,k);if(k.pendingDs){const re=new Kg(Zu(k.pendingDs));Lr(re.restDecoder);const oe=J$(re,o,k);k.pendingDs=$&&oe?V6([$,oe]):$||oe}else k.pendingDs=$;if(a){const re=k.pendingStructs.update;k.pendingStructs=null,VL(o.doc,re)}},e,!1)})(o,i,e,new s(o))},zL=(i,r,e)=>VL(i,r,e,X1),HL=(i,r)=>((i,r=new Uint8Array([0]),e=new Dv)=>{((i,r,e=new Map)=>{BL(i,r.store,e),Wp(i,Z$(r.store))})(e,i,nK(r));const o=[e.toUint8Array()];if(i.store.pendingDs&&o.push(i.store.pendingDs),i.store.pendingStructs&&o.push(bK(i.store.pendingStructs.update,r)),o.length>1){if(e.constructor===yE)return dve(o.map((a,D)=>0===D?a:gve(a)));if(e.constructor===Dv)return V6(o)}return o[0]})(i,r,new yE),nK=i=>(i=>{const r=new Map,e=Lr(i.restDecoder);for(let s=0;s<e;s++){const o=Lr(i.restDecoder),a=Lr(i.restDecoder);r.set(o,a)}return r})(new AA(Zu(i))),UL=(i,r)=>(vr(i.restEncoder,r.size),r.forEach((e,s)=>{vr(i.restEncoder,s),vr(i.restEncoder,e)}),i);class K_e{constructor(){this.l=[]}}const rK=()=>new K_e,iK=(i,r)=>i.l.push(r),sK=(i,r)=>{const e=i.l,s=e.length;i.l=e.filter(o=>r!==o),s===i.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},oK=(i,r,e)=>AL(i.l,[r,e]);class bE{constructor(r,e){this.client=r,this.clock=e}}const wE=(i,r)=>i===r||null!==i&&null!==r&&i.client===r.client&&i.clock===r.clock,Hr=(i,r)=>new bE(i,r),IA=i=>{for(const[r,e]of i.doc.share.entries())if(e===i)return r;throw ih()},RA=(i,r)=>{for(;null!==r;){if(r.parent===i)return!0;r=r.parent._item}return!1};class Z_e{constructor(r,e=r.getMap("users")){const s=new Map;this.yusers=e,this.doc=r,this.clients=new Map,this.dss=s;const o=(a,D)=>{const k=a.get("ds"),N=a.get("ids"),B=G=>this.clients.set(G,D);k.observe(G=>{G.changes.added.forEach($=>{$.content.getContent().forEach(re=>{re instanceof Uint8Array&&this.dss.set(D,xA([this.dss.get(D)||R6(),J1(new AA(Zu(re)))]))})})}),this.dss.set(D,xA(k.map(G=>J1(new AA(Zu(G)))))),N.observe(G=>G.changes.added.forEach($=>$.content.getContent().forEach(B))),N.forEach(B)};e.observe(a=>{a.keysChanged.forEach(D=>o(e.get(D),D))}),e.forEach(o)}setUserMapping(r,e,s,{filter:o=(()=>!0)}={}){const a=this.yusers;let D=a.get(s);D||(D=new tw,D.set("ids",new xv),D.set("ds",new xv),a.set(s,D)),D.get("ids").push([e]),a.observe(k=>{setTimeout(()=>{const N=a.get(s);if(N!==D){D=N,this.clients.forEach(($,re)=>{s===$&&D.get("ids").push([re])});const B=new vE,G=this.dss.get(s);G&&(Wp(B,G),D.get("ds").push([B.toUint8Array()]))}},0)}),r.on("afterTransaction",k=>{setTimeout(()=>{const N=D.get("ds"),B=k.deleteSet;if(k.local&&B.clients.size>0&&o(k,B)){const G=new vE;Wp(G,B),N.push([G.toUint8Array()])}})})}getUserByClientId(r){return this.clients.get(r)||null}getUserByDeletedId(r){for(const[e,s]of this.dss.entries())if(TA(s,r))return e;return null}}class CE{constructor(r,e,s,o=0){this.type=r,this.tname=e,this.item=s,this.assoc=o}}const OA=i=>new CE(null==i.type?null:Hr(i.type.client,i.type.clock),i.tname||null,null==i.item?null:Hr(i.item.client,i.item.clock),null==i.assoc?0:i.assoc);class J_e{constructor(r,e,s=0){this.type=r,this.index=e,this.assoc=s}}const N6=(i,r,e)=>{let s=null,o=null;return null===i._item?o=IA(i):s=Hr(i._item.id.client,i._item.id.clock),new CE(s,o,r,e)},GL=(i,r,e=0)=>{let s=i._start;if(e<0){if(0===r)return N6(i,null,e);r--}for(;null!==s;){if(!s.deleted&&s.countable){if(s.length>r)return N6(i,Hr(s.id.client,s.id.clock+r),e);r-=s.length}if(null===s.right&&e<0)return N6(i,s.lastId,e);s=s.right}return N6(i,null,e)},cK=(i,r)=>i===r||null!==i&&null!==r&&i.tname===r.tname&&wE(i.item,r.item)&&wE(i.type,r.type)&&i.assoc===r.assoc;class P6{constructor(r,e){this.ds=r,this.sv=e}}const qL=(i,r)=>new P6(i,r),ew=(qL(R6(),new Map),(i,r)=>void 0===r?!i.deleted:r.sv.has(i.id.client)&&(r.sv.get(i.id.client)||0)>i.id.clock&&!TA(r.ds,i.id)),F6=(i,r)=>{const e=$u(i.meta,F6,hE),s=i.doc.store;e.has(r)||(r.sv.forEach((o,a)=>{o<Eo(s,a)&&iu(i,Hr(a,o))}),$g(i,r.ds,o=>{}),e.add(r))};class uK{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const NA=i=>{const r=new Map;return i.clients.forEach((e,s)=>{const o=e[e.length-1];r.set(s,o.id.clock+o.length)}),r},Eo=(i,r)=>{const e=i.clients.get(r);if(void 0===e)return 0;const s=e[e.length-1];return s.id.clock+s.length},dK=(i,r)=>{let e=i.clients.get(r.id.client);if(void 0===e)e=[],i.clients.set(r.id.client,e);else{const s=e[e.length-1];if(s.id.clock+s.length!==r.id.clock)throw ih()}e.push(r)},hf=(i,r)=>{let e=0,s=i.length-1,o=i[s],a=o.id.clock;if(a===r)return s;let D=Y1(r/(a+o.length-1)*s);for(;e<=s;){if(o=i[D],a=o.id.clock,a<=r){if(r<a+o.length)return D;e=D+1}else s=D-1;D=Y1((e+s)/2)}throw ih()},L6=(i,r)=>{const e=i.clients.get(r.client);return e[hf(e,r.clock)]},jL=(i,r,e)=>{const s=hf(r,e),o=r[s];return o.id.clock<e&&o instanceof cs?(r.splice(s+1,0,K6(i,o,e-o.id.clock)),s+1):s},iu=(i,r)=>{const e=i.doc.store.clients.get(r.client);return e[jL(i,e,r.clock)]},hK=(i,r,e)=>{const s=r.clients.get(e.client),o=hf(s,e.clock),a=s[o];return e.clock!==a.id.clock+a.length-1&&a.constructor!==ah&&s.splice(o+1,0,K6(i,a,e.clock-a.id.clock+1)),a},fK=(i,r,e,s,o)=>{if(0===s)return;const a=e+s;let k,D=jL(i,r,e);do{k=r[D++],a<k.id.clock+k.length&&jL(i,r,a),o(k)}while(D<r.length&&r[D].id.clock<a)};class ove{constructor(r,e,s){this.doc=r,this.deleteSet=new _E,this.beforeState=NA(r.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=e,this.meta=new Map,this.local=s,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set}}const pK=(i,r)=>!(0===r.deleteSet.clients.size&&!((i,r)=>{for(const[e,s]of i)if(r(s,e))return!0;return!1})(r.afterState,(e,s)=>r.beforeState.get(s)!==e)||(LL(r.deleteSet),((i,r)=>{BL(i,r.doc.store,r.beforeState)})(i,r),Wp(i,r.deleteSet),0)),mK=(i,r,e)=>{const s=r._item;(null===s||s.id.clock<(i.beforeState.get(s.id.client)||0)&&!s.deleted)&&$u(i.changed,r,hE).add(e)},B6=(i,r)=>{const e=i[r-1],s=i[r];e.deleted===s.deleted&&e.constructor===s.constructor&&e.mergeWith(s)&&(i.splice(r,1),s instanceof cs&&null!==s.parentSub&&s.parent._map.get(s.parentSub)===s&&s.parent._map.set(s.parentSub,e))},vK=(i,r)=>{if(r<i.length){const e=i[r],s=e.doc,o=s.store,a=e.deleteSet,D=e._mergeStructs;try{LL(a),e.afterState=NA(e.doc.store),s._transaction=null,s.emit("beforeObserverCalls",[e,s]);const k=[];e.changed.forEach((N,B)=>k.push(()=>{(null===B._item||!B._item.deleted)&&B._callObserver(e,N)})),k.push(()=>{e.changedParentTypes.forEach((N,B)=>k.push(()=>{(null===B._item||!B._item.deleted)&&((N=N.filter(G=>null===G.target._item||!G.target._item.deleted)).forEach(G=>{G.currentTarget=B}),N.sort((G,$)=>G.path.length-$.path.length),oK(B._dEH,N,e))})),k.push(()=>s.emit("afterTransaction",[e,s]))}),AL(k,[])}finally{s.gc&&((i,r,e)=>{for(const[s,o]of i.clients.entries()){const a=r.clients.get(s);for(let D=o.length-1;D>=0;D--){const k=o[D],N=k.clock+k.len;for(let B=hf(a,k.clock),G=a[B];B<a.length&&G.id.clock<N;G=a[++B]){const $=a[B];if(k.clock+k.len<=$.id.clock)break;$ instanceof cs&&$.deleted&&!$.keep&&e($)&&$.gc(r,!1)}}}})(a,o,s.gcFilter),((i,r)=>{i.clients.forEach((e,s)=>{const o=r.clients.get(s);for(let a=e.length-1;a>=0;a--){const D=e[a];for(let N=Mv(o.length-1,1+hf(o,D.clock+D.len-1)),B=o[N];N>0&&B.id.clock>=D.clock;B=o[--N])B6(o,N)}})})(a,o),e.afterState.forEach((k,N)=>{const B=e.beforeState.get(N)||0;if(B!==k){const G=o.clients.get(N),$=qg(hf(G,B),1);for(let re=G.length-1;re>=$;re--)B6(G,re)}});for(let k=0;k<D.length;k++){const{client:N,clock:B}=D[k].id,G=o.clients.get(N),$=hf(G,B);$+1<G.length&&B6(G,$+1),$>0&&B6(G,$)}if(!e.local&&e.afterState.get(s.clientID)!==e.beforeState.get(s.clientID)&&(s.clientID=Q$(),G$(EA,ru,"[yjs] ",Ev,A6,"Changed the client-id because another client seems to be using it.")),s.emit("afterTransactionCleanup",[e,s]),s._observers.has("update")){const k=new yE;pK(k,e)&&s.emit("update",[k.toUint8Array(),e.origin,s,e])}if(s._observers.has("updateV2")){const k=new Dv;pK(k,e)&&s.emit("updateV2",[k.toUint8Array(),e.origin,s,e])}e.subdocsAdded.forEach(k=>s.subdocs.add(k)),e.subdocsRemoved.forEach(k=>s.subdocs.delete(k)),s.emit("subdocs",[{loaded:e.subdocsLoaded,added:e.subdocsAdded,removed:e.subdocsRemoved}]),e.subdocsRemoved.forEach(k=>k.destroy()),i.length<=r+1?(s._transactionCleanups=[],s.emit("afterAllTransactions",[s,i])):vK(i,r+1)}}},Ts=(i,r,e=null,s=!0)=>{const o=i._transactionCleanups;let a=!1;null===i._transaction&&(a=!0,i._transaction=new ove(i,e,s),o.push(i._transaction),1===o.length&&i.emit("beforeAllTransactions",[i]),i.emit("beforeTransaction",[i._transaction,i]));try{r(i._transaction)}finally{a&&o[0]===i._transaction&&vK(o,0)}};class ave{constructor(r,e){this.insertions=e,this.deletions=r,this.meta=new Map}}const yK=(i,r,e)=>{let s=null,o=null;const a=i.doc,D=i.scope;return Ts(a,k=>{for(;r.length>0&&null===s;){const N=a.store,B=r.pop(),G=new Set,$=[];let re=!1;$g(k,B.insertions,oe=>{if(oe instanceof cs){if(null!==oe.redone){let{item:_e,diff:ze}=nB(N,oe.id);ze>0&&(_e=iu(k,Hr(_e.id.client,_e.id.clock+ze))),oe=_e}!oe.deleted&&D.some(_e=>RA(_e,oe))&&$.push(oe)}}),$g(k,B.deletions,oe=>{oe instanceof cs&&D.some(_e=>RA(_e,oe))&&!TA(B.insertions,oe.id)&&G.add(oe)}),G.forEach(oe=>{re=null!==HK(k,oe,G)||re});for(let oe=$.length-1;oe>=0;oe--){const _e=$[oe];i.deleteFilter(_e)&&(_e.delete(k),re=!0)}s=re?B:null}k.changed.forEach((N,B)=>{N.has(null)&&B._searchMarker&&(B._searchMarker.length=0)}),o=k},i),null!=s&&i.emit("stack-item-popped",[{stackItem:s,type:e,changedParentTypes:o.changedParentTypes},i]),s};class lve extends fE{constructor(r,{captureTimeout:e=500,deleteFilter:s=(()=>!0),trackedOrigins:o=new Set([null])}={}){super(),this.scope=r instanceof Array?r:[r],this.deleteFilter=s,o.add(this),this.trackedOrigins=o,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.doc=this.scope[0].doc,this.lastChange=0,this.doc.on("afterTransaction",a=>{if(!this.scope.some($=>a.changedParentTypes.has($))||!(this.trackedOrigins.has(a.origin)||a.origin&&this.trackedOrigins.has(a.origin.constructor)))return;const D=this.undoing,k=this.redoing,N=D?this.redoStack:this.undoStack;D?this.stopCapturing():k||(this.redoStack=[]);const B=new _E;a.afterState.forEach(($,re)=>{const oe=a.beforeState.get(re)||0,_e=$-oe;_e>0&&kA(B,re,oe,_e)});const G=jp();if(G-this.lastChange<e&&N.length>0&&!D&&!k){const $=N[N.length-1];$.deletions=xA([$.deletions,a.deleteSet]),$.insertions=xA([$.insertions,B])}else N.push(new ave(a.deleteSet,B));!D&&!k&&(this.lastChange=G),$g(a,a.deleteSet,$=>{$ instanceof cs&&this.scope.some(re=>RA(re,$))&&rB($,!0)}),this.emit("stack-item-added",[{stackItem:N[N.length-1],origin:a.origin,type:D?"redo":"undo",changedParentTypes:a.changedParentTypes},this])})}clear(){this.doc.transact(r=>{const e=s=>{$g(r,s.deletions,o=>{o instanceof cs&&this.scope.some(a=>RA(a,o))&&rB(o,!1)})};this.undoStack.forEach(e),this.redoStack.forEach(e)}),this.undoStack=[],this.redoStack=[]}stopCapturing(){this.lastChange=0}undo(){let r;this.undoing=!0;try{r=yK(this,this.undoStack,"undo")}finally{this.undoing=!1}return r}redo(){let r;this.redoing=!0;try{r=yK(this,this.redoStack,"redo")}finally{this.redoing=!1}return r}}class SE{constructor(r,e){this.gen=function*(i){const r=Lr(i.restDecoder);for(let e=0;e<r;e++){const s=Lr(i.restDecoder),o=i.readClient();let a=Lr(i.restDecoder);for(let D=0;D<s;D++){const k=i.readInfo();if(10===k){const N=Lr(i.restDecoder);yield new Ju(Hr(o,a),N),a+=N}else if(0!=(31&k)){const N=0==(192&k),B=new cs(Hr(o,a),null,(k&Ku)===Ku?i.readLeftID():null,null,64==(64&k)?i.readRightID():null,N?i.readParentInfo()?i.readString():i.readLeftID():null,N&&32==(32&k)?i.readString():null,UK(i,k));yield B,a+=B.length}else{const N=i.readLen();yield new ah(Hr(o,a),N),a+=N}}}}(r),this.curr=null,this.done=!1,this.filterSkips=e,this.next()}next(){do{this.curr=this.gen.next().value||null}while(this.filterSkips&&null!==this.curr&&this.curr.constructor===Ju);return this.curr}}class YL{constructor(r){this.currClient=0,this.startClock=0,this.written=0,this.encoder=r,this.clientStructs=[]}}const dve=i=>V6(i,X1,yE),pve=(i,r)=>{if(i.constructor===ah){const{client:e,clock:s}=i.id;return new ah(Hr(e,s+r),i.length-r)}if(i.constructor===Ju){const{client:e,clock:s}=i.id;return new Ju(Hr(e,s+r),i.length-r)}{const e=i,{client:s,clock:o}=e.id;return new cs(Hr(s,o+r),null,Hr(s,o+r-1),null,e.rightOrigin,e.parent,e.parentSub,e.content.splice(r))}},V6=(i,r=Kg,e=Dv)=>{const s=i.map(G=>new r(Zu(G)));let o=s.map(G=>new SE(G,!0)),a=null;const D=new e,k=new YL(D);for(;o=o.filter(re=>null!==re.curr),o.sort((re,oe)=>{if(re.curr.id.client===oe.curr.id.client){const _e=re.curr.id.clock-oe.curr.id.clock;return 0===_e?re.curr.constructor===oe.curr.constructor?0:re.curr.constructor===Ju?1:-1:_e}return oe.curr.id.client-re.curr.id.client}),0!==o.length;){const G=o[0],$=G.curr.id.client;if(null!==a){let re=G.curr,oe=!1;for(;null!==re&&re.id.clock+re.length<=a.struct.id.clock+a.struct.length&&re.id.client>=a.struct.id.client;)re=G.next(),oe=!0;if(null===re||re.id.client!==$||oe&&re.id.clock>a.struct.id.clock+a.struct.length)continue;if($!==a.struct.id.client)Tv(k,a.struct,a.offset),a={struct:re,offset:0},G.next();else if(a.struct.id.clock+a.struct.length<re.id.clock)if(a.struct.constructor===Ju)a.struct.length=re.id.clock+re.length-a.struct.id.clock;else{Tv(k,a.struct,a.offset);const _e=re.id.clock-a.struct.id.clock-a.struct.length;a={struct:new Ju(Hr($,a.struct.id.clock+a.struct.length),_e),offset:0}}else{const _e=a.struct.id.clock+a.struct.length-re.id.clock;_e>0&&(a.struct.constructor===Ju?a.struct.length-=_e:re=pve(re,_e)),a.struct.mergeWith(re)||(Tv(k,a.struct,a.offset),a={struct:re,offset:0},G.next())}}else a={struct:G.curr,offset:0},G.next();for(let re=G.curr;null!==re&&re.id.client===$&&re.id.clock===a.struct.id.clock+a.struct.length&&re.constructor!==Ju;re=G.next())Tv(k,a.struct,a.offset),a={struct:re,offset:0}}null!==a&&(Tv(k,a.struct,a.offset),a=null),WL(k);const N=s.map(G=>J1(G)),B=xA(N);return Wp(D,B),D.toUint8Array()},bK=(i,r,e=Kg,s=Dv)=>{const o=nK(r),a=new s,D=new YL(a),k=new e(Zu(i)),N=new SE(k,!1);for(;N.curr;){const G=N.curr,$=G.id.client,re=o.get($)||0;if(N.curr.constructor!==Ju)if(G.id.clock+G.length>re)for(Tv(D,G,qg(re-G.id.clock,0)),N.next();N.curr&&N.curr.id.client===$;)Tv(D,N.curr,0),N.next();else for(;N.curr&&N.curr.id.client===$&&N.curr.id.clock+N.curr.length<=re;)N.next();else N.next()}WL(D);const B=J1(k);return Wp(a,B),a.toUint8Array()},wK=i=>{i.written>0&&(i.clientStructs.push({written:i.written,restEncoder:Ps(i.encoder.restEncoder)}),i.encoder.restEncoder=Ja(),i.written=0)},Tv=(i,r,e)=>{i.written>0&&i.currClient!==r.id.client&&wK(i),0===i.written&&(i.currClient=r.id.client,i.encoder.writeClient(r.id.client),vr(i.encoder.restEncoder,r.id.clock+e)),r.write(i.encoder,e),i.written++},WL=i=>{wK(i);const r=i.encoder.restEncoder;vr(r,i.clientStructs.length);for(let e=0;e<i.clientStructs.length;e++){const s=i.clientStructs[e];vr(r,s.written),SA(r,s.restEncoder)}},gve=i=>((i,r,e)=>{const s=new r(Zu(i)),o=new SE(s,!1),a=new e,D=new YL(a);for(let N=o.curr;null!==N;N=o.next())Tv(D,N,0);WL(D);const k=J1(s);return Wp(a,k),a.toUint8Array()})(i,Kg,yE);class z6{constructor(r,e){this.target=r,this.currentTarget=r,this.transaction=e,this._changes=null,this._keys=null,this._delta=null}get path(){return _ve(this.currentTarget,this.target)}deletes(r){return TA(this.transaction.deleteSet,r.id)}get keys(){if(null===this._keys){const r=new Map,e=this.target;this.transaction.changed.get(e).forEach(o=>{if(null!==o){const a=e._map.get(o);let D,k;if(this.adds(a)){let N=a.left;for(;null!==N&&this.adds(N);)N=N.left;if(this.deletes(a)){if(null===N||!this.deletes(N))return;D="delete",k=yL(N.content.getContent())}else null!==N&&this.deletes(N)?(D="update",k=yL(N.content.getContent())):(D="add",k=void 0)}else{if(!this.deletes(a))return;D="delete",k=yL(a.content.getContent())}r.set(o,{action:D,oldValue:k})}}),this._keys=r}return this._keys}get delta(){return this.changes.delta}adds(r){return r.id.clock>=(this.transaction.beforeState.get(r.id.client)||0)}get changes(){let r=this._changes;if(null===r){const e=this.target,s=hE(),o=hE(),a=[];if(r={added:s,deleted:o,delta:a,keys:this.keys},this.transaction.changed.get(e).has(null)){let k=null;const N=()=>{k&&a.push(k)};for(let B=e._start;null!==B;B=B.right)B.deleted?this.deletes(B)&&!this.adds(B)&&((null===k||void 0===k.delete)&&(N(),k={delete:0}),k.delete+=B.length,o.add(B)):this.adds(B)?((null===k||void 0===k.insert)&&(N(),k={insert:[]}),k.insert=k.insert.concat(B.content.getContent()),s.add(B)):((null===k||void 0===k.retain)&&(N(),k={retain:0}),k.retain+=B.length);null!==k&&void 0===k.retain&&N()}this._changes=r}return r}}const _ve=(i,r)=>{const e=[];for(;null!==r._item&&r!==i;){if(null!==r._item.parentSub)e.unshift(r._item.parentSub);else{let s=0,o=r._item.parent._start;for(;o!==r._item&&null!==o;)o.deleted||s++,o=o.right;e.unshift(s)}r=r._item.parent}return e};let $L=0;class vve{constructor(r,e){r.marker=!0,this.p=r,this.index=e,this.timestamp=$L++}}const SK=(i,r,e)=>{i.p.marker=!1,i.p=r,r.marker=!0,i.index=e,i.timestamp=$L++},H6=(i,r)=>{if(null===i._start||0===r||null===i._searchMarker)return null;const e=0===i._searchMarker.length?null:i._searchMarker.reduce((a,D)=>gL(r-a.index)<gL(r-D.index)?a:D);let s=i._start,o=0;for(null!==e&&(s=e.p,o=e.index,(i=>{i.timestamp=$L++})(e));null!==s.right&&o<r;){if(!s.deleted&&s.countable){if(r<o+s.length)break;o+=s.length}s=s.right}for(;null!==s.left&&o>r;)s=s.left,!s.deleted&&s.countable&&(o-=s.length);for(;null!==s.left&&s.left.id.client===s.id.client&&s.left.id.clock+s.left.length===s.id.clock;)s=s.left,!s.deleted&&s.countable&&(o-=s.length);return null!==e&&gL(e.index-o)<s.parent.length/80?(SK(e,s,o),e):((i,r,e)=>{if(i.length>=80){const s=i.reduce((o,a)=>o.timestamp<a.timestamp?o:a);return SK(s,r,e),s}{const s=new vve(r,e);return i.push(s),s}})(i._searchMarker,s,o)},PA=(i,r,e)=>{for(let s=i.length-1;s>=0;s--){const o=i[s];if(e>0){let a=o.p;for(a.marker=!1;a&&(a.deleted||!a.countable);)a=a.left,a&&!a.deleted&&a.countable&&(o.index-=a.length);if(null===a||!0===a.marker){i.splice(s,1);continue}o.p=a,a.marker=!0}(r<o.index||e>0&&r===o.index)&&(o.index=qg(r,o.index+e))}},U6=(i,r,e)=>{const s=i,o=r.changedParentTypes;for(;$u(o,i,()=>[]).push(e),null!==i._item;)i=i._item.parent;oK(s._eH,e,r)};class ic{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=rK(),this._dEH=rK(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(r,e){this.doc=r,this._item=e}_copy(){throw df()}clone(){throw df()}_write(r){}get _first(){let r=this._start;for(;null!==r&&r.deleted;)r=r.right;return r}_callObserver(r,e){!r.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(r){iK(this._eH,r)}observeDeep(r){iK(this._dEH,r)}unobserve(r){sK(this._eH,r)}unobserveDeep(r){sK(this._dEH,r)}toJSON(){}}const MK=(i,r,e)=>{r<0&&(r=i._length+r),e<0&&(e=i._length+e);let s=e-r;const o=[];let a=i._start;for(;null!==a&&s>0;){if(a.countable&&!a.deleted){const D=a.content.getContent();if(D.length<=r)r-=D.length;else{for(let k=r;k<D.length&&s>0;k++)o.push(D[k]),s--;r=0}}a=a.right}return o},EK=i=>{const r=[];let e=i._start;for(;null!==e;){if(e.countable&&!e.deleted){const s=e.content.getContent();for(let o=0;o<s.length;o++)r.push(s[o])}e=e.right}return r},DK=(i,r)=>{const e=[];let s=i._start;for(;null!==s;){if(s.countable&&ew(s,r)){const o=s.content.getContent();for(let a=0;a<o.length;a++)e.push(o[a])}s=s.right}return e},G6=(i,r)=>{let e=0,s=i._start;for(;null!==s;){if(s.countable&&!s.deleted){const o=s.content.getContent();for(let a=0;a<o.length;a++)r(o[a],e++,i)}s=s.right}},TK=(i,r)=>{const e=[];return G6(i,(s,o)=>{e.push(r(s,o,i))}),e},wve=i=>{let r=i._start,e=null,s=0;return{[Symbol.iterator](){return this},next:()=>{if(null===e){for(;null!==r&&r.deleted;)r=r.right;if(null===r)return{done:!0,value:void 0};e=r.content.getContent(),s=0,r=r.right}const o=e[s++];return e.length<=s&&(e=null),{done:!1,value:o}}}},xK=(i,r)=>{const e=H6(i,r);let s=i._start;for(null!==e&&(s=e.p,r-=e.index);null!==s;s=s.right)if(!s.deleted&&s.countable){if(r<s.length)return s.content.getContent()[r];r-=s.length}},KL=(i,r,e,s)=>{let o=e;const a=i.doc,D=a.clientID,k=a.store,N=null===e?r._start:e.right;let B=[];const G=()=>{B.length>0&&(o=new cs(Hr(D,Eo(k,D)),o,o&&o.lastId,N,N&&N.id,r,null,new iw(B)),o.integrate(i,0),B=[])};s.forEach($=>{switch($.constructor){case Number:case Object:case Boolean:case Array:case String:B.push($);break;default:switch(G(),$.constructor){case Uint8Array:case ArrayBuffer:o=new cs(Hr(D,Eo(k,D)),o,o&&o.lastId,N,N&&N.id,r,null,new FA(new Uint8Array($))),o.integrate(i,0);break;case Q1:o=new cs(Hr(D,Eo(k,D)),o,o&&o.lastId,N,N&&N.id,r,null,new BA($)),o.integrate(i,0);break;default:if(!($ instanceof ic))throw new Error("Unexpected content type in insert operation");o=new cs(Hr(D,Eo(k,D)),o,o&&o.lastId,N,N&&N.id,r,null,new sw($)),o.integrate(i,0)}}}),G()},kK=Z1("Length exceeded!"),AK=(i,r,e,s)=>{if(e>r._length)throw kK;if(0===e)return r._searchMarker&&PA(r._searchMarker,e,s.length),KL(i,r,null,s);const o=e,a=H6(r,e);let D=r._start;for(null!==a&&(D=a.p,0==(e-=a.index)&&(D=D.prev,e+=D&&D.countable&&!D.deleted?D.length:0));null!==D;D=D.right)if(!D.deleted&&D.countable){if(e<=D.length){e<D.length&&iu(i,Hr(D.id.client,D.id.clock+e));break}e-=D.length}return r._searchMarker&&PA(r._searchMarker,o,s.length),KL(i,r,D,s)},IK=(i,r,e,s)=>{if(0===s)return;const o=e,a=s,D=H6(r,e);let k=r._start;for(null!==D&&(k=D.p,e-=D.index);null!==k&&e>0;k=k.right)!k.deleted&&k.countable&&(e<k.length&&iu(i,Hr(k.id.client,k.id.clock+e)),e-=k.length);for(;s>0&&null!==k;)k.deleted||(s<k.length&&iu(i,Hr(k.id.client,k.id.clock+s)),k.delete(i),s-=k.length),k=k.right;if(s>0)throw kK;r._searchMarker&&PA(r._searchMarker,o,-a+s)},q6=(i,r,e)=>{const s=r._map.get(e);void 0!==s&&s.delete(i)},ZL=(i,r,e,s)=>{const o=r._map.get(e)||null,a=i.doc,D=a.clientID;let k;if(null==s)k=new iw([s]);else switch(s.constructor){case Number:case Object:case Boolean:case Array:case String:k=new iw([s]);break;case Uint8Array:k=new FA(s);break;case Q1:k=new BA(s);break;default:if(!(s instanceof ic))throw new Error("Unexpected content type");k=new sw(s)}new cs(Hr(D,Eo(a.store,D)),o,o&&o.lastId,null,null,r,e,k).integrate(i,0)},JL=(i,r)=>{const e=i._map.get(r);return void 0===e||e.deleted?void 0:e.content.getContent()[e.length-1]},RK=i=>{const r={};return i._map.forEach((e,s)=>{e.deleted||(r[s]=e.content.getContent()[e.length-1])}),r},OK=(i,r)=>{const e=i._map.get(r);return void 0!==e&&!e.deleted},j6=i=>((i,r)=>K$(()=>{let e;do{e=i.next()}while(!e.done&&!r(e.value));return e}))(i.entries(),r=>!r[1].deleted);class Cve extends z6{constructor(r,e){super(r,e),this._transaction=e}}class xv extends ic{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(r){const e=new xv;return e.push(r),e}_integrate(r,e){super._integrate(r,e),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new xv}clone(){const r=new xv;return r.insert(0,this.toArray().map(e=>e instanceof ic?e.clone():e)),r}get length(){return null===this._prelimContent?this._length:this._prelimContent.length}_callObserver(r,e){super._callObserver(r,e),U6(this,r,new Cve(this,r))}insert(r,e){null!==this.doc?Ts(this.doc,s=>{AK(s,this,r,e)}):this._prelimContent.splice(r,0,...e)}push(r){this.insert(this.length,r)}unshift(r){this.insert(0,r)}delete(r,e=1){null!==this.doc?Ts(this.doc,s=>{IK(s,this,r,e)}):this._prelimContent.splice(r,e)}get(r){return xK(this,r)}toArray(){return EK(this)}slice(r=0,e=this.length){return MK(this,r,e)}toJSON(){return this.map(r=>r instanceof ic?r.toJSON():r)}map(r){return TK(this,r)}forEach(r){G6(this,r)}[Symbol.iterator](){return wve(this)}_write(r){r.writeTypeRef(jve)}}class Mve extends z6{constructor(r,e,s){super(r,e),this.keysChanged=s}}class tw extends ic{constructor(r){super(),this._prelimContent=null,this._prelimContent=void 0===r?new Map:new Map(r)}_integrate(r,e){super._integrate(r,e),this._prelimContent.forEach((s,o)=>{this.set(o,s)}),this._prelimContent=null}_copy(){return new tw}clone(){const r=new tw;return this.forEach((e,s)=>{r.set(s,e instanceof ic?e.clone():e)}),r}_callObserver(r,e){U6(this,r,new Mve(this,r,e))}toJSON(){const r={};return this._map.forEach((e,s)=>{if(!e.deleted){const o=e.content.getContent()[e.length-1];r[s]=o instanceof ic?o.toJSON():o}}),r}get size(){return[...j6(this._map)].length}keys(){return PL(j6(this._map),r=>r[0])}values(){return PL(j6(this._map),r=>r[1].content.getContent()[r[1].length-1])}entries(){return PL(j6(this._map),r=>[r[0],r[1].content.getContent()[r[1].length-1]])}forEach(r){return this._map.forEach((s,o)=>{s.deleted||r(s.content.getContent()[s.length-1],o,this)}),{}}[Symbol.iterator](){return this.entries()}delete(r){null!==this.doc?Ts(this.doc,e=>{q6(e,this,r)}):this._prelimContent.delete(r)}set(r,e){return null!==this.doc?Ts(this.doc,s=>{ZL(s,this,r,e)}):this._prelimContent.set(r,e),e}get(r){return JL(this,r)}has(r){return OK(this,r)}clear(){null!==this.doc?Ts(this.doc,r=>{this.forEach(function(e,s,o){q6(r,o,s)})}):this._prelimContent.clear()}_write(r){r.writeTypeRef(Yve)}}const kv=(i,r)=>i===r||"object"==typeof i&&"object"==typeof r&&i&&r&&((i,r)=>i===r||x6(i)===x6(r)&&((i,r)=>{for(const e in i)if(!r(i[e],e))return!1;return!0})(i,(e,s)=>(void 0!==e||F$(r,s))&&r[s]===e))(i,r);class QL{constructor(r,e,s,o){this.left=r,this.right=e,this.index=s,this.currentAttributes=o}forward(){switch(null===this.right&&ih(),this.right.content.constructor){case ou:case Qa:this.right.deleted||(this.index+=this.right.length);break;case Ra:this.right.deleted||ME(this.currentAttributes,this.right.content)}this.left=this.right,this.right=this.right.right}}const NK=(i,r,e)=>{for(;null!==r.right&&e>0;){switch(r.right.content.constructor){case ou:case Qa:r.right.deleted||(e<r.right.length&&iu(i,Hr(r.right.id.client,r.right.id.clock+e)),r.index+=r.right.length,e-=r.right.length);break;case Ra:r.right.deleted||ME(r.currentAttributes,r.right.content)}r.left=r.right,r.right=r.right.right}return r},Y6=(i,r,e)=>{const s=new Map,o=H6(r,e);if(o){const a=new QL(o.p.left,o.p,o.index,s);return NK(i,a,e-o.index)}{const a=new QL(null,r._start,0,s);return NK(i,a,e)}},PK=(i,r,e,s)=>{for(;null!==e.right&&(!0===e.right.deleted||e.right.content.constructor===Ra&&kv(s.get(e.right.content.key),e.right.content.value));)e.right.deleted||s.delete(e.right.content.key),e.forward();const o=i.doc,a=o.clientID;s.forEach((D,k)=>{const N=e.left,B=e.right,G=new cs(Hr(a,Eo(o.store,a)),N,N&&N.lastId,B,B&&B.id,r,null,new Ra(k,D));G.integrate(i,0),e.right=G,e.forward()})},ME=(i,r)=>{const{key:e,value:s}=r;null===s?i.delete(e):i.set(e,s)},FK=(i,r)=>{for(;null!==i.right&&(i.right.deleted||i.right.content.constructor===Ra&&kv(r[i.right.content.key]||null,i.right.content.value));)i.forward()},LK=(i,r,e,s)=>{const o=i.doc,a=o.clientID,D=new Map;for(const k in s){const N=s[k],B=e.currentAttributes.get(k)||null;if(!kv(B,N)){D.set(k,B);const{left:G,right:$}=e;e.right=new cs(Hr(a,Eo(o.store,a)),G,G&&G.lastId,$,$&&$.id,r,null,new Ra(k,N)),e.right.integrate(i,0),e.forward()}}return D},XL=(i,r,e,s,o)=>{e.currentAttributes.forEach((re,oe)=>{void 0===o[oe]&&(o[oe]=null)});const a=i.doc,D=a.clientID;FK(e,o);const k=LK(i,r,e,o),N=s.constructor===String?new Qa(s):new ou(s);let{left:B,right:G,index:$}=e;r._searchMarker&&PA(r._searchMarker,e.index,N.getLength()),G=new cs(Hr(D,Eo(a.store,D)),B,B&&B.lastId,G,G&&G.id,r,null,N),G.integrate(i,0),e.right=G,e.index=$,e.forward(),PK(i,r,e,k)},BK=(i,r,e,s,o)=>{const a=i.doc,D=a.clientID;FK(e,o);const k=LK(i,r,e,o);for(;s>0&&null!==e.right;){if(!e.right.deleted)switch(e.right.content.constructor){case Ra:{const{key:N,value:B}=e.right.content,G=o[N];void 0!==G&&(kv(G,B)?k.delete(N):k.set(N,B),e.right.delete(i));break}case ou:case Qa:s<e.right.length&&iu(i,Hr(e.right.id.client,e.right.id.clock+s)),s-=e.right.length}e.forward()}if(s>0){let N="";for(;s>0;s--)N+="\n";e.right=new cs(Hr(D,Eo(a.store,D)),e.left,e.left&&e.left.lastId,e.right,e.right&&e.right.id,r,null,new Qa(N)),e.right.integrate(i,0),e.forward()}PK(i,r,e,k)},VK=(i,r,e,s,o)=>{for(;e&&e.content.constructor!==Qa&&e.content.constructor!==ou;)!e.deleted&&e.content.constructor===Ra&&ME(o,e.content),e=e.right;let a=0;for(;r!==e;){if(!r.deleted){const D=r.content;switch(D.constructor){case Ra:{const{key:k,value:N}=D;((o.get(k)||null)!==N||(s.get(k)||null)===N)&&(r.delete(i),a++);break}}}r=r.right}return a},zK=(i,r,e)=>{const s=e,o=v6(r.currentAttributes),a=r.right;for(;e>0&&null!==r.right;){if(!1===r.right.deleted)switch(r.right.content.constructor){case ou:case Qa:e<r.right.length&&iu(i,Hr(r.right.id.client,r.right.id.clock+e)),e-=r.right.length,r.right.delete(i)}r.forward()}a&&VK(i,a,r.right,o,v6(r.currentAttributes));const D=(r.left||r.right).parent;return D._searchMarker&&PA(D._searchMarker,r.index,-s+e),r};class xve extends z6{constructor(r,e,s){super(r,e),this.childListChanged=!1,this.keysChanged=new Set,s.forEach(o=>{null===o?this.childListChanged=!0:this.keysChanged.add(o)})}get changes(){if(null===this._changes){const r={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=r}return this._changes}get delta(){if(null===this._delta){const e=[];Ts(this.target.doc,s=>{const o=new Map,a=new Map;let D=this.target._start,k=null;const N={};let B="",G=0,$=0;const re=()=>{if(null!==k){let oe;switch(k){case"delete":oe={delete:$},$=0;break;case"insert":oe={insert:B},o.size>0&&(oe.attributes={},o.forEach((_e,ze)=>{null!==_e&&(oe.attributes[ze]=_e)})),B="";break;case"retain":if(oe={retain:G},Object.keys(N).length>0){oe.attributes={};for(const _e in N)oe.attributes[_e]=N[_e]}G=0}e.push(oe),k=null}};for(;null!==D;){switch(D.content.constructor){case ou:this.adds(D)?this.deletes(D)||(re(),k="insert",B=D.content.embed,re()):this.deletes(D)?("delete"!==k&&(re(),k="delete"),$+=1):D.deleted||("retain"!==k&&(re(),k="retain"),G+=1);break;case Qa:this.adds(D)?this.deletes(D)||("insert"!==k&&(re(),k="insert"),B+=D.content.str):this.deletes(D)?("delete"!==k&&(re(),k="delete"),$+=D.length):D.deleted||("retain"!==k&&(re(),k="retain"),G+=D.length);break;case Ra:{const{key:oe,value:_e}=D.content;if(this.adds(D)){if(!this.deletes(D)){const ze=o.get(oe)||null;kv(ze,_e)?D.delete(s):("retain"===k&&re(),kv(_e,a.get(oe)||null)?delete N[oe]:N[oe]=_e)}}else if(this.deletes(D)){a.set(oe,_e);const ze=o.get(oe)||null;kv(ze,_e)||("retain"===k&&re(),N[oe]=ze)}else if(!D.deleted){a.set(oe,_e);const ze=N[oe];void 0!==ze&&(kv(ze,_e)?D.delete(s):("retain"===k&&re(),null===_e?N[oe]=_e:delete N[oe]))}D.deleted||("insert"===k&&re(),ME(o,D.content));break}}D=D.right}for(re();e.length>0;){const oe=e[e.length-1];if(void 0===oe.retain||void 0!==oe.attributes)break;e.pop()}}),this._delta=e}return this._delta}}class nw extends ic{constructor(r){super(),this._pending=void 0!==r?[()=>this.insert(0,r)]:[],this._searchMarker=[]}get length(){return this._length}_integrate(r,e){super._integrate(r,e);try{this._pending.forEach(s=>s())}catch(s){console.error(s)}this._pending=null}_copy(){return new nw}clone(){const r=new nw;return r.applyDelta(this.toDelta()),r}_callObserver(r,e){super._callObserver(r,e);const s=new xve(this,r,e),o=r.doc;if(U6(this,r,s),!r.local){let a=!1;for(const[D,k]of r.afterState.entries()){const N=r.beforeState.get(D)||0;if(k!==N&&(fK(r,o.store.clients.get(D),N,k,B=>{!B.deleted&&B.content.constructor===Ra&&(a=!0)}),a))break}a||$g(r,r.deleteSet,D=>{D instanceof ah||a||D.parent===this&&D.content.constructor===Ra&&(a=!0)}),Ts(o,D=>{a?(i=>{let r=0;Ts(i.doc,e=>{let s=i._start,o=i._start,a=uf();const D=v6(a);for(;o;){if(!1===o.deleted)switch(o.content.constructor){case Ra:ME(D,o.content);break;case ou:case Qa:r+=VK(e,s,o,a,D),a=v6(D),s=o}o=o.right}})})(this):$g(D,D.deleteSet,k=>{k instanceof ah||k.parent===this&&((i,r)=>{for(;r&&r.right&&(r.right.deleted||r.right.content.constructor!==Qa&&r.right.content.constructor!==ou);)r=r.right;const e=new Set;for(;r&&(r.deleted||r.content.constructor!==Qa&&r.content.constructor!==ou);){if(!r.deleted&&r.content.constructor===Ra){const s=r.content.key;e.has(s)?r.delete(i):e.add(s)}r=r.left}})(D,k)})})}}toString(){let r="",e=this._start;for(;null!==e;)!e.deleted&&e.countable&&e.content.constructor===Qa&&(r+=e.content.str),e=e.right;return r}toJSON(){return this.toString()}applyDelta(r,{sanitize:e=!0}={}){null!==this.doc?Ts(this.doc,s=>{const o=new QL(null,this._start,0,new Map);for(let a=0;a<r.length;a++){const D=r[a];if(void 0!==D.insert){const k=e||"string"!=typeof D.insert||a!==r.length-1||null!==o.right||"\n"!==D.insert.slice(-1)?D.insert:D.insert.slice(0,-1);("string"!=typeof k||k.length>0)&&XL(s,this,o,k,D.attributes||{})}else void 0!==D.retain?BK(s,this,o,D.retain,D.attributes||{}):void 0!==D.delete&&zK(s,o,D.delete)}}):this._pending.push(()=>this.applyDelta(r))}toDelta(r,e,s){const o=[],a=new Map;let k="",N=this._start;function B(){if(k.length>0){const G={};let $=!1;a.forEach((oe,_e)=>{$=!0,G[_e]=oe});const re={insert:k};$&&(re.attributes=G),o.push(re),k=""}}return Ts(this.doc,G=>{for(r&&F6(G,r),e&&F6(G,e);null!==N;){if(ew(N,r)||void 0!==e&&ew(N,e))switch(N.content.constructor){case Qa:{const $=a.get("ychange");void 0===r||ew(N,r)?void 0===e||ew(N,e)?void 0!==$&&(B(),a.delete("ychange")):(void 0===$||$.user!==N.id.client||"added"!==$.state)&&(B(),a.set("ychange",s?s("added",N.id):{type:"added"})):(void 0===$||$.user!==N.id.client||"removed"!==$.state)&&(B(),a.set("ychange",s?s("removed",N.id):{type:"removed"})),k+=N.content.str;break}case ou:{B();const $={insert:N.content.embed};if(a.size>0){const re={};$.attributes=re,a.forEach((oe,_e)=>{re[_e]=oe})}o.push($);break}case Ra:ew(N,r)&&(B(),ME(a,N.content))}N=N.right}B()},F6),o}insert(r,e,s){if(e.length<=0)return;const o=this.doc;null!==o?Ts(o,a=>{const D=Y6(a,this,r);s||(s={},D.currentAttributes.forEach((k,N)=>{s[N]=k})),XL(a,this,D,e,s)}):this._pending.push(()=>this.insert(r,e,s))}insertEmbed(r,e,s={}){if(e.constructor!==Object)throw new Error("Embed must be an Object");const o=this.doc;null!==o?Ts(o,a=>{const D=Y6(a,this,r);XL(a,this,D,e,s)}):this._pending.push(()=>this.insertEmbed(r,e,s))}delete(r,e){if(0===e)return;const s=this.doc;null!==s?Ts(s,o=>{zK(o,Y6(o,this,r),e)}):this._pending.push(()=>this.delete(r,e))}format(r,e,s){if(0===e)return;const o=this.doc;null!==o?Ts(o,a=>{const D=Y6(a,this,r);null!==D.right&&BK(a,this,D,e,s)}):this._pending.push(()=>this.format(r,e,s))}removeAttribute(r){null!==this.doc?Ts(this.doc,e=>{q6(e,this,r)}):this._pending.push(()=>this.removeAttribute(r))}setAttribute(r,e){null!==this.doc?Ts(this.doc,s=>{ZL(s,this,r,e)}):this._pending.push(()=>this.setAttribute(r,e))}getAttribute(r){return JL(this,r)}getAttributes(r){return RK(this)}_write(r){r.writeTypeRef(Wve)}}class eB{constructor(r,e=(()=>!0)){this._filter=e,this._root=r,this._currentNode=r._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let r=this._currentNode,e=r&&r.content&&r.content.type;if(null!==r&&(!this._firstCall||r.deleted||!this._filter(e)))do{if(e=r.content.type,r.deleted||e.constructor!==su&&e.constructor!==rw||null===e._start)for(;null!==r;){if(null!==r.right){r=r.right;break}r=r.parent===this._root?null:r.parent._item}else r=e._start}while(null!==r&&(r.deleted||!this._filter(r.content.type)));return this._firstCall=!1,null===r?{value:void 0,done:!0}:(this._currentNode=r,{value:r.content.type,done:!1})}}class rw extends ic{constructor(){super(),this._prelimContent=[]}get firstChild(){const r=this._first;return r?r.content.getContent()[0]:null}_integrate(r,e){super._integrate(r,e),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new rw}clone(){const r=new rw;return r.insert(0,this.toArray().map(e=>e instanceof ic?e.clone():e)),r}get length(){return null===this._prelimContent?this._length:this._prelimContent.length}createTreeWalker(r){return new eB(this,r)}querySelector(r){r=r.toUpperCase();const s=new eB(this,o=>o.nodeName&&o.nodeName.toUpperCase()===r).next();return s.done?null:s.value}querySelectorAll(r){return r=r.toUpperCase(),Array.from(new eB(this,e=>e.nodeName&&e.nodeName.toUpperCase()===r))}_callObserver(r,e){U6(this,r,new Rve(this,e,r))}toString(){return TK(this,r=>r.toString()).join("")}toJSON(){return this.toString()}toDOM(r=document,e={},s){const o=r.createDocumentFragment();return void 0!==s&&s._createAssociation(o,this),G6(this,a=>{o.insertBefore(a.toDOM(r,e,s),null)}),o}insert(r,e){null!==this.doc?Ts(this.doc,s=>{AK(s,this,r,e)}):this._prelimContent.splice(r,0,...e)}insertAfter(r,e){if(null!==this.doc)Ts(this.doc,s=>{KL(s,this,r&&r instanceof ic?r._item:r,e)});else{const s=this._prelimContent,o=null===r?0:s.findIndex(a=>a===r)+1;if(0===o&&null!==r)throw Z1("Reference item not found");s.splice(o,0,...e)}}delete(r,e=1){null!==this.doc?Ts(this.doc,s=>{IK(s,this,r,e)}):this._prelimContent.splice(r,e)}toArray(){return EK(this)}push(r){this.insert(this.length,r)}unshift(r){this.insert(0,r)}get(r){return xK(this,r)}slice(r=0,e=this.length){return MK(this,r,e)}_write(r){r.writeTypeRef(Kve)}}class su extends rw{constructor(r="UNDEFINED"){super(),this.nodeName=r,this._prelimAttrs=new Map}get nextSibling(){const r=this._item?this._item.next:null;return r?r.content.type:null}get prevSibling(){const r=this._item?this._item.prev:null;return r?r.content.type:null}_integrate(r,e){super._integrate(r,e),this._prelimAttrs.forEach((s,o)=>{this.setAttribute(o,s)}),this._prelimAttrs=null}_copy(){return new su(this.nodeName)}clone(){const r=new su(this.nodeName),e=this.getAttributes();for(const s in e)r.setAttribute(s,e[s]);return r.insert(0,this.toArray().map(s=>s instanceof ic?s.clone():s)),r}toString(){const r=this.getAttributes(),e=[],s=[];for(const k in r)s.push(k);s.sort();const o=s.length;for(let k=0;k<o;k++){const N=s[k];e.push(N+'="'+r[N]+'"')}const a=this.nodeName.toLocaleLowerCase();return`<${a}${e.length>0?" "+e.join(" "):""}>${super.toString()}</${a}>`}removeAttribute(r){null!==this.doc?Ts(this.doc,e=>{q6(e,this,r)}):this._prelimAttrs.delete(r)}setAttribute(r,e){null!==this.doc?Ts(this.doc,s=>{ZL(s,this,r,e)}):this._prelimAttrs.set(r,e)}getAttribute(r){return JL(this,r)}hasAttribute(r){return OK(this,r)}getAttributes(r){return RK(this)}toDOM(r=document,e={},s){const o=r.createElement(this.nodeName),a=this.getAttributes();for(const D in a)o.setAttribute(D,a[D]);return G6(this,D=>{o.appendChild(D.toDOM(r,e,s))}),void 0!==s&&s._createAssociation(o,this),o}_write(r){r.writeTypeRef($ve),r.writeKey(this.nodeName)}}class Rve extends z6{constructor(r,e,s){super(r,s),this.childListChanged=!1,this.attributesChanged=new Set,e.forEach(o=>{null===o?this.childListChanged=!0:this.attributesChanged.add(o)})}}class W6 extends tw{constructor(r){super(),this.hookName=r}_copy(){return new W6(this.hookName)}clone(){const r=new W6(this.hookName);return this.forEach((e,s)=>{r.set(s,e)}),r}toDOM(r=document,e={},s){const o=e[this.hookName];let a;return a=void 0!==o?o.createDom(this):document.createElement(this.hookName),a.setAttribute("data-yjs-hook",this.hookName),void 0!==s&&s._createAssociation(a,this),a}_write(r){r.writeTypeRef(Zve),r.writeKey(this.hookName)}}class oh extends nw{get nextSibling(){const r=this._item?this._item.next:null;return r?r.content.type:null}get prevSibling(){const r=this._item?this._item.prev:null;return r?r.content.type:null}_copy(){return new oh}clone(){const r=new oh;return r.applyDelta(this.toDelta()),r}toDOM(r=document,e,s){const o=r.createTextNode(this.toString());return void 0!==s&&s._createAssociation(o,this),o}toString(){return this.toDelta().map(r=>{const e=[];for(const o in r.attributes){const a=[];for(const D in r.attributes[o])a.push({key:D,value:r.attributes[o][D]});a.sort((D,k)=>D.key<k.key?-1:1),e.push({nodeName:o,attrs:a})}e.sort((o,a)=>o.nodeName<a.nodeName?-1:1);let s="";for(let o=0;o<e.length;o++){const a=e[o];s+=`<${a.nodeName}`;for(let D=0;D<a.attrs.length;D++){const k=a.attrs[D];s+=` ${k.key}="${k.value}"`}s+=">"}s+=r.insert;for(let o=e.length-1;o>=0;o--)s+=`</${e[o].nodeName}>`;return s}).join("")}toJSON(){return this.toString()}_write(r){r.writeTypeRef(Jve)}}class tB{constructor(r,e){this.id=r,this.length=e}get deleted(){throw df()}mergeWith(r){return!1}write(r,e,s){throw df()}integrate(r,e){throw df()}}class ah extends tB{get deleted(){return!0}delete(){}mergeWith(r){return this.constructor===r.constructor&&(this.length+=r.length,!0)}integrate(r,e){e>0&&(this.id.clock+=e,this.length-=e),dK(r.doc.store,this)}write(r,e){r.writeInfo(0),r.writeLen(this.length-e)}getMissing(r,e){return null}}class FA{constructor(r){this.content=r}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new FA(this.content)}splice(r){throw df()}mergeWith(r){return!1}integrate(r,e){}delete(r){}gc(r){}write(r,e){r.writeBuf(this.content)}getRef(){return 3}}class LA{constructor(r){this.len=r}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new LA(this.len)}splice(r){const e=new LA(this.len-r);return this.len=r,e}mergeWith(r){return this.len+=r.len,!0}integrate(r,e){kA(r.deleteSet,e.id.client,e.id.clock,this.len),e.markDeleted()}delete(r){}gc(r){}write(r,e){r.writeLen(this.len-e)}getRef(){return 1}}class BA{constructor(r){r._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=r;const e={};this.opts=e,r.gc||(e.gc=!1),r.autoLoad&&(e.autoLoad=!0),null!==r.meta&&(e.meta=r.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new BA(this.doc)}splice(r){throw df()}mergeWith(r){return!1}integrate(r,e){this.doc._item=e,r.subdocsAdded.add(this.doc),this.doc.shouldLoad&&r.subdocsLoaded.add(this.doc)}delete(r){r.subdocsAdded.has(this.doc)?r.subdocsAdded.delete(this.doc):r.subdocsRemoved.add(this.doc)}gc(r){}write(r,e){r.writeString(this.doc.guid),r.writeAny(this.opts)}getRef(){return 9}}class ou{constructor(r){this.embed=r}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new ou(this.embed)}splice(r){throw df()}mergeWith(r){return!1}integrate(r,e){}delete(r){}gc(r){}write(r,e){r.writeJSON(this.embed)}getRef(){return 5}}class Ra{constructor(r,e){this.key=r,this.value=e}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new Ra(this.key,this.value)}splice(r){throw df()}mergeWith(r){return!1}integrate(r,e){e.parent._searchMarker=null}delete(r){}gc(r){}write(r,e){r.writeKey(this.key),r.writeJSON(this.value)}getRef(){return 6}}class $6{constructor(r){this.arr=r}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new $6(this.arr)}splice(r){const e=new $6(this.arr.slice(r));return this.arr=this.arr.slice(0,r),e}mergeWith(r){return this.arr=this.arr.concat(r.arr),!0}integrate(r,e){}delete(r){}gc(r){}write(r,e){const s=this.arr.length;r.writeLen(s-e);for(let o=e;o<s;o++){const a=this.arr[o];r.writeString(void 0===a?"undefined":JSON.stringify(a))}}getRef(){return 2}}class iw{constructor(r){this.arr=r}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new iw(this.arr)}splice(r){const e=new iw(this.arr.slice(r));return this.arr=this.arr.slice(0,r),e}mergeWith(r){return this.arr=this.arr.concat(r.arr),!0}integrate(r,e){}delete(r){}gc(r){}write(r,e){const s=this.arr.length;r.writeLen(s-e);for(let o=e;o<s;o++)r.writeAny(this.arr[o])}getRef(){return 8}}class Qa{constructor(r){this.str=r}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new Qa(this.str)}splice(r){const e=new Qa(this.str.slice(r));this.str=this.str.slice(0,r);const s=this.str.charCodeAt(r-1);return s>=55296&&s<=56319&&(this.str=this.str.slice(0,r-1)+"\ufffd",e.str="\ufffd"+e.str.slice(1)),e}mergeWith(r){return this.str+=r.str,!0}integrate(r,e){}delete(r){}gc(r){}write(r,e){r.writeString(0===e?this.str:this.str.slice(e))}getRef(){return 4}}const qve=[i=>new xv,i=>new tw,i=>new nw,i=>new su(i.readKey()),i=>new rw,i=>new W6(i.readKey()),i=>new oh],jve=0,Yve=1,Wve=2,$ve=3,Kve=4,Zve=5,Jve=6;class sw{constructor(r){this.type=r}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new sw(this.type._copy())}splice(r){throw df()}mergeWith(r){return!1}integrate(r,e){this.type._integrate(r.doc,e)}delete(r){let e=this.type._start;for(;null!==e;)e.deleted?r._mergeStructs.push(e):e.delete(r),e=e.right;this.type._map.forEach(s=>{s.deleted?r._mergeStructs.push(s):s.delete(r)}),r.changed.delete(this.type)}gc(r){let e=this.type._start;for(;null!==e;)e.gc(r,!0),e=e.right;this.type._start=null,this.type._map.forEach(s=>{for(;null!==s;)s.gc(r,!0),s=s.left}),this.type._map=new Map}write(r,e){this.type._write(r)}getRef(){return 7}}const nB=(i,r)=>{let o,e=r,s=0;do{s>0&&(e=Hr(e.client,e.clock+s)),o=L6(i,e),s=e.clock-o.id.clock,e=o.redone}while(null!==e&&o instanceof cs);return{item:o,diff:s}},rB=(i,r)=>{for(;null!==i&&i.keep!==r;)i.keep=r,i=i.parent._item},K6=(i,r,e)=>{const{client:s,clock:o}=r.id,a=new cs(Hr(s,o+e),r,Hr(s,o+e-1),r.right,r.rightOrigin,r.parent,r.parentSub,r.content.splice(e));return r.deleted&&a.markDeleted(),r.keep&&(a.keep=!0),null!==r.redone&&(a.redone=Hr(r.redone.client,r.redone.clock+e)),r.right=a,null!==a.right&&(a.right.left=a),i._mergeStructs.push(a),null!==a.parentSub&&null===a.right&&a.parent._map.set(a.parentSub,a),r.length=e,a},HK=(i,r,e)=>{const s=i.doc,o=s.store,a=s.clientID,D=r.redone;if(null!==D)return iu(i,D);let N,B,k=r.parent._item;if(null===r.parentSub)N=r.left,B=r;else{for(N=r;null!==N.right;)if(N=N.right,N.id.client!==a)return null;null!==N.right&&(N=r.parent._map.get(r.parentSub)),B=null}if(null!==k&&!0===k.deleted&&null===k.redone&&(!e.has(k)||null===HK(i,k,e)))return null;if(null!==k&&null!==k.redone){for(;null!==k.redone;)k=iu(i,k.redone);for(;null!==N;){let oe=N;for(;null!==oe&&oe.parent._item!==k;)oe=null===oe.redone?null:iu(i,oe.redone);if(null!==oe&&oe.parent._item===k){N=oe;break}N=N.left}for(;null!==B;){let oe=B;for(;null!==oe&&oe.parent._item!==k;)oe=null===oe.redone?null:iu(i,oe.redone);if(null!==oe&&oe.parent._item===k){B=oe;break}B=B.right}}const G=Eo(o,a),$=Hr(a,G),re=new cs($,N,N&&N.lastId,B,B&&B.id,null===k?r.parent:k.content.type,r.parentSub,r.content.copy());return r.redone=$,rB(re,!0),re.integrate(i,0),re};class cs extends tB{constructor(r,e,s,o,a,D,k,N){super(r,N.getLength()),this.origin=s,this.left=e,this.right=o,this.rightOrigin=a,this.parent=D,this.parentSub=k,this.redone=null,this.content=N,this.info=this.content.isCountable()?2:0}set marker(r){(8&this.info)>0!==r&&(this.info^=8)}get marker(){return(8&this.info)>0}get keep(){return(1&this.info)>0}set keep(r){this.keep!==r&&(this.info^=1)}get countable(){return(2&this.info)>0}get deleted(){return(4&this.info)>0}set deleted(r){this.deleted!==r&&(this.info^=4)}markDeleted(){this.info|=4}getMissing(r,e){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Eo(e,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Eo(e,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===bE&&this.id.client!==this.parent.client&&this.parent.clock>=Eo(e,this.parent.client))return this.parent.client;if(this.origin&&(this.left=hK(r,e,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=iu(r,this.rightOrigin),this.rightOrigin=this.right.id),(this.left&&this.left.constructor===ah||this.right&&this.right.constructor===ah)&&(this.parent=null),this.parent){if(this.parent.constructor===bE){const s=L6(e,this.parent);this.parent=s.constructor===ah?null:s.content.type}}else this.left&&this.left.constructor===cs&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===cs&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);return null}integrate(r,e){if(e>0&&(this.id.clock+=e,this.left=hK(r,r.doc.store,Hr(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(e),this.length-=e),this.parent){if(!this.left&&(!this.right||null!==this.right.left)||this.left&&this.left.right!==this.right){let o,s=this.left;if(null!==s)o=s.right;else if(null!==this.parentSub)for(o=this.parent._map.get(this.parentSub)||null;null!==o&&null!==o.left;)o=o.left;else o=this.parent._start;const a=new Set,D=new Set;for(;null!==o&&o!==this.right;){if(D.add(o),a.add(o),wE(this.origin,o.origin)){if(o.id.client<this.id.client)s=o,a.clear();else if(wE(this.rightOrigin,o.rightOrigin))break}else{if(null===o.origin||!D.has(L6(r.doc.store,o.origin)))break;a.has(L6(r.doc.store,o.origin))||(s=o,a.clear())}o=o.right}this.left=s}if(null!==this.left)this.right=this.left.right,this.left.right=this;else{let s;if(null!==this.parentSub)for(s=this.parent._map.get(this.parentSub)||null;null!==s&&null!==s.left;)s=s.left;else s=this.parent._start,this.parent._start=this;this.right=s}null!==this.right?this.right.left=this:null!==this.parentSub&&(this.parent._map.set(this.parentSub,this),null!==this.left&&this.left.delete(r)),null===this.parentSub&&this.countable&&!this.deleted&&(this.parent._length+=this.length),dK(r.doc.store,this),this.content.integrate(r,this),mK(r,this.parent,this.parentSub),(null!==this.parent._item&&this.parent._item.deleted||null!==this.parentSub&&null!==this.right)&&this.delete(r)}else new ah(this.id,this.length).integrate(r,0)}get next(){let r=this.right;for(;null!==r&&r.deleted;)r=r.right;return r}get prev(){let r=this.left;for(;null!==r&&r.deleted;)r=r.left;return r}get lastId(){return 1===this.length?this.id:Hr(this.id.client,this.id.clock+this.length-1)}mergeWith(r){if(this.constructor===r.constructor&&wE(r.origin,this.lastId)&&this.right===r&&wE(this.rightOrigin,r.rightOrigin)&&this.id.client===r.id.client&&this.id.clock+this.length===r.id.clock&&this.deleted===r.deleted&&null===this.redone&&null===r.redone&&this.content.constructor===r.content.constructor&&this.content.mergeWith(r.content)){const e=this.parent._searchMarker;return e&&e.forEach(s=>{s.p===r&&(s.p=this,!this.deleted&&this.countable&&(s.index-=this.length))}),r.keep&&(this.keep=!0),this.right=r.right,null!==this.right&&(this.right.left=this),this.length+=r.length,!0}return!1}delete(r){if(!this.deleted){const e=this.parent;this.countable&&null===this.parentSub&&(e._length-=this.length),this.markDeleted(),kA(r.deleteSet,this.id.client,this.id.clock,this.length),mK(r,e,this.parentSub),this.content.delete(r)}}gc(r,e){if(!this.deleted)throw ih();this.content.gc(r),e?((i,r,e)=>{const s=i.clients.get(r.id.client);s[hf(s,r.id.clock)]=e})(r,this,new ah(this.id,this.length)):this.content=new LA(this.length)}write(r,e){const s=e>0?Hr(this.id.client,this.id.clock+e-1):this.origin,o=this.rightOrigin,a=this.parentSub,D=31&this.content.getRef()|(null===s?0:Ku)|(null===o?0:64)|(null===a?0:32);if(r.writeInfo(D),null!==s&&r.writeLeftID(s),null!==o&&r.writeRightID(o),null===s&&null===o){const k=this.parent;if(void 0!==k._item){const N=k._item;if(null===N){const B=IA(k);r.writeParentInfo(!0),r.writeString(B)}else r.writeParentInfo(!1),r.writeLeftID(N.id)}else k.constructor===String?(r.writeParentInfo(!0),r.writeString(k)):k.constructor===bE?(r.writeParentInfo(!1),r.writeLeftID(k)):ih();null!==a&&r.writeString(a)}this.content.write(r,e)}}const UK=(i,r)=>Xve[31&r](i),Xve=[()=>{ih()},i=>new LA(i.readLen()),i=>{const r=i.readLen(),e=[];for(let s=0;s<r;s++){const o=i.readString();e.push("undefined"===o?void 0:JSON.parse(o))}return new $6(e)},i=>new FA(i.readBuf()),i=>new Qa(i.readString()),i=>new ou(i.readJSON()),i=>new Ra(i.readString(),i.readJSON()),i=>new sw(qve[i.readTypeRef()](i)),i=>{const r=i.readLen(),e=[];for(let s=0;s<r;s++)e.push(i.readAny());return new iw(e)},i=>new BA(new Q1(cw({guid:i.readString()},i.readAny()))),()=>{ih()}];class Ju extends tB{get deleted(){return!0}delete(){}mergeWith(r){return this.constructor===r.constructor&&(this.length+=r.length,!0)}integrate(r,e){ih()}write(r,e){r.writeInfo(10),vr(r.restEncoder,this.length-e)}getMissing(r,e){return null}}const VA=i=>new Promise(i),iB=i=>Promise.resolve(i),Zg=i=>VA((r,e)=>{i.onerror=s=>e(new Error(s.target.error)),i.onblocked=()=>location.reload(),i.onsuccess=s=>r(s.target.result)}),zA=(i,r,e="readwrite")=>{const s=i.transaction(r,e);return r.map(o=>uye(s,o))},GK=(i,r)=>Zg(i.count(r)),qK=(i,r)=>Zg(i.delete(r)),sB=(i,r)=>Zg(i.add(r)),cye=(i,r,e,s="next")=>((i,r)=>VA((e,s)=>{i.onerror=s,i.onsuccess=o=>{const a=o.target.result;if(null===a||!1===r(a))return e();a.continue()}}))(i.openKeyCursor(r,s),o=>e(o.key)),uye=(i,r)=>i.objectStore(r),oB=()=>{let i=!0;return(r,e)=>{if(i){i=!1;try{r()}finally{i=!0}}else void 0!==e&&e()}},aB="custom",$K="updates",ZK=i=>{const[r]=zA(i.db,[$K]);return((i,r)=>Zg(i.getAll(r)))(r,((i,r)=>IDBKeyRange.lowerBound(i,!1))(i._dbref)).then(e=>i._mux(()=>i.doc.transact(()=>e.forEach(s=>zL(i.doc,s))))).then(()=>(i=>((i,r,e)=>{let s=null;return cye(i,r,o=>(s=o,!1),e).then(()=>s)})(i,null,"prev"))(r).then(e=>{i._dbref=e+1})).then(()=>GK(r).then(e=>{i._dbsize=e})).then(()=>r)};class pye extends fE{constructor(r,e){super(),this.doc=e,this.name=r,this._mux=oB(),this._dbref=0,this._dbsize=0,this.db=null,this.synced=!1,this._db=((i,r)=>VA((e,s)=>{const o=indexedDB.open(i);o.onupgradeneeded=a=>(s=>((i,r)=>[["updates",{autoIncrement:!0}],["custom"]].forEach(e=>i.createObjectStore.apply(i,e)))(s))(a.target.result),o.onerror=a=>s(Z1(a.target.error)),o.onblocked=()=>location.reload(),o.onsuccess=a=>{const D=a.target.result;D.onversionchange=()=>{D.close()},"undefined"!=typeof addEventListener&&addEventListener("unload",()=>D.close()),e(D)}}))(r),this.whenSynced=this._db.then(s=>{this.db=s;const o=HL(e);return ZK(this).then(a=>sB(a,o)).then(()=>(this.emit("synced",[this]),this.synced=!0,this))}),this._storeTimeout=1e3,this._storeTimeoutId=null,this._storeUpdate=s=>this._mux(()=>{if(this.db){const[o]=zA(this.db,[$K]);sB(o,s),++this._dbsize>=500&&(null!==this._storeTimeoutId&&clearTimeout(this._storeTimeoutId),this._storeTimeoutId=setTimeout(()=>{((i,r=!0)=>{ZK(i).then(e=>{(r||i._dbsize>=500)&&sB(e,HL(i.doc)).then(()=>qK(e,((i,r)=>IDBKeyRange.upperBound(i,!0))(i._dbref))).then(()=>GK(e).then(s=>{i._dbsize=s}))})})(this,!1),this._storeTimeoutId=null},this._storeTimeout))}}),e.on("update",this._storeUpdate),this.destroy=this.destroy.bind(this),e.on("destroy",this.destroy)}destroy(){return this._storeTimeoutId&&clearTimeout(this._storeTimeoutId),this.doc.off("update",this._storeUpdate),this.doc.off("destroy",this.destroy),this._db.then(r=>{r.close()})}clearData(){return this.destroy().then(()=>{(i=>{Zg(indexedDB.deleteDatabase(this.name))})()})}get(r){return this._db.then(e=>{const[s]=zA(e,[aB],"readonly");return((i,r)=>Zg(i.get(r)))(s,r)})}set(r,e){return this._db.then(s=>{const[o]=zA(s,[aB]);return((i,r,e)=>Zg(i.put(r,e)))(o,e,r)})}del(r){return this._db.then(e=>{const[s]=zA(e,[aB]);return qK(s,r)})}}class JK extends fE{constructor(r){super(),this.doc=r,this.clientID=r.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{const e=jp();null!==this.getLocalState()&&15e3<=e-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const s=[];this.meta.forEach((o,a)=>{a!==this.clientID&&3e4<=e-o.lastUpdated&&this.states.has(a)&&s.push(a)}),s.length>0&&cB(this,s,"timeout")},Y1(3e3)),r.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(r){const e=this.clientID,s=this.meta.get(e),o=void 0===s?0:s.clock+1,a=this.states.get(e);null===r?this.states.delete(e):this.states.set(e,r),this.meta.set(e,{clock:o,lastUpdated:jp()});const D=[],k=[],N=[],B=[];null===r?B.push(e):null==a?null!=r&&D.push(e):(k.push(e),MA(a,r)||N.push(e)),(D.length>0||N.length>0||B.length>0)&&this.emit("change",[{added:D,updated:N,removed:B},"local"]),this.emit("update",[{added:D,updated:k,removed:B},"local"])}setLocalStateField(r,e){const s=this.getLocalState();null!==s&&this.setLocalState($Z(cw({},s),{[r]:e}))}getStates(){return this.states}}const cB=(i,r,e)=>{const s=[];for(let o=0;o<r.length;o++){const a=r[o];if(i.states.has(a)){if(i.states.delete(a),a===i.clientID){const D=i.meta.get(a);i.meta.set(a,{clock:D.clock+1,lastUpdated:jp()})}s.push(a)}}s.length>0&&(i.emit("change",[{added:[],updated:[],removed:s},e]),i.emit("update",[{added:[],updated:[],removed:s},e]))},Z6=(i,r,e=i.states)=>{const s=r.length,o=Ja();vr(o,s);for(let a=0;a<s;a++){const D=r[a],k=e.get(D)||null,N=i.meta.get(D).clock;vr(o,D),vr(o,N),Gp(o,JSON.stringify(k))}return Ps(o)};class _ye{call(r,e){return e.subscribe(new vye(r))}}class vye extends RU{constructor(r){super(r),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(r){this.observables.push(r)}_complete(){const r=this.observables,e=r.length;if(0===e)this.destination.complete();else{for(let s=0;s<e&&!this.hasFirst;s++){const a=OU(this,r[s],void 0,s);this.subscriptions&&this.subscriptions.push(a),this.add(a)}this.observables=null}}notifyNext(r,e,s){if(!this.hasFirst){this.hasFirst=!0;for(let o=0;o<this.subscriptions.length;o++)if(o!==s){let a=this.subscriptions[o];a.unsubscribe(),this.remove(a)}this.subscriptions=null}this.destination.next(e)}}const J6=3e4,uB=i=>{if(i.shouldConnect&&null===i.ws){const r=new WebSocket(i.url),e=i.binaryType;let s=null;e&&(r.binaryType=e),i.ws=r,i.connecting=!0,i.connected=!1,r.onmessage=D=>{i.lastMessageReceived=jp();const k=D.data,N="string"==typeof k?JSON.parse(k):k;N&&"pong"===N.type&&(clearTimeout(s),s=setTimeout(a,J6/2)),i.emit("message",[N,i])};const o=D=>{null!==i.ws&&(i.ws=null,i.connecting=!1,i.connected?(i.connected=!1,i.emit("disconnect",[{type:"disconnect",error:D},i])):i.unsuccessfulReconnects++,setTimeout(uB,Mv(1200*Wge(i.unsuccessfulReconnects+1),2500),i)),clearTimeout(s)},a=()=>{i.ws===r&&i.send({type:"ping"})};r.onclose=()=>o(null),r.onerror=D=>o(D),r.onopen=()=>{i.lastMessageReceived=jp(),i.connecting=!1,i.connected=!0,i.unsuccessfulReconnects=0,i.emit("connect",[{type:"connect"},i]),s=setTimeout(a,J6/2)}}};class wye extends fE{constructor(r,{binaryType:e}={}){super(),this.url=r,this.ws=null,this.binaryType=e||null,this.connected=!1,this.connecting=!1,this.unsuccessfulReconnects=0,this.lastMessageReceived=0,this.shouldConnect=!0,this._checkInterval=setInterval(()=>{this.connected&&J6<jp()-this.lastMessageReceived&&this.ws.close()},J6/2),uB(this)}send(r){this.ws&&this.ws.send(JSON.stringify(r))}destroy(){clearInterval(this._checkInterval),this.disconnect(),super.destroy()}disconnect(){this.shouldConnect=!1,null!==this.ws&&this.ws.close()}connect(){this.shouldConnect=!0,!this.connected&&null===this.ws&&uB(this)}}const Cye=new Map,Mye="undefined"==typeof BroadcastChannel?class{constructor(r){this.room=r,this.onmessage=null,(i=>{w$||addEventListener("storage",i)})(e=>e.key===r&&null!==this.onmessage&&this.onmessage({data:E$(e.newValue||"")}))}postMessage(r){C$.setItem(this.room,M$((i=>new Uint8Array(i))(r)))}}:BroadcastChannel,dB=i=>$u(Cye,i,()=>{const r=new Set,e=new Mye(i);return e.onmessage=s=>r.forEach(o=>o(s.data)),{bc:e,subs:r}});var xye=$e(2222),kye=$e.n(xye);const XK=(i,r)=>{vr(i,0);const e=(i=>((i,r=new O6)=>(i instanceof Map?UL(r,i):((i,r)=>{UL(i,NA(r.store))})(r,i),r.toUint8Array()))(i,new vE))(r);jo(i,e)},eZ=(i,r,e)=>{vr(i,1),jo(i,HL(r,e))},tZ=(i,r,e)=>{try{zL(r,Dl(i),e)}catch(s){console.error("Caught error while handling a Yjs update",s)}},Rye=tZ,nZ=(i,r)=>{if(!r)return iB(i);const e=crypto.getRandomValues(new Uint8Array(12));return crypto.subtle.encrypt({name:"AES-GCM",iv:e},r,i).then(s=>{const o=Ja();return Gp(o,"AES-GCM"),jo(o,e),jo(o,new Uint8Array(s)),Ps(o)})},rZ=(i,r)=>{if(!r)return iB(i);const e=Zu(i);"AES-GCM"!==qp(e)&&(i=>{Promise.reject(i)})(Z1("Unknown encryption algorithm"));const o=Dl(e),a=Dl(e);return crypto.subtle.decrypt({name:"AES-GCM",iv:o},r,a).then(D=>new Uint8Array(D))},ff=(i=>{const r=W$[NL],e=CL("log"),s=null!==e&&("*"===e||"true"===e||new RegExp(e,"gi").test(i));return NL=(NL+1)%W$.length,i+=": ",s?(...o)=>{const a=jp(),D=a-$$;$$=a,G$(r,i,DA,...o.map(k=>"string"==typeof k||"symbol"==typeof k?k:JSON.stringify(k)),r," +"+D+"ms")}:E_e})("y-webrtc"),Q6=new Map,ow=new Map,sZ=i=>{let r=!0;i.webrtcConns.forEach(e=>{e.synced||(r=!1)}),(!r&&i.synced||r&&!i.synced)&&(i.synced=r,i.provider.emit("synced",[{synced:r}]),ff("synced ",ru,i.name,Ev," with all peers"))},oZ=(i,r,e)=>{const s=Zu(r),o=Ja(),a=Lr(s);if(void 0===i)return null;const D=i.awareness,k=i.doc;let N=!1;switch(a){case 0:{vr(o,0);const B=((i,r,e,s)=>{const o=Lr(i);switch(o){case 0:((i,r,e)=>{eZ(r,e,Dl(i))})(i,r,e);break;case 1:tZ(i,e,s);break;case 2:Rye(i,e,s);break;default:throw new Error("Unknown message type")}return o})(s,o,k,i);1===B&&!i.synced&&e(),0===B&&(N=!0);break}case 3:vr(o,1),jo(o,Z6(D,Array.from(D.getStates().keys()))),N=!0;break;case 1:((i,r,e)=>{const s=Zu(r),o=jp(),a=[],D=[],k=[],N=[],B=Lr(s);for(let G=0;G<B;G++){const $=Lr(s);let re=Lr(s);const oe=JSON.parse(qp(s)),_e=i.meta.get($),ze=i.states.get($),mt=void 0===_e?0:_e.clock;(mt<re||mt===re&&null===oe&&i.states.has($))&&(null===oe?$===i.clientID&&null!=i.getLocalState()?re++:i.states.delete($):i.states.set($,oe),i.meta.set($,{clock:re,lastUpdated:o}),void 0===_e&&null!==oe?a.push($):void 0!==_e&&null===oe?N.push($):null!==oe&&(MA(oe,ze)||k.push($),D.push($)))}(a.length>0||k.length>0||N.length>0)&&i.emit("change",[{added:a,updated:k,removed:N},e]),(a.length>0||D.length>0||N.length>0)&&i.emit("update",[{added:a,updated:D,removed:N},e])})(D,Dl(s),i);break;case 4:{const B=1===$1(s),G=qp(s);if(G!==i.peerId&&(i.bcConns.has(G)&&!B||!i.bcConns.has(G)&&B)){const $=[],re=[];B?(i.bcConns.add(G),re.push(G)):(i.bcConns.delete(G),$.push(G)),i.provider.emit("peers",[{added:re,removed:$,webrtcPeers:Array.from(i.webrtcConns.keys()),bcPeers:Array.from(i.bcConns)}]),cZ(i)}break}default:return console.error("Unable to compute message"),o}return N?o:null},mB=(i,r)=>{ff("send message to ",ru,i.remotePeerId,Ev,k6," (",i.room.name,")",DA);try{i.peer.send(Ps(r))}catch(e){}};class aZ{constructor(r,e,s,o){ff("establishing connection to ",ru,s),this.room=o,this.remotePeerId=s,this.closed=!1,this.connected=!1,this.synced=!1,this.peer=new(kye())(cw({initiator:e},o.provider.peerOpts)),this.peer.on("signal",a=>{_B(r,o,{to:s,from:o.peerId,type:"signal",signal:a})}),this.peer.on("connect",()=>{ff("connected to ",ru,s),this.connected=!0,o.provider.emit("connected",[]);const D=o.provider.doc,k=o.awareness,N=Ja();vr(N,0),XK(N,D),mB(this,N);const B=k.getStates();if(B.size>0){const G=Ja();vr(G,1),jo(G,Z6(k,Array.from(B.keys()))),mB(this,G)}}),this.peer.on("close",()=>{this.connected=!1,this.closed=!0,o.webrtcConns.has(this.remotePeerId)&&(o.webrtcConns.delete(this.remotePeerId),o.provider.emit("peers",[{removed:[this.remotePeerId],added:[],webrtcPeers:Array.from(o.webrtcConns.keys()),bcPeers:Array.from(o.bcConns)}])),sZ(o),this.peer.destroy(),ff("closed connection to ",ru,s),gB(o)}),this.peer.on("error",a=>{ff("Error in connection to ",ru,s,": ",a),gB(o)}),this.peer.on("data",a=>{const D=((i,r)=>{const e=i.room;return ff("received message from ",ru,i.remotePeerId,k6," (",e.name,")",Ev,DA),oZ(e,r,()=>{i.synced=!0,ff("synced ",ru,e.name,Ev," with ",ru,i.remotePeerId),sZ(e)})})(this,a);null!==D&&mB(this,D)})}destroy(){this.peer.destroy()}}const Av=(i,r)=>nZ(r,i.key).then(e=>i.mux(()=>((i,r)=>{const e=dB(i);e.bc.postMessage(r),e.subs.forEach(s=>s(r))})(i.name,e))),lZ=(i,r)=>{i.bcconnected&&Av(i,r),((i,r)=>{ff("broadcast message in ",ru,i.name,Ev),i.webrtcConns.forEach(e=>{try{e.peer.send(r)}catch(s){}})})(i,r)},gB=i=>{Q6.forEach(r=>{r.connected&&(r.send({type:"subscribe",topics:[i.name]}),i.webrtcConns.size<i.provider.maxConns&&_B(r,i,{type:"announce",from:i.peerId}))})},cZ=i=>{if(i.provider.filterBcConns){const r=Ja();vr(r,4),wA(r,1),Gp(r,i.peerId),Av(i,Ps(r))}};class Vye{constructor(r,e,s,o){this.peerId=_A(),this.doc=r,this.awareness=e.awareness,this.provider=e,this.synced=!1,this.name=s,this.key=o,this.webrtcConns=new Map,this.bcConns=new Set,this.mux=oB(),this.bcconnected=!1,this._bcSubscriber=a=>rZ(new Uint8Array(a),o).then(D=>this.mux(()=>{const k=oZ(this,D,()=>{});k&&Av(this,Ps(k))})),this._docUpdateHandler=(a,D)=>{const k=Ja();vr(k,0),((i,r)=>{vr(i,2),jo(i,r)})(k,a),lZ(this,Ps(k)),this!==D&&this.provider.emit("onChange",[a])},this._awarenessUpdateHandler=({added:a,updated:D,removed:k},N)=>{const B=a.concat(D).concat(k),G=Ja();vr(G,1),jo(G,Z6(this.awareness,B)),lZ(this,Ps(G))},this.doc.on("update",this._docUpdateHandler),this.awareness.on("update",this._awarenessUpdateHandler),window.addEventListener("beforeunload",()=>{cB(this.awareness,[r.clientID],"window unload"),ow.forEach(a=>{a.disconnect()})})}connect(){gB(this),((i,r)=>{dB(this.name).subs.add(r)})(0,this._bcSubscriber),this.bcconnected=!0,cZ(this);const e=Ja();vr(e,0),XK(e,this.doc),Av(this,Ps(e));const s=Ja();vr(s,0),eZ(s,this.doc),Av(this,Ps(s));const o=Ja();vr(o,3),Av(this,Ps(o));const a=Ja();vr(a,1),jo(a,Z6(this.awareness,[this.doc.clientID])),Av(this,Ps(a))}disconnect(){Q6.forEach(e=>{e.connected&&e.send({type:"unsubscribe",topics:[this.name]})}),cB(this.awareness,[this.doc.clientID],"disconnect");const r=Ja();vr(r,4),wA(r,0),Gp(r,this.peerId),Av(this,Ps(r)),((i,r)=>{dB(this.name).subs.delete(r)})(0,this._bcSubscriber),this.bcconnected=!1,this.doc.off("update",this._docUpdateHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.webrtcConns.forEach(e=>e.destroy())}destroy(){this.disconnect()}}const _B=(i,r,e)=>{r.key?((i,r)=>{const e=Ja();return mE(e,i),nZ(Ps(e),r)})(e,r.key).then(s=>{i.send({type:"publish",topic:r.name,data:M$(s)})}):(i.send({type:"publish",topic:r.name,data:e}),i.providers.values().next())};class Hye extends wye{constructor(r){super(r),this.providers=new Set,this.on("connect",()=>{ff(`connected (${r})`);const e=Array.from(ow.keys());this.send({type:"subscribe",topics:e}),ow.forEach(s=>{_B(this,s,{type:"announce",from:s.peerId}),s.provider.emit("signalingConnected",[])})}),this.on("message",e=>{switch(e.type){case"publish":{const s=e.topic,o=ow.get(s);if(null==o||"string"!=typeof s)return;const a=D=>{const k=o.webrtcConns,N=o.peerId;if(null==D||D.from===N||void 0!==D.to&&D.to!==N||o.bcConns.has(D.from))return;const B=k.has(D.from)?()=>{}:()=>o.provider.emit("peers",[{removed:[],added:[D.from],webrtcPeers:Array.from(o.webrtcConns.keys()),bcPeers:Array.from(o.bcConns)}]);switch(D.type){case"announce":k.size<o.provider.maxConns&&($u(k,D.from,()=>new aZ(this,!0,D.from,o)),B());break;case"signal":D.to===N&&($u(k,D.from,()=>new aZ(this,!1,D.from,o)).peer.signal(D.signal),B())}};o.key?"string"==typeof e.data&&((i,r)=>rZ(i,r).then(e=>gE(Zu(new Uint8Array(e)))))(E$(e.data),o.key).then(a):a(e.data)}}}),this.on("disconnect",()=>ff(`disconnect (${r})`))}}class Uye extends fE{constructor(r,e,{signaling:s=["wss://signaling.yjs.dev","wss://y-webrtc-signaling-eu.herokuapp.com","wss://y-webrtc-signaling-us.herokuapp.com"],password:o=null,awareness:a=new JK(e),maxConns:D=20+Y1(15*_L()),filterBcConns:k=!0,peerOpts:N={}}={}){super(),this.roomName=r,this.doc=e,this.filterBcConns=k,this.awareness=a,this.shouldConnect=!1,this.signalingUrls=s,this.signalingConns=[],this.maxConns=D,this.peerOpts=N,this.key=o?((i,r)=>{const e=v$(i).buffer,s=v$(r).buffer;return crypto.subtle.importKey("raw",e,"PBKDF2",!1,["deriveKey"]).then(o=>crypto.subtle.deriveKey({name:"PBKDF2",salt:s,iterations:1e5,hash:"SHA-256"},o,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]))})(o,r):iB(null),this.room=null,this.key.then(B=>{this.room=((i,r,e,s)=>{if(ow.has(e))throw Z1(`A Yjs Doc connected to room "${e}" already exists!`);const o=new Vye(i,r,e,s);return ow.set(e,o),o})(e,this,r,B),this.shouldConnect?this.room.connect():this.room.disconnect()}),this.connect(),this.destroy=this.destroy.bind(this),e.on("destroy",this.destroy)}get connected(){return null!==this.room&&this.shouldConnect}connect(){this.shouldConnect=!0,this.signalingUrls.forEach(r=>{const e=$u(Q6,r,()=>new Hye(r));this.signalingConns.push(e),e.providers.add(this)}),this.room&&this.room.connect()}disconnect(){this.shouldConnect=!1,this.signalingConns.forEach(r=>{r.providers.delete(this),0===r.providers.size&&(r.destroy(),Q6.delete(r.url))}),this.room&&this.room.disconnect()}destroy(){this.doc.off("destroy",this.destroy),this.key.then(()=>{this.room.destroy(),ow.delete(this.roomName)}),super.destroy()}}let X6=(()=>{class i{constructor(e){this.http=e,this.ydocStateObservable=new ln.xQ,this.ydoc=new Q1,this.roomName="webrtc-test3",this.providerIndexedDb=new pye(this.roomName,this.ydoc)}getCommentsMap(){return this.comments}getMetaDataMap(){return this.editorMetadata}getData(){var e,s;let o=null===(e=this.editorMetadata)||void 0===e?void 0:e.get("TREE_DATA");return null==o&&(o=[{name:"Article metadata",children:[{name:"Title",active:!0},{name:"Abstract & Keywords",active:!1},{name:"Classifications",active:!1},{name:"Funder",active:!1}]},{name:"Introduction",active:!0},{name:"General description",active:!1},{name:"Project description",active:!1},{name:"Sampling methods",active:!1},{name:"Geographic coverage",active:!0},{name:"Taxonomic coverage",active:!1},{name:"Traits coverage",active:!1},{name:"Temporal coverage",active:!0},{name:"Collection data",active:!1},{name:"Usage rights",active:!1},{name:"Data resources",active:!1},{name:"Additional information",active:!1},{name:"Acknowledgements",active:!1},{name:"Author contributions",active:!1}],null===(s=this.editorMetadata)||void 0===s||s.set("TREE_DATA",o)),{ydoc:this.ydoc,provider:this.provider,providerIndexedDb:this.providerIndexedDb,TREE_DATA:o}}buildEditor(){this.editorMetadata=this.ydoc.getMap("editorMetadata"),this.comments=this.ydoc.getMap("comments"),this.ydocStateObservable.next("docIsBuild")}init(e){console.log(e),this.roomName=e;let s=()=>{var a;this.provider=new Uye(this.roomName,this.ydoc,{signaling:["wss://y-webrtc-signaling-eu.herokuapp.com"],password:null,awareness:new JK(this.ydoc),maxConns:20+Math.floor(15*_L()),filterBcConns:!1,peerOpts:{}}),null===(a=this.provider)||void 0===a||a.on("onChange",k=>{let N=new ba({fromObject:{document:k}}),B={headers:new Ss({"Content-Type":"application/x-www-form-urlencoded"})};D(N.toString()),this.http.post("/products",N,B).subscribe(()=>{})});let D=k=>{var N,B;navigator.onLine||null===(B=null===(N=null==navigator?void 0:navigator.serviceWorker)||void 0===N?void 0:N.controller)||void 0===B||B.postMessage({update:k})};navigator.onLine?vl(this.provider,"signalingConnected").subscribe(()=>{(function(...i){if(1===i.length){if(!(0,ok.k)(i[0]))return i[0];i=i[0]}return(0,NU.n)(i,void 0).lift(new _ye)})(this.http.get("/products").pipe(lk(500),Bg(B=>{throw console.log("ERROR",B),console.log("Editor build with local document"),this.buildEditor(),B})),vl(this.provider,"synced")).subscribe(B=>{var G,$;let re=null===($=null===(G=this.provider)||void 0===G?void 0:G.room)||void 0===$?void 0:$.synced;console.log(re),B.synced?this.buildEditor():o(B)})}):this.buildEditor()};this.providerIndexedDb.synced?s():this.providerIndexedDb.on("synced",()=>{s()});let o=a=>{try{a.map(N=>"string"==typeof N.document?Uint8Array.from(N.document.split(",")):null).filter(N=>N).forEach(N=>{zL(this.ydoc,N)}),console.log("ready")}catch(k){console.log("ERROR:",k),console.log("The editor was loaded with local document")}this.buildEditor()}}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(Nf))},i.\u0275prov=C.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Gye=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=C.Xpm({type:i,selectors:[["app-editor-menu"]],decls:1,vars:0,consts:[[1,"menu-container"]],template:function(e,s){1&e&&C._UZ(0,"div",0)},styles:['.ProseMirror-menu{margin:0 -4px;line-height:1}  .ProseMirror-tooltip .ProseMirror-menu{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;white-space:pre}  .ProseMirror-menuitem{margin-right:3px;display:inline-block}  .ProseMirror-menuseparator{border-right:1px solid #ddd;margin-right:3px}  .ProseMirror-menu-dropdown,   .ProseMirror-menu-dropdown-menu{font-size:90%;white-space:nowrap}  .ProseMirror-menu-dropdown{vertical-align:1px;cursor:pointer;position:relative;padding-right:15px}  .ProseMirror-menu-dropdown-wrap{padding:1px 0 1px 4px;display:inline-block;position:relative}  .ProseMirror-menu-dropdown:after{content:"";border-left:4px solid transparent;border-right:4px solid transparent;border-top:4px solid currentColor;opacity:.6;position:absolute;right:4px;top:calc(50% - 2px)}  .ProseMirror-menu-dropdown-menu,   .ProseMirror-menu-submenu{position:absolute;background:white;color:#666;border:1px solid #aaa;padding:2px}  .ProseMirror-menu-dropdown-menu{z-index:15;min-width:6em}  .ProseMirror-menu-dropdown-item{cursor:pointer;padding:2px 8px 2px 4px}  .ProseMirror-menu-dropdown-item:hover{background:#f2f2f2}  .ProseMirror-menu-submenu-wrap{position:relative;margin-right:-4px}  .ProseMirror-menu-submenu-label:after{content:"";border-top:4px solid transparent;border-bottom:4px solid transparent;border-left:4px solid currentColor;opacity:.6;position:absolute;right:4px;top:calc(50% - 4px)}  .ProseMirror-menu-submenu{display:none;min-width:4em;left:100%;top:-3px}  .ProseMirror-menu-active{background:#eee;border-radius:4px}  .ProseMirror-menu-disabled{opacity:.3}  .ProseMirror-menu-submenu-wrap:hover .ProseMirror-menu-submenu,   .ProseMirror-menu-submenu-wrap-active .ProseMirror-menu-submenu{display:block}  .ProseMirror-menubar{border-top-left-radius:inherit;border-top-right-radius:inherit;position:relative;min-height:1em;color:#666;padding:10px 6px;top:0;min-height:65px;left:0;right:0;background:white;z-index:10;box-sizing:border-box;overflow:visible}  .ProseMirror-icon{display:inline-block;line-height:.8;vertical-align:-2px;padding:2px 8px;cursor:pointer}  .ProseMirror-menu-disabled.ProseMirror-icon{cursor:default}  .ProseMirror-icon svg{fill:currentColor;height:1em}  .ProseMirror-textblock-dropdown{min-width:3em}  .ProseMirror-icon span{vertical-align:text-top}  .ProseMirror-gapcursor{display:none;pointer-events:none;position:absolute}.menu-container[_ngcontent-%COMP%]{color:#666;background:white;overflow:visible;min-height:65px;text-align:center;position:relative;display:inline-flex;width:55%;margin-left:20%}']}),i})();function qye(i,r){if(1&i&&(C.TgZ(0,"mat-nested-tree-node"),C.TgZ(1,"li",4),C.TgZ(2,"div",5),C._uU(3),C.qZA(),C.qZA(),C.qZA()),2&i){const e=r.$implicit;C.xp6(3),C.Oqu(e.name)}}function jye(i,r){1&i&&(C.TgZ(0,"div"),C.GkF(1,10),C.qZA())}function Yye(i,r){if(1&i&&(C.TgZ(0,"mat-nested-tree-node"),C.TgZ(1,"li",6),C.TgZ(2,"div",5),C.TgZ(3,"button",7),C.TgZ(4,"mat-icon"),C._uU(5),C.qZA(),C.qZA(),C._uU(6),C.qZA(),C.TgZ(7,"ul",8),C.YNc(8,jye,2,0,"div",9),C.qZA(),C.qZA(),C.qZA()),2&i){const e=r.$implicit,s=C.oxw(2);C.xp6(3),C.uIk("aria-label","toggle "+e.filename),C.xp6(2),C.hij(" ",s.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),C.xp6(1),C.hij(" ",e.name," "),C.xp6(2),C.Q6J("ngIf",s.treeControl.isExpanded(e))}}function Wye(i,r){if(1&i&&(C.TgZ(0,"mat-tree",1),C.YNc(1,qye,4,1,"mat-nested-tree-node",2),C.YNc(2,Yye,9,4,"mat-nested-tree-node",3),C.qZA()),2&i){const e=C.oxw();C.Q6J("dataSource",e.dataSource)("treeControl",e.treeControl)("trackBy",e.tracker),C.xp6(2),C.Q6J("matTreeNodeDefWhen",e.hasChild)}}let $ye=(()=>{class i{constructor(e,s){this.ydocService=e,this.changedetectREf=s,this.hasChild=(o,a)=>!!a.children&&a.children.length>0,this.tracker=()=>{},this.flatSectionData=[],this.flatA=o=>{o.forEach(a=>{a.children?this.flatA(a.children):this.flatSectionData.push(a.name)})},this.treeControl=new H8(o=>o.children),this.dataSource=new FR(this.TREE_DATA)}ngOnInit(){this.metadataMap=this.ydocService.getMetaDataMap(),this.TREE_DATA=this.metadataMap.get("TREE_DATA"),console.log(this.TREE_DATA),this.treeControl=new H8(e=>e.children),this.dataSource=new FR(this.TREE_DATA)}addSection(e){let s;this.flatSectionData.forEach((o,a)=>{o==e&&(s=a)})}deleteSection(e){let s;this.flatSectionData.forEach((o,a)=>{o==e&&(s=a)})}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(X6),C.Y36(C.sBO))},i.\u0275cmp=C.Xpm({type:i,selectors:[["app-meta-data-tree"]],decls:1,vars:1,consts:[[3,"dataSource","treeControl","trackBy",4,"ngIf"],[3,"dataSource","treeControl","trackBy"],[4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],[1,"leaf-tree-node"],[1,"mat-tree-node"],[1,"tree-container"],["mat-icon-button","","matTreeNodeToggle",""],[1,"tree-nested-node"],[4,"ngIf"],["matTreeNodeOutlet",""]],template:function(e,s){1&e&&C.YNc(0,Wye,3,4,"mat-tree",0),2&e&&C.Q6J("ngIf",void 0!==s.TREE_DATA)},directives:[Ii,$q,Yq,Wq,sf,Kq,$M,IO],styles:["mat-tree[_ngcontent-%COMP%]{background:var(--color-f9fafc)}.tree-node[_ngcontent-%COMP%]{display:block}.tree-node[_ngcontent-%COMP%]   .leaf-tree-node[_ngcontent-%COMP%]{margin-left:48px}.mat-tree-node[_ngcontent-%COMP%]{background:var(--color-f9fafc);padding:0 0 0 5px}.mat-nested-tree-node[_ngcontent-%COMP%]{top:-24px}ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}li.tree-container[_ngcontent-%COMP%]{border-bottom:0}.leaf-tree-node[_ngcontent-%COMP%]{padding-left:41px}ul[_ngcontent-%COMP%]   .leaf-tree-node[_ngcontent-%COMP%]{margin-left:50px;padding-left:12px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border:1px solid;border-color:var(--color-00b1b2);border-width:0 0 1px 1px;position:relative;top:-10px;height:30px}ul[_ngcontent-%COMP%]   li.mat-tree-node[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:0;position:relative;top:7px}"]}),i})(),Kye=[{username:"Alice",color:"#ecd444",lightColor:"#ecd44433"},{username:"Bob",color:"#ee6352",lightColor:"#ee635233"},{username:"Rado",color:"#b8ffb0",lightColor:"#c8ffc2"},{username:"Max",color:"#6eeb83",lightColor:"#6eeb8333"}],uZ=[{light:"#ecd44433",dark:"#ecd444"},{light:"#ee635233",dark:"#ee6352"},{light:"#6eeb8333",dark:"#6eeb83"}];function Zye(i){return void 0===i&&(i={}),new sn.Sy({view:function(e){return new $p(e,i)}})}var $p=function(r,e){var s=this;this.editorView=r,this.width=e.width||1,this.color=e.color||"black",this.class=e.class,this.cursorPos=null,this.element=null,this.timeout=null,this.handlers=["dragover","dragend","drop","dragleave"].map(function(o){var a=function(D){return s[o](D)};return r.dom.addEventListener(o,a),{name:o,handler:a}})};$p.prototype.destroy=function(){var r=this;this.handlers.forEach(function(e){return r.editorView.dom.removeEventListener(e.name,e.handler)})},$p.prototype.update=function(r,e){null!=this.cursorPos&&e.doc!=r.state.doc&&(this.cursorPos>r.state.doc.content.size?this.setCursor(null):this.updateOverlay())},$p.prototype.setCursor=function(r){r!=this.cursorPos&&(this.cursorPos=r,null==r?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())},$p.prototype.updateOverlay=function(){var e,r=this.editorView.state.doc.resolve(this.cursorPos);if(!r.parent.inlineContent){var s=r.nodeBefore,o=r.nodeAfter;if(s||o){var a=this.editorView.nodeDOM(this.cursorPos-(s?s.nodeSize:0)).getBoundingClientRect(),D=s?a.bottom:a.top;s&&o&&(D=(D+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),e={left:a.left,right:a.right,top:D-this.width/2,bottom:D+this.width/2}}}if(!e){var k=this.editorView.coordsAtPos(this.cursorPos);e={left:k.left-this.width/2,right:k.left+this.width/2,top:k.top,bottom:k.bottom}}var B,G,N=this.editorView.dom.offsetParent;if(this.element||(this.element=N.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),!N||N==document.body&&"static"==getComputedStyle(N).position)B=-pageXOffset,G=-pageYOffset;else{var $=N.getBoundingClientRect();B=$.left-N.scrollLeft,G=$.top-N.scrollTop}this.element.style.left=e.left-B+"px",this.element.style.top=e.top-G+"px",this.element.style.width=e.right-e.left+"px",this.element.style.height=e.bottom-e.top+"px"},$p.prototype.scheduleRemoval=function(r){var e=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){return e.setCursor(null)},r)},$p.prototype.dragover=function(r){if(this.editorView.editable){var e=this.editorView.posAtCoords({left:r.clientX,top:r.clientY});if(e){var s=e.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&null==(s=(0,_r.dropPoint)(this.editorView.state.doc,s,this.editorView.dragging.slice)))return this.setCursor(null);this.setCursor(s),this.scheduleRemoval(5e3)}}},$p.prototype.dragend=function(){this.scheduleRemoval(20)},$p.prototype.drop=function(){this.scheduleRemoval(20)},$p.prototype.dragleave=function(r){(r.target==this.editorView.dom||!this.editorView.dom.contains(r.relatedTarget))&&this.setCursor(null)};var pf=function(i){function r(e){i.call(this,e,e)}return i&&(r.__proto__=i),(r.prototype=Object.create(i&&i.prototype)).constructor=r,r.prototype.map=function(s,o){var a=s.resolve(o.map(this.head));return r.valid(a)?new r(a):i.near(a)},r.prototype.content=function(){return Rn.p2.empty},r.prototype.eq=function(s){return s instanceof r&&s.head==this.head},r.prototype.toJSON=function(){return{type:"gapcursor",pos:this.head}},r.fromJSON=function(s,o){if("number"!=typeof o.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new r(s.resolve(o.pos))},r.prototype.getBookmark=function(){return new e5(this.anchor)},r.valid=function(s){var o=s.parent;if(o.isTextblock||!function(i){for(var r=i.depth;r>=0;r--){var e=i.index(r);if(0!=e)for(var s=i.node(r).child(e-1);;s=s.lastChild){if(0==s.childCount&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}(s)||!function(i){for(var r=i.depth;r>=0;r--){var e=i.indexAfter(r),s=i.node(r);if(e!=s.childCount)for(var o=s.child(e);;o=o.firstChild){if(0==o.childCount&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}(s))return!1;var a=o.type.spec.allowGapCursor;if(null!=a)return a;var D=o.contentMatchAt(s.index()).defaultType;return D&&D.isTextblock},r.findFrom=function(s,o,a){e:for(;;){if(!a&&r.valid(s))return s;for(var D=s.pos,k=null,N=s.depth;;N--){var B=s.node(N);if(o>0?s.indexAfter(N)<B.childCount:s.index(N)>0){k=B.child(o>0?s.indexAfter(N):s.index(N)-1);break}if(0==N)return null;var G=s.doc.resolve(D+=o);if(r.valid(G))return G}for(;;){var $=o>0?k.firstChild:k.lastChild;if(!$){if(k.isAtom&&!k.isText&&!sn.qv.isSelectable(k)){s=s.doc.resolve(D+k.nodeSize*o),a=!1;continue e}break}k=$;var re=s.doc.resolve(D+=o);if(r.valid(re))return re}return null}},r}(sn.Y1);pf.prototype.visible=!1,sn.Y1.jsonID("gapcursor",pf);var e5=function(r){this.pos=r};e5.prototype.map=function(r){return new e5(r.map(this.pos))},e5.prototype.resolve=function(r){var e=r.resolve(this.pos);return pf.valid(e)?new pf(e):sn.Y1.near(e)};var ebe=xF({ArrowLeft:t5("horiz",-1),ArrowRight:t5("horiz",1),ArrowUp:t5("vert",-1),ArrowDown:t5("vert",1)});function t5(i,r){var e="vert"==i?r>0?"down":"up":r>0?"right":"left";return function(s,o,a){var D=s.selection,k=r>0?D.$to:D.$from,N=D.empty;if(D instanceof sn.Bs){if(!a.endOfTextblock(e)||0==k.depth)return!1;N=!1,k=s.doc.resolve(r>0?k.after():k.before())}var B=pf.findFrom(k,r,N);return!!B&&(o&&o(s.tr.setSelection(new pf(B))),!0)}}function tbe(i,r,e){if(!i.editable)return!1;var s=i.state.doc.resolve(r);if(!pf.valid(s))return!1;var a=i.posAtCoords({left:e.clientX,top:e.clientY}).inside;return!(a>-1&&sn.qv.isSelectable(i.state.doc.nodeAt(a))||(i.dispatch(i.state.tr.setSelection(new pf(s))),0))}function nbe(i){if(!(i.selection instanceof pf))return null;var r=document.createElement("div");return r.className="ProseMirror-gapcursor",Hi.create(i.doc,[ho.widget(i.selection.head,r,{key:"gapcursor"})])}const UA="http://www.w3.org/2000/svg",vB="ProseMirror-icon";const au="ProseMirror-menu";class aw{constructor(r){this.spec=r}render(r){let e=this.spec,s=e.render?e.render(r):e.icon?function(i){let r=document.createElement("div");if(r.className=vB,i.path){let e="pm-icon-"+function(i){let r=0;for(let e=0;e<i.length;e++)r=(r<<5)-r+i.charCodeAt(e)|0;return r}(i.path).toString(16);document.getElementById(e)||function(i,r){let e=document.getElementById(vB+"-collection");e||(e=document.createElementNS(UA,"svg"),e.id=vB+"-collection",e.style.display="none",document.body.insertBefore(e,document.body.firstChild));let s=document.createElementNS(UA,"symbol");s.id=i,s.setAttribute("viewBox","0 0 "+r.width+" "+r.height),s.appendChild(document.createElementNS(UA,"path")).setAttribute("d",r.path),e.appendChild(s)}(e,i);let s=r.appendChild(document.createElementNS(UA,"svg"));s.style.width=i.width/i.height+"em",s.appendChild(document.createElementNS(UA,"use")).setAttributeNS("http://www.w3.org/1999/xlink","href",/([^#]*)/.exec(document.location)[1]+"#"+e)}else i.dom?r.appendChild(i.dom.cloneNode(!0)):(r.appendChild(document.createElement("span")).textContent=i.text||"",i.css&&(r.firstChild.style.cssText=i.css));return r}(e.icon):e.label?Ia("div",null,GA(r,e.label)):null;if(!s)throw new RangeError("MenuItem without icon or label property");if(e.title){const a="function"==typeof e.title?e.title(r.state):e.title;s.setAttribute("title",GA(r,a))}return e.class&&s.classList.add(e.class),e.css&&(s.style.cssText+=e.css),s.addEventListener("mousedown",a=>{a.preventDefault(),s.classList.contains(au+"-disabled")||e.run(r.state,r.dispatch,r,a)}),{dom:s,update:function(a){if(e.select){let k=e.select(a);if(s.style.display=k?"":"none",!k)return!1}let D=!0;if(e.enable&&(D=e.enable(a)||!1,yB(s,au+"-disabled",!D)),e.active){let k=D&&e.active(a)||!1;yB(s,au+"-active",k)}return!0}}}}function GA(i,r){return i._props.translate?i._props.translate(r):r}function pZ(i,r){return e=>{let s=!1;for(let o=0;o<i.length;o++){let a=i[o](e);r[o].style.display=a?"":"none",a&&(s=!0)}return s}}const jA={join:{width:800,height:900,path:"M0 75h800v125h-800z M0 825h800v-125h-800z M250 400h100v-100h100v100h100v100h-100v100h-100v-100h-100z"},lift:{width:1024,height:1024,path:"M219 310v329q0 7-5 12t-12 5q-8 0-13-5l-164-164q-5-5-5-13t5-13l164-164q5-5 13-5 7 0 12 5t5 12zM1024 749v109q0 7-5 12t-12 5h-987q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h987q7 0 12 5t5 12zM1024 530v109q0 7-5 12t-12 5h-621q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h621q7 0 12 5t5 12zM1024 310v109q0 7-5 12t-12 5h-621q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h621q7 0 12 5t5 12zM1024 91v109q0 7-5 12t-12 5h-987q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h987q7 0 12 5t5 12z"},selectParentNode:{text:"\u2b1a",css:"font-weight: bold"},undo:{width:1024,height:1024,path:"M761 1024c113-206 132-520-313-509v253l-384-384 384-384v248c534-13 594 472 313 775z"},redo:{width:1024,height:1024,path:"M576 248v-248l384 384-384 384v-253c-446-10-427 303-313 509-280-303-221-789 313-775z"},strong:{width:805,height:1024,path:"M317 869q42 18 80 18 214 0 214-191 0-65-23-102-15-25-35-42t-38-26-46-14-48-6-54-1q-41 0-57 5 0 30-0 90t-0 90q0 4-0 38t-0 55 2 47 6 38zM309 442q24 4 62 4 46 0 81-7t62-25 42-51 14-81q0-40-16-70t-45-46-61-24-70-8q-28 0-74 7 0 28 2 86t2 86q0 15-0 45t-0 45q0 26 0 39zM0 950l1-53q8-2 48-9t60-15q4-6 7-15t4-19 3-18 1-21 0-19v-37q0-561-12-585-2-4-12-8t-25-6-28-4-27-2-17-1l-2-47q56-1 194-6t213-5q13 0 39 0t38 0q40 0 78 7t73 24 61 40 42 59 16 78q0 29-9 54t-22 41-36 32-41 25-48 22q88 20 146 76t58 141q0 57-20 102t-53 74-78 48-93 27-100 8q-25 0-75-1t-75-1q-60 0-175 6t-132 6z"},em:{width:585,height:1024,path:"M0 949l9-48q3-1 46-12t63-21q16-20 23-57 0-4 35-165t65-310 29-169v-14q-13-7-31-10t-39-4-33-3l10-58q18 1 68 3t85 4 68 1q27 0 56-1t69-4 56-3q-2 22-10 50-17 5-58 16t-62 19q-4 10-8 24t-5 22-4 26-3 24q-15 84-50 239t-44 203q-1 5-7 33t-11 51-9 47-3 32l0 10q9 2 105 17-1 25-9 56-6 0-18 0t-18 0q-16 0-49-5t-49-5q-78-1-117-1-29 0-81 5t-69 6z"},code:{width:896,height:1024,path:"M608 192l-96 96 224 224-224 224 96 96 288-320-288-320zM288 192l-288 320 288 320 96-96-224-224 224-224-96-96z"},link:{width:951,height:1024,path:"M832 694q0-22-16-38l-118-118q-16-16-38-16-24 0-41 18 1 1 10 10t12 12 8 10 7 14 2 15q0 22-16 38t-38 16q-8 0-15-2t-14-7-10-8-12-12-10-10q-18 17-18 41 0 22 16 38l117 118q15 15 38 15 22 0 38-14l84-83q16-16 16-38zM430 292q0-22-16-38l-117-118q-16-16-38-16-22 0-38 15l-84 83q-16 16-16 38 0 22 16 38l118 118q15 15 38 15 24 0 41-17-1-1-10-10t-12-12-8-10-7-14-2-15q0-22 16-38t38-16q8 0 15 2t14 7 10 8 12 12 10 10q18-17 18-41zM941 694q0 68-48 116l-84 83q-47 47-116 47-69 0-116-48l-117-118q-47-47-47-116 0-70 50-119l-50-50q-49 50-118 50-68 0-116-48l-118-118q-48-48-48-116t48-116l84-83q47-47 116-47 69 0 116 48l117 118q47 47 47 116 0 70-50 119l50 50q49-50 118-50 68 0 116 48l118 118q48 48 48 116z"},bulletList:{width:768,height:896,path:"M0 512h128v-128h-128v128zM0 256h128v-128h-128v128zM0 768h128v-128h-128v128zM256 512h512v-128h-512v128zM256 256h512v-128h-512v128zM256 768h512v-128h-512v128z"},orderedList:{width:768,height:896,path:"M320 512h448v-128h-448v128zM320 768h448v-128h-448v128zM320 128v128h448v-128h-448zM79 384h78v-256h-36l-85 23v50l43-2v185zM189 590c0-36-12-78-96-78-33 0-64 6-83 16l1 66c21-10 42-15 67-15s32 11 32 28c0 26-30 58-110 112v50h192v-67l-91 2c49-30 87-66 87-113l1-1z"},blockquote:{width:640,height:896,path:"M0 448v256h256v-256h-128c0 0 0-128 128-128v-128c0 0-256 0-256 256zM640 320v-128c0 0-256 0-256 256v256h256v-256h-128c0 0 0-128 128-128z"}};function yB(i,r,e){e?i.classList.add(r):i.classList.remove(r)}new aw({title:"Join with above block",run:eA,select:i=>eA(i),icon:jA.join}),new aw({title:"Lift out of enclosing block",run:tA,select:i=>tA(i),icon:jA.lift}),new aw({title:"Select parent node",run:nA,select:i=>nA(i),icon:jA.selectParentNode}),new aw({title:"Undo last change",run:rE,enable:i=>rE(i),icon:jA.undo}),new aw({title:"Redo last undone change",run:B1,enable:i=>B1(i),icon:jA.redo});const n5="ProseMirror-menubar";class dbe{constructor(r,e){this.editorView=r,this.options=e,this.menuContainer=document.getElementsByClassName("menu-container")[0],this.wrapper=Ia("div",{class:n5+"-wrapper"}),this.menu=this.menuContainer.appendChild(Ia("div",{class:n5})),this.menu.className=n5,this.menu.style.display="none",this.spacer=null,this.maxHeight=0,this.widthForMaxHeight=0,this.floating=!1;let{dom:s,update:o}=function(i,r){let e=document.createDocumentFragment(),s=[],o=[];for(let D=0;D<r.length;D++){let k=r[D],N=[],B=[];for(let G=0;G<k.length;G++){let{dom:$,update:re}=k[G].render(i),oe=Ia("span",{class:au+"item"},$);e.appendChild(oe),B.push(oe),N.push(re)}N.length&&(s.push(pZ(N,B)),D<r.length-1&&o.push(e.appendChild(Ia("span",{class:au+"separator"}))))}return{dom:e,update:function(D){let k=!1,N=!1;for(let B=0;B<s.length;B++){let G=s[B](D);B&&(o[B-1].style.display=N&&G?"":"none"),N=G,G&&(k=!0)}return k}}}(this.editorView,this.options.content);if(this.contentUpdate=o,this.menu.appendChild(s),this.update(),e.floating&&!function(){if("undefined"==typeof navigator)return!1;let i=navigator.userAgent;return!/Edge\/\d/.test(i)&&/AppleWebKit/.test(i)&&/Mobile\/\w+/.test(i)}()){this.updateFloat();let a=function(i){let r=[window];for(let e=i.parentNode;e;e=e.parentNode)r.push(e);return r}(this.wrapper);this.scrollFunc=D=>{let k=this.editorView.root;(k.body||k).contains(this.wrapper)?this.updateFloat(D.target.getBoundingClientRect&&D.target):a.forEach(N=>N.removeEventListener("scroll",this.scrollFunc))},a.forEach(D=>D.addEventListener("scroll",this.scrollFunc))}}update(r){this.contentUpdate(this.editorView.state),r&&r.hasFocus()&&(Array.from(this.menuContainer.children).forEach(e=>{e.style.display="none"}),this.menu.style.display="block"),this.floating?this.updateScrollCursor():(this.menu.offsetWidth!=this.widthForMaxHeight&&(this.widthForMaxHeight=this.menu.offsetWidth,this.maxHeight=0),this.menu.offsetHeight>this.maxHeight&&(this.maxHeight=this.menu.offsetHeight,this.menu.style.minHeight=this.maxHeight+"px"))}updateScrollCursor(){let r=this.editorView.root.getSelection();if(!r.focusNode)return;let e=r.getRangeAt(0).getClientRects(),s=e[function(i){return i.anchorNode==i.focusNode?i.anchorOffset>i.focusOffset:i.anchorNode.compareDocumentPosition(i.focusNode)==Node.DOCUMENT_POSITION_FOLLOWING}(r)?0:e.length-1];if(!s)return;let o=this.menu.getBoundingClientRect();if(s.top<o.bottom&&s.bottom>o.top){let a=function(i){for(let r=i.parentNode;r;r=r.parentNode)if(r.scrollHeight>r.clientHeight)return r}(this.wrapper);a&&(a.scrollTop-=o.bottom-s.top)}}updateFloat(r){let e=this.wrapper,s=e.getBoundingClientRect(),o=r?Math.max(0,r.getBoundingClientRect().top):0;if(this.floating)s.top>=o||s.bottom<this.menu.offsetHeight+10?(this.floating=!1,this.menu.style.position=this.menu.style.left=this.menu.style.top=this.menu.style.width="",this.menu.style.display="",this.spacer.parentNode.removeChild(this.spacer),this.spacer=null):(this.menu.style.left=s.left+(e.offsetWidth-e.clientWidth)/2+"px",this.menu.style.display=s.top>window.innerHeight?"none":"",r&&(this.menu.style.top=o+"px"));else if(s.top<o&&s.bottom>=this.menu.offsetHeight+10){this.floating=!0;let a=this.menu.getBoundingClientRect();this.menu.style.left=a.left+"px",this.menu.style.width=a.width+"px",r&&(this.menu.style.top=o+"px"),this.menu.style.position="fixed",this.spacer=Ia("div",{class:n5+"-spacer",style:`height: ${a.height}px`}),e.insertBefore(this.spacer,this.menu)}}destroy(){this.wrapper.parentNode&&this.wrapper.parentNode.replaceChild(this.editorView.dom,this.wrapper)}}function wB(i,r){return function(e,s){var o=e.selection,a=o.$from,D=o.$to,k=a.blockRange(D),N=!1,B=k;if(!k)return!1;if(k.depth>=2&&a.node(k.depth-1).type.compatibleContent(i)&&0==k.startIndex){if(0==a.index(k.depth-1))return!1;var G=e.doc.resolve(k.start-2);B=new Rn.Ts(G,G,k.depth),k.endIndex<k.parent.childCount&&(k=new Rn.Ts(a,e.doc.resolve(D.end(k.depth)),k.depth)),N=!0}var $=(0,_r.findWrapping)(B,i,r,k);return!!$&&(s&&s(function(i,r,e,s,o){for(var a=Rn.HY.empty,D=e.length-1;D>=0;D--)a=Rn.HY.from(e[D].type.create(e[D].attrs,a));i.step(new _r.ReplaceAroundStep(r.start-(s?2:0),r.end,r.start,r.end,new Rn.p2(a,0,0),e.length,!0));for(var k=0,N=0;N<e.length;N++)e[N].type==o&&(k=N+1);for(var B=e.length-k,G=r.start+e.length-(s?2:0),$=r.parent,re=r.startIndex,oe=r.endIndex,_e=!0;re<oe;re++,_e=!1)!_e&&(0,_r.canSplit)(i.doc,G,B)&&(i.split(G,B),G+=2*B),G+=$.child(re).nodeSize;return i}(e.tr,k,$,N,i).scrollIntoView()),!0)}}function mZ(i){return function(r,e){var s=r.selection,o=s.$from,D=o.blockRange(s.$to,function(k){return k.childCount&&k.firstChild.type==i});return!!D&&(!e||(o.node(D.depth-1).type==i?function(i,r,e,s){var o=i.tr,a=s.end,D=s.$to.end(s.depth);return a<D&&(o.step(new _r.ReplaceAroundStep(a-1,D,a,D,new Rn.p2(Rn.HY.from(e.create(null,s.parent.copy())),1,0),1,!0)),s=new Rn.Ts(o.doc.resolve(s.$from.pos),o.doc.resolve(D),s.depth)),r(o.lift(s,(0,_r.liftTarget)(s)).scrollIntoView()),!0}(r,e,i,D):function(i,r,e){for(var s=i.tr,o=e.parent,a=e.end,D=e.endIndex-1,k=e.startIndex;D>k;D--)a-=o.child(D).nodeSize,s.delete(a-1,a+1);var N=s.doc.resolve(e.start),B=N.nodeAfter,G=0==e.startIndex,$=e.endIndex==o.childCount,re=N.node(-1),oe=N.index(-1);if(!re.canReplace(oe+(G?0:1),oe+1,B.content.append($?Rn.HY.empty:Rn.HY.from(o))))return!1;var _e=N.pos,ze=_e+B.nodeSize;return s.step(new _r.ReplaceAroundStep(_e-(G?1:0),ze+($?1:0),_e+1,ze-1,new Rn.p2((G?Rn.HY.empty:Rn.HY.from(o.copy(Rn.HY.empty))).append($?Rn.HY.empty:Rn.HY.from(o.copy(Rn.HY.empty))),G?0:1,$?0:1),G?0:1)),r(s.scrollIntoView()),!0}(r,e,D)))}}const r5="ProseMirror-prompt";function gZ(i){let r=document.body.appendChild(document.createElement("div"));r.className=r5;let e=re=>{r.contains(re.target)||s()};setTimeout(()=>window.addEventListener("mousedown",e),50);let s=()=>{window.removeEventListener("mousedown",e),r.parentNode&&r.parentNode.removeChild(r)},o=[];for(let re in i.fields)o.push(i.fields[re].render());let a=document.createElement("button");a.type="submit",a.className=r5+"-submit",a.textContent="OK";let D=document.createElement("button");D.type="button",D.className=r5+"-cancel",D.textContent="Cancel",D.addEventListener("click",s);let k=r.appendChild(document.createElement("form"));i.title&&(k.appendChild(document.createElement("h5")).textContent=i.title),o.forEach(re=>{k.appendChild(document.createElement("div")).appendChild(re)});let N=k.appendChild(document.createElement("div"));N.className=r5+"-buttons",N.appendChild(a),N.appendChild(document.createTextNode(" ")),N.appendChild(D);let B=r.getBoundingClientRect();r.style.top=(window.innerHeight-B.height)/2+"px",r.style.left=(window.innerWidth-B.width)/2+"px";let G=()=>{let re=function(i,r){let e=Object.create(null),s=0;for(let o in i){let a=i[o],D=r[s++],k=a.read(D),N=a.validate(k);if(N)return Tbe(D,N),null;e[o]=a.clean(k)}return e}(i.fields,o);re&&(s(),i.callback(re))};k.addEventListener("submit",re=>{re.preventDefault(),G()}),k.addEventListener("keydown",re=>{27==re.keyCode?(re.preventDefault(),s()):13!=re.keyCode||re.ctrlKey||re.metaKey||re.shiftKey?9==re.keyCode&&window.setTimeout(()=>{r.contains(document.activeElement)||s()},500):(re.preventDefault(),G())});let $=k.elements[0];$&&$.focus()}function Tbe(i,r){let e=i.parentNode,s=e.appendChild(document.createElement("div"));s.style.left=i.offsetLeft+i.offsetWidth+2+"px",s.style.top=i.offsetTop-5+"px",s.className="ProseMirror-invalid",s.textContent=r,setTimeout(()=>e.removeChild(s),1500)}class YA extends class{constructor(r){this.options=r}read(r){return r.value}validateType(r){}validate(r){return!r&&this.options.required?"Required field":this.validateType(r)||this.options.validate&&this.options.validate(r)}clean(r){return this.options.clean?this.options.clean(r):r}}{render(){let r=document.createElement("input");return r.type="text",r.placeholder=this.options.label,r.value=this.options.value||"",r.autocomplete="off",r}}function _Z(i,r){let e=i.selection.$from;for(let s=e.depth;s>=0;s--){let o=e.index(s);if(e.node(s).canReplaceWith(o,o,r))return!0}return!1}function vZ(i,r){let e={label:r.title,run:i};for(let s in r)e[s]=r[s];return(!r.enable||!0===r.enable)&&!r.select&&(e[r.enable?"enable":"select"]=s=>i(s)),new ki(e)}function CB(i,r){let{from:e,$from:s,to:o,empty:a}=i.selection;return a?r.isInSet(i.storedMarks||s.marks()):i.doc.rangeHasMark(e,o,r)}function SB(i,r){let e={active:s=>CB(s,i),enable:!0};for(let s in r)e[s]=r[s];return vZ(Fp(i),e)}function yZ(i,r){return vZ(wB(i,r.attrs),r)}function bZ(i){let e,r={};if((e=i.marks.strong)&&(r.toggleStrong=SB(e,{title:"Toggle strong style",icon:Xd.strong})),(e=i.marks.em)&&(r.toggleEm=SB(e,{title:"Toggle emphasis",icon:Xd.em})),(e=i.marks.code)&&(r.toggleCode=SB(e,{title:"Toggle code font",icon:Xd.code})),(e=i.marks.link)&&(r.toggleLink=function(i){return new ki({title:"Add or remove link",icon:Xd.link,active:r=>CB(r,i),enable:r=>!r.selection.empty,run(r,e,s){if(CB(r,i))return Fp(i)(r,e),!0;gZ({title:"Create a link",fields:{href:new YA({label:"Link target",required:!0}),title:new YA({label:"Title"})},callback(o){Fp(i,o)(s.state,s.dispatch),s.focus()}})}})}(e)),(e=i.nodes.image)&&(r.insertImage=function(i){return new ki({title:"Insert image",label:"Image",enable:r=>_Z(r,i),run(r,e,s){let{from:o,to:a}=r.selection,D=null;r.selection instanceof sn.qv&&r.selection.node.type==i&&(D=r.selection.node.attrs),gZ({title:"Insert image",fields:{src:new YA({label:"Location",required:!0,value:D&&D.src}),title:new YA({label:"Title",value:D&&D.title}),alt:new YA({label:"Description",value:D?D.alt:r.doc.textBetween(o,a," ")})},callback(k){s.dispatch(s.state.tr.replaceSelectionWith(i.createAndFill(k))),s.focus()}})}})}(e)),(e=i.nodes.bullet_list)&&(r.wrapBulletList=yZ(e,{title:"Wrap in bullet list",icon:Xd.bulletList})),(e=i.nodes.ordered_list)&&(r.wrapOrderedList=yZ(e,{title:"Wrap in ordered list",icon:Xd.orderedList})),(e=i.nodes.blockquote)&&(r.wrapBlockQuote=function(i,r){var e={run:function(a,D){return bF(i,r.attrs)(a,D)},select:function(a){return bF(i,r.attrs instanceof Function?null:r.attrs)(a)}};for(var s in r)e[s]=r[s];return new ki(e)}(e,{title:"Wrap in block quote",icon:Xd.blockquote})),(e=i.nodes.paragraph)&&(r.makeParagraph=MF(e,{title:"Change to paragraph",label:"Plain"})),(e=i.nodes.code_block)&&(r.makeCodeBlock=MF(e,{title:"Change to code block",label:"Code"})),e=i.nodes.heading)for(let o=1;o<=10;o++)r["makeHead"+o]=MF(e,{title:"Change to heading "+o,label:"Level "+o,attrs:{level:o}});if(e=i.nodes.horizontal_rule){let o=e;r.insertHorizontalRule=new ki({title:"Insert horizontal rule",label:"Horizontal rule",enable:a=>_Z(a,o),run(a,D){D(a.tr.replaceSelectionWith(o.create()))}})}let s=o=>o.filter(a=>a);return r.insertMenu=new iE(s([r.insertImage,r.insertHorizontalRule]),{label:"Insert"}),r.typeMenu=new iE(s([r.makeParagraph,r.makeCodeBlock,r.makeHead1&&new DY(s([r.makeHead1,r.makeHead2,r.makeHead3,r.makeHead4,r.makeHead5,r.makeHead6]),{label:"Heading"})]),{label:"Type..."}),r.inlineMenu=[s([r.toggleStrong,r.toggleEm,r.toggleCode,r.toggleLink])],r.blockMenu=[s([r.wrapBulletList,r.wrapOrderedList,r.wrapBlockQuote,rpe,ipe,spe])],r.fullMenu=r.inlineMenu.concat([[r.insertMenu,r.typeMenu]],[[ope,ape]],r.blockMenu),r}var Kp=function(r,e){this.match=r,this.handler="string"==typeof e?function(i){return function(r,e,s,o){var a=i;if(e[1]){var D=e[0].lastIndexOf(e[1]);a+=e[0].slice(D+e[1].length);var k=(s+=D)-o;k>0&&(a=e[0].slice(D-k,D)+a,s=o)}return r.tr.insertText(a,s,o)}}(e):e};function wZ(i){var r=i.rules,e=new sn.Sy({state:{init:function(){return null},apply:function(o,a){return o.getMeta(this)||(o.selectionSet||o.docChanged?null:a)}},props:{handleTextInput:function(o,a,D,k){return CZ(o,a,D,k,r,e)},handleDOMEvents:{compositionend:function(s){setTimeout(function(){var a=s.state.selection.$cursor;a&&CZ(s,a.pos,a.pos,"",r,e)})}}},isInputRules:!0});return e}function CZ(i,r,e,s,o,a){if(i.composing)return!1;var D=i.state,k=D.doc.resolve(r);if(k.parent.type.spec.code)return!1;for(var N=k.parent.textBetween(Math.max(0,k.parentOffset-500),k.parentOffset,null,"\ufffc")+s,B=0;B<o.length;B++){var G=o[B].match.exec(N),$=G&&o[B].handler(D,G,r-(G[0].length-s.length),e);if($)return i.dispatch($.setMeta(a,{transform:$,from:r,to:e,text:s})),!0}return!1}function Obe(i,r){for(var e=i.plugins,s=0;s<e.length;s++){var o=e[s],a=void 0;if(o.spec.isInputRules&&(a=o.getState(i))){if(r){for(var D=i.tr,k=a.transform,N=k.steps.length-1;N>=0;N--)D.step(k.steps[N].invert(k.docs[N]));if(a.text){var B=D.doc.resolve(a.from).marks();D.replaceWith(a.from,a.to,i.schema.text(a.text,B))}else D.delete(a.from,a.to);r(D)}return!0}}return!1}var Nbe=new Kp(/--$/,"\u2014"),Pbe=new Kp(/\.\.\.$/,"\u2026"),zbe=[new Kp(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201c"),new Kp(/"$/,"\u201d"),new Kp(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018"),new Kp(/'$/,"\u2019")];function MB(i,r,e,s){return new Kp(i,function(o,a,D,k){var N=e instanceof Function?e(a):e,B=o.tr.delete(D,k),$=B.doc.resolve(D).blockRange(),re=$&&(0,_r.findWrapping)($,r,N);if(!re)return null;B.wrap($,re);var oe=B.doc.resolve(D-1).nodeBefore;return oe&&oe.type==r&&(0,_r.canJoin)(B.doc,D-1)&&(!s||s(a,oe))&&B.join(D-1),B})}function SZ(i,r,e){return new Kp(i,function(s,o,a,D){var k=s.doc.resolve(a),N=e instanceof Function?e(o):e;return k.node(-1).canReplaceWith(k.index(-1),k.indexAfter(-1),r)?s.tr.delete(a,D).setBlockType(a,a,r,N):null})}const MZ="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function Hbe(i,r){let s,e={};function o(a,D){if(r){let k=r[a];if(!1===k)return;k&&(a=k)}e[a]=D}if(o("Mod-z",rE),o("Shift-Mod-z",B1),o("Backspace",Obe),MZ||o("Mod-y",B1),o("Alt-ArrowUp",eA),o("Alt-ArrowDown",Nfe),o("Mod-BracketLeft",tA),o("Escape",nA),(s=i.marks.strong)&&(o("Mod-b",Fp(s)),o("Mod-B",Fp(s))),(s=i.marks.em)&&(o("Mod-i",Fp(s)),o("Mod-I",Fp(s))),(s=i.marks.code)&&o("Mod-`",Fp(s)),(s=i.nodes.bullet_list)&&o("Shift-Ctrl-8",wB(s)),(s=i.nodes.ordered_list)&&o("Shift-Ctrl-9",wB(s)),(s=i.nodes.blockquote)&&o("Ctrl->",bF(s)),s=i.nodes.hard_break){let a=s,D=L1(lY,(k,N)=>(N(k.tr.replaceSelectionWith(a.create()).scrollIntoView()),!0));o("Mod-Enter",D),o("Shift-Enter",D),MZ&&o("Ctrl-Enter",D)}if((s=i.nodes.list_item)&&(o("Enter",function(i){return function(r,e){var s=r.selection,o=s.$from,a=s.$to,D=s.node;if(D&&D.isBlock||o.depth<2||!o.sameParent(a))return!1;var k=o.node(-1);if(k.type!=i)return!1;if(0==o.parent.content.size&&o.node(-1).childCount==o.indexAfter(-1)){if(2==o.depth||o.node(-3).type!=i||o.index(-2)!=o.node(-2).childCount-1)return!1;if(e){for(var N=Rn.HY.empty,B=o.index(-1)?1:o.index(-2)?2:3,G=o.depth-B;G>=o.depth-3;G--)N=Rn.HY.from(o.node(G).copy(N));var $=o.indexAfter(-1)<o.node(-2).childCount?1:o.indexAfter(-2)<o.node(-3).childCount?2:3;N=N.append(Rn.HY.from(i.createAndFill()));var re=o.before(o.depth-(B-1)),oe=r.tr.replace(re,o.after(-$),new Rn.p2(N,4-B,0)),_e=-1;oe.doc.nodesBetween(re,oe.doc.content.size,function(Pt,dn){if(_e>-1)return!1;Pt.isTextblock&&0==Pt.content.size&&(_e=dn+1)}),_e>-1&&oe.setSelection(r.selection.constructor.near(oe.doc.resolve(_e))),e(oe.scrollIntoView())}return!0}var ze=a.pos==o.end()?k.contentMatchAt(0).defaultType:null,mt=r.tr.delete(o.pos,a.pos),Ft=ze&&[null,{type:ze}];return!!(0,_r.canSplit)(mt.doc,o.pos,2,Ft)&&(e&&e(mt.split(o.pos,2,Ft).scrollIntoView()),!0)}}(s)),o("Mod-[",mZ(s)),o("Mod-]",function(i){return function(r,e){var s=r.selection,D=s.$from.blockRange(s.$to,function(ze){return ze.childCount&&ze.firstChild.type==i});if(!D)return!1;var k=D.startIndex;if(0==k)return!1;var N=D.parent,B=N.child(k-1);if(B.type!=i)return!1;if(e){var G=B.lastChild&&B.lastChild.type==N.type,$=Rn.HY.from(G?i.create():null),re=new Rn.p2(Rn.HY.from(i.create(null,Rn.HY.from(N.type.create(null,$)))),G?3:1,0),oe=D.start,_e=D.end;e(r.tr.step(new _r.ReplaceAroundStep(oe-(G?3:1),_e,oe,_e,re,1,!0)).scrollIntoView())}return!0}}(s))),(s=i.nodes.paragraph)&&o("Shift-Ctrl-0",JO(s)),(s=i.nodes.code_block)&&o("Shift-Ctrl-\\",JO(s)),s=i.nodes.heading)for(let a=1;a<=6;a++)o("Shift-Ctrl-"+a,JO(s,{level:a}));if(s=i.nodes.horizontal_rule){let a=s;o("Mod-_",(D,k)=>(k(D.tr.replaceSelectionWith(a.create()).scrollIntoView()),!0))}return e}function Wbe(i){let e,r=zbe.concat(Pbe,Nbe);return(e=i.nodes.blockquote)&&r.push(function(i){return MB(/^\s*>\s$/,i)}(e)),(e=i.nodes.ordered_list)&&r.push(function(i){return MB(/^(\d+)\.\s$/,i,r=>({order:+r[1]}),(r,e)=>e.childCount+e.attrs.order==+r[1])}(e)),(e=i.nodes.bullet_list)&&r.push(function(i){return MB(/^\s*([-+*])\s$/,i)}(e)),(e=i.nodes.code_block)&&r.push(function(i){return SZ(/^```$/,i)}(e)),(e=i.nodes.heading)&&r.push(function(i,r){return SZ(new RegExp("^(#{1,6})\\s$"),i,e=>({level:e[1].length}))}(e)),wZ({rules:r})}function $be(i){let r=[Wbe(i.schema),n6(Hbe(i.schema,i.mapKeys)),n6(Ufe),Zye(),new sn.Sy({props:{decorations:nbe,createSelectionBetween:function(r,e,s){if(e.pos==s.pos&&pf.valid(s))return new pf(s)},handleClick:tbe,handleKeyDown:ebe}})];return!1!==i.menuBar&&r.push(function(i){return new sn.Sy({view:r=>new dbe(r,i)})}({floating:!1!==i.floatingMenu,content:i.menuContent||bZ(i.schema).fullMenu})),!1!==i.history&&r.push(function(i){return new sn.Sy({key:Bp,state:{init:function(){return new mv(Sl.empty,Sl.empty,null,0)},apply:function(e,s,o){return function(i,r,e,s){var a,o=e.getMeta(Bp);if(o)return o.historyState;e.getMeta(wY)&&(i=new mv(i.done,i.undone,null,0));var D=e.getMeta("appendedTransaction");if(0==e.steps.length)return i;if(D&&D.getMeta(Bp))return D.getMeta(Bp).redo?new mv(i.done.addTransform(e,null,s,XO(r)),i.undone,vY(e.mapping.maps[e.steps.length-1]),i.prevTime):new mv(i.done,i.undone.addTransform(e,null,s,XO(r)),null,i.prevTime);if(!1===e.getMeta("addToHistory")||D&&!1===D.getMeta("addToHistory"))return(a=e.getMeta("rebased"))?new mv(i.done.rebased(e,a),i.undone.rebased(e,a),wF(i.prevRanges,e.mapping),i.prevTime):new mv(i.done.addMaps(e.mapping.maps),i.undone.addMaps(e.mapping.maps),wF(i.prevRanges,e.mapping),i.prevTime);var k=0==i.prevTime||!D&&(i.prevTime<(e.time||0)-s.newGroupDelay||!function(i,r){if(!r)return!1;if(!i.docChanged)return!0;var e=!1;return i.mapping.maps[0].forEach(function(s,o){for(var a=0;a<r.length;a+=2)s<=r[a+1]&&o>=r[a]&&(e=!0)}),e}(e,i.prevRanges)),N=D?wF(i.prevRanges,e.mapping):vY(e.mapping.maps[e.steps.length-1]);return new mv(i.done.addTransform(e,k?r.selection.getBookmark():null,s,XO(r)),Sl.empty,N,e.time)}(s,o,e,i)}},config:i={depth:i&&i.depth||100,newGroupDelay:i&&i.newGroupDelay||500},props:{handleDOMEvents:{beforeinput:function(e,s){var o="historyUndo"==s.inputType?rE(e.state,e.dispatch):"historyRedo"==s.inputType&&B1(e.state,e.dispatch);return o&&s.preventDefault(),o}}}})}()),r.concat(new sn.Sy({props:{attributes:{class:"ProseMirror-example-setup-style"}}}))}var EZ=$e(5413),Kbe=$e.n(EZ);function DE(i,r,e,s=!0){return(o,a)=>{let D=i.state,{to:k,from:N}=D.selection,{to:B,from:G}=o.selection;if(s&&B!==G)return!1;let $=r>0?B:G;if(e){let re=o.doc.nodeSize-2;if(r>0&&$<re||r<0&&$>0)return!1}return a&&(i.dispatch(D.tr.setSelection(sn.Bs.create(D.doc,r>0?k:N))),i.focus()),!0}}class Zbe{constructor(r,e,s,o={},a,D){this._node=r,this._outerView=e,this._getPos=s,this._onDestroy=D&&D.bind(this),this._mathPluginKey=a,this.cursorSide="start",this._isEditing=!1,this._katexOptions=Object.assign({globalGroup:!0,throwOnError:!1},o.katexOptions),this._tagName=o.tagName||this._node.type.name.replace("_","-"),this.dom=document.createElement(this._tagName),this.dom.classList.add("math-node"),this._mathRenderElt=document.createElement("span"),this._mathRenderElt.textContent="",this._mathRenderElt.classList.add("math-render"),this.dom.appendChild(this._mathRenderElt),this._mathSrcElt=document.createElement("span"),this._mathSrcElt.classList.add("math-src"),this.dom.appendChild(this._mathSrcElt),this.dom.addEventListener("click",()=>this.ensureFocus()),this.renderMath()}destroy(){this.closeEditor(!1),this._mathRenderElt&&(this._mathRenderElt.remove(),delete this._mathRenderElt),this._mathSrcElt&&(this._mathSrcElt.remove(),delete this._mathSrcElt),this.dom.remove()}ensureFocus(){this._innerView&&this._outerView.hasFocus()&&this._innerView.focus()}update(r,e){if(!r.sameMarkup(this._node))return!1;if(this._node=r,this._innerView){let s=this._innerView.state,o=r.content.findDiffStart(s.doc.content);if(null!=o){let a=r.content.findDiffEnd(s.doc.content);if(a){let{a:D,b:k}=a,N=o-Math.min(D,k);N>0&&(D+=N,k+=N),this._innerView.dispatch(s.tr.replace(o,k,r.slice(o,D)).setMeta("fromOutside",!0))}}}return this._isEditing||this.renderMath(),!0}updateCursorPos(r){const e=this._getPos();r.selection.from<e+this._node.nodeSize&&e<r.selection.to||(this.cursorSide=e<r.selection.from?"end":"start")}selectNode(){!this._outerView.editable||(this.dom.classList.add("ProseMirror-selectednode"),this._isEditing||this.openEditor())}deselectNode(){this.dom.classList.remove("ProseMirror-selectednode"),this._isEditing&&this.closeEditor()}stopEvent(r){return void 0!==this._innerView&&void 0!==r.target&&this._innerView.dom.contains(r.target)}ignoreMutation(){return!0}renderMath(){if(!this._mathRenderElt)return;let r=this._node.content.content,e="";if(r.length>0&&null!==r[0].textContent&&(e=r[0].textContent.trim()),e.length<1)for(this.dom.classList.add("empty-math");this._mathRenderElt.firstChild;)this._mathRenderElt.firstChild.remove();else{this.dom.classList.remove("empty-math");try{Kbe().render(e,this._mathRenderElt,this._katexOptions),this._mathRenderElt.classList.remove("parse-error"),this.dom.setAttribute("title","")}catch(s){if(!(s instanceof EZ.ParseError))throw s;console.error(s),this._mathRenderElt.classList.add("parse-error"),this.dom.setAttribute("title",s.toString())}}}dispatchInner(r){if(!this._innerView)return;let{state:e,transactions:s}=this._innerView.state.applyTransaction(r);if(this._innerView.updateState(e),!r.getMeta("fromOutside")){let o=this._outerView.state.tr,a=_r.StepMap.offset(this._getPos()+1);for(let D=0;D<s.length;D++){let k=s[D].steps;for(let N=0;N<k.length;N++){let B=k[N].map(a);if(!B)throw Error("step discarded!");o.step(B)}}o.docChanged&&this._outerView.dispatch(o)}}openEditor(){var r;if(this._innerView)throw Error("inner view should not exist!");this._innerView=new Go(this._mathSrcElt,{state:sn.yy.create({doc:this._node,plugins:[n6({Tab:(D,k)=>(k&&k(D.tr.insertText("\t")),!0),Backspace:L1(ZO,(D,k,N)=>!(!D.selection.empty||this._node.textContent.length>0||(this._outerView.dispatch(this._outerView.state.tr.insertText("")),this._outerView.focus(),0))),"Ctrl-Backspace":(D,k,N)=>(this._outerView.dispatch(this._outerView.state.tr.insertText("")),this._outerView.focus(),!0),Enter:L1(aY,DE(this._outerView,1,!1)),"Ctrl-Enter":DE(this._outerView,1,!1),ArrowLeft:DE(this._outerView,-1,!0),ArrowRight:DE(this._outerView,1,!0),ArrowUp:DE(this._outerView,-1,!0),ArrowDown:DE(this._outerView,1,!0)})]}),dispatchTransaction:this.dispatchInner.bind(this)});let e=this._innerView.state;this._innerView.focus();let s=null===(r=this._mathPluginKey.getState(this._outerView.state))||void 0===r?void 0:r.prevCursorPos;null==s&&console.error("[prosemirror-math] Error:  Unable to fetch math plugin state from key.");let a=(null!=s?s:0)<=this._getPos()?0:this._node.nodeSize-2;this._innerView.dispatch(e.tr.setSelection(sn.Bs.create(e.doc,a))),this._isEditing=!0}closeEditor(r=!0){this._innerView&&(this._innerView.destroy(),this._innerView=void 0),r&&this.renderMath(),this._isEditing=!1}}const EB=new sn.H$("prosemirror-math");function DZ(i){return(r,e,s)=>{let o=EB.getState(e.state);if(!o)throw new Error("no math plugin!");let a=o.activeNodeViews,D=new Zbe(r,e,s,{katexOptions:{displayMode:i,macros:o.macros}},EB,()=>{a.splice(a.indexOf(D))});return a.push(D),D}}let Jbe={key:EB,state:{init:(i,r)=>({macros:{},activeNodeViews:[],prevCursorPos:0}),apply:(i,r,e,s)=>({activeNodeViews:r.activeNodeViews,macros:r.macros,prevCursorPos:e.selection.from})},props:{nodeViews:{math_inline:DZ(!1),math_display:DZ(!0)}}};const Qbe=new sn.Sy(Jbe);const l1e=(i,r)=>{let{$from:e}=i.selection,s=e.nodeBefore;if(!s)return!1;if("math_inline"==s.type.name){let o=e.index(e.depth),a=i.doc.resolve(e.posAtIndex(o-1));return r&&r(i.tr.setSelection(new sn.qv(a))),!0}return!1},kZ=/\$(.+)\$/,c1e=((()=>{try{new RegExp("(?<!\\\\)\\$(.+)(?<!\\\\)\\$")}catch(i){return kZ}})(),/\$\$\s+$/),AZ=i=>{let{from:r}=i.selection,s=i.selection.content().content,o=[];return s.descendants((a,D,k)=>!("text"==a.type.name||a.type.name.startsWith("math_")&&(o.push({start:Math.max(r+D-1,0),end:r+D+a.nodeSize-1}),1))),Hi.create(i.doc,o.map(({start:a,end:D})=>ho.node(a,D,{class:"math-select"})))},h1e=new sn.Sy({state:{init:(i,r)=>AZ(r),apply:(i,r)=>i.selection&&i.selectionSet?AZ(i):r},props:{decorations:i=>h1e.getState(i)}});function f1e(i){return function(r,e){let{$from:s}=r.selection,o=s.index();if(!s.parent.canReplaceWith(o,o,i))return!1;if(e){let a=r.tr.replaceSelectionWith(i.create({}));a=a.setSelection(sn.qv.create(a.doc,s.pos)),e(a)}return!0}}const m1e=new class{constructor(r,e){this.nodes=Object.assign(Object.assign({},null==e?void 0:e.nodes),r.nodes),this.marks=Object.assign(Object.assign({},null==e?void 0:e.marks),r.marks)}serializeFragment(r){let o="",a=!0,k=r.size;return r.nodesBetween(0,k,(N,B)=>{var G;let $=this.serializeNode(N);if(null!==$)return o+=$,!1;N.isText?(o+=(null===(G=N.text)||void 0===G?void 0:G.slice(Math.max(0,B)-B,k-B))||"",a=!1):!a&&N.isBlock&&(o+="\n\n",a=!0)},0),o}serializeSlice(r){return this.serializeFragment(r.content)}serializeNode(r){let e=this.nodes[r.type.name];return void 0!==e?e(r):null}}({nodes:{math_inline:i=>`$${i.textContent}$`,math_display:i=>`\n\n$$\n${i.textContent}\n$$`}}),ha=new sn.H$("y-sync"),WA=new sn.H$("y-undo"),i5=new sn.H$("yjs-cursor"),s5=i=>class{constructor(e){this._=e}destroy(){i(this._)}},v1e=s5(clearTimeout);s5(clearInterval),s5(i=>"undefined"!=typeof requestAnimationFrame&&cancelAnimationFrame(i)),s5(i=>"undefined"!=typeof cancelIdleCallback&&cancelIdleCallback(i));let KA=null;const C1e=()=>{const i=KA;KA=null,i.forEach((r,e)=>{const s=e.state.tr;r.forEach((o,a)=>{s.setMeta(a,o)}),e.dispatch(s)})},o5=(i,r,e)=>{if(0===i)return GL(r,0);let s=null===r._first?null:r._first.content.type;for(;null!==s&&r!==s;){if(s.constructor===oh){if(s._length>=i)return GL(s,i);if(i-=s._length,null!==s._item&&null!==s._item.next)s=s._item.next.content.type;else{do{s=null===s._item?null:s._item.parent,i--}while(s!==r&&null!==s&&null!==s._item&&null===s._item.next);null!==s&&s!==r&&(s=null===s._item?null:s._item.next.content.type)}}else{const o=(e.get(s)||{nodeSize:0}).nodeSize;if(null!==s._first&&i<o)s=s._first.content.type,i--;else{if(1===i&&0===s._length&&o>1)return new CE(null===s._item?null:s._item.id,null===s._item?IA(s):null,null);if(i-=o,null!==s._item&&null!==s._item.next)s=s._item.next.content.type;else{if(0===i)return s=null===s._item?s:s._item.parent,new CE(null===s._item?null:s._item.id,null===s._item?IA(s):null,null);do{s=s._item.parent,i--}while(s!==r&&null===s._item.next);s!==r&&(s=s._item.next.content.type)}}}if(null===s)throw ih();if(0===i&&s.constructor!==oh&&s!==r)return M1e(s._item.parent,s._item)}return GL(r,r._length)},M1e=(i,r)=>{let e=null,s=null;return null===i._item?s=IA(i):e=Hr(i._item.id.client,i._item.id.clock),new CE(e,s,r.id)},ZA=(i,r,e,s)=>{const o=((i,r)=>{const e=r.store,s=i.item,o=i.type,a=i.tname,D=i.assoc;let k=null,N=0;if(null!==s){if(Eo(e,s.client)<=s.clock)return null;const B=nB(e,s),G=B.item;if(!(G instanceof cs))return null;if(k=G.parent,null===k._item||!k._item.deleted){N=G.deleted||!G.countable?0:B.diff+(D>=0?0:1);let $=G.left;for(;null!==$;)!$.deleted&&$.countable&&(N+=$.length),$=$.left}}else{if(null!==a)k=r.get(a);else{if(null===o)throw ih();{if(Eo(e,o.client)<=o.clock)return null;const{item:B}=nB(e,o);if(!(B instanceof cs&&B.content instanceof sw))return null;k=B.content.type}}N=D>=0?k._length:0}return((i,r,e=0)=>new J_e(i,r,e))(k,N,i.assoc)})(e,i);if(null===o||o.type!==r&&!RA(r,o.type._item))return null;let a=o.type,D=0;if(a.constructor===oh)D=o.index;else if(null===a._item||!a._item.deleted){let k=a._first,N=0;for(;N<a._length&&N<o.index&&null!==k;){if(!k.deleted){const B=k.content.type;N++,D+=B.constructor===oh?B._length:s.get(B).nodeSize}k=k.right}D+=1}for(;a!==r&&null!==a._item;){const k=a._item.parent;if(null===k._item||!k._item.deleted){D+=1;let N=k._first;for(;null!==N;){const B=N.content.type;if(B===a)break;N.deleted||(D+=B.constructor===oh?B._length:s.get(B).nodeSize),N=N.right}}a=k}return D-1},a5=(i,r)=>void 0===r?!i.deleted:r.sv.has(i.id.client)&&r.sv.get(i.id.client)>i.id.clock&&!TA(r.ds,i.id),T1e=[{light:"#ecd44433",dark:"#ecd444"}],x1e=(i,r,e)=>{if(!i.has(e)){if(i.size<r.length){const s=hE();i.forEach(o=>s.add(o)),r=r.filter(o=>!s.has(o))}i.set(e,vL(r))}return i.get(e)},k1e=(i,{colors:r=T1e,colorMapping:e=new Map,permanentUserData:s=null}={})=>{let o=!1;const a=new sn.Sy({props:{editable:D=>{const k=ha.getState(D);return null==k.snapshot&&null==k.prevSnapshot}},key:ha,state:{init:(D,k)=>({type:i,doc:i.doc,binding:null,snapshot:null,prevSnapshot:null,isChangeOrigin:!1,colors:r,colorMapping:e,permanentUserData:s}),apply:(D,k)=>{const N=D.getMeta(ha);if(void 0!==N){k=Object.assign({},k);for(const B in N)k[B]=N[B]}return k.isChangeOrigin=void 0!==N&&!!N.isChangeOrigin,null!==k.binding&&void 0!==N&&(null!=N.snapshot||null!=N.prevSnapshot)&&setTimeout(()=>{null==N.restore?k.binding._renderSnapshot(N.snapshot,N.prevSnapshot,k):(k.binding._renderSnapshot(N.snapshot,N.snapshot,k),delete k.restore,delete k.snapshot,delete k.prevSnapshot,k.binding._prosemirrorChanged(k.binding.prosemirrorView.state.doc))},0),k}},view:D=>{const k=new I1e(i,D);return setTimeout(()=>{k._forceRerender(),D.dispatch(D.state.tr.setMeta(ha,{binding:k}))},0),{update:()=>{const N=a.getState(D.state);null==N.snapshot&&null==N.prevSnapshot&&(o||null!==D.state.doc.content.findDiffStart(D.state.doc.type.createAndFill().content))&&(o=!0,k._prosemirrorChanged(D.state.doc))},destroy:()=>{k.destroy()}}}});return a},TB=(i,r)=>({anchor:o5(r.selection.anchor,i.type,i.mapping),head:o5(r.selection.head,i.type,i.mapping)});class I1e{constructor(r,e){this.type=r,this.prosemirrorView=e,this.mux=oB(),this.mapping=new Map,this._observeFunction=this._typeChanged.bind(this),this.doc=r.doc,this.beforeTransactionSelection=null,this.beforeAllTransactions=()=>{null===this.beforeTransactionSelection&&(this.beforeTransactionSelection=TB(this,e.state))},this.afterAllTransactions=()=>{this.beforeTransactionSelection=null},this.doc.on("beforeAllTransactions",this.beforeAllTransactions),this.doc.on("afterAllTransactions",this.afterAllTransactions),r.observeDeep(this._observeFunction),this._domSelectionInView=null}_isLocalCursorInView(){return!!this.prosemirrorView.hasFocus()&&(bL&&null===this._domSelectionInView&&(setTimeout(()=>{this._domSelectionInView=null},0),this._domSelectionInView=this._isDomSelectionInView()),this._domSelectionInView)}_isDomSelectionInView(){const r=this.prosemirrorView._root.getSelection(),e=this.prosemirrorView._root.createRange();e.setStart(r.anchorNode,r.anchorOffset),e.setEnd(r.focusNode,r.focusOffset),0===e.getClientRects().length&&e.startContainer&&e.collapsed&&e.selectNodeContents(e.startContainer);const o=e.getBoundingClientRect(),a=sh.documentElement;return o.bottom>=0&&o.right>=0&&o.left<=(window.innerWidth||a.clientWidth||0)&&o.top<=(window.innerHeight||a.clientHeight||0)}renderSnapshot(r,e){e||(e=qL(R6(),new Map)),this.prosemirrorView.dispatch(this.prosemirrorView.state.tr.setMeta(ha,{snapshot:r,prevSnapshot:e}))}unrenderSnapshot(){this.mapping=new Map,this.mux(()=>{const r=this.type.toArray().map(s=>l5(s,this.prosemirrorView.state.schema,this.mapping)).filter(s=>null!==s),e=this.prosemirrorView.state.tr.replace(0,this.prosemirrorView.state.doc.content.size,new Rn.p2(new Rn.HY(r),0,0));e.setMeta(ha,{snapshot:null,prevSnapshot:null}),this.prosemirrorView.dispatch(e)})}_forceRerender(){this.mapping=new Map,this.mux(()=>{const r=this.type.toArray().map(s=>l5(s,this.prosemirrorView.state.schema,this.mapping)).filter(s=>null!==s),e=this.prosemirrorView.state.tr.replace(0,this.prosemirrorView.state.doc.content.size,new Rn.p2(new Rn.HY(r),0,0));this.prosemirrorView.dispatch(e)})}_renderSnapshot(r,e,s){r||(r=(i=>qL(Z$(i.store),NA(i.store)))(this.doc)),this.mapping=new Map,this.mux(()=>{this.doc.transact(o=>{const a=s.permanentUserData;a&&a.dss.forEach(B=>{$g(o,B,G=>{})});const D=(B,G)=>{const $="added"===B?a.getUserByClientId(G.client):a.getUserByDeletedId(G);return{user:$,type:B,color:x1e(s.colorMapping,s.colors,$)}},k=DK(this.type,new P6(e.ds,r.sv)).map(B=>!B._item.deleted||a5(B._item,r)||a5(B._item,e)?l5(B,this.prosemirrorView.state.schema,new Map,r,e,D):null).filter(B=>null!==B),N=this.prosemirrorView.state.tr.replace(0,this.prosemirrorView.state.doc.content.size,new Rn.p2(new Rn.HY(k),0,0));this.prosemirrorView.dispatch(N)},ha)})}_typeChanged(r,e){const s=ha.getState(this.prosemirrorView.state);0!==r.length&&null==s.snapshot&&null==s.prevSnapshot?this.mux(()=>{const o=(k,N)=>this.mapping.delete(N);$g(e,e.deleteSet,k=>k.constructor===cs&&this.mapping.delete(k.content.type)),e.changed.forEach(o),e.changedParentTypes.forEach(o);const a=this.type.toArray().map(k=>IZ(k,this.prosemirrorView.state.schema,this.mapping)).filter(k=>null!==k);let D=this.prosemirrorView.state.tr.replace(0,this.prosemirrorView.state.doc.content.size,new Rn.p2(new Rn.HY(a),0,0));((i,r,e)=>{if(null!==r&&null!==r.anchor&&null!==r.head){const s=ZA(e.doc,e.type,r.anchor,e.mapping),o=ZA(e.doc,e.type,r.head,e.mapping);null!==s&&null!==o&&(i=i.setSelection(sn.Bs.create(i.doc,s,o)))}})(D,this.beforeTransactionSelection,this),D=D.setMeta(ha,{isChangeOrigin:!0}),null!==this.beforeTransactionSelection&&this._isLocalCursorInView()&&D.scrollIntoView(),this.prosemirrorView.dispatch(D)}):this.renderSnapshot(s.snapshot,s.prevSnapshot)}_prosemirrorChanged(r){this.mux(()=>{this.doc.transact(()=>{AB(this.doc,this.type,r,this.mapping),this.beforeTransactionSelection=TB(this,this.prosemirrorView.state)},ha)})}destroy(){this.type.unobserveDeep(this._observeFunction),this.doc.off("beforeAllTransactions",this.beforeAllTransactions),this.doc.off("afterAllTransactions",this.afterAllTransactions)}}const IZ=(i,r,e,s,o,a)=>{const D=e.get(i);if(void 0===D){if(i instanceof su)return l5(i,r,e,s,o,a);throw df()}return D},l5=(i,r,e,s,o,a)=>{const D=[],k=N=>{if(N.constructor===su){const B=IZ(N,r,e,s,o,a);null!==B&&D.push(B)}else{const B=R1e(N,r,e,s,o,a);null!==B&&B.forEach(G=>{null!==G&&D.push(G)})}};void 0===s||void 0===o?i.toArray().forEach(k):DK(i,new P6(o.ds,s.sv)).forEach(k);try{const N=i.getAttributes(s);void 0!==s&&(a5(i._item,s)?a5(i._item,o)||(N.ychange=a?a("added",i._item.id):{type:"added"}):N.ychange=a?a("removed",i._item.id):{type:"removed"});const B=r.node(i.nodeName,N,D);return e.set(i,B),B}catch(N){return i.doc.transact(B=>{i._item.delete(B)},ha),e.delete(i),null}},R1e=(i,r,e,s,o,a)=>{const D=[],k=i.toDelta(s,o,a);try{for(let N=0;N<k.length;N++){const B=k[N],G=[];for(const $ in B.attributes)G.push(r.mark($,B.attributes[$]));D.push(r.text(B.insert,G))}}catch(N){return i.doc.transact(B=>{i._item.delete(B)},ha),null}return D},xB=(i,r)=>i instanceof Array?((i,r)=>{const e=new oh,s=i.map(o=>({insert:o.text,attributes:NZ(o.marks)}));return e.applyDelta(s),r.set(e,i),e})(i,r):((i,r)=>{const e=new su(i.type.name);for(const s in i.attrs){const o=i.attrs[s];null!==o&&"ychange"!==s&&e.setAttribute(s,o)}return e.insert(0,c5(i).map(s=>xB(s,r))),r.set(e,i),e})(i,r),kB=(i,r)=>{const e=Object.keys(i).filter(o=>null!==i[o]);let s=e.length===Object.keys(r).filter(o=>null!==r[o]).length;for(let o=0;o<e.length&&s;o++){const a=e[o],D=i[a],k=r[a];s="ychange"===a||D===k||"object"==typeof D&&"object"==typeof k&&kB(D,k)}return s},c5=i=>{const r=i.content.content,e=[];for(let s=0;s<r.length;s++){const o=r[s];if(o.isText){const a=[];for(let D=r[s];s<r.length&&D.isText;D=r[++s])a.push(D);s--,e.push(a)}else e.push(o)}return e},RZ=(i,r)=>{const e=i.toDelta();return e.length===r.length&&e.every((s,o)=>s.insert===r[o].text&&P$(s.attributes||{}).length===r[o].marks.length&&r[o].marks.every(a=>kB(s.attributes[a.type.name]||{},a.attrs)))},JA=(i,r)=>{if(i instanceof su&&!(r instanceof Array)&&IB(i,r)){const e=c5(r);return i._length===e.length&&kB(i.getAttributes(),r.attrs)&&i.toArray().every((s,o)=>JA(s,e[o]))}return i instanceof oh&&r instanceof Array&&RZ(i,r)},u5=(i,r)=>i===r||i instanceof Array&&r instanceof Array&&i.length===r.length&&i.every((e,s)=>r[s]===e),OZ=(i,r,e)=>{const s=i.toArray(),o=c5(r),a=o.length,D=s.length,k=Mv(D,a);let N=0,B=0,G=!1;for(;N<k;N++){const $=s[N],re=o[N];if(u5(e.get($),re))G=!0;else if(!JA($,re))break}for(;N+B<k;B++){const $=s[D-B-1],re=o[a-B-1];if(u5(e.get($),re))G=!0;else if(!JA($,re))break}return{equalityFactor:N+B,foundMappedChild:G}},F1e=(i,r,e)=>{e.set(i,r);const{nAttrs:s,str:o}=(i=>{let r="",e=i._start;const s={};for(;null!==e;)e.deleted||(e.countable&&e.content instanceof Qa?r+=e.content.str:e.content instanceof Ra&&(s[e.content.key]=null)),e=e.right;return{str:r,nAttrs:s}})(i),a=r.map(B=>({insert:B.text,attributes:Object.assign({},s,NZ(B.marks))})),{insert:D,remove:k,index:N}=((i,r)=>{let e=0,s=0;for(;e<i.length&&e<r.length&&i[e]===r[e];)e++;if(e!==i.length||e!==r.length)for(;s+e<i.length&&s+e<r.length&&i[i.length-s-1]===r[r.length-s-1];)s++;return{index:e,remove:i.length-e-s,insert:r.slice(e,r.length-s)}})(o,a.map(B=>B.insert).join(""));i.delete(N,k),i.insert(N,D),i.applyDelta(a.map(B=>({retain:B.insert.length,attributes:B.attributes})))},NZ=i=>{const r={};return i.forEach(e=>{"ychange"!==e.type.name&&(r[e.type.name]=e.attrs)}),r},AB=(i,r,e,s)=>{if(r instanceof su&&r.nodeName!==e.type.name)throw new Error("node name mismatch!");if(s.set(r,e),r instanceof su){const $=r.getAttributes(),re=e.attrs;for(const oe in re)null!==re[oe]?$[oe]!==re[oe]&&"ychange"!==oe&&r.setAttribute(oe,re[oe]):r.removeAttribute(oe);for(const oe in $)void 0===re[oe]&&r.removeAttribute(oe)}const o=c5(e),a=o.length,D=r.toArray(),k=D.length,N=Mv(a,k);let B=0,G=0;for(;B<N;B++){const $=D[B],re=o[B];if(!u5(s.get($),re)){if(!JA($,re))break;s.set($,re)}}for(;G+B+1<N;G++){const $=D[k-G-1],re=o[a-G-1];if(!u5(s.get($),re)){if(!JA($,re))break;s.set($,re)}}i.transact(()=>{for(;k-B-G>0&&a-B-G>0;){const re=D[B],oe=o[B],_e=D[k-G-1],ze=o[a-G-1];if(re instanceof oh&&oe instanceof Array)RZ(re,oe)||F1e(re,oe,s),B+=1;else{let mt=re instanceof su&&IB(re,oe),Ft=_e instanceof su&&IB(_e,ze);if(mt&&Ft){const Pt=OZ(re,oe,s),dn=OZ(_e,ze,s);Pt.foundMappedChild&&!dn.foundMappedChild?Ft=!1:!Pt.foundMappedChild&&dn.foundMappedChild||Pt.equalityFactor<dn.equalityFactor?mt=!1:Ft=!1}mt?(AB(i,re,oe,s),B+=1):Ft?(AB(i,_e,ze,s),G+=1):(r.delete(B,1),r.insert(B,[xB(oe,s)]),B+=1)}}const $=k-B-G;if($>0&&r.delete(B,$),B+G<a){const re=[];for(let oe=B;oe<a-G;oe++)re.push(xB(o[oe],s));r.insert(B,re)}},ha)},IB=(i,r)=>!(r instanceof Array)&&i.nodeName===r.type.name,L1e=i=>{const r=document.createElement("span");r.classList.add("ProseMirror-yjs-cursor"),r.setAttribute("style",`border-color: ${i.color}`);const e=document.createElement("div");return e.setAttribute("style",`background-color: ${i.color}`),e.insertBefore(document.createTextNode(i.name),null),r.insertBefore(e,null),r},PZ=(i,r,e)=>{const s=ha.getState(i),o=s.doc,a=[];return null!=s.snapshot||null!=s.prevSnapshot||null===s.binding?Hi.create(i.doc,[]):(r.getStates().forEach((D,k)=>{if(k!==o.clientID&&null!=D.cursor){const N=D.user||{};null==N.color&&(N.color="#ffa500"),null==N.name&&(N.name=`User: ${k}`);let B=ZA(o,s.type,OA(D.cursor.anchor),s.binding.mapping),G=ZA(o,s.type,OA(D.cursor.head),s.binding.mapping);if(null!==B&&null!==G){const $=qg(i.doc.content.size-1,0);B=Mv(B,$),G=Mv(G,$),a.push(ho.widget(G,()=>e(N),{key:k+"",side:10}));const re=Mv(B,G),oe=qg(B,G);a.push(ho.inline(re,oe,{style:`background-color: ${N.color}70`},{inclusiveEnd:!0,inclusiveStart:!1}))}}}),Hi.create(i.doc,a))},B1e=(i,{cursorBuilder:r=L1e,getSelection:e=(o=>o.selection)}={},s="cursor")=>new sn.Sy({key:i5,state:{init:(o,a)=>PZ(a,i,r),apply(o,a,D,k){const N=ha.getState(k),B=o.getMeta(i5);return N&&N.isChangeOrigin||B&&B.awarenessUpdated?PZ(k,i,r):a.map(o.mapping,o.doc)}},props:{decorations:o=>i5.getState(o)},view:o=>{const a=()=>{o.docView&&((i,r,e)=>{KA||(KA=new Map,((i,r)=>{new v1e(setTimeout(r,i))})(0,C1e)),$u(KA,i,uf).set(r,{awarenessUpdated:!0})})(o,i5)},D=()=>{const k=ha.getState(o.state),N=i.getLocalState()||{};if(o.hasFocus()&&null!==k.binding){const B=e(o.state),G=o5(B.anchor,k.type,k.binding.mapping),$=o5(B.head,k.type,k.binding.mapping);(null==N.cursor||!cK(OA(N.cursor.anchor),G)||!cK(OA(N.cursor.head),$))&&i.setLocalStateField(s,{anchor:G,head:$})}else null!=N.cursor&&null!==ZA(k.doc,k.type,OA(N.cursor.anchor),k.binding.mapping)&&i.setLocalStateField(s,null)};return i.on("change",a),o.dom.addEventListener("focusin",D),o.dom.addEventListener("focusout",D),{update:D,destroy:()=>{o.dom.removeEventListener("focusin",D),o.dom.removeEventListener("focusout",D),i.off("change",a),i.setLocalStateField(s,null)}}}}),V1e=i=>{const r=WA.getState(i).undoManager;if(null!=r)return r.undo(),!0},FZ=i=>{const r=WA.getState(i).undoManager;if(null!=r)return r.redo(),!0},z1e=({protectedNodes:i=new Set(["paragraph"]),trackedOrigins:r=[]}={})=>new sn.Sy({key:WA,state:{init:(e,s)=>{const o=ha.getState(s),a=new lve(o.type,{trackedOrigins:new Set([ha].concat(r)),deleteFilter:D=>!(D instanceof cs&&D.content instanceof sw&&(D.content.type instanceof nw||D.content.type instanceof su&&i.has(D.content.type.nodeName))&&0!==D.content.type._length)});return{undoManager:a,prevSel:null,hasUndoOps:a.undoStack.length>0,hasRedoOps:a.redoStack.length>0}},apply:(e,s,o,a)=>{const D=ha.getState(a).binding,k=s.undoManager,N=k.undoStack.length>0,B=k.redoStack.length>0;return D?{undoManager:k,prevSel:TB(D,o),hasUndoOps:N,hasRedoOps:B}:N!==s.hasUndoOps||B!==s.hasRedoOps?Object.assign({},s,{hasUndoOps:k.undoStack.length>0,hasRedoOps:k.redoStack.length>0}):s}},view:e=>{const s=ha.getState(e.state),o=WA.getState(e.state).undoManager;return o.on("stack-item-added",({stackItem:a})=>{const D=s.binding;D&&a.meta.set(D,WA.getState(e.state).prevSel)}),o.on("stack-item-popped",({stackItem:a})=>{const D=s.binding;D&&(D.beforeTransactionSelection=a.meta.get(D)||D.beforeTransactionSelection)}),{destroy:()=>{o.destroy()}}}}),LZ=(i,r,e,s,o,a,D)=>{const k=i.doc.type.schema.marks.deletion.create({user:s.userId,username:s.username,style:`color: ${s.userColor.deletion};`}),N=new _r.Mapping;return i.doc.nodesBetween(r,e,(B,G)=>{if(!B.type.name.includes("table"))if(B.isInline&&B.marks.find($=>"insertion"===$.type.name&&$.attrs.user.toString()===s.userId.toString())){const $=new _r.ReplaceStep(N.map(Math.max(r,G)),N.map(Math.min(e,G+B.nodeSize)),Rn.p2.empty);i.maybeStep($).failed||N.appendMap($.getMap())}else if(B.isInline&&!B.marks.find($=>"deletion"===$.type.name))i.addMark(N.map(Math.max(r,G)),N.map(Math.min(e,G+B.nodeSize)),k);else if(B.attrs.track&&!B.attrs.track.find($=>"deletion"===$.type)&&!["bullet_list","ordered_list"].includes(B.type.name)){if(B.attrs.track.find(re=>"insertion"===re.type&&re.user===s.userId)){let re;if(B.isTextblock&&e<G+B.nodeSize){const oe=sn.Y1.findFrom(i.doc.resolve(G),-1);oe instanceof sn.Bs&&(re=new _r.ReplaceStep(N.map(oe.$anchor.pos),N.map(e),Rn.p2.empty))}else re=new _r.ReplaceStep(N.map(Math.max(r,G)),N.map(Math.min(e,G+B.nodeSize)),Rn.p2.empty);i.maybeStep(re).failed||N.appendMap(re.getMap())}let $=2;if(B.content.forEach((re,oe)=>{re.marks.forEach(_e=>{"deletion"===_e.type.name&&($+=re.nodeSize)})}),0===B.content.size||$===B.nodeSize){const re=B.attrs.track.slice();re.push({type:"deletion",user:s.userId,username:s.username,style:`color: ${s.userColor.deletion};`}),i.setNodeMarkup(N.map(G),null,Object.assign(B.attrs,{track:re}),B.marks)}}}),N};var d5=$e(1319);const BZ=(i,r,e,s,o,a,D)=>{i.removeMark(r,e,i.doc.type.schema.marks.deletion),i.removeMark(r,e,i.doc.type.schema.marks.insertion);const k=i.doc.type.schema.marks.insertion.create({user:s.userId,username:s.username,style:`background-color: ${s.userColor.addition};`});(i=i.addMark(r,e,k)).doc.nodesBetween(r,e,(N,B)=>{if(B<r||["bullet_list","ordered_list"].includes(N.type.name))return!0;if(N.isInline||["table_row","table_cell"].includes(N.type.name))return!1;if(N.attrs.track){const G=[];G.push({type:"insertion",user:s.userId,username:s.username,date:o,group:a,viewid:D}),i.setNodeMarkup(B,null,Object.assign({},N.attrs,{track:G,group:a,id:(0,d5.Z)()}),N.marks)}return"table"!==N.type.name&&void 0})},VZ=(i,r,e,s,o,a,D,k,N,B)=>{const $=fo.DocumentHelpers.findMark(i,i.schema.marks.deletion,!1),re=$?$.to:e.to,oe=new _r.ReplaceStep(re,re,e.slice,e.structure);if(o.appendMap(e.invert(a).getMap()),oe){const _e=i.apply(s).tr;if(_e.maybeStep(oe).failed)return;const ze=oe.getMap().map(oe.to);BZ(_e,oe.from,ze,D,k,N);const mt=new _r.ReplaceStep(oe.from,oe.to,_e.doc.slice(oe.from,ze));s.step(mt);const Ft=o.maps.length-1;o.appendMap(mt.getMap(),Ft),s.selection.eq(_e.selection)||s.setSelection(_e.selection)}e.from!==e.to&&o.appendMap(LZ(s,e.from,e.to,D))},j1e=(i,r,e,s="main",o="main")=>{if(!i.selectionSet){const N=r.selection.$anchor;for(let{depth:B}=N;B>0;B-=1)if("table"===N.node(B).type.spec.tableRole)return i}if(r.selection.node&&"image"===r.selection.node.type.name||r.selection.node&&"figure"===r.selection.node.type.name||!i.steps.length||i.meta&&!Object.keys(i.meta).every(N=>["inputType","uiEvent","paste"].includes(N))||["AcceptReject","Undo","Redo"].includes(i.getMeta("inputType")))return i;const a=r.tr,D=new _r.Mapping,k=Math.floor(Date.now());if(i.steps.forEach(N=>{const B=N.map(D),{doc:G}=a;if(B)switch(B.constructor){case _r.ReplaceStep:VZ(r,0,B,a,D,G,e,k,s);break;case _r.ReplaceAroundStep:((i,r,e,s,o,a,D,k,N,B)=>{if(e.from===e.gapFrom&&e.to===e.gapTo){s.step(e);const G=e.getMap().map(e.from,-1),$=e.getMap().map(e.gapFrom);BZ(s,G,$,D,k,N)}else if(e.slice.size)if(2===e.slice.size&&e.gapFrom-e.from==1&&e.to-e.gapTo==1){s.step(e);const G=a.nodeAt(e.from);G.attrs.track&&((i,r,e,s,o,a,D,k)=>{let N=e.attrs.track.slice(),B=N.find(G=>"block_change"===G.type);B?(N=N.filter(G=>G!==B),(B.before.type!==s.type.name||B.before.attrs.level!==s.attrs.level)&&(B={type:"block_change",user:o.userId,username:o.username,date:a,before:B.before},N.push(B))):(B={type:"block_change",user:o.userId,username:o.username,date:a,before:{type:e.type.name,attrs:e.attrs}},B.before.attrs.id&&delete B.before.attrs.id,B.before.attrs.track&&delete B.before.attrs.track,N.push(B)),i.setNodeMarkup(r,null,Object.assign({},s.attrs,{track:N,group:D,id:(0,d5.Z)(),viewid:k}))})(s,e.from,G,e.slice.content.firstChild,D,k,N,B)}else console.log("to fix lift list item"),[{from:e.getMap().map(e.from,-1),to:e.getMap().map(e.gapFrom)},{from:e.getMap().map(e.gapTo,-1),to:e.getMap().map(e.to)}].forEach($=>a.nodesBetween($.from,$.to,(re,oe)=>{if(oe<$.from)return!0;mZ(re.type)(i,_e=>{_e.steps.forEach(ze=>{r.step(ze),o.appendMap(ze.getMap())})})}));else o.appendMap(e.invert(a).getMap()),o.appendMap(LZ(s,e.from,e.gapFrom,D))})(r,i,B,a,D,G,e,k,s,o);break;case _r.AddMarkStep:((i,r,e,s,o,a,D,k,N,B)=>{a.nodesBetween(e.from,e.to,(G,$)=>{if(!G.isInline)return!0;if(G.marks.find(re=>"deletion"===re.type.name))return!1;if(s.addMark(Math.max(e.from,$),Math.min(e.to,$+G.nodeSize),e.mark),!["comment","deletion"].includes(e.mark.type.name)&&!G.marks.find(re=>re.type===e.mark.type)){const re=G.marks.find(ze=>"format_change"===ze.type.name);let oe,_e;re?re.attrs.before.includes(e.mark.type.name)?(_e=re.attrs.before.filter(ze=>ze!==e.mark.type.name),oe=re.attrs.after):(_e=re.attrs.before,oe=re.attrs.after.concat(e.mark.type.name)):(_e=[],oe=[e.mark.type.name]),oe.length||_e.length?s.addMark(e.from,e.to,i.schema.marks.format_change.create({id:(0,d5.Z)(),user:D.userId,username:D.username,date:k,before:_e,after:oe,group:N,viewid:B})):re&&s.removeMark(Math.max(e.from,$),Math.min(e.to,$+G.nodeSize),re)}})})(r,0,B,a,0,G,e,k,s,o);break;case _r.RemoveMarkStep:((i,r,e,s,o,a,D,k,N)=>{a.nodesBetween(e.from,e.to,(B,G)=>{if(!B.isInline)return!0;if(B.marks.find($=>"deletion"===$.type.name))return!1;if(s.removeMark(Math.max(e.from,G),Math.min(e.to,G+B.nodeSize),e.mark),["em","strong","underline","subscript","superscript"].includes(e.mark.type.name)&&B.marks.find($=>$.type===e.mark.type)){const $=B.marks.find(_e=>"format_change"===_e.type.name);let re,oe;$?$.attrs.after.includes(e.mark.type.name)?(re=$.attrs.after.filter(_e=>_e!==e.mark.type.name),oe=$.attrs.before):(re=$.attrs.after,oe=$.attrs.before.concat(e.mark.type.name)):(re=[],oe=[e.mark.type.name]),re.length||oe.length?s.addMark(Math.max(e.from,G),Math.min(e.to,G+B.nodeSize),i.schema.marks.format_change.create({user:D.userId,username:D.username,date:k,before:oe,after:re,id:(0,d5.Z)(),group:N})):$&&s.removeMark(Math.max(e.from,G),Math.min(e.to,G+B.nodeSize),$)}})})(r,0,B,a,0,G,e,k,s)}}),i.getMeta("inputType")&&a.setMeta(i.getMeta("inputType")),i.getMeta("uiEvent")&&a.setMeta(i.getMeta("uiEvent")),i.selectionSet){const B=fo.DocumentHelpers.findMark(r,r.schema.marks.deletion,!1);if(i.selection instanceof sn.Bs&&(i.selection.from<r.selection.from||"backwardsDelete"===i.getMeta("inputType"))){const G=D.map(i.selection.from,-1);a.setSelection(new sn.Bs(a.doc.resolve(G)))}else if(i.selection.from>r.selection.from&&B){const G=D.map(B.to+1,1);a.setSelection(new sn.Bs(a.doc.resolve(G)))}else a.setSelection(i.selection.map(a.doc,D))}else if(r.selection.from-i.selection.from>1&&i.selection.$head.depth>1){const N=D.map(i.selection.from-2,-1);a.setSelection(new sn.Bs(a.doc.resolve(N)))}else{if(r.selection.from===r.selection.to&&i.selection.$head.depth>1&&r.selection.from-i.selection.from==1){i.steps.forEach(G=>{const $=G.map(D);$.from+=1,$.to+=1;const{doc:re}=a;VZ(r,0,$,a,D,re,e,k,s)});const B=D.map(i.selection.from-1,-1);a.setSelection(new sn.Bs(a.doc.resolve(B)))}else if(r.selection.from===r.selection.to){const B=D.map(i.selection.from,-1);a.setSelection(new sn.Bs(a.doc.resolve(B)))}const N=D.slice(a.selection.from,a.selection.to);D.appendMap(N)}return i.storedMarksSet&&a.setStoredMarks(i.storedMarks),i.scrolledIntoView&&a.scrollIntoView(),a};let zZ=(()=>{class i{constructor(){let e=new sn.H$("commentPlugin");this.commentPluginKey=e;let s=(D,k)=>D.top>k.top?"above":D.top<=k.top&&D.bottom>=k.bottom?"in":D.bottom<k.bottom?"under":void 0,o=new ln.xQ;this.commentsVisibilityChange=o;let a={};this.commentsObject=a,this.commentsPlugin=new sn.Sy({key:this.commentPluginKey,state:{init:(D,k)=>({sectionName:D.sectionName}),apply:(D,k,N,B)=>k},view:function(){return{update:(D,k)=>{var N,B;let G=D.state.schema.marks.comment,$=document.getElementsByClassName("editor-outer-div").item(0),re=e.getState(D.state).sectionName;if($){let oe=$.getBoundingClientRect(),_e={top:oe.top,bottom:oe.bottom},ze={left:oe.left+10,top:oe.top+10},mt={left:oe.right-14,top:oe.bottom-4},Ft=D.coordsAtPos(0),Pt=s(_e,{top:Ft.top,bottom:Ft.bottom}),dn=D.state.doc.content.size,fn=D.coordsAtPos(dn),Hn=s(_e,{top:fn.top,bottom:fn.bottom});if(Pt==Hn&&"above"==Hn||Pt==Hn&&"under"==Hn)return void(a[re]=[]);{let er=0,Sr=dn;"above"==Pt&&(er=null===(N=D.posAtCoords(ze))||void 0===N?void 0:N.pos),"under"==Hn&&(Sr=null===(B=D.posAtCoords(mt))||void 0===B?void 0:B.pos);let yr=[],Br=D.state.doc;Br.nodesBetween(er,Sr,(Ur,Fs)=>{if(Ur.marks){const Cs=Ur.marks.find(fs=>fs.type===G);if(Cs){let fs=yr.length;if(fs>0&&yr[fs-1].attrs.id==Cs.attrs.id)yr[fs-1].to=Fs+Ur.nodeSize,yr[fs-1].text=Br.textBetween(yr[fs-1].from,Fs+Ur.nodeSize);else{let lu={from:Fs,to:Fs+Ur.nodeSize,text:Br.textBetween(Fs,Fs+Ur.nodeSize),section:re,attrs:Cs.attrs,viewRef:D};yr.push(lu)}}}}),a[re]=yr}o.next(a)}},destroy:()=>{}}}})}init(){this.editorsOuterDiv=document.getElementsByClassName("editor")[0]}getPlugin(){return this.commentsPlugin}getData(){return this.commentsObject}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=C.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const HZ=(i,r)=>i.top>r.top?"above":i.top<=r.top&&i.bottom>=r.bottom?"in":i.bottom<r.bottom?"under":void 0;let UZ=(()=>{class i{constructor(){let e=new sn.H$("hideShowPlugin"),s=new ln.xQ;this.changesVisibilityChange=s;let o={};this.changesObject=o;let a=new sn.Sy({key:e,state:{init:(D,k)=>({sectionName:D.sectionName}),apply:(D,k,N,B)=>k},view:D=>({update:(k,N)=>{var B,G;let $=k.state.schema.marks.deletion,re=k.state.schema.marks.insertion,oe=k.state.schema.marks.format_change,_e=document.getElementsByClassName("editor-outer-div").item(0),ze=e.getState(k.state).sectionName;if(_e){let mt=_e.getBoundingClientRect(),Ft={top:mt.top,bottom:mt.bottom},Pt={left:mt.left+10,top:mt.top+10},dn={left:mt.right-14,top:mt.bottom-4},fn=k.coordsAtPos(0),Hn=HZ(Ft,{top:fn.top,bottom:fn.bottom}),er=k.state.doc.content.size,Sr=k.coordsAtPos(er),yr=HZ(Ft,{top:Sr.top,bottom:Sr.bottom});if(Hn==yr&&"above"==yr||Hn==yr&&"under"==yr)return void(o[ze]=[]);{let Br=0,Ur=er;"above"==Hn&&(Br=null===(B=k.posAtCoords(Pt))||void 0===B?void 0:B.pos),"under"==yr&&(Ur=null===(G=k.posAtCoords(dn))||void 0===G?void 0:G.pos);let Fs=[],Cs=k.state.doc;Cs.nodesBetween(Br,Ur,(fs,lu)=>{fs.marks&&fs.marks.filter(Nn=>Nn.type===$||Nn.type===re||Nn.type===oe).forEach(Nn=>{Fs.push({mark:Nn,from:lu,to:lu+fs.nodeSize,text:Cs.textBetween(lu,lu+fs.nodeSize),viewRef:k,type:Nn.type.name})})}),o[ze]=Fs}s.next(o)}},destroy:()=>{}})});this.hideShowPlugin=a}getHideShowPlugin(){return this.hideShowPlugin}getData(){return this.changesObject}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=C.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Y1e=["editor"];let W1e=(()=>{class i{constructor(e,s,o){this.commentsService=e,this.ydocService=s,this.trackChangesService=o,this.editorContainers=[],this.initDocumentReplace=[],this.color=vL(uZ),this.user=vL(Kye),this.flatSectionData=[],this.flatA=a=>{a.forEach(D=>{D.active&&(this.flatSectionData.push(D.name),this.initDocumentReplace.push({name:D.name,init:!0})),D.children&&this.flatA(D.children)})},this.buildEditor=()=>{if(null==this.ydoc||null==this.TREE_DATA)return;this.commentsService.init(),this.editorContainers=[];let a=new Map([[this.user.username,this.color]]),D=new Z_e(this.ydoc);D.setUserMapping(this.ydoc,this.ydoc.clientID,this.user.username),this.ydoc.gc=!1;let k=uZ;const N=bZ(Sv);(function(i,r){i.fullMenu[0].push((i=>{let r=i.getMap("comments");return new ki({title:"Add an annotation",run:g0e(r),enable:e=>(i=>{const e=fo.DocumentHelpers.findMark(i,i.schema.marks.comment,!0);let s=!0;return i.selection.empty&&(s=!1),i.doc.nodesBetween(i.selection.$from.pos,i.selection.$to.pos,(o,a)=>{("math_display"===o.type.name||"math_inline"===o.type.name||"image"===o.type.name)&&(s=!1)}),e.length>=1&&(s=!1),s})(e),icon:c0e})})(r)),i.fullMenu[4]=[],i.fullMenu[4].push(C0e),i.fullMenu[4].push(S0e),i.fullMenu[4].push(M0e),i.fullMenu[5]=[],i.fullMenu[5].push(b0e),i.fullMenu[5].push(w0e),i.fullMenu[6]=[],i.fullMenu[6].push(E0e),i.fullMenu[6].push(new iE((i=>i.filter(r=>r))([v0e,y0e]),{label:"Math"})),i.fullMenu[7]=[],i.fullMenu[7].push(new iE(T0e,{label:"Table",title:"Table"}))})(N,this.ydoc),this.flatA(this.TREE_DATA);let B=function(i,r,e){return new Kp(i,(s,o,a,D)=>{let k=s.doc.resolve(a),N=k.index(),B=s.doc.resolve(D),G=e instanceof Function?e(o):e;return k.parent.canReplaceWith(N,B.index(),r)?s.tr.replaceRangeWith(a,D,r.create(G,r.schema.text(o[1]))):null})}(kZ,Sv.nodes.math_inline),G=function(i,r,e){return new Kp(i,(s,o,a,D)=>{let k=s.doc.resolve(a),N=e instanceof Function?e(o):e;if(!k.node(-1).canReplaceWith(k.index(-1),k.indexAfter(-1),r))return null;let B=s.tr.delete(a,D).setBlockType(a,a,r,N);return B.setSelection(sn.qv.create(B.doc,B.mapping.map(k.pos-1)))})}(c1e,Sv.nodes.math_display);this.flatSectionData.forEach($=>{var re,oe;let _e,ze=$,Ft=document.createElement("div");Ft.setAttribute("class","editor-container");let Pt=null===(re=this.ydoc)||void 0===re?void 0:re.getXmlFragment($),dn=sn.yy.create({schema:Sv,plugins:[k1e(Pt,{colors:k,colorMapping:a,permanentUserData:D}),B1e(this.provider.awareness),z1e(),Qbe,n6({"Mod-z":V1e,"Mod-y":FZ,"Mod-Shift-z":FZ,"Mod-Space":f1e(Sv.nodes.math_inline),Backspace:L1(ZO,l1e,rY,iY),Tab:i$(1),"Shift-Tab":i$(-1)}),Sge({}),Oge(),this.commentsService.getPlugin(),this.trackChangesService.getHideShowPlugin(),wZ({rules:[B,G]})].concat($be({schema:Sv,menuContent:N.fullMenu})),sectionName:$,comments:{ycommets:this.ycomments,userId:this.ydoc.clientID}});const fn=er=>{var Sr,yr;if(null===(Sr=this.initDocumentReplace.find(Br=>Br.name==ze))||void 0===Sr?void 0:Sr.init){let Br=null==_e?void 0:_e.state.apply(er);null==_e||_e.updateState(Br),this.initDocumentReplace.forEach((Ur,Fs,Cs)=>{Ur.name==ze&&(Cs[Fs].init=!1)})}else{const Br=j1e(er,null==_e?void 0:_e.state,{userId:null===(yr=this.ydoc)||void 0===yr?void 0:yr.clientID,username:this.user.username,userColor:{addition:"#72e090",deletion:"#f08989"}});try{let Ur=null==_e?void 0:_e.state.apply(Br);null==_e||_e.updateState(Ur)}catch(Ur){console.log(Ur)}}};_e=new Go(Ft,{state:dn,clipboardTextSerializer:er=>m1e.serializeSlice(er),dispatchTransaction:fn}),null===(oe=this.editorContainers)||void 0===oe||oe.push({name:ze,containerDiv:Ft,editorState:dn,editorView:_e,dispatchTransaction:fn})}),this.editorContainers.forEach($=>{var re;null===(re=this.editor)||void 0===re||re.nativeElement.appendChild($.containerDiv)})}}ngAfterViewInit(){let e=this.ydocService.getData();this.ydoc=e.ydoc,this.provider=e.provider,this.TREE_DATA=e.TREE_DATA,console.log(this.ydoc,this.provider,this.TREE_DATA),this.buildEditor()}addEditorOnPosition(e,s){var o;let a=null===(o=this.editor)||void 0===o?void 0:o.nativeElement;a.insertBefore(s,a.children[e])}removeEditorOnPosition(e){var s;let o=null===(s=this.editor)||void 0===s?void 0:s.nativeElement;return o.removeChild(o.children[e])}moveEditorFromTo(e,s){let o=this.removeEditorOnPosition(e);this.addEditorOnPosition(s,o)}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(zZ),C.Y36(X6),C.Y36(UZ))},i.\u0275cmp=C.Xpm({type:i,selectors:[["app-prosemirror-editor"]],viewQuery:function(e,s){if(1&e&&C.Gf(Y1e,5,C.SBq),2&e){let o;C.iGM(o=C.CRH())&&(s.editor=o.first)}},decls:2,vars:0,consts:[[1,"editor-outer-div"],["editor",""]],template:function(e,s){1&e&&C._UZ(0,"div",0,1)},styles:['@charset "UTF-8";  .ProseMirror{position:relative}  .ProseMirror{word-wrap:break-word;white-space:pre-wrap;-webkit-font-variant-ligatures:none;font-feature-settings:none;font-variant-ligatures:none}  .ProseMirror pre{white-space:pre-wrap}  .ProseMirror li{position:relative}  .ProseMirror-hideselection *::selection{background:transparent}  .ProseMirror-hideselection *::-moz-selection{background:transparent}  .ProseMirror-hideselection{caret-color:transparent}  .ProseMirror-selectednode{outline:2px solid #8cf}  li.ProseMirror-selectednode{outline:none}  li.ProseMirror-selectednode:after{content:"";position:absolute;left:-32px;right:-2px;top:-2px;bottom:-2px;border:2px solid #8cf;pointer-events:none}@keyframes ProseMirror-cursor-blink{to{visibility:hidden}}  .ProseMirror-focused .ProseMirror-gapcursor{display:block}  .ProseMirror-example-setup-style hr{padding:2px 10px;border:none;margin:1em 0}  .ProseMirror-example-setup-style hr:after{content:"";display:block;height:1px;background-color:silver;line-height:2px}  .ProseMirror ul,   .ProseMirror ol{padding-left:30px}  .ProseMirror blockquote{padding-left:1em;border-left:3px solid #eee;margin-left:0;margin-right:0}  .ProseMirror-example-setup-style img{cursor:default}  .ProseMirror-prompt{background:white;padding:5px 10px 5px 15px;border:1px solid silver;position:fixed;border-radius:3px;z-index:11;box-shadow:-.5px 2px 5px #0003}  .ProseMirror-prompt h5{margin:0;font-weight:normal;font-size:100%;color:#444}  .ProseMirror-prompt input[type=text],   .ProseMirror-prompt textarea{background:#eee;border:none;outline:none}  .ProseMirror-prompt input[type=text]{padding:0 4px}  .ProseMirror-prompt-close{position:absolute;left:2px;top:1px;color:#666;border:none;background:transparent;padding:0}  .ProseMirror-prompt-close:after{content:"\\e2\\153\\2022";font-size:12px}  .ProseMirror-invalid{background:#ffc;border:1px solid #cc7;border-radius:4px;padding:5px 10px;position:absolute;min-width:10em}  .ProseMirror-prompt-buttons{margin-top:5px;display:none}  #editor,   .editor{background:white;color:#000;background-clip:padding-box;border-radius:4px;border:2px solid rgba(0,0,0,.2);padding:5px 0;margin-bottom:23px}  .ProseMirror p:first-child,   .ProseMirror h1:first-child,   .ProseMirror h2:first-child,   .ProseMirror h3:first-child,   .ProseMirror h4:first-child,   .ProseMirror h5:first-child,   .ProseMirror h6:first-child{margin-top:10px}  .ProseMirror{padding:4px 8px 4px 14px;line-height:1.2;outline:none}  .ProseMirror p{margin-bottom:1em}  .ProseMirror-example-setup-style{height:-webkit-fit-content!important;height:-moz-fit-content!important;height:fit-content!important;background:var(--color-ffffff);border-radius:20px;overflow-y:scroll}  .ProseMirror th,   .ProseMirror td{min-width:1em;border:1px solid #ddd;padding:3px 5px}  .ProseMirror .tableWrapper{margin:1em 0}  .ProseMirror th{font-weight:bold;text-align:left}  .ProseMirror .tableWrapper{overflow-x:auto}  .ProseMirror table{border-collapse:collapse;table-layout:fixed;width:100%;overflow:hidden}  .ProseMirror td,   .ProseMirror th{vertical-align:top;box-sizing:border-box;position:relative}  .ProseMirror .column-resize-handle{position:absolute;right:-2px;top:0;bottom:0;width:4px;z-index:20;background-color:#adf;pointer-events:none}  .ProseMirror.resize-cursor{cursor:ew-resize;cursor:col-resize}  .ProseMirror .selectedCell:after{z-index:2;position:absolute;content:"";left:0;right:0;top:0;bottom:0;background:rgba(200,200,255,.4);pointer-events:none}  ::-webkit-scrollbar{width:6px;height:6px}  ::-webkit-scrollbar-track{border-radius:10px;background:#f1f1f1}  ::-webkit-scrollbar-thumb{border-radius:10px;background:#888}  ::-webkit-scrollbar-thumb:hover{background:#555}.editor-outer-div[_ngcontent-%COMP%]{width:100%;height:100%;margin:0;padding:0;border:none}']}),i})();const $1e=["content"];function K1e(i,r){if(1&i){const e=C.EpF();C.TgZ(0,"a",17),C.NdJ("click",function(){C.CHM(e);const o=C.oxw(2);return o.showMore=!o.showMore}),C._uU(1),C.qZA()}if(2&i){const e=C.oxw(2);C.xp6(1),C.Oqu(e.showMore?"Show less":"Show More")}}function Z1e(i,r){if(1&i){const e=C.EpF();C.TgZ(0,"mat-card",1),C.TgZ(1,"mat-card-header"),C._UZ(2,"div",2),C.TgZ(3,"mat-card-title",3),C._uU(4,"Nikolay Ivanov"),C.qZA(),C.TgZ(5,"mat-card-subtitle",4),C._uU(6,"11:28 AM Today"),C.qZA(),C.TgZ(7,"div",5),C.TgZ(8,"button",6),C._uU(9,"Resolve"),C.qZA(),C.TgZ(10,"button",7),C.TgZ(11,"mat-icon"),C._uU(12,"more_horiz"),C.qZA(),C.qZA(),C.TgZ(13,"mat-menu",null,8),C.TgZ(15,"button",9),C.NdJ("click",function(){const a=C.CHM(e).$implicit;return C.oxw().editComment(a.id,a.comment)}),C._uU(16,"Edit"),C.qZA(),C.TgZ(17,"button",9),C.NdJ("click",function(){return C.CHM(e),C.oxw().deleteComment()}),C._uU(18,"Delete"),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.TgZ(19,"mat-card-content"),C.TgZ(20,"div",10),C.TgZ(21,"div",11),C._uU(22,"Selected text:"),C.qZA(),C.TgZ(23,"div",12),C._uU(24),C.qZA(),C.qZA(),C.TgZ(25,"div",13,14),C._uU(27),C.qZA(),C.YNc(28,K1e,2,1,"a",15),C.TgZ(29,"div",16),C.NdJ("click",function(){return C.CHM(e),C.oxw().replyComment()}),C._uU(30,"Reply"),C.qZA(),C.qZA(),C.qZA()}if(2&i){const e=r.$implicit,s=C.MAs(14),o=C.oxw();C.xp6(10),C.Q6J("matMenuTriggerFor",s),C.xp6(14),C.Oqu(o.comment.text),C.xp6(1),C.ekj("show",o.showMore),C.xp6(2),C.Oqu(e.comment),C.xp6(1),C.Q6J("ngIf",o.contentHeight>=o.MAX_CONTENT_HEIGHT)}}let J1e=(()=>{class i{constructor(e,s){this.ydocService=e,this.sharedDialog=s,this.showMore=!1,this.MAX_CONTENT_HEIGHT=60,this.contentHeight=this.MAX_CONTENT_HEIGHT,this.commentsMap=this.ydocService.getCommentsMap()}ngOnInit(){this.userComments=this.commentsMap.get(this.comment.attrs.id)||[]}ngAfterViewInit(){var e;this.contentHeight=null===(e=this.elementView)||void 0===e?void 0:e.nativeElement.offsetHeight}deleteComment(){var e,s,o,a,D;let k=null===(e=this.comment)||void 0===e?void 0:e.from,N=null===(s=this.comment)||void 0===s?void 0:s.to,B=null===(o=this.comment)||void 0===o?void 0:o.viewRef.state;null===(a=this.comment)||void 0===a||a.viewRef.dispatch(null==B?void 0:B.tr.removeMark(k,N,null==B?void 0:B.schema.marks.comment)),this.commentsMap.delete(null===(D=this.comment)||void 0===D?void 0:D.attrs.id)}replyComment(){var e;let o,s=this.commentsMap.get(null===(e=this.comment)||void 0===e?void 0:e.attrs.id),a=_A();this.sharedDialog.open(vA,{width:"auto",data:{url:o,type:"comment"}}).afterClosed().subscribe(k=>{var N;if(o=k,k){let B={id:a,comment:o};this.commentsMap.set(null===(N=this.comment)||void 0===N?void 0:N.attrs.id,[B,...s]),this.userComments=[B,...s]}})}editComment(e,s){var o;let a=this.commentsMap.get(null===(o=this.comment)||void 0===o?void 0:o.attrs.id),D=s;this.sharedDialog.open(vA,{width:"auto",data:{url:D,type:"comment"}}).afterClosed().subscribe(N=>{var B;D=N,N&&(a.forEach((G,$,re)=>{G.id==e&&(re[$].comment=D)}),this.userComments=a,this.commentsMap.set(null===(B=this.comment)||void 0===B?void 0:B.attrs.id,[...a]))})}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(X6),C.Y36(Vk))},i.\u0275cmp=C.Xpm({type:i,selectors:[["app-comment"]],viewQuery:function(e,s){if(1&e&&C.Gf($1e,5),2&e){let o;C.iGM(o=C.CRH())&&(s.elementView=o.first)}},inputs:{comment:"comment"},decls:1,vars:1,consts:[["class","comment",4,"ngFor","ngForOf"],[1,"comment"],["mat-card-avatar","",1,"comment-avatar"],[1,"comment-title"],[1,"comment-subtitle"],[1,"header-actions"],["mat-stroked-button","",1,"resolve-button"],["mat-icon-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"selected-text"],[1,"selected-text-title"],[1,"selected-text-content"],[1,"comment-content"],["content",""],["class","show-more-label",3,"click",4,"ngIf"],[1,"reply",3,"click"],[1,"show-more-label",3,"click"]],template:function(e,s){1&e&&C.YNc(0,Z1e,31,6,"mat-card",0),2&e&&C.Q6J("ngForOf",s.userComments)},directives:[ni,pie,mie,fie,die,hie,sf,Bae,$M,Fae,EO,uie,Ii],styles:[".comment{padding:10px 7px!important}  .comment .comment-avatar{height:36px;width:36px;background-image:url(https://material.angular.io/assets/img/examples/shiba1.jpg);background-size:cover}  .comment .mat-card-header-text{margin-left:6px!important}  .comment .header-actions{margin-left:auto}  .comment .header-actions mat-icon{color:var(--color-e3e3e3)}  .mat-card{box-shadow:none!important}.comment-title[_ngcontent-%COMP%]{font-family:var(--font-family-open-sans);font-style:var(--font-style-normal);font-weight:var(--font-weight-bold);font-size:var(--font-size-14);line-height:var(--line-spacing-19);letter-spacing:var(--character-spacing-0);color:var(--color-192956);margin-bottom:0!important}.comment-subtitle[_ngcontent-%COMP%]{font-family:var(--font-family-open-sans);font-style:var(--font-style-normal);font-weight:var(--font-weight-normal);font-size:var(--font-size-12);line-height:var(--line-spacing-17);letter-spacing:var(--character-spacing-0);color:var(--color-818181);margin-top:0!important}.resolve-button[_ngcontent-%COMP%]{line-height:23px}.selected-text[_ngcontent-%COMP%]{margin-bottom:13px}.selected-text[_ngcontent-%COMP%]   .selected-text-title[_ngcontent-%COMP%]{font-family:var(--font-family-open-sans);font-style:var(--font-style-normal);font-weight:var(--font-weight-bold);font-size:var(--font-size-12);line-height:var(--line-spacing-20);letter-spacing:var(--character-spacing-0);color:var(--color-192956)}.selected-text[_ngcontent-%COMP%]   .selected-text-content[_ngcontent-%COMP%]{font-family:var(--font-family-open-sans);font-style:var(--font-style-normal);font-weight:var(--font-weight-normal);font-size:var(--font-size-12);line-height:var(--line-spacing-20);letter-spacing:var(--character-spacing-0);color:var(--color-818181);border-left:2px solid;border-color:var(--color-559efe);padding-left:5px}.comment-content[_ngcontent-%COMP%]{font-family:var(--font-family-open-sans);font-style:var(--font-style-normal);font-weight:var(--font-weight-normal);font-size:var(--font-size-12);line-height:var(--line-spacing-16);letter-spacing:var(--character-spacing-0);color:var(--color-192956);margin-bottom:12px;max-height:65px;overflow:hidden;display:inline-block}.show-more-label[_ngcontent-%COMP%]{display:block;font-family:var(--font-family-open-sans);font-style:var(--font-style-normal);font-weight:var(--font-weight-normal);font-size:var(--font-size-12);line-height:var(--line-spacing-16);letter-spacing:var(--character-spacing-0);color:var(--color-559efe);cursor:pointer}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.reply[_ngcontent-%COMP%]{font-family:var(--font-family-open-sans);font-style:var(--font-style-normal);font-weight:var(--font-weight-bold);font-size:var(--font-size-12);line-height:var(--line-spacing-16);letter-spacing:var(--character-spacing-0);color:var(--color-192956);cursor:pointer}.label[_ngcontent-%COMP%]{background-color:#add8e6;color:#f08080}"]}),i})();function Q1e(i,r){if(1&i&&(C.TgZ(0,"div"),C._UZ(1,"app-comment",5),C.qZA()),2&i){const e=r.$implicit;C.xp6(1),C.Q6J("comment",e)}}function X1e(i,r){if(1&i&&(C.TgZ(0,"div",3),C.YNc(1,Q1e,2,1,"div",4),C.qZA()),2&i){const e=C.oxw();C.xp6(1),C.Q6J("ngForOf",e.comments)}}let ewe=(()=>{class i{constructor(e){this.commentsService=e,this.comments=[]}ngOnInit(){this.commentsObj=this.commentsService.getData(),this.comments=Object.values(this.commentsObj).flat()}ngAfterViewInit(){this.commentsService.commentsVisibilityChange.subscribe(e=>{this.commentsObj=e,this.comments=Object.values(e).flat()})}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(zZ))},i.\u0275cmp=C.Xpm({type:i,selectors:[["app-comments-section"]],decls:4,vars:1,consts:[[1,"comments-container"],[2,"padding","5px 0","width","100%","border-bottom","1px solid gray"],["style","overflow-y:scroll;height:660px;",4,"ngIf"],[2,"overflow-y","scroll","height","660px"],[4,"ngFor","ngForOf"],[3,"comment"]],template:function(e,s){1&e&&(C.TgZ(0,"div",0),C.TgZ(1,"div",1),C._uU(2," Search... "),C.qZA(),C.YNc(3,X1e,2,1,"div",2),C.qZA()),2&e&&(C.xp6(3),C.Q6J("ngIf",s.comments.length>0))},directives:[Ii,ni,J1e],styles:[""]}),i})();const GZ=(i,r,e,s)=>{const o=s.map(e),a=sn.Y1.findFrom(i.doc.resolve(o),-1);if(!a)return;const N=(0,_r.replaceStep)(i.doc,a.$anchor.pos,o+1);i.step(N);const B=N.getMap();s.appendMap(B)};function rwe(i,r){if(1&i){const e=C.EpF();C.TgZ(0,"div"),C.TgZ(1,"span"),C._uU(2,"Edited:"),C.qZA(),C.TgZ(3,"div"),C._uU(4),C.qZA(),C.TgZ(5,"button",1),C.NdJ("click",function(){const a=C.CHM(e).$implicit;return C.oxw().acceptChange(a.viewRef,a.from,a.to)}),C.TgZ(6,"mat-icon"),C._uU(7,"done"),C.qZA(),C._uU(8,"Accept"),C.qZA(),C.TgZ(9,"button",1),C.NdJ("click",function(){const a=C.CHM(e).$implicit;return C.oxw().declineChange(a.viewRef,a.from,a.to)}),C.TgZ(10,"mat-icon"),C._uU(11,"close"),C.qZA(),C._uU(12,"Decline"),C.qZA(),C.qZA()}if(2&i){const e=r.$implicit;C.xp6(3),C.Gre("",e.type," target"),C.xp6(1),C.Oqu(e.text)}}let iwe=(()=>{class i{constructor(e){this.changesService=e,this.changesObj=[],this.changes=[]}ngOnInit(){this.changesObj=this.changesService.getData(),this.changes=Object.values(this.changesObj).flat()}ngAfterViewInit(){this.changesService.changesVisibilityChange.subscribe(e=>{this.changesObj=e,this.changes=Object.values(this.changesObj).flat(),console.log(this.changes)})}acceptChange(e,s,o){!function(i,r){var D;const{tr:e}=i.state,{from:s,to:o}=r;e.setMeta("AcceptReject",!0);const a=new _r.Mapping;null==(D=null==i?void 0:i.state)||D.doc.nodesBetween(s,o,(k,N)=>{if(k.attrs.track&&k.attrs.track.find(B=>"deletion"===B.type)&&GZ(e,0,N,a),k.marks&&k.marks.find(B=>"deletion"===B.type.name)){k.marks.find($=>"deletion"===$.type.name);const G=new _r.ReplaceStep(a.map(Math.max(N,s)),a.map(Math.min(N+k.nodeSize,o)),Rn.p2.empty);e.step(G),a.appendMap(G.getMap())}else if(k.attrs.track&&k.attrs.track.find(B=>"insertion"===B.type)){const B=k.attrs.track.filter(G=>"insertion"!==G.type);e.setNodeMarkup(a.map(N),void 0,Object.assign(k.attrs,{track:B}),k.marks)}else if(k.marks&&k.marks.find(B=>"insertion"===B.type.name)){const B=k.marks.find(G=>"insertion"===G.type.name);e.step(new _r.RemoveMarkStep(a.map(Math.max(N,s)),a.map(Math.min(N+k.nodeSize,o)),B))}else if(k.marks&&k.marks.find(B=>"format_change"===B.type.name)){const B=k.marks.find(G=>"format_change"===G.type.name);e.step(new _r.RemoveMarkStep(a.map(Math.max(N,s)),a.map(Math.min(N+k.nodeSize,o)),B))}else if(k.attrs.track&&k.attrs.track.find(B=>"block_change"===B.type)){const B=k.attrs.track.find($=>"block_change"===$.type);k.attrs.track.filter($=>$!==B),e.setNodeMarkup(a.map(N),void 0,{class:k.attrs.class,track:[]},k.marks)}}),e.steps.length&&(null==i||i.dispatch(e))}(e,{from:s,to:o})}declineChange(e,s,o){!function(i,r){const{tr:e}=i.state,{from:s,to:o}=r;e.setMeta("AcceptReject",!0);const a=new _r.Mapping;null==i||i.state.doc.nodesBetween(s,o,(D,k)=>{if(D.marks&&D.marks.find(N=>"deletion"===N.type.name)){const N=D.marks.find(B=>"deletion"===B.type.name);e.step(new _r.RemoveMarkStep(a.map(Math.max(k,s)),a.map(Math.min(k+D.nodeSize,o)),N))}else if(D.attrs.track&&D.attrs.track.find(N=>"insertion"===N.type))GZ(e,0,k,a);else if(D.marks&&D.marks.find(N=>"insertion"===N.type.name)){D.marks.find(G=>"insertion"===G.type.name);const B=new _r.ReplaceStep(a.map(Math.max(k,s)),a.map(Math.min(k+D.nodeSize,o)),Rn.p2.empty);e.step(B),a.appendMap(B.getMap())}else if(D.marks&&D.marks.find(N=>"format_change"===N.type.name)){const N=D.marks.find(B=>"format_change"===B.type.name);null==N||N.attrs.before.forEach(B=>{e.step(new _r.AddMarkStep(a.map(Math.max(k,s)),a.map(Math.min(k+D.nodeSize,o)),null==i?void 0:i.state.schema.marks[B].create()))}),null==N||N.attrs.after.forEach(B=>{e.step(new _r.RemoveMarkStep(a.map(Math.max(k,s)),a.map(Math.min(k+D.nodeSize,o)),D.marks.find(G=>G.type.name===B)))}),e.step(new _r.RemoveMarkStep(a.map(Math.max(k,s)),a.map(Math.min(k+D.nodeSize,o)),N))}else if(!D.isInline&&D.attrs.track){const N=D.attrs.track.find(B=>"block_change"===B.type);if(N){const B=D.attrs.track.filter(G=>G!==N);e.setNodeMarkup(a.map(k),null==i?void 0:i.state.schema.nodes[N.before.type],Object.assign({},D.attrs,N.before.attrs,{track:B}),D.marks)}}}),e.steps.length&&(null==i||i.dispatch(e))}(e,{from:s,to:o})}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(UZ))},i.\u0275cmp=C.Xpm({type:i,selectors:[["app-changes-section"]],decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],["mat-raised-button","",3,"click"]],template:function(e,s){1&e&&(C.TgZ(0,"div"),C.YNc(1,rwe,13,4,"div",0),C.qZA()),2&e&&(C.xp6(1),C.Q6J("ngForOf",s.changes))},directives:[ni,sf,$M],styles:[".insertion[_ngcontent-%COMP%]{background-color:#72e090}.format_change[_ngcontent-%COMP%]{border-bottom:2px solid royalblue}.target[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}"]}),i})();function swe(i,r){1&i&&C._UZ(0,"app-comments-section",20)}function owe(i,r){1&i&&(C.TgZ(0,"div",27),C._UZ(1,"app-changes-section"),C.qZA())}function awe(i,r){if(1&i){const e=C.EpF();C.ynx(0),C.TgZ(1,"div",13),C._UZ(2,"app-editor-menu"),C.TgZ(3,"div",14),C.TgZ(4,"button",15),C.NdJ("click",function(){return C.CHM(e),C.oxw().sidebar="changes"}),C.TgZ(5,"mat-icon",16),C._uU(6,"rate_review"),C.qZA(),C.qZA(),C.TgZ(7,"button",15),C.NdJ("click",function(){return C.CHM(e),C.oxw().sidebar="comments"}),C._UZ(8,"mat-icon",17),C.qZA(),C.qZA(),C.qZA(),C.TgZ(9,"div",18),C.TgZ(10,"div",19),C._UZ(11,"app-meta-data-tree",20),C.qZA(),C.TgZ(12,"div",21),C._UZ(13,"app-prosemirror-editor",22),C.qZA(),C.TgZ(14,"div",23,24),C.YNc(16,swe,1,0,"app-comments-section",25),C.YNc(17,owe,2,0,"div",26),C.qZA(),C.qZA(),C.BQk()}if(2&i){const e=C.oxw();C.xp6(16),C.Q6J("ngIf","comments"==e.sidebar),C.xp6(1),C.Q6J("ngIf","changes"==e.sidebar)}}let qZ=(()=>{class i{constructor(e,s,o){this.ydocService=e,this.dialog=s,this.route=o,this.sidebar="comments",this.shouldBuild=!1,function(i){yA=i}(s)}ngOnInit(){this.ydocService.init("test"),this.ydocService.ydocStateObservable.subscribe(e=>{if("docIsBuild"==e){let s=this.ydocService.getData();this.ydoc=s.ydoc,this.provider=s.provider,this.TREE_DATA=s.TREE_DATA,this.shouldBuild=!0,console.log(this.ydoc)}})}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(X6),C.Y36(Vk),C.Y36(N1))},i.\u0275cmp=C.Xpm({type:i,selectors:[["app-editor"]],decls:21,vars:1,consts:[["color","primary",1,"controls-toolbar","no-print"],[1,"controls-container"],[1,"left-group"],["color","primary","mat-button","",1,"button-style-bold"],["svgIcon","edit1"],["color","primary","mat-button",""],["svgIcon","library"],["svgIcon","contributors"],[1,"right-group",2,"display","flex","align-items","center"],[1,"vertical-delimiter"],["mat-stroked-button","",1,"right-button"],["mat-flat-button","","color","primary",1,"right-button"],[4,"ngIf"],[1,"actions-container"],[1,"side-navbar"],["mat-icon-button","",3,"click"],["aria-hidden","false","aria-label","comments icon"],["svgIcon","comments"],[1,"main-container"],[1,"data-tree"],[2,"width","100%"],[1,"editor-container"],[2,"width","100%","height","97%"],[1,"sidebar-content"],["display",""],["style","width:100%;",4,"ngIf"],["class","changesContainer",4,"ngIf"],[1,"changesContainer"]],template:function(e,s){1&e&&(C.TgZ(0,"mat-toolbar",0),C.TgZ(1,"mat-toolbar-row",1),C.TgZ(2,"div",2),C.TgZ(3,"button",3),C._UZ(4,"mat-icon",4),C._uU(5,"Editor "),C.qZA(),C.TgZ(6,"button",5),C._UZ(7,"mat-icon",6),C._uU(8,"Library "),C.qZA(),C.TgZ(9,"button",5),C._UZ(10,"mat-icon",7),C._uU(11,"Contributors "),C.qZA(),C.qZA(),C.TgZ(12,"div",8),C._UZ(13,"span",9),C.TgZ(14,"button",10),C._uU(15,"Print"),C.qZA(),C.TgZ(16,"button",11),C._uU(17,"Export"),C.qZA(),C.TgZ(18,"button",11),C._uU(19,"Submit"),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.YNc(20,awe,18,2,"ng-container",12)),2&e&&(C.xp6(20),C.Q6J("ngIf",s.shouldBuild))},directives:[jq,K7,sf,$M,Ii,Gye,$ye,W1e,ewe,iwe],styles:[".controls-toolbar[_ngcontent-%COMP%]{border-bottom:1px solid;border-color:var(--color-f1f2f2)}.controls-toolbar[_ngcontent-%COMP%]   .controls-container[_ngcontent-%COMP%]{min-height:70px}.controls-toolbar[_ngcontent-%COMP%]   .controls-container[_ngcontent-%COMP%]   .left-group[_ngcontent-%COMP%]   .button-style-bold[_ngcontent-%COMP%]{font-weight:bold}.vertical-delimiter[_ngcontent-%COMP%]{margin-right:16px;height:22px;border:1px solid #e3e3e3}.right-button[_ngcontent-%COMP%]{line-height:31px;margin-right:16px;width:100px}.side-navbar[_ngcontent-%COMP%]{height:60px;display:inline-flex;justify-content:center;align-items:center;float:right;margin-right:8px}app-prosemirror-editor[_ngcontent-%COMP%]{display:inline-flex}app-prosemirror-editor[_ngcontent-%COMP%]{height:443px;width:53%;border-top-left-radius:20px;margin-top:20px;margin-left:0;display:inline-flex;margin-right:0}.changesContainer[_ngcontent-%COMP%]{width:100%}.actions-container[_ngcontent-%COMP%]{background:var(--color-ffffff)}.main-container[_ngcontent-%COMP%]{background:var(--color-f9fafc);height:calc(100vh - 202px);display:flex}.main-container[_ngcontent-%COMP%]   .data-tree[_ngcontent-%COMP%]{height:calc(100% - 20px);margin-top:20px;width:20%;background:#ffffff00;display:inline-flex;overflow-y:auto}.main-container[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%]{height:calc(100% - 20px);flex-grow:1;margin-top:20px;background:var(--color-ffffff);box-shadow:-2px 0 1px #1bb1b22b;border-top-left-radius:20px;display:inline-flex;overflow:hidden;overflow-y:auto}.main-container[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{height:100%;width:25%;background:var(--color-ffffff);box-shadow:-2px 0 1px #1bb1b22b;display:inline-flex}@media screen and (max-width: 600px){.main-container[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{width:100%}}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:none!important}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:none!important}"]}),i})();const lwe=[{path:"",component:(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=C.Xpm({type:i,selectors:[["app-main"]],decls:1,vars:0,template:function(e,s){1&e&&C._UZ(0,"router-outlet")},directives:[KO],styles:[""]}),i})(),children:[{path:"",component:qZ},{path:":id",component:qZ}]}];let cwe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=C.oAB({type:i}),i.\u0275inj=C.cJS({imports:[[eY.forRoot(lwe)],eY]}),i})();const jZ="aio-theme";let uwe=(()=>{class i{constructor(e,s){this.document=e,this.storage=s,this.isLight=!0,this.initializeThemeFromPreferences()}toggleTheme(){this.isLight=!this.isLight,this.updateRenderedTheme()}getThemeName(){return this.isLight?"dark":"light"}getToggleLabel(){return`Switch to ${this.isLight?"light":"dark"} mode`}initializeThemeFromPreferences(){var e,s;const o=this.storage.getItem(jZ);this.isLight=o?"true"===o:null!==(e=null==matchMedia?void 0:matchMedia("(prefers-color-scheme: dark)").matches)&&void 0!==e&&e;const a=this.document.querySelector("#aio-initial-theme");a&&(null===(s=a.parentElement)||void 0===s||s.removeChild(a));const D=this.document.createElement("link");D.id="aio-custom-theme",D.rel="stylesheet",D.href=`${this.getThemeName()}-theme.css`,this.document.head.appendChild(D)}updateRenderedTheme(){const e=this.document.getElementById("aio-custom-theme");e&&(e.href=`${this.getThemeName()}-theme.css`),this.storage.setItem(jZ,String(this.isLight))}}return i.\u0275fac=function(e){return new(e||i)(C.Y36(Ve),C.Y36(Zq))},i.\u0275cmp=C.Xpm({type:i,selectors:[["app-theme-toggle"]],decls:5,vars:2,consts:[["dir","rtl",3,"disableRipple","ngModel","ngModelChange"]],template:function(e,s){1&e&&(C.TgZ(0,"mat-slide-toggle",0),C.NdJ("ngModelChange",function(a){return s.isLight=a}),C.TgZ(1,"mat-icon"),C._uU(2,"light_mode"),C.qZA(),C.TgZ(3,"mat-icon"),C._uU(4,"light_mode"),C.qZA(),C.qZA()),2&e&&C.Q6J("disableRipple",!0)("ngModel",s.isLight)},directives:[Sq,hee,s7,g7,$M],styles:["[_nghost-%COMP%]     .mat-slide-toggle-label{position:relative}[_nghost-%COMP%]     .mat-slide-toggle-content{position:absolute;bottom:0;top:0;display:flex}mat-icon[_ngcontent-%COMP%]{text-align:center;font-size:18px;height:28px;line-height:28px;width:28px;color:var(--color-ffffff)}"]}),i})();const dwe=[{name:"Article metadata",children:[{name:"Title",active:!0},{name:"Abstract & Keywords",active:!1},{name:"Classifications",active:!1},{name:"Funder",active:!1}]},{name:"Introduction",active:!0},{name:"General description",active:!1},{name:"Project description",active:!1},{name:"Sampling methods",active:!1},{name:"Geographic coverage",active:!0},{name:"Taxonomic coverage",active:!1},{name:"Traits coverage",active:!1},{name:"Temporal coverage",active:!0},{name:"Collection data",active:!1},{name:"Usage rights",active:!1},{name:"Data resources",active:!1},{name:"Additional information",active:!1},{name:"Acknowledgements",active:!1},{name:"Author contributions",active:!1}];let hwe=(()=>{class i{constructor(){this.content={type:"doc",content:[]},this.hasChild=(e,s)=>!!s.children&&s.children.length>0,this.treeControl=new H8(e=>e.children),this.dataSource=new FR(dwe),navigator.serviceWorker.ready.then(function(e){return console.log("Service Worker Ready"),e.sync.register("sendFormData")}).then(function(){console.log("sync event registered")}).catch(function(){console.log("sync registration failed")})}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=C.Xpm({type:i,selectors:[["app-root"]],decls:6,vars:0,consts:[["color","primary",1,"app-toolbar","no-print"],[1,"notification-container"],["href","/",1,"nav-link","logo"],["src","assets/logo/arpha.svg","width","150","height","40","title","Home","alt","Home"]],template:function(e,s){1&e&&(C.TgZ(0,"mat-toolbar",0),C.TgZ(1,"mat-toolbar-row",1),C.TgZ(2,"a",2),C._UZ(3,"img",3),C.qZA(),C._UZ(4,"app-theme-toggle"),C.qZA(),C.qZA(),C._UZ(5,"router-outlet"))},directives:[jq,K7,uwe,KO],styles:["[_nghost-%COMP%]     mat-toolbar-row{display:flex;height:60px;justify-content:space-between}[_nghost-%COMP%]     mat-toolbar{min-height:60px}[_nghost-%COMP%]     mat-toolbar.app-toolbar{z-index:10;box-shadow:0 6px 10px #1bb1b224}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:95px}.tree-container[_ngcontent-%COMP%]{height:430px;overflow:hidden;overflow-y:scroll;width:18%;display:inline-flex;border-bottom:solid lightgray}"]}),i})(),fwe=(()=>{class i{constructor(e,s){s.bypassSecurityTrustResourceUrl("assets/icons/edit1.svg"),e.addSvgIcon("edit1",s.bypassSecurityTrustResourceUrl("assets/icons/edit1.svg")),e.addSvgIcon("library",s.bypassSecurityTrustResourceUrl("assets/icons/library.svg")),e.addSvgIcon("contributors",s.bypassSecurityTrustResourceUrl("assets/icons/contributors.svg")),e.addSvgIcon("comments",s.bypassSecurityTrustResourceUrl("assets/icons/comments.svg"))}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(Pk),C.LFG(rl))},i.\u0275prov=C.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const pwe={disabled:!0,animation:{enterDuration:0,exitDuration:0}};let mwe=(()=>{class i{constructor(e){this.iconsRegisterService=e}}return i.\u0275fac=function(e){return new(e||i)(C.LFG(fwe))},i.\u0275mod=C.oAB({type:i,bootstrap:[hwe]}),i.\u0275inj=C.cJS({providers:[fde,{provide:Tk,useValue:pwe},{provide:Z7,useFactory:dde}],imports:[[On(()=>jr({apiKey:"AIzaSyA3W87Y6Ph2Evh8E-YPYI3oWSdhAb6Lxus",authDomain:"arte-soft.firebaseapp.com",databaseURL:"https://arte-soft.firebaseio.com",projectId:"arte-soft",storageBucket:"arte-soft.appspot.com",messagingSenderId:"776064193529",appId:"1:776064193529:web:9fbf7aa008a117fc3a2328",measurementId:"G-G76VN4T29R"})),bt(()=>cJ()),Mf,ude,Wne,$ne,q,cwe,OQ,XQ.register("editor-service-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"})]]}),i})();(0,C.G48)(),ac().bootstrapModule(mwe).catch(i=>console.error(i))},4762:(An,zt,$e)=>{"use strict";$e.d(zt,{ZT:()=>le,_T:()=>Ze,mG:()=>ve,Jh:()=>Ie,XA:()=>Re,CR:()=>Fe,ev:()=>Te});var C=function(xt,Ot){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ht,Gt){Ht.__proto__=Gt}||function(Ht,Gt){for(var Et in Gt)Object.prototype.hasOwnProperty.call(Gt,Et)&&(Ht[Et]=Gt[Et])})(xt,Ot)};function le(xt,Ot){if("function"!=typeof Ot&&null!==Ot)throw new TypeError("Class extends value "+String(Ot)+" is not a constructor or null");function Ht(){this.constructor=xt}C(xt,Ot),xt.prototype=null===Ot?Object.create(Ot):(Ht.prototype=Ot.prototype,new Ht)}function Ze(xt,Ot){var Ht={};for(var Gt in xt)Object.prototype.hasOwnProperty.call(xt,Gt)&&Ot.indexOf(Gt)<0&&(Ht[Gt]=xt[Gt]);if(null!=xt&&"function"==typeof Object.getOwnPropertySymbols){var Et=0;for(Gt=Object.getOwnPropertySymbols(xt);Et<Gt.length;Et++)Ot.indexOf(Gt[Et])<0&&Object.prototype.propertyIsEnumerable.call(xt,Gt[Et])&&(Ht[Gt[Et]]=xt[Gt[Et]])}return Ht}function ve(xt,Ot,Ht,Gt){return new(Ht||(Ht=Promise))(function(Se,Tt){function vt(Ue){try{tt(Gt.next(Ue))}catch(qt){Tt(qt)}}function ke(Ue){try{tt(Gt.throw(Ue))}catch(qt){Tt(qt)}}function tt(Ue){Ue.done?Se(Ue.value):function(Se){return Se instanceof Ht?Se:new Ht(function(Tt){Tt(Se)})}(Ue.value).then(vt,ke)}tt((Gt=Gt.apply(xt,Ot||[])).next())})}function Ie(xt,Ot){var Gt,Et,Se,Tt,Ht={label:0,sent:function(){if(1&Se[0])throw Se[1];return Se[1]},trys:[],ops:[]};return Tt={next:vt(0),throw:vt(1),return:vt(2)},"function"==typeof Symbol&&(Tt[Symbol.iterator]=function(){return this}),Tt;function vt(tt){return function(Ue){return function(tt){if(Gt)throw new TypeError("Generator is already executing.");for(;Ht;)try{if(Gt=1,Et&&(Se=2&tt[0]?Et.return:tt[0]?Et.throw||((Se=Et.return)&&Se.call(Et),0):Et.next)&&!(Se=Se.call(Et,tt[1])).done)return Se;switch(Et=0,Se&&(tt=[2&tt[0],Se.value]),tt[0]){case 0:case 1:Se=tt;break;case 4:return Ht.label++,{value:tt[1],done:!1};case 5:Ht.label++,Et=tt[1],tt=[0];continue;case 7:tt=Ht.ops.pop(),Ht.trys.pop();continue;default:if(!(Se=(Se=Ht.trys).length>0&&Se[Se.length-1])&&(6===tt[0]||2===tt[0])){Ht=0;continue}if(3===tt[0]&&(!Se||tt[1]>Se[0]&&tt[1]<Se[3])){Ht.label=tt[1];break}if(6===tt[0]&&Ht.label<Se[1]){Ht.label=Se[1],Se=tt;break}if(Se&&Ht.label<Se[2]){Ht.label=Se[2],Ht.ops.push(tt);break}Se[2]&&Ht.ops.pop(),Ht.trys.pop();continue}tt=Ot.call(xt,Ht)}catch(Ue){tt=[6,Ue],Et=0}finally{Gt=Se=0}if(5&tt[0])throw tt[1];return{value:tt[0]?tt[1]:void 0,done:!0}}([tt,Ue])}}}function Re(xt){var Ot="function"==typeof Symbol&&Symbol.iterator,Ht=Ot&&xt[Ot],Gt=0;if(Ht)return Ht.call(xt);if(xt&&"number"==typeof xt.length)return{next:function(){return xt&&Gt>=xt.length&&(xt=void 0),{value:xt&&xt[Gt++],done:!xt}}};throw new TypeError(Ot?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fe(xt,Ot){var Ht="function"==typeof Symbol&&xt[Symbol.iterator];if(!Ht)return xt;var Et,Tt,Gt=Ht.call(xt),Se=[];try{for(;(void 0===Ot||Ot-- >0)&&!(Et=Gt.next()).done;)Se.push(Et.value)}catch(vt){Tt={error:vt}}finally{try{Et&&!Et.done&&(Ht=Gt.return)&&Ht.call(Gt)}finally{if(Tt)throw Tt.error}}return Se}function Te(xt,Ot,Ht){if(Ht||2===arguments.length)for(var Se,Gt=0,Et=Ot.length;Gt<Et;Gt++)(Se||!(Gt in Ot))&&(Se||(Se=Array.prototype.slice.call(Ot,0,Gt)),Se[Gt]=Ot[Gt]);return xt.concat(Se||Array.prototype.slice.call(Ot))}}},An=>{An(An.s=5591)}]);